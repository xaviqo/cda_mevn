{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { EventBus } from \"@/main\";\nimport BackgroundTabs from \"@/constants/BackgroundTabs\";\nimport PortfolioButtonsBar from \"@/components/portfolio/PortfolioButtonsBar.vue\";\nexport default {\n  name: \"ActorProfile\",\n  components: {\n    PortfolioButtonsBar\n  },\n  data: () => ({\n    urlProfile: '',\n    tabsArray: [],\n    actor: null,\n    tab: null\n  }),\n  created() {\n    this.urlProfile = this.$route.params.name;\n    this.retrieveFullProfile();\n  },\n  methods: {\n    retrieveFullProfile() {\n      this.axios.get(`/full-profile/retrieve/${this.urlProfile}`).then(res => {\n        this.actor = res.data;\n        for (const bg of Object.keys(this.actor.background)) {\n          this.actor.background[bg]['bgName'] = BackgroundTabs[bg];\n          this.actor.background[bg]['bgUrl'] = BackgroundTabs[bg].replace(/\\s/g, '-').toLowerCase();\n        }\n        for (const [key, bg] of Object.entries(this.actor.background)) {\n          if (bg.active) this.tabsArray.push(bg.bgUrl);\n        }\n        this.currentTab(this.$route.params.section);\n      }).catch(e => {\n        EventBus.$emit('alert', {\n          color: 'red',\n          type: 'error',\n          msg: e.response.data.message\n        });\n        this.$router.push(`/`);\n      });\n    },\n    currentTab(urlSection) {\n      console.log(\"url section \" + urlSection);\n      if (urlSection !== undefined) {\n        const tabIndex = this.tabsArray.indexOf(urlSection.toLowerCase());\n        EventBus.$emit('toButtonsBar_actorProfile', tabIndex);\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AAUA;AACA;AACA;AACA;EACAA;EACAC;IAAAC;EAAA;EACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MACA,WACAC,iDACAC;QACA;QACA;UACA;UACA;QACA;QACA;UACA;QACA;QACA;MACA,GACAC;QACAC;UACAC;UACAC;UACAC;QACA;QACA;MACA;IACA;IACAC;MACAC;MACA;QACA;QACAL;MACA;IACA;EACA;AACA","names":["name","components","PortfolioButtonsBar","data","urlProfile","tabsArray","actor","tab","created","methods","retrieveFullProfile","get","then","catch","EventBus","color","type","msg","currentTab","console"],"sourceRoot":"src/views","sources":["ActorProfile.vue"],"sourcesContent":["<template>\n  <div>\n    <PortfolioButtonsBar\n        :background=actor.background\n        :actor-name=actor.name\n    />\n  </div>\n</template>\n\n<script>\nimport {EventBus} from \"@/main\";\nimport BackgroundTabs from \"@/constants/BackgroundTabs\";\nimport PortfolioButtonsBar from \"@/components/portfolio/PortfolioButtonsBar.vue\";\nexport default {\n  name: \"ActorProfile\",\n  components: {PortfolioButtonsBar},\n  data: () => ({\n    urlProfile: '',\n    tabsArray: [],\n    actor: null,\n    tab: null\n  }),\n  created() {\n    this.urlProfile = this.$route.params.name;\n    this.retrieveFullProfile();\n  },\n  methods: {\n    retrieveFullProfile(){\n      this.axios\n          .get(`/full-profile/retrieve/${this.urlProfile}`)\n          .then( res => {\n            this.actor = res.data;\n            for (const bg of Object.keys(this.actor.background)) {\n              this.actor.background[bg]['bgName'] = BackgroundTabs[bg];\n              this.actor.background[bg]['bgUrl'] = BackgroundTabs[bg].replace(/\\s/g, '-').toLowerCase();\n            }\n            for (const [key, bg] of Object.entries(this.actor.background)) {\n              if (bg.active) this.tabsArray.push(bg.bgUrl);\n            }\n            this.currentTab(this.$route.params.section);\n          })\n          .catch( e => {\n            EventBus.$emit('alert',{\n              color: 'red',\n              type: 'error',\n              msg: e.response.data.message\n            });\n            this.$router.push(`/`);\n          });\n    },\n    currentTab(urlSection){\n      console.log(\"url section \"+urlSection)\n      if (urlSection !== undefined){\n        const tabIndex = this.tabsArray.indexOf(urlSection.toLowerCase());\n        EventBus.$emit('toButtonsBar_actorProfile',tabIndex);\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}