{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { EventBus } from \"@/main\";\nimport ActorGallery from \"@/components/ActorGallery.vue\";\nimport AdminBar from \"@/components/AdminBar.vue\";\nexport default {\n  name: \"AdminPanel\",\n  components: {\n    AdminBar,\n    ActorGallery\n  },\n  data: () => ({\n    isAdmin: true,\n    selectedActor: {\n      id: '',\n      name: ''\n    }\n  }),\n  created() {\n    this.checkAdmin();\n  },\n  methods: {\n    async checkAdmin() {\n      this.axios.get(`/admin/check`).then(res => {\n        if (!res.data.admin) this.$router.push(`/`);\n      }).catch(e => {\n        console.log(\"no es admin\");\n        EventBus.$emit('alert', {\n          color: 'red',\n          type: 'error',\n          msg: e.response.data.message\n        });\n        this.$router.push(`/`);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAUA;AACA;AACA;AAEA;EACAA;EACAC;IAAAC;IAAAC;EAAA;EACAC;IACAC;IACAC;MACAC;MACAP;IACA;EACA;EACAQ;IACA;EAEA;EACAC;IACA;MACA,WACAC,oBACAC;QACA;MACA,GACAC;QACAC;QACAC;UACAC;UACAC;UACAC;QACA;QACA;MACA;IAEA;EACA;AACA","names":["name","components","AdminBar","ActorGallery","data","isAdmin","selectedActor","id","created","methods","get","then","catch","console","EventBus","color","type","msg"],"sourceRoot":"src/views","sources":["AdminPanel.vue"],"sourcesContent":["<template>\n  <div>\n    <AdminBar></AdminBar>\n    <ActorEditDialog :actor-id=></ActorEditDialog>\n    <ActorGallery admin></ActorGallery>\n  </div>\n</template>\n\n<script>\n\nimport {EventBus} from \"@/main\";\nimport ActorGallery from \"@/components/ActorGallery.vue\";\nimport AdminBar from \"@/components/AdminBar.vue\";\n\nexport default {\n  name: \"AdminPanel\",\n  components: {AdminBar, ActorGallery},\n  data: () => ({\n    isAdmin: true,\n    selectedActor: {\n      id: '',\n      name: ''\n    }\n  }),\n  created() {\n    this.checkAdmin();\n\n  },\n  methods: {\n    async checkAdmin(){\n      this.axios\n          .get(`/admin/check`)\n          .then( res => {\n            if (!res.data.admin) this.$router.push(`/`)\n          })\n          .catch( e => {\n            console.log(\"no es admin\")\n            EventBus.$emit('alert',{\n              color: 'red',\n              type: 'error',\n              msg: e.response.data.message\n            });\n            this.$router.push(`/`);\n          })\n\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}