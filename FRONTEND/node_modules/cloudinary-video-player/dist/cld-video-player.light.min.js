/*! For license information please see cld-video-player.light.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["cloudinary-video-player"]=e():t["cloudinary-video-player"]=e()}(self,(()=>(()=>{var t={169:t=>{var e=function(t){t.style.display="none"},n=function(t){t.style.display=""};t.exports={hide:e,show:n,setText:function(t,r){if(!r||r.length<=0)return t.innerText="",void e(t);t.innerText=r,n(t)}}},162:function(t,e,n){var r;r=void 0!==n.g?n.g:this,t.exports=function(t){if(t.CSS&&t.CSS.escape)return t.CSS.escape;var e=function(t){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var e,n=String(t),r=n.length,i=-1,o="",a=n.charCodeAt(0);++i<r;)0!=(e=n.charCodeAt(i))?o+=e>=1&&e<=31||127==e||0==i&&e>=48&&e<=57||1==i&&e>=48&&e<=57&&45==a?"\\"+e.toString(16)+" ":0==i&&1==r&&45==e||!(e>=128||45==e||95==e||e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122)?"\\"+n.charAt(i):n.charAt(i):o+="ï¿½";return o};return t.CSS||(t.CSS={}),t.CSS.escape=e,e}(r)},343:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}y(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&y(t,"error",e,n)}(t,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var i,o,a,l;if(s(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,l=u,console&&console.warn&&console.warn(l)}return t}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function f(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):d(i,i.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function y(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[t];if(void 0===c)return!1;if("function"==typeof c)r(c,this,e);else{var l=c.length,u=d(c,l);for(n=0;n<l;++n)r(u[n],this,e)}return!0},o.prototype.addListener=function(t,e){return l(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return l(this,t,e,!0)},o.prototype.once=function(t,e){return s(e),this.on(t,h(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,h(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,o,a;if(s(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},146:(t,e,n)=>{var r=n(219);n(40).videojs=r,t.exports=r},40:(t,e,n)=>{"use strict";t.exports=function(){if("object"==typeof globalThis)return globalThis;var t;try{t=this||new Function("return this")()}catch(t){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==n.g)return n.g}return t}()},219:function(t,e,n){t.exports=function(){"use strict";for(var t,e="7.20.3",r={},i=function(t,e){return r[t]=r[t]||[],e&&(r[t]=r[t].concat(e)),r[t]},o=function(t,e){i(t,e)},a=function(t,e){var n=i(t).indexOf(e);return!(n<=-1||(r[t]=r[t].slice(),r[t].splice(n,1),0))},s=function(t,e){i(t,[].concat(e).map((function(e){var n=function n(){return a(t,n),e.apply(void 0,arguments)};return n})))},c={prefixed:!0},l=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],u=l[0],h=0;h<l.length;h++)if(l[h][1]in document){t=l[h];break}if(t){for(var f=0;f<t.length;f++)c[u[f]]=t[f];c.prefixed=t[0]!==u[0]}var p=[],d=function(t,e){return function(n,r,i){var o=e.levels[r],a=new RegExp("^("+o+")$");if("log"!==n&&i.unshift(n.toUpperCase()+":"),i.unshift(t+":"),p){p.push([].concat(i));var s=p.length-1e3;p.splice(0,s>0?s:0)}if(window.console){var c=window.console[n];c||"debug"!==n||(c=window.console.info||window.console.log),c&&o&&a.test(n)&&c[Array.isArray(i)?"apply":"call"](window.console,i)}}};function y(t){var e,n="info",r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e("log",n,r)};return e=d(t,r),r.createLogger=function(e){return y(t+": "+e)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},r.level=function(t){if("string"==typeof t){if(!r.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');n=t}return n},r.history=function(){return p?[].concat(p):[]},r.history.filter=function(t){return(p||[]).filter((function(e){return new RegExp(".*"+t+".*").test(e[0])}))},r.history.clear=function(){p&&(p.length=0)},r.history.disable=function(){null!==p&&(p.length=0,p=null)},r.history.enable=function(){null===p&&(p=[])},r.error=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e("error",n,r)},r.warn=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e("warn",n,r)},r.debug=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e("debug",n,r)},r}var v=y("VIDEOJS"),m=v.createLogger,g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function b(t,e){return t(e={exports:{}},e.exports),e.exports}var _=b((function(t){function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e.apply(this,arguments)}t.exports=e})),w=Object.prototype.toString,T=function(t){return S(t)?Object.keys(t):[]};function k(t,e){T(t).forEach((function(n){return e(t[n],n)}))}function C(t,e,n){return void 0===n&&(n=0),T(t).reduce((function(n,r){return e(n,t[r],r)}),n)}function E(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object.assign?_.apply(void 0,[t].concat(n)):(n.forEach((function(e){e&&k(e,(function(e,n){t[n]=e}))})),t)}function S(t){return!!t&&"object"==typeof t}function j(t){return S(t)&&"[object Object]"===w.call(t)&&t.constructor===Object}function O(t,e){if(!t||!e)return"";if("function"==typeof window.getComputedStyle){var n;try{n=window.getComputedStyle(t)}catch(t){return""}return n?n.getPropertyValue(e)||n[e]:""}return""}var P,x=window.navigator&&window.navigator.userAgent||"",A=/AppleWebKit\/([\d.]+)/i.exec(x),R=A?parseFloat(A.pop()):null,I=/iPod/i.test(x),L=(P=x.match(/OS (\d+)_/i))&&P[1]?P[1]:null,N=/Android/i.test(x),M=function(){var t=x.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),D=N&&M<5&&R<537,F=/Firefox/i.test(x),B=/Edg/i.test(x),H=!B&&(/Chrome/i.test(x)||/CriOS/i.test(x)),V=function(){var t=x.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),U=function(){var t=/MSIE\s(\d+)\.\d/.exec(x),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(x)&&/rv:11.0/.test(x)&&(e=11),e}(),z=/Safari/i.test(x)&&!H&&!N&&!B,W=/Windows/i.test(x),$=Boolean(tt()&&("ontouchstart"in window||window.navigator.maxTouchPoints||window.DocumentTouch&&window.document instanceof window.DocumentTouch)),q=/iPad/i.test(x)||z&&$&&!/iPhone/i.test(x),X=/iPhone/i.test(x)&&!q,K=X||q||I,Y=(z||K)&&!H,G=Object.freeze({__proto__:null,IS_IPOD:I,IOS_VERSION:L,IS_ANDROID:N,ANDROID_VERSION:M,IS_NATIVE_ANDROID:D,IS_FIREFOX:F,IS_EDGE:B,IS_CHROME:H,CHROME_VERSION:V,IE_VERSION:U,IS_SAFARI:z,IS_WINDOWS:W,TOUCH_ENABLED:$,IS_IPAD:q,IS_IPHONE:X,IS_IOS:K,IS_ANY_SAFARI:Y});function J(t){return"string"==typeof t&&Boolean(t.trim())}function Q(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Z(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function tt(){return document===window.document}function et(t){return S(t)&&1===t.nodeType}function nt(){try{return window.parent!==window.self}catch(t){return!0}}function rt(t){return function(e,n){if(!J(e))return document[t](null);J(n)&&(n=document.querySelector(n));var r=et(n)?n:document;return r[t]&&r[t](e)}}function it(t,e,n,r){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===n&&(n={});var i=document.createElement(t);return Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(v.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+t+" to "+n+"."),i.setAttribute(t,n)):"textContent"===t?ot(i,n):i[t]===n&&"tabIndex"!==t||(i[t]=n)})),Object.getOwnPropertyNames(n).forEach((function(t){i.setAttribute(t,n[t])})),r&&Ct(i,r),i}function ot(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function at(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function st(t,e){return Q(e),t.classList?t.classList.contains(e):Z(e).test(t.className)}function ct(t,e){return t.classList?t.classList.add(e):st(t,e)||(t.className=(t.className+" "+e).trim()),t}function lt(t,e){return t?(t.classList?t.classList.remove(e):(Q(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t):(v.warn("removeClass was called with an element that doesn't exist"),null)}function ut(t,e,n){var r=st(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!r),n!==r)return n?ct(t,e):lt(t,e),t}function ht(t,e){Object.getOwnPropertyNames(e).forEach((function(n){var r=e[n];null==r||!1===r?t.removeAttribute(n):t.setAttribute(n,!0===r?"":r)}))}function ft(t){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var r=t.attributes,i=r.length-1;i>=0;i--){var o=r[i].name,a=r[i].value;"boolean"!=typeof t[o]&&-1===n.indexOf(","+o+",")||(a=null!==a),e[o]=a}return e}function pt(t,e){return t.getAttribute(e)}function dt(t,e,n){t.setAttribute(e,n)}function yt(t,e){t.removeAttribute(e)}function vt(){document.body.focus(),document.onselectstart=function(){return!1}}function mt(){document.onselectstart=function(){return!0}}function gt(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),n.height||(n.height=parseFloat(O(t,"height"))),n.width||(n.width=parseFloat(O(t,"width"))),n}}function bt(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=t.offsetWidth,n=t.offsetHeight,r=0,i=0;t.offsetParent&&t!==document[c.fullscreenElement];)r+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:r,top:i,width:e,height:n}}function _t(t,e){var n={x:0,y:0};if(K)for(var r=t;r&&"html"!==r.nodeName.toLowerCase();){var i=O(r,"transform");if(/^matrix/.test(i)){var o=i.slice(7,-1).split(/,\s/).map(Number);n.x+=o[4],n.y+=o[5]}else if(/^matrix3d/.test(i)){var a=i.slice(9,-1).split(/,\s/).map(Number);n.x+=a[12],n.y+=a[13]}r=r.parentNode}var s={},c=bt(e.target),l=bt(t),u=l.width,h=l.height,f=e.offsetY-(l.top-c.top),p=e.offsetX-(l.left-c.left);return e.changedTouches&&(p=e.changedTouches[0].pageX-l.left,f=e.changedTouches[0].pageY+l.top,K&&(p-=n.x,f-=n.y)),s.y=1-Math.max(0,Math.min(1,f/h)),s.x=Math.max(0,Math.min(1,p/u)),s}function wt(t){return S(t)&&3===t.nodeType}function Tt(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function kt(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"==typeof t&&(t=t()),et(t)||wt(t)?t:"string"==typeof t&&/\S/.test(t)?document.createTextNode(t):void 0})).filter((function(t){return t}))}function Ct(t,e){return kt(e).forEach((function(e){return t.appendChild(e)})),t}function Et(t,e){return Ct(Tt(t),e)}function St(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||"mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons}var jt,Ot=rt("querySelector"),Pt=rt("querySelectorAll"),xt=Object.freeze({__proto__:null,isReal:tt,isEl:et,isInFrame:nt,createEl:it,textContent:ot,prependTo:at,hasClass:st,addClass:ct,removeClass:lt,toggleClass:ut,setAttributes:ht,getAttributes:ft,getAttribute:pt,setAttribute:dt,removeAttribute:yt,blockTextSelection:vt,unblockTextSelection:mt,getBoundingClientRect:gt,findPosition:bt,getPointerPosition:_t,isTextNode:wt,emptyEl:Tt,normalizeContent:kt,appendContent:Ct,insertContent:Et,isSingleLeftClick:St,$:Ot,$$:Pt}),At=!1,Rt=function(){if(!1!==jt.options.autoSetup){var t=Array.prototype.slice.call(document.getElementsByTagName("video")),e=Array.prototype.slice.call(document.getElementsByTagName("audio")),n=Array.prototype.slice.call(document.getElementsByTagName("video-js")),r=t.concat(e,n);if(r&&r.length>0)for(var i=0,o=r.length;i<o;i++){var a=r[i];if(!a||!a.getAttribute){It(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&jt(a)}else At||It(1)}};function It(t,e){tt()&&(e&&(jt=e),window.setTimeout(Rt,t))}function Lt(){At=!0,window.removeEventListener("load",Lt)}tt()&&("complete"===document.readyState?Lt():window.addEventListener("load",Lt));var Nt,Mt=function(t){var e=document.createElement("style");return e.className=t,e},Dt=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},Ft=3;function Bt(){return Ft++}window.WeakMap||(Nt=function(){function t(){this.vdata="vdata"+Math.floor(window.performance&&window.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(t,e){var n=t[this.vdata]||Bt();return t[this.vdata]||(t[this.vdata]=n),this.data[n]=e,this},e.get=function(t){var e=t[this.vdata];if(e)return this.data[e];v("We have no data for this element",t)},e.has=function(t){return t[this.vdata]in this.data},e.delete=function(t){var e=t[this.vdata];e&&(delete this.data[e],delete t[this.vdata])},t}());var Ht,Vt=window.WeakMap?new WeakMap:new Nt;function Ut(t,e){if(Vt.has(t)){var n=Vt.get(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Vt.delete(t)}}function zt(t,e,n,r){n.forEach((function(n){t(e,n,r)}))}function Wt(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var r=t||window.event;for(var i in t={},r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&"path"!==i&&("returnValue"===i&&r.preventDefault||(t[i]=r[i]));if(t.target||(t.target=t.srcElement||document),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX){var o=document.documentElement,a=document.body;t.pageX=t.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t.fixed_=!0,t}var $t=function(){if("boolean"!=typeof Ht){Ht=!1;try{var t=Object.defineProperty({},"passive",{get:function(){Ht=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}}return Ht},qt=["touchstart","touchmove"];function Xt(t,e,n){if(Array.isArray(e))return zt(Xt,t,e,n);Vt.has(t)||Vt.set(t,{});var r=Vt.get(t);if(r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),n.guid||(n.guid=Bt()),r.handlers[e].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(e,n){if(!r.disabled){e=Wt(e);var i=r.handlers[e.type];if(i)for(var o=i.slice(0),a=0,s=o.length;a<s&&!e.isImmediatePropagationStopped();a++)try{o[a].call(t,e,n)}catch(t){v.error(t)}}}),1===r.handlers[e].length)if(t.addEventListener){var i=!1;$t()&&qt.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,r.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,r.dispatcher)}function Kt(t,e,n){if(Vt.has(t)){var r=Vt.get(t);if(r.handlers){if(Array.isArray(e))return zt(Kt,t,e,n);var i=function(t,e){r.handlers[e]=[],Ut(t,e)};if(void 0!==e){var o=r.handlers[e];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);Ut(t,e)}else i(t,e)}else for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&i(t,s)}}}function Yt(t,e,n){var r=Vt.has(t)?Vt.get(t):{},i=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=Wt(e),r.dispatcher&&r.dispatcher.call(t,e,n),i&&!e.isPropagationStopped()&&!0===e.bubbles)Yt.call(null,i,e,n);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){Vt.has(e.target)||Vt.set(e.target,{});var o=Vt.get(e.target);e.target[e.type]&&(o.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function Gt(t,e,n){if(Array.isArray(e))return zt(Gt,t,e,n);var r=function r(){Kt(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Bt(),Xt(t,e,r)}function Jt(t,e,n){var r=function r(){Kt(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Bt(),Xt(t,e,r)}var Qt,Zt=Object.freeze({__proto__:null,fixEvent:Wt,on:Xt,off:Kt,trigger:Yt,one:Gt,any:Jt}),te=30,ee=function(t,e,n){e.guid||(e.guid=Bt());var r=e.bind(t);return r.guid=n?n+"_"+e.guid:e.guid,r},ne=function(t,e){var n=window.performance.now(),r=function(){var r=window.performance.now();r-n>=e&&(t.apply(void 0,arguments),n=r)};return r},re=function(t,e,n,r){var i;void 0===r&&(r=window);var o=function(){r.clearTimeout(i),i=null},a=function(){var o=this,a=arguments,s=function(){i=null,s=null,n||t.apply(o,a)};!i&&n&&t.apply(o,a),r.clearTimeout(i),i=r.setTimeout(s,e)};return a.cancel=o,a},ie=function(){};ie.prototype.allowedEvents_={},ie.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Xt(this,t,e),this.addEventListener=n},ie.prototype.addEventListener=ie.prototype.on,ie.prototype.off=function(t,e){Kt(this,t,e)},ie.prototype.removeEventListener=ie.prototype.off,ie.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Gt(this,t,e),this.addEventListener=n},ie.prototype.any=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Jt(this,t,e),this.addEventListener=n},ie.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=Wt(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Yt(this,t)},ie.prototype.dispatchEvent=ie.prototype.trigger,ie.prototype.queueTrigger=function(t){var e=this;Qt||(Qt=new Map);var n=t.type||t,r=Qt.get(this);r||(r=new Map,Qt.set(this,r));var i=r.get(n);r.delete(n),window.clearTimeout(i);var o=window.setTimeout((function(){0===r.size&&(r=null,Qt.delete(e)),e.trigger(t)}),0);r.set(n,o)};var oe=function(t){return"function"==typeof t.name?t.name():"string"==typeof t.name?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t},ae=function(t){return t instanceof ie||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"==typeof t[e]}))},se=function(t,e){ae(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},ce=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},le=function(t,e,n){if(!t||!t.nodeName&&!ae(t))throw new Error("Invalid target for "+oe(e)+"#"+n+"; must be a DOM node or evented object.")},ue=function(t,e,n){if(!ce(t))throw new Error("Invalid event type for "+oe(e)+"#"+n+"; must be a non-empty string or array.")},he=function(t,e,n){if("function"!=typeof t)throw new Error("Invalid listener for "+oe(e)+"#"+n+"; must be a function.")},fe=function(t,e,n){var r,i,o,a=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return a?(r=t.eventBusEl_,e.length>=3&&e.shift(),i=e[0],o=e[1]):(r=e[0],i=e[1],o=e[2]),le(r,t,n),ue(i,t,n),he(o,t,n),{isTargetingSelf:a,target:r,type:i,listener:o=ee(t,o)}},pe=function(t,e,n,r){le(t,t,e),t.nodeName?Zt[e](t,n,r):t[e](n,r)},de={on:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=fe(this,n,"on"),o=i.isTargetingSelf,a=i.target,s=i.type,c=i.listener;if(pe(a,"on",s,c),!o){var l=function(){return t.off(a,s,c)};l.guid=c.guid;var u=function(){return t.off("dispose",l)};u.guid=c.guid,pe(this,"on","dispose",l),pe(a,"on","dispose",u)}},one:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=fe(this,n,"one"),o=i.isTargetingSelf,a=i.target,s=i.type,c=i.listener;if(o)pe(a,"one",s,c);else{var l=function e(){t.off(a,s,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];c.apply(null,r)};l.guid=c.guid,pe(a,"one",s,l)}},any:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=fe(this,n,"any"),o=i.isTargetingSelf,a=i.target,s=i.type,c=i.listener;if(o)pe(a,"any",s,c);else{var l=function e(){t.off(a,s,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];c.apply(null,r)};l.guid=c.guid,pe(a,"any",s,l)}},off:function(t,e,n){if(!t||ce(t))Kt(this.eventBusEl_,t,e);else{var r=t,i=e;le(r,this,"off"),ue(i,this,"off"),he(n,this,"off"),n=ee(this,n),this.off("dispose",n),r.nodeName?(Kt(r,i,n),Kt(r,"dispose",n)):ae(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function(t,e){le(this.eventBusEl_,this,"trigger");var n=t&&"string"!=typeof t?t.type:t;if(!ce(n)){var r="Invalid event type for "+oe(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!t)throw new Error(r);(this.log||v).error(r)}return Yt(this.eventBusEl_,t,e)}};function ye(t,e){void 0===e&&(e={});var n=e.eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=it("span",{className:"vjs-event-bus"});return E(t,de),t.eventedCallbacks&&t.eventedCallbacks.forEach((function(t){t()})),t.on("dispose",(function(){t.off(),[t,t.el_,t.eventBusEl_].forEach((function(t){t&&Vt.has(t)&&Vt.delete(t)})),window.setTimeout((function(){t.eventBusEl_=null}),0)})),t}var ve={state:{},setState:function(t){var e,n=this;return"function"==typeof t&&(t=t()),k(t,(function(t,r){n.state[r]!==t&&((e=e||{})[r]={from:n.state[r],to:t}),n.state[r]=t})),e&&ae(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function me(t,e){return E(t,ve),t.state=E({},t.state,e),"function"==typeof t.handleStateChanged&&ae(t)&&t.on("statechanged",t.handleStateChanged),t}var ge=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toLowerCase()}))},be=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))},_e=function(t,e){return be(t)===be(e)};function we(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){e&&k(e,(function(e,n){j(e)?(j(t[n])||(t[n]={}),t[n]=we(t[n],e)):t[n]=e}))})),t}var Te=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(t){return t in this.map_},e.delete=function(t){var e=this.has(t);return delete this.map_[t],e},e.set=function(t,e){return this.map_[t]=e,this},e.forEach=function(t,e){for(var n in this.map_)t.call(e,this.map_[n],n,this)},t}(),ke=window.Map?window.Map:Te,Ce=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(t){return t in this.set_},e.delete=function(t){var e=this.has(t);return delete this.set_[t],e},e.add=function(t){return this.set_[t]=1,this},e.forEach=function(t,e){for(var n in this.set_)t.call(e,n,n,this)},t}(),Ee=window.Set?window.Set:Ce,Se=b((function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return a[t];var n,o=String(t);return(n=r[o.toLowerCase()])?n:(n=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var o;if(o=r[e.toLowerCase()])return o===n;if(o=i[e.toLowerCase()])return o===n}else if("number"==typeof e)return e===n;return!1}};var r=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"â§":16,"â¥":18,"â":17,"â":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var a=e.names=e.title={};for(o in r)a[r[o]]=o;for(var s in i)r[s]=i[s]}));Se.code,Se.codes,Se.aliases,Se.names,Se.title;var je=function(){function t(t,e,n){var r=this;if(!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=we({},this.options_),e=this.options_=we(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+Bt()}this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),e.className&&this.el_&&e.className.split(" ").forEach((function(t){return r.addClass(t)})),!1!==e.evented&&(ye(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),me(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Ee,this.setIntervalIds_=new Ee,this.rafIds_=new Ee,this.namedRafs_=new ke,this.clearingTimersOnDispose_=!1,!1!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(t){if(void 0===t&&(t={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(t.restoreEl?this.el_.parentNode.replaceChild(t.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(t){return t?(this.options_=we(this.options_,t),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(t,e,n){return it(t,e,n)},e.localize=function(t,e,n){void 0===n&&(n=t);var r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[r],a=r&&r.split("-")[0],s=i&&i[a],c=n;return o&&o[t]?c=o[t]:s&&s[t]&&(c=s[t]),e&&(c=c.replace(/\{(\d+)\}/g,(function(t,n){var r=e[n-1],i=r;return void 0===r&&(i=t),i}))),c},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(t){return this.childIndex_[t]},e.getChild=function(t){if(t)return this.childNameIndex_[t]},e.getDescendant=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=e.reduce((function(t,e){return t.concat(e)}),[]);for(var r=this,i=0;i<e.length;i++)if(!(r=r.getChild(e[i]))||!r.getChild)return;return r},e.addChild=function(e,n,r){var i,o;if(void 0===n&&(n={}),void 0===r&&(r=this.children_.length),"string"==typeof e){o=be(e);var a=n.componentClass||o;n.name=o;var s=t.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,n)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(r,0,i),i.parentComponent_=this,"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&be(i.name()))&&(this.childNameIndex_[o]=i,this.childNameIndex_[ge(o)]=i),"function"==typeof i.el&&i.el()){var c=null;this.children_[r+1]&&(this.children_[r+1].el_?c=this.children_[r+1].el_:et(this.children_[r+1])&&(c=this.children_[r+1])),this.contentEl().insertBefore(i.el(),c)}return i},e.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[be(t.name())]=null,this.childNameIndex_[ge(t.name())]=null;var r=t.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},e.initChildren=function(){var e=this,n=this.options_.children;if(n){var r,i=this.options_,o=function(t){var n=t.name,r=t.opts;if(void 0!==i[n]&&(r=i[n]),!1!==r){!0===r&&(r={}),r.playerOptions=e.options_.playerOptions;var o=e.addChild(n,r);o&&(e[n]=o)}},a=t.getComponent("Tech");(r=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(t){return!r.some((function(e){return"string"==typeof e?t===e:t===e.name}))}))).map((function(t){var r,i;return"string"==typeof t?i=n[r=t]||e.options_[r]||{}:(r=t.name,i=t),{name:r,opts:i}})).filter((function(e){var n=t.getComponent(e.opts.componentClass||be(e.name));return n&&!a.isTech(n)})).forEach(o)}},e.buildCSSClass=function(){return""},e.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},e.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},e.$=function(t,e){return Ot(t,e||this.contentEl())},e.$$=function(t,e){return Pt(t,e||this.contentEl())},e.hasClass=function(t){return st(this.el_,t)},e.addClass=function(t){ct(this.el_,t)},e.removeClass=function(t){lt(this.el_,t)},e.toggleClass=function(t,e){ut(this.el_,t,e)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(t){return pt(this.el_,t)},e.setAttribute=function(t,e){dt(this.el_,t,e)},e.removeAttribute=function(t){yt(this.el_,t)},e.width=function(t,e){return this.dimension("width",t,e)},e.height=function(t,e){return this.dimension("height",t,e)},e.dimensions=function(t,e){this.width(t,!0),this.height(e)},e.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e==e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[t],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+be(t)],10)},e.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if(e=O(this.el_,t),0===(e=parseFloat(e))||isNaN(e)){var n="offset"+be(t);e=this.el_[n]}return e},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(t){this.player_&&(Se.isEventKey(t,"Tab")||t.stopPropagation(),this.player_.handleKeyDown(t))},e.handleKeyPress=function(t){this.handleKeyDown(t)},e.emitTapEvents=function(){var t,e=0,n=null,r=10,i=200;this.on("touchstart",(function(r){1===r.touches.length&&(n={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},e=window.performance.now(),t=!0)})),this.on("touchmove",(function(e){if(e.touches.length>1)t=!1;else if(n){var i=e.touches[0].pageX-n.pageX,o=e.touches[0].pageY-n.pageY;Math.sqrt(i*i+o*o)>r&&(t=!1)}}));var o=function(){t=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",(function(r){n=null,!0===t&&window.performance.now()-e<i&&(r.preventDefault(),this.trigger("tap"))}))},e.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=ee(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.setTimeout=function(t,e){var n,r=this;return t=ee(this,t),this.clearTimersOnDispose_(),n=window.setTimeout((function(){r.setTimeoutIds_.has(n)&&r.setTimeoutIds_.delete(n),t()}),e),this.setTimeoutIds_.add(n),n},e.clearTimeout=function(t){return this.setTimeoutIds_.has(t)&&(this.setTimeoutIds_.delete(t),window.clearTimeout(t)),t},e.setInterval=function(t,e){t=ee(this,t),this.clearTimersOnDispose_();var n=window.setInterval(t,e);return this.setIntervalIds_.add(n),n},e.clearInterval=function(t){return this.setIntervalIds_.has(t)&&(this.setIntervalIds_.delete(t),window.clearInterval(t)),t},e.requestAnimationFrame=function(t){var e,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),t=ee(this,t),e=window.requestAnimationFrame((function(){n.rafIds_.has(e)&&n.rafIds_.delete(e),t()})),this.rafIds_.add(e),e):this.setTimeout(t,1e3/60)},e.requestNamedAnimationFrame=function(t,e){var n=this;if(!this.namedRafs_.has(t)){this.clearTimersOnDispose_(),e=ee(this,e);var r=this.requestAnimationFrame((function(){e(),n.namedRafs_.has(t)&&n.namedRafs_.delete(t)}));return this.namedRafs_.set(t,r),t}},e.cancelNamedAnimationFrame=function(t){this.namedRafs_.has(t)&&(this.cancelAnimationFrame(this.namedRafs_.get(t)),this.namedRafs_.delete(t))},e.cancelAnimationFrame=function(t){return this.supportsRaf_?(this.rafIds_.has(t)&&(this.rafIds_.delete(t),window.cancelAnimationFrame(t)),t):this.clearTimeout(t)},e.clearTimersOnDispose_=function(){var t=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(e){var n=e[0],r=e[1];t[n].forEach((function(e,n){return t[r](n)}))})),t.clearingTimersOnDispose_=!1})))},t.registerComponent=function(e,n){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var r,i=t.getComponent("Tech"),o=i&&i.isTech(n),a=t===n||t.prototype.isPrototypeOf(n.prototype);if(o||!a)throw r=o?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+r+".");e=be(e),t.components_||(t.components_={});var s=t.getComponent("Player");if("Player"===e&&s&&s.players){var c=s.players,l=Object.keys(c);if(c&&l.length>0&&l.map((function(t){return c[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=n,t.components_[ge(e)]=n,n},t.getComponent=function(e){if(e&&t.components_)return t.components_[e]},t}();function Oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}je.prototype.supportsRaf_="function"==typeof window.requestAnimationFrame&&"function"==typeof window.cancelAnimationFrame,je.registerComponent("Component",je);var Pe=Oe;function xe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ae=xe;function Re(t,e,n){if("number"!=typeof e||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}function Ie(t,e,n,r){return Re(t,r,n.length-1),n[r][e]}function Le(t){var e;return e=void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:Ie.bind(null,"start",0,t),end:Ie.bind(null,"end",1,t)},window.Symbol&&window.Symbol.iterator&&(e[window.Symbol.iterator]=function(){return(t||[]).values()}),e}function Ne(t,e){return Array.isArray(t)?Le(t):void 0===t||void 0===e?Le():Le([[t,e]])}function Me(t,e){var n,r,i=0;if(!e)return 0;t&&t.length||(t=Ne(0,0));for(var o=0;o<t.length;o++)n=t.start(o),(r=t.end(o))>e&&(r=e),i+=r-n;return i/e}function De(t){if(t instanceof De)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:S(t)&&("number"==typeof t.code&&(this.code=t.code),E(this,t)),this.message||(this.message=De.defaultMessages[this.code]||"")}De.prototype.code=0,De.prototype.message="",De.prototype.status=null,De.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],De.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Fe=0;Fe<De.errorTypes.length;Fe++)De[De.errorTypes[Fe]]=Fe,De.prototype[De.errorTypes[Fe]]=Fe;var Be=He;function He(t,e){var n,r=null;try{n=JSON.parse(t,e)}catch(t){r=t}return[r,n]}function Ve(t){return null!=t&&"function"==typeof t.then}function Ue(t){Ve(t)&&t.then(null,(function(t){}))}var ze=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,n,r){return t[n]&&(e[n]=t[n]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))})},We={textTracksToJson:function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,(function(t){return t.track}));return Array.prototype.map.call(e,(function(t){var e=ze(t.track);return t.src&&(e.src=t.src),e})).concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===n.indexOf(t)})).map(ze))},jsonToTextTracks:function(t,e){return t.forEach((function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return n.addCue(t)}))})),e.textTracks()},trackToJson_:ze},$e="vjs-modal-dialog",qe=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).handleKeyDown_=function(t){return r.handleKeyDown(t)},r.close_=function(t){return r.close(t)},r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=it("div",{className:$e+"-content"},{role:"document"}),r.descEl_=it("p",{className:$e+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),ot(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return $e+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close_)}!e&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,r=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),Et(e,t),this.trigger("modalfill"),r?n.insertBefore(e,r):n.appendChild(e);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},n.empty=function(){this.trigger("beforemodalempty"),Tt(this.contentEl()),this.trigger("modalempty")},n.content=function(t){return void 0!==t&&(this.content_=t),this.content_},n.conditionalFocus_=function(){var t=document.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(t){if(t.stopPropagation(),Se.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(Se.isEventKey(t,"Tab")){for(var e,n=this.focusableEls_(),r=this.el_.querySelector(":focus"),i=0;i<n.length;i++)if(r===n[i]){e=i;break}document.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(n[n.length-1].focus(),t.preventDefault()):t.shiftKey||e!==n.length-1||(n[0].focus(),t.preventDefault())}},n.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,(function(t){return(t instanceof window.HTMLAnchorElement||t instanceof window.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof window.HTMLInputElement||t instanceof window.HTMLSelectElement||t instanceof window.HTMLTextAreaElement||t instanceof window.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof window.HTMLIFrameElement||t instanceof window.HTMLObjectElement||t instanceof window.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")}))},e}(je);qe.prototype.options_={pauseOnOpen:!0,temporary:!0},je.registerComponent("ModalDialog",qe);var Xe=function(t){function e(e){var n;void 0===e&&(e=[]),(n=t.call(this)||this).tracks_=[],Object.defineProperty(Pe(n),"length",{get:function(){return this.tracks_.length}});for(var r=0;r<e.length;r++)n.addTrack(e[r]);return n}Ae(e,t);var n=e.prototype;return n.addTrack=function(t){var e=this,n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.tracks_[n]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this})),t.labelchange_=function(){e.trigger({track:t,type:"labelchange",target:e})},ae(t)&&t.addEventListener("labelchange",t.labelchange_)},n.removeTrack=function(t){for(var e,n=0,r=this.length;n<r;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},n.getTrackById=function(t){for(var e=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===t){e=i;break}}return e},e}(ie);for(var Ke in Xe.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},Xe.prototype.allowedEvents_)Xe.prototype["on"+Ke]=null;var Ye=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)},Ge=function(t){function e(e){var n;void 0===e&&(e=[]);for(var r=e.length-1;r>=0;r--)if(e[r].enabled){Ye(e,e[r]);break}return(n=t.call(this,e)||this).changing_=!1,n}Ae(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.enabled&&Ye(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){n.changing_||(n.changing_=!0,Ye(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(Xe),Je=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)},Qe=function(t){function e(e){var n;void 0===e&&(e=[]);for(var r=e.length-1;r>=0;r--)if(e[r].selected){Je(e,e[r]);break}return(n=t.call(this,e)||this).changing_=!1,Object.defineProperty(Pe(n),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n}Ae(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.selected&&Je(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){n.changing_||(n.changing_=!0,Je(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(Xe),Ze=function(t){function e(){return t.apply(this,arguments)||this}Ae(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Xe),tn=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,n=t.length;e<n;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,n=0,r=this.trackElements_.length;n<r;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},e.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),en=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,n=0,r=t.length;this.cues_=t,this.length_=t.length;var i=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<r)for(n=e;n<r;n++)i.call(this,n)},e.getCueById=function(t){for(var e=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===t){e=i;break}}return e},t}(),nn={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},rn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},on={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},an={disabled:"disabled",hidden:"hidden",showing:"showing"},sn=function(t){function e(e){var n;void 0===e&&(e={}),n=t.call(this)||this;var r={id:e.id||"vjs_track_"+Bt(),kind:e.kind||"",language:e.language||""},i=e.label||"",o=function(t){Object.defineProperty(Pe(n),t,{get:function(){return r[t]},set:function(){}})};for(var a in r)o(a);return Object.defineProperty(Pe(n),"label",{get:function(){return i},set:function(t){t!==i&&(i=t,this.trigger("labelchange"))}}),n}return Ae(e,t),e}(ie),cn=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=document.createElement("a");n.href=t;for(var r={},i=0;i<e.length;i++)r[e[i]]=n[e[i]];return"http:"===r.protocol&&(r.host=r.host.replace(/:80$/,"")),"https:"===r.protocol&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=window.location.protocol),r.host||(r.host=window.location.host),r},ln=function(t){if(!t.match(/^https?:\/\//)){var e=document.createElement("a");e.href=t,t=e.href}return t},un=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(e)return e.pop().toLowerCase()}return""},hn=function(t,e){void 0===e&&(e=window.location);var n=cn(t);return(":"===n.protocol?e.protocol:n.protocol)+n.host!==e.protocol+e.host},fn=Object.freeze({__proto__:null,parseUrl:cn,getAbsoluteURL:ln,getFileExtension:un,isCrossOrigin:hn}),pn="undefined"!=typeof window?window:void 0!==g?g:"undefined"!=typeof self?self:{},dn=vn,yn=Object.prototype.toString;function vn(t){if(!t)return!1;var e=yn.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function mn(t){return void 0===t&&(t=""),t.toLowerCase().split(";").reduce((function(t,e){var n=e.split("="),r=n[0],i=n[1];return"charset"===r.trim()?i.trim():t}),"utf-8")}var gn=function(t,e){return void 0===e&&(e=!1),function(n,r,i){if(n)t(n);else if(r.statusCode>=400&&r.statusCode<=599){var o=i;if(e)if(pn.TextDecoder){var a=mn(r.headers&&r.headers["content-type"]);try{o=new TextDecoder(a).decode(i)}catch(t){}}else o=String.fromCharCode.apply(null,new Uint8Array(i));t({cause:o})}else t(null,i)}};En.httpHandler=gn;var bn=function(t){var e={};return t?(t.trim().split("\n").forEach((function(t){var n=t.indexOf(":"),r=t.slice(0,n).trim().toLowerCase(),i=t.slice(n+1).trim();void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e},_n=En,wn=En;function Tn(t,e){for(var n=0;n<t.length;n++)e(t[n])}function kn(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function Cn(t,e,n){var r=t;return dn(e)?(n=e,"string"==typeof t&&(r={uri:t})):r=_({},e,{uri:t}),r.callback=n,r}function En(t,e,n){return Sn(e=Cn(t,e,n))}function Sn(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,r,i){e||(e=!0,t.callback(n,r,i))};function r(){4===l.readyState&&setTimeout(a,0)}function i(){var t=void 0;if(t=l.response?l.response:l.responseText||jn(l),v)try{t=JSON.parse(t)}catch(t){}return t}function o(t){return clearTimeout(u),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,m)}function a(){if(!c){var e;clearTimeout(u),e=t.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var r=m,o=null;return 0!==e?(r={body:i(),statusCode:e,method:f,headers:{},url:h,rawRequest:l},l.getAllResponseHeaders&&(r.headers=bn(l.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,r,r.body)}}var s,c,l=t.xhr||null;l||(l=t.cors||t.useXDR?new En.XDomainRequest:new En.XMLHttpRequest);var u,h=l.url=t.uri||t.url,f=l.method=t.method||"GET",p=t.body||t.data,d=l.headers=t.headers||{},y=!!t.sync,v=!1,m={body:void 0,headers:{},statusCode:0,method:f,url:h,rawRequest:l};if("json"in t&&!1!==t.json&&(v=!0,d.accept||d.Accept||(d.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(d["content-type"]||d["Content-Type"]||(d["Content-Type"]="application/json"),p=JSON.stringify(!0===t.json?p:t.json))),l.onreadystatechange=r,l.onload=a,l.onerror=o,l.onprogress=function(){},l.onabort=function(){c=!0},l.ontimeout=o,l.open(f,h,!y,t.username,t.password),y||(l.withCredentials=!!t.withCredentials),!y&&t.timeout>0&&(u=setTimeout((function(){if(!c){c=!0,l.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)}}),t.timeout)),l.setRequestHeader)for(s in d)d.hasOwnProperty(s)&&l.setRequestHeader(s,d[s]);else if(t.headers&&!kn(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(l.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(l),l.send(p||null),l}function jn(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}function On(){}En.XMLHttpRequest=pn.XMLHttpRequest||On,En.XDomainRequest="withCredentials"in new En.XMLHttpRequest?En.XMLHttpRequest:pn.XDomainRequest,Tn(["get","put","post","patch","head","delete"],(function(t){En["delete"===t?"del":t]=function(e,n,r){return(n=Cn(e,n,r)).method=t.toUpperCase(),Sn(n)}})),_n.default=wn;var Pn=function(t,e){var n=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()),r=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){r.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),r.length>0&&(window.console&&window.console.groupCollapsed&&window.console.groupCollapsed("Text Track parsing errors for "+e.src),r.forEach((function(t){return v.error(t)})),window.console&&window.console.groupEnd&&window.console.groupEnd()),n.flush()},xn=function(t,e){var n={uri:t},r=hn(t);r&&(n.cors=r);var i="use-credentials"===e.tech_.crossOrigin();i&&(n.withCredentials=i),_n(n,ee(this,(function(t,n,r){if(t)return v.error(t,n);e.loaded_=!0,"function"!=typeof window.WebVTT?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],(function(t){if("vttjserror"!==t.type)return Pn(r,e);v.error("vttjs failed to load, stopping trying to process "+e.src)})):Pn(r,e)})))},An=function(t){function e(e){var n;if(void 0===e&&(e={}),!e.tech)throw new Error("A tech was not provided.");var r=we(e,{kind:on[e.kind]||"subtitles",language:e.language||e.srclang||""}),i=an[r.mode]||"disabled",o=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(i="hidden"),(n=t.call(this,r)||this).tech_=r.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var a=new en(n.cues_),s=new en(n.activeCues_),c=!1;n.timeupdateHandler=ee(Pe(n),(function(t){void 0===t&&(t={}),this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1),"timeupdate"!==t.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))):"timeupdate"!==t.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))}));var l=function(){n.stopTracking()};return n.tech_.one("dispose",l),"disabled"!==i&&n.startTracking(),Object.defineProperties(Pe(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return i},set:function(t){an[t]&&i!==t&&(i=t,this.preload_||"disabled"===i||0!==this.cues.length||xn(this.src,this),this.stopTracking(),"disabled"!==i&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var t=this.tech_.currentTime(),e=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];(i.startTime<=t&&i.endTime>=t||i.startTime===i.endTime&&i.startTime<=t&&i.startTime+.5>=t)&&e.push(i)}if(c=!1,e.length!==this.activeCues_.length)c=!0;else for(var o=0;o<e.length;o++)-1===this.activeCues_.indexOf(e[o])&&(c=!0);return this.activeCues_=e,s.setCues_(this.activeCues_),s},set:function(){}}}),r.src?(n.src=r.src,n.preload_||(n.loaded_=!0),(n.preload_||"subtitles"!==r.kind&&"captions"!==r.kind)&&xn(n.src,Pe(n))):n.loaded_=!0,n}Ae(e,t);var n=e.prototype;return n.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},n.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},n.addCue=function(t){var e=t;if(window.vttjs&&!(t instanceof window.vttjs.VTTCue)){for(var n in e=new window.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}for(var r=this.tech_.textTracks(),i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},n.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(sn);An.prototype.allowedEvents_={cuechange:"cuechange"};var Rn=function(t){function e(e){var n;void 0===e&&(e={});var r=we(e,{kind:rn[e.kind]||""});n=t.call(this,r)||this;var i=!1;return Object.defineProperty(Pe(n),"enabled",{get:function(){return i},set:function(t){"boolean"==typeof t&&t!==i&&(i=t,this.trigger("enabledchange"))}}),r.enabled&&(n.enabled=r.enabled),n.loaded_=!0,n}return Ae(e,t),e}(sn),In=function(t){function e(e){var n;void 0===e&&(e={});var r=we(e,{kind:nn[e.kind]||""});n=t.call(this,r)||this;var i=!1;return Object.defineProperty(Pe(n),"selected",{get:function(){return i},set:function(t){"boolean"==typeof t&&t!==i&&(i=t,this.trigger("selectedchange"))}}),r.selected&&(n.selected=r.selected),n}return Ae(e,t),e}(sn),Ln=0,Nn=1,Mn=2,Dn=3,Fn=function(t){function e(e){var n,r;void 0===e&&(e={}),n=t.call(this)||this;var i=new An(e);return n.kind=i.kind,n.src=i.src,n.srclang=i.language,n.label=i.label,n.default=i.default,Object.defineProperties(Pe(n),{readyState:{get:function(){return r}},track:{get:function(){return i}}}),r=Ln,i.addEventListener("loadeddata",(function(){r=Mn,n.trigger({type:"load",target:Pe(n)})})),n}return Ae(e,t),e}(ie);Fn.prototype.allowedEvents_={load:"load"},Fn.NONE=Ln,Fn.LOADING=Nn,Fn.LOADED=Mn,Fn.ERROR=Dn;var Bn={audio:{ListClass:Ge,TrackClass:Rn,capitalName:"Audio"},video:{ListClass:Qe,TrackClass:In,capitalName:"Video"},text:{ListClass:Ze,TrackClass:An,capitalName:"Text"}};Object.keys(Bn).forEach((function(t){Bn[t].getterName=t+"Tracks",Bn[t].privateName=t+"Tracks_"}));var Hn={remoteText:{ListClass:Ze,TrackClass:An,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:tn,TrackClass:Fn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Vn=_({},Bn,Hn);Hn.names=Object.keys(Hn),Bn.names=Object.keys(Bn),Vn.names=[].concat(Hn.names).concat(Bn.names);var Un,zn={},Wn=void 0!==g?g:"undefined"!=typeof window?window:{};"undefined"!=typeof document?Un=document:(Un=Wn["__GLOBAL_DOCUMENT_CACHE@4"])||(Un=Wn["__GLOBAL_DOCUMENT_CACHE@4"]=zn);var $n=Un,qn=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Xn(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function Kn(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+(0|r)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function Yn(){this.values=qn(null)}function Gn(t,e,n,r){var i=r?t.split(r):[t];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);2===a.length&&e(a[0].trim(),a[1].trim())}}function Jn(t,e,n){var r=t;function i(){var e=Kn(t);if(null===e)throw new Xn(Xn.Errors.BadTimeStamp,"Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(t,e){var r=new Yn;Gn(t,(function(t,e){switch(t){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===e){r.set(t,n[i].region);break}break;case"vertical":r.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];r.integer(t,a),r.percent(t,a)&&r.set("snapToLines",!1),r.alt(t,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=e.split(","),r.percent(t,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","center","end"]);break;case"size":r.percent(t,e);break;case"align":r.alt(t,e,["start","center","end","left","right"])}}),/:/,/\s/),e.region=r.get("region",null),e.vertical=r.get("vertical","");try{e.line=r.get("line","auto")}catch(t){}e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100);try{e.align=r.get("align","center")}catch(t){e.align=r.get("align","middle")}try{e.position=r.get("position","auto")}catch(t){e.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},e.align)}e.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},e.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=i(),a(),"--\x3e"!==t.substr(0,3))throw new Xn(Xn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);t=t.substr(3),a(),e.endTime=i(),a(),o(t,e)}Xn.prototype=qn(Error.prototype),Xn.prototype.constructor=Xn,Xn.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Yn.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var Qn=$n.createElement&&$n.createElement("textarea"),Zn={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},tr={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},er={v:"title",lang:"lang"},nr={rt:"ruby"};function rr(t,e){function n(){if(!e)return null;function t(t){return e=e.substr(t.length),t}var n=e.match(/^([^<]*)(<[^>]*>?)?/);return t(n[1]?n[1]:n[2])}function r(t){return Qn.innerHTML=t,t=Qn.textContent,Qn.textContent="",t}function i(t,e){return!nr[e.localName]||nr[e.localName]===t.localName}function o(e,n){var r=Zn[e];if(!r)return null;var i=t.document.createElement(r),o=er[e];return o&&n&&(i[o]=n.trim()),i}for(var a,s=t.document.createElement("div"),c=s,l=[];null!==(a=n());)if("<"!==a[0])c.appendChild(t.document.createTextNode(r(a)));else{if("/"===a[1]){l.length&&l[l.length-1]===a.substr(2).replace(">","")&&(l.pop(),c=c.parentNode);continue}var u,h=Kn(a.substr(1,a.length-2));if(h){u=t.document.createProcessingInstruction("timestamp",h),c.appendChild(u);continue}var f=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f)continue;if(!(u=o(f[1],f[3])))continue;if(!i(c,u))continue;if(f[2]){var p=f[2].split(".");p.forEach((function(t){var e=/^bg_/.test(t),n=e?t.slice(3):t;if(tr.hasOwnProperty(n)){var r=e?"background-color":"color",i=tr[n];u.style[r]=i}})),u.className=p.join(" ")}l.push(f[1]),c.appendChild(u),c=u}return s}var ir=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function or(t){for(var e=0;e<ir.length;e++){var n=ir[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function ar(t){var e=[],n="";if(!t||!t.childNodes)return"ltr";function r(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function i(t){if(!t||!t.length)return null;var e=t.pop(),n=e.textContent||e.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(t.length=0,o[0]):n}return"ruby"===e.tagName?i(t):e.childNodes?(r(t,e),i(t)):void 0}for(r(e,t);n=i(e);)for(var o=0;o<n.length;o++)if(or(n.charCodeAt(o)))return"rtl";return"ltr"}function sr(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,r=0,i=0;i<n.length&&n[i]!==e;i++)"showing"===n[i].mode&&r++;return-1*++r}function cr(){}function lr(t,e,n){cr.call(this),this.cue=e,this.cueDiv=rr(t,e.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=t.document.createElement("div"),r={direction:ar(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":i=e.position;break;case"center":i=e.position-e.size/2;break;case"end":i=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function ur(t){var e,n,r,i;if(t.div){n=t.div.offsetHeight,r=t.div.offsetWidth,i=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||n,this.bottom=t.bottom||i+(t.height||n),this.width=t.width||r,this.lineHeight=void 0!==e?e:t.lineHeight}function hr(t,e,n,r){function i(t,e){for(var i,o=new ur(t),a=1,s=0;s<e.length;s++){for(;t.overlapsOppositeAxis(n,e[s])||t.within(n)&&t.overlapsAny(r);)t.move(e[s]);if(t.within(n))return t;var c=t.intersectPercentage(n);a>c&&(i=new ur(t),a=c),t=new ur(o)}return i||o}var o=new ur(e),a=e.cue,s=sr(a),c=[];if(a.snapToLines){var l;switch(a.vertical){case"":c=["+y","-y"],l="height";break;case"rl":c=["+x","-x"],l="width";break;case"lr":c=["-x","+x"],l="width"}var u=o.lineHeight,h=u*Math.round(s),f=n[l]+u,p=c[0];Math.abs(h)>f&&(h=h<0?-1:1,h*=Math.ceil(f/u)*u),s<0&&(h+=""===a.vertical?n.height:n.width,c=c.reverse()),o.move(p,h)}else{var d=o.lineHeight/n.height*100;switch(a.lineAlign){case"center":s-=d/2;break;case"end":s-=d}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(s,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(s,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(s,"%")})}c=["+y","-x","+x","-y"],o=new ur(e)}var y=i(o,c);e.move(y.toCSSCompatValues(n))}function fr(){}cr.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},cr.prototype.formatStyle=function(t,e){return 0===t?0:t+e},lr.prototype=qn(cr.prototype),lr.prototype.constructor=lr,ur.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},ur.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},ur.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},ur.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},ur.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},ur.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},ur.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},ur.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||r,height:t.height||e,bottom:t.bottom||r+(t.height||e),width:t.width||n}},fr.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},fr.convertCueToDOMTree=function(t,e){return t&&e?rr(t,e):null};var pr=.05,dr="sans-serif",yr="1.5%";fr.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=t.document.createElement("div");function i(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=yr,n.appendChild(r),i(e)){var o=[],a=ur.getSimpleBoxPosition(r),s={font:Math.round(a.height*pr*100)/100+"px "+dr};!function(){for(var n,i,c=0;c<e.length;c++)i=e[c],n=new lr(t,i,s),r.appendChild(n.div),hr(t,n,a,o),i.displayState=n.div,o.push(ur.getSimpleBoxPosition(n))}()}else for(var c=0;c<e.length;c++)r.appendChild(e[c].displayState)},fr.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},fr.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof Xn))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function n(){for(var t=e.buffer,n=0;n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var r=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),r}function r(t){var n=new Yn;if(Gn(t,(function(t,e){switch(t){case"id":n.set(t,e);break;case"width":n.percent(t,e);break;case"lines":n.integer(t,e);break;case"regionanchor":case"viewportanchor":var r=e.split(",");if(2!==r.length)break;var i=new Yn;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(t+"X",i.get("x")),n.set(t+"Y",i.get("y"));break;case"scroll":n.alt(t,e,["up"])}}),/=/,/\s/),n.has("id")){var r=new(e.vttjs.VTTRegion||e.window.VTTRegion);r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),e.onregion&&e.onregion(r),e.regionList.push({id:n.get("id"),region:r})}}function i(t){var n=new Yn;Gn(t,(function(t,e){switch(t){case"MPEGT":n.integer(t+"S",e);break;case"LOCA":n.set(t+"L",Kn(e))}}),/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}function o(t){t.match(/X-TIMESTAMP-MAP/)?Gn(t,(function(t,e){"X-TIMESTAMP-MAP"===t&&i(e)}),/=/):Gn(t,(function(t,e){"Region"===t&&r(e)}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var a;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var s=(a=n()).match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new Xn(Xn.Errors.BadSignature);e.state="HEADER"}for(var c=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(c?c=!1:a=n(),e.state){case"HEADER":/:/.test(a)?o(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch(t){e.cue.align="middle"}if(e.state="CUE",-1===a.indexOf("--\x3e")){e.cue.id=a;continue}case"CUE":try{Jn(a,e.cue,e.regionList)}catch(t){e.reportOrThrowError(t),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var l=-1!==a.indexOf("--\x3e");if(!a||l&&(c=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=a.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":a||(e.state="ID");continue}}}catch(t){e.reportOrThrowError(t),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Xn(Xn.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var vr=fr,mr="auto",gr={"":1,lr:1,rl:1},br={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function _r(t){return"string"==typeof t&&!!gr[t.toLowerCase()]&&t.toLowerCase()}function wr(t){return"string"==typeof t&&!!br[t.toLowerCase()]&&t.toLowerCase()}function Tr(t,e,n){this.hasBeenReset=!1;var r="",i=!1,o=t,a=e,s=n,c=null,l="",u=!0,h="auto",f="start",p="auto",d="auto",y=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(t){r=""+t}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(t){i=!!t}},startTime:{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");o=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");a=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(t){s=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return c},set:function(t){c=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(t){var e=_r(t);if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");l=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return u},set:function(t){u=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(t){if("number"!=typeof t&&t!==mr)throw new SyntaxError("Line: an invalid number or illegal string was specified.");h=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(t){var e=wr(t);e?(f=e,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");p=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return d},set:function(t){var e=wr(t);e?(d=e,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");y=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(t){var e=wr(t);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=e,this.hasBeenReset=!0}}}),this.displayState=void 0}Tr.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var kr=Tr,Cr={"":!0,up:!0};function Er(t){return"string"==typeof t&&!!Cr[t.toLowerCase()]&&t.toLowerCase()}function Sr(t){return"number"==typeof t&&t>=0&&t<=100}function jr(){var t=100,e=3,n=0,r=100,i=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!Sr(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(t){if(!Sr(t))throw new Error("RegionAnchorX must be between 0 and 100.");r=t}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(t){if(!Sr(t))throw new Error("RegionAnchorY must be between 0 and 100.");n=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!Sr(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!Sr(t))throw new Error("ViewportAnchorX must be between 0 and 100.");i=t}},scroll:{enumerable:!0,get:function(){return a},set:function(t){var e=Er(t);!1===e?console.warn("Scroll: an invalid or illegal string was specified."):a=e}}})}var Or=jr,Pr=b((function(t){var e=t.exports={WebVTT:vr,VTTCue:kr,VTTRegion:Or};pn.vttjs=e,pn.WebVTT=e.WebVTT;var n=e.VTTCue,r=e.VTTRegion,i=pn.VTTCue,o=pn.VTTRegion;e.shim=function(){pn.VTTCue=n,pn.VTTRegion=r},e.restore=function(){pn.VTTCue=i,pn.VTTRegion=o},pn.VTTCue||e.shim()}));function xr(t,e,n,r,i){void 0===i&&(i={});var o=t.textTracks();i.kind=e,n&&(i.label=n),r&&(i.language=r),i.tech=t;var a=new Vn.text.TrackClass(i);return o.addTrack(a),a}Pr.WebVTT,Pr.VTTCue,Pr.VTTRegion;var Ar=function(t){function e(e,n){var r;return void 0===e&&(e={}),void 0===n&&(n=function(){}),e.reportTouchActivity=!1,(r=t.call(this,null,e,n)||this).onDurationChange_=function(t){return r.onDurationChange(t)},r.trackProgress_=function(t){return r.trackProgress(t)},r.trackCurrentTime_=function(t){return r.trackCurrentTime(t)},r.stopTrackingCurrentTime_=function(t){return r.stopTrackingCurrentTime(t)},r.disposeSourceHandler_=function(t){return r.disposeSourceHandler(t)},r.queuedHanders_=new Set,r.hasStarted_=!1,r.on("playing",(function(){this.hasStarted_=!0})),r.on("loadstart",(function(){this.hasStarted_=!1})),Vn.names.forEach((function(t){var n=Vn[t];e&&e[n.getterName]&&(r[n.privateName]=e[n.getterName])})),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(t){!1===e["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)})),!1===e.nativeCaptions||!1===e.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.preloadTextTracks=!1!==e.preloadTextTracks,r.autoRemoteTextTracks_=new Vn.text.ListClass,r.initTrackListeners(),e.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}Ae(e,t);var n=e.prototype;return n.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ee(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()})),500)},n.onDurationChange=function(t){this.duration_=this.duration()},n.buffered=function(){return Ne(0,0)},n.bufferedPercent=function(){return Me(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Bn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach((function(t){for(var n=e[t+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===t&&e.removeRemoteTextTrack(i),n.removeTrack(i)}}))},n.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(t){return void 0!==t&&(this.error_=new De(t),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?Ne(0,0):Ne()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var t=this;Bn.names.forEach((function(e){var n=Bn[e],r=function(){t.trigger(e+"trackchange")},i=t[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),t.on("dispose",(function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)}))}))},n.addWebVttScript_=function(){var t=this;if(!window.WebVTT)if(document.body.contains(this.el())){if(!this.options_["vtt.js"]&&j(Pr)&&Object.keys(Pr).length>0)return void this.trigger("vttjsloaded");var e=document.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",(function(){e.onload=null,e.onerror=null})),window.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var t=this,e=this.textTracks(),n=this.remoteTextTracks(),r=function(t){return e.addTrack(t.track)},i=function(t){return e.removeTrack(t.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var o=function(){return t.trigger("texttrackchange")},a=function(){o();for(var t=0;t<e.length;t++){var n=e[t];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",(function(){n.off("addtrack",r),n.off("removetrack",i),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(var t=0;t<e.length;t++)e[t].removeEventListener("cuechange",o)}))},n.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return xr(this,t,e,n)},n.createRemoteTextTrack=function(t){var e=we(t,{tech:this});return new Hn.remoteTextEl.TrackClass(e)},n.addRemoteTextTrack=function(t,e){var n=this;void 0===t&&(t={});var r=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(v.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==e&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(r.track)})),r},n.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var t=this.options_.Promise||window.Promise;if(t)return t.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.requestVideoFrameCallback=function(t){var e=this,n=Bt();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",(function(){e.queuedHanders_.has(n)&&(e.queuedHanders_.delete(n),t())}))):this.requestNamedAnimationFrame(n,t),n},n.cancelVideoFrameCallback=function(t){this.queuedHanders_.has(t)?this.queuedHanders_.delete(t):this.cancelNamedAnimationFrame(t)},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,n){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,n){if(e.techs_||(e.techs_={}),!e.isTech(n))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=be(t),e.techs_[t]=n,e.techs_[ge(t)]=n,"Tech"!==t&&e.defaultTechOrder_.push(t),n},e.getTech=function(t){if(t)return e.techs_&&e.techs_[t]?e.techs_[t]:(t=be(t),window&&window.videojs&&window.videojs[t]?(v.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),window.videojs[t]):void 0)},e}(je);Vn.names.forEach((function(t){var e=Vn[t];Ar.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),Ar.prototype.featuresVolumeControl=!0,Ar.prototype.featuresMuteControl=!0,Ar.prototype.featuresFullscreenResize=!1,Ar.prototype.featuresPlaybackRate=!1,Ar.prototype.featuresProgressEvents=!1,Ar.prototype.featuresSourceset=!1,Ar.prototype.featuresTimeupdateEvents=!1,Ar.prototype.featuresNativeTextTracks=!1,Ar.prototype.featuresVideoFrameCallback=!1,Ar.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,e)},t.canPlayType=function(e){for(var n,r=t.sourceHandlers||[],i=0;i<r.length;i++)if(n=r[i].canPlayType(e))return n;return""},t.selectSourceHandler=function(e,n){for(var r=t.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(e,n))return r[i];return null},t.canPlaySource=function(e,n){var r=t.selectSourceHandler(e,n);return r?r.canHandleSource(e,n):""},["seekable","seeking","duration"].forEach((function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:v.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},je.registerComponent("Tech",Ar),Ar.registerTech("Tech",Ar),Ar.defaultTechOrder_=[];var Rr={},Ir={},Lr={};function Nr(t,e){Rr[t]=Rr[t]||[],Rr[t].push(e)}function Mr(t,e,n){t.setTimeout((function(){return Kr(e,Rr[e.type],n,t)}),1)}function Dr(t,e){t.forEach((function(t){return t.setTech&&t.setTech(e)}))}function Fr(t,e,n){return t.reduceRight(Wr(n),e[n]())}function Br(t,e,n,r){return e[n](t.reduce(Wr(n),r))}function Hr(t,e,n,r){void 0===r&&(r=null);var i="call"+be(n),o=t.reduce(Wr(i),r),a=o===Lr,s=a?null:e[n](o);return $r(t,n,s,a),s}var Vr={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Ur={setCurrentTime:1,setMuted:1,setVolume:1},zr={play:1,pause:1};function Wr(t){return function(e,n){return e===Lr?Lr:n[t]?n[t](e):e}}function $r(t,e,n,r){for(var i=t.length-1;i>=0;i--){var o=t[i];o[e]&&o[e](r,n)}}function qr(t){Ir[t.id()]=null}function Xr(t,e){var n=Ir[t.id()],r=null;if(null==n)return r=e(t),Ir[t.id()]=[[e,r]],r;for(var i=0;i<n.length;i++){var o=n[i],a=o[0],s=o[1];a===e&&(r=s)}return null===r&&(r=e(t),n.push([e,r])),r}function Kr(t,e,n,r,i,o){void 0===t&&(t={}),void 0===e&&(e=[]),void 0===i&&(i=[]),void 0===o&&(o=!1);var a=e,s=a[0],c=a.slice(1);if("string"==typeof s)Kr(t,Rr[s],n,r,i,o);else if(s){var l=Xr(r,s);if(!l.setSource)return i.push(l),Kr(t,c,n,r,i,o);l.setSource(E({},t),(function(e,a){if(e)return Kr(t,c,n,r,i,o);i.push(l),Kr(a,t.type===a.type?c:Rr[a.type],n,r,i,o)}))}else c.length?Kr(t,c,n,r,i,o):o?n(t,i):Kr(t,Rr["*"],n,r,i,!0)}var Yr={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Gr=function(t){void 0===t&&(t="");var e=un(t);return Yr[e.toLowerCase()]||""},Jr=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter((function(t){return t.src===e}));if(n.length)return n[0].type;for(var r=t.$$("source"),i=0;i<r.length;i++){var o=r[i];if(o.type&&o.src&&o.src===e)return o.type}return Gr(e)},Qr=function t(e){if(Array.isArray(e)){var n=[];e.forEach((function(e){e=t(e),Array.isArray(e)?n=n.concat(e):S(e)&&n.push(e)})),e=n}else e="string"==typeof e&&e.trim()?[Zr({src:e})]:S(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[Zr(e)]:[];return e};function Zr(t){if(!t.type){var e=Gr(t.src);e&&(t.type=e)}return t}var ti=function(t){function e(e,n,r){var i,o=we({createEl:!1},n);if(i=t.call(this,e,o,r)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)e.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var c=be(s[a]),l=Ar.getTech(c);if(c||(l=je.getComponent(c)),l&&l.isSupported()){e.loadTech_(c);break}}return i}return Ae(e,t),e}(je);je.registerComponent("MediaLoader",ti);var ei=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).options_.controlText&&r.controlText(r.options_.controlText),r.handleMouseOver_=function(t){return r.handleMouseOver(t)},r.handleMouseOut_=function(t){return r.handleMouseOut(t)},r.handleClick_=function(t){return r.handleClick(t)},r.handleKeyDown_=function(t){return r.handleKeyDown(t)},r.emitTapEvents(),r.enable(),r}Ae(e,t);var n=e.prototype;return n.createEl=function(t,e,n){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===n&&(n={}),e=E({className:this.buildCSSClass(),tabIndex:0},e),"button"===t&&v.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),n=E({role:"button"},n),this.tabIndex_=e.tabIndex;var r=it(t,e,n);return r.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=function(t){return this.controlTextEl_=it("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},n.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,ot(this.controlTextEl_,n),this.nonIconControl||this.player_.options_.noUITitleAttributes||e.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(e){Se.isEventKey(e,"Space")||Se.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(je);je.registerComponent("ClickableComponent",ei);var ni=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).update(),r.update_=function(t){return r.update(t)},e.on("posterchange",r.update_),r}Ae(e,t);var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},n.createEl=function(){return it("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},n.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},n.handleClick=function(t){if(this.player_.controls()){var e=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(U||B)&&e||this.player_.tech(!0).focus(),this.player_.paused()?Ue(this.player_.play()):this.player_.pause()}},e}(ei);je.registerComponent("PosterImage",ni);var ri="#222",ii="#ccc",oi={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function ai(t,e){var n;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function si(t,e,n){try{t.style[e]=n}catch(t){return}}var ci=function(t){function e(e,n,r){var i;i=t.call(this,e,n,r)||this;var o=function(t){return i.updateDisplay(t)};return e.on("loadstart",(function(t){return i.toggleDisplay(t)})),e.on("texttrackchange",o),e.on("loadedmetadata",(function(t){return i.preselectTrack(t)})),e.ready(ee(Pe(i),(function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)this.hide();else{e.on("fullscreenchange",o),e.on("playerresize",o),window.addEventListener("orientationchange",o),e.on("dispose",(function(){return window.removeEventListener("orientationchange",o)}));for(var t=this.options_.playerOptions.tracks||[],n=0;n<t.length;n++)this.player_.addRemoteTextTrack(t[n],!0);this.preselectTrack()}}))),i}Ae(e,t);var n=e.prototype;return n.preselectTrack=function(){for(var t,e,n,r={captions:1,subtitles:1},i=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<i.length;a++){var s=i[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in r?s.kind===o.kind?n=s:n||(n=s):o&&!o.enabled?(n=null,t=null,e=null):s.default&&("descriptions"!==s.kind||t?s.kind in r&&!e&&(e=s):t=s)}n?n.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof window.WebVTT&&window.WebVTT.processCues(window,[],this.el_)},n.updateDisplay=function(){var t=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){for(var n=[],r=0;r<t.length;++r){var i=t[r];"showing"===i.mode&&n.push(i)}this.updateForTrack(n)}else{for(var o=null,a=null,s=t.length;s--;){var c=t[s];"showing"===c.mode&&("descriptions"===c.kind?o=c:a=c)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},n.updateDisplayState=function(t){for(var e=this.player_.textTrackSettings.getValues(),n=t.activeCues,r=n.length;r--;){var i=n[r];if(i){var o=i.displayState;if(e.color&&(o.firstChild.style.color=e.color),e.textOpacity&&si(o.firstChild,"color",ai(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(o.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&si(o.firstChild,"backgroundColor",ai(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?si(o,"backgroundColor",ai(e.windowColor,e.windowOpacity)):o.style.backgroundColor=e.windowColor),e.edgeStyle&&("dropshadow"===e.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px "+ri+", 2px 2px 4px "+ri+", 2px 2px 5px "+ri:"raised"===e.edgeStyle?o.firstChild.style.textShadow="1px 1px "+ri+", 2px 2px "+ri+", 3px 3px "+ri:"depressed"===e.edgeStyle?o.firstChild.style.textShadow="1px 1px "+ii+", 0 1px "+ii+", -1px -1px "+ri+", 0 -1px "+ri:"uniform"===e.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px "+ri+", 0 0 4px "+ri+", 0 0 4px "+ri+", 0 0 4px "+ri)),e.fontPercent&&1!==e.fontPercent){var a=window.parseFloat(o.style.fontSize);o.style.fontSize=a*e.fontPercent+"px",o.style.height="auto",o.style.top="auto"}e.fontFamily&&"default"!==e.fontFamily&&("small-caps"===e.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=oi[e.fontFamily])}}},n.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),"function"==typeof window.WebVTT&&!t.every((function(t){return!t.activeCues}))){for(var e=[],n=0;n<t.length;++n)for(var r=t[n],i=0;i<r.activeCues.length;++i)e.push(r.activeCues[i]);window.WebVTT.processCues(window,e,this.el_);for(var o=0;o<t.length;++o){for(var a=t[o],s=0;s<a.activeCues.length;++s){var c=a.activeCues[s].displayState;ct(c,"vjs-text-track-cue"),ct(c,"vjs-text-track-cue-"+(a.language?a.language:o)),a.language&&dt(c,"lang",a.language)}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},e}(je);je.registerComponent("TextTrackDisplay",ci);var li=function(t){function e(){return t.apply(this,arguments)||this}return Ae(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),r=it("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),i=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i},e}(je);je.registerComponent("LoadingSpinner",li);var ui=function(t){function e(){return t.apply(this,arguments)||this}Ae(e,t);var n=e.prototype;return n.createEl=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={});var r=it("button",e=E({className:this.buildCSSClass()},e),n=E({type:"button"},n));return r.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r},n.addChild=function(t,e){void 0===e&&(e={});var n=this.constructor.name;return v.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),je.prototype.addChild.call(this,t,e)},n.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(e){Se.isEventKey(e,"Space")||Se.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(ei);je.registerComponent("Button",ui);var hi=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).mouseused_=!1,r.on("mousedown",(function(t){return r.handleMouseDown(t)})),r}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Ue(e),void(!this.player_.tech(!0)||(U||B)&&n||this.player_.tech(!0).focus())}var r=this.player_.getChild("controlBar"),i=r&&r.getChild("playToggle");if(i){var o=function(){return i.focus()};Ve(e)?e.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},n.handleMouseDown=function(t){this.mouseused_=!0},e}(ui);hi.prototype.controlText_="Play Video",je.registerComponent("BigPlayButton",hi);var fi=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).controlText(n&&n.controlText||r.localize("Close")),r}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(e){Se.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(ui);je.registerComponent("CloseButton",fi);var pi=function(t){function e(e,n){var r;return void 0===n&&(n={}),r=t.call(this,e,n)||this,n.replay=void 0===n.replay||n.replay,r.on(e,"play",(function(t){return r.handlePlay(t)})),r.on(e,"pause",(function(t){return r.handlePause(t)})),n.replay&&r.on(e,"ended",(function(t){return r.handleEnded(t)})),r}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.player_.paused()?Ue(this.player_.play()):this.player_.pause()},n.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},n.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(t){var e=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",(function(t){return e.handleSeeked(t)}))},e}(ui);pi.prototype.controlText_="Play",je.registerComponent("PlayToggle",pi);var di=function(t,e){t=t<0?0:t;var n=Math.floor(t%60),r=Math.floor(t/60%60),i=Math.floor(t/3600),o=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=r=n="-"),(i=i>0||a>0?i+":":"")+(r=((i||o>=10)&&r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)},yi=di;function vi(t){yi=t}function mi(){yi=di}function gi(t,e){return void 0===e&&(e=t),yi(t,e)}var bi=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).on(e,["timeupdate","ended"],(function(t){return r.updateContent(t)})),r.updateTextNode_(),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){var e=this.buildCSSClass(),n=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control"}),r=it("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"Â "},{role:"presentation"});return n.appendChild(r),this.contentEl_=it("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},n.updateTextNode_=function(t){var e=this;void 0===t&&(t=0),t=gi(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(e.contentEl_){var t=e.textNode_;t&&e.contentEl_.firstChild!==t&&(t=null,v.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),e.textNode_=document.createTextNode(e.formattedTime_),e.textNode_&&(t?e.contentEl_.replaceChild(e.textNode_,t):e.contentEl_.appendChild(e.textNode_))}})))},n.updateContent=function(t){},e}(je);bi.prototype.labelText_="Time",bi.prototype.controlText_="Time",je.registerComponent("TimeDisplay",bi);var _i=function(t){function e(){return t.apply(this,arguments)||this}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(t){var e;e=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(e)},e}(bi);_i.prototype.labelText_="Current Time",_i.prototype.controlText_="Current Time",je.registerComponent("CurrentTimeDisplay",_i);var wi=function(t){function e(e,n){var r,i=function(t){return r.updateContent(t)};return(r=t.call(this,e,n)||this).on(e,"durationchange",i),r.on(e,"loadstart",i),r.on(e,"loadedmetadata",i),r}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(t){var e=this.player_.duration();this.updateTextNode_(e)},e}(bi);wi.prototype.labelText_="Duration",wi.prototype.controlText_="Duration",je.registerComponent("DurationDisplay",wi);var Ti=function(t){function e(){return t.apply(this,arguments)||this}return Ae(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=t.prototype.createEl.call(this,"div"),r=t.prototype.createEl.call(this,"span",{textContent:"/"});return n.appendChild(r),e.appendChild(n),e},e}(je);je.registerComponent("TimeDivider",Ti);var ki=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).on(e,"durationchange",(function(t){return r.updateContent(t)})),r}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var e=t.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&e.insertBefore(it("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},n.updateContent=function(t){var e;"number"==typeof this.player_.duration()&&(e=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(e))},e}(bi);ki.prototype.labelText_="Remaining Time",ki.prototype.controlText_="Remaining Time",je.registerComponent("RemainingTimeDisplay",ki);var Ci=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).updateShowing(),r.on(r.player(),"durationchange",(function(t){return r.updateShowing(t)})),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=it("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(it("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"Â "})),this.contentEl_.appendChild(document.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(je);je.registerComponent("LiveDisplay",Ci);var Ei=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).updateLiveEdgeStatus(),r.player_.liveTracker&&(r.updateLiveEdgeStatusHandler_=function(t){return r.updateLiveEdgeStatus(t)},r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatusHandler_)),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=it("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},e}(ui);Ei.prototype.controlText_="Seek to live, currently playing live",je.registerComponent("SeekToLive",Ei);var Si=function(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))},ji=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).handleMouseDown_=function(t){return r.handleMouseDown(t)},r.handleMouseUp_=function(t){return r.handleMouseUp(t)},r.handleKeyDown_=function(t){return r.handleKeyDown(t)},r.handleClick_=function(t){return r.handleClick(t)},r.handleMouseMove_=function(t){return r.handleMouseMove(t)},r.update_=function(t){return r.update(t)},r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}Ae(e,t);var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(e,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),n.className=n.className+" vjs-slider",n=E({tabIndex:0},n),r=E({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),t.prototype.createEl.call(this,e,n,r)},n.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||H||t.preventDefault(),vt(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove_),this.on(e,"mouseup",this.handleMouseUp_),this.on(e,"touchmove",this.handleMouseMove_),this.on(e,"touchend",this.handleMouseUp_),this.handleMouseMove(t,!0)},n.handleMouseMove=function(t){},n.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;mt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var t=this;if(this.el_&&this.bar){var e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",(function(){var n=t.vertical()?"height":"width";t.bar.el().style[n]=(100*e).toFixed(2)+"%"}))),e}},n.getProgress=function(){return Number(Si(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(t){var e=_t(this.el_,t);return this.vertical()?e.y:e.x},n.handleKeyDown=function(e){Se.isEventKey(e,"Left")||Se.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Se.isEventKey(e,"Right")||Se.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){t.stopPropagation(),t.preventDefault()},n.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(je);je.registerComponent("Slider",ji);var Oi=function(t,e){return Si(t/e*100,0,100).toFixed(2)+"%"},Pi=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).partEls_=[],r.on(e,"progress",(function(t){return r.update(t)})),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=it("span",{className:"vjs-control-text"}),r=it("span",{textContent:this.localize("Loaded")}),i=document.createTextNode(": ");return this.percentageEl_=it("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(r),n.appendChild(i),n.appendChild(this.percentageEl_),e},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},n.update=function(t){var e=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var t=e.player_.liveTracker,n=e.player_.buffered(),r=t&&t.isLive()?t.seekableEnd():e.player_.duration(),i=e.player_.bufferedEnd(),o=e.partEls_,a=Oi(i,r);e.percent_!==a&&(e.el_.style.width=a,ot(e.percentageEl_,a),e.percent_=a);for(var s=0;s<n.length;s++){var c=n.start(s),l=n.end(s),u=o[s];u||(u=e.el_.appendChild(it()),o[s]=u),u.dataset.start===c&&u.dataset.end===l||(u.dataset.start=c,u.dataset.end=l,u.style.left=Oi(c,i),u.style.width=Oi(l-c,i))}for(var h=o.length;h>n.length;h--)e.el_.removeChild(o[h-1]);o.length=n.length}))},e}(je);je.registerComponent("LoadProgressBar",Pi);var xi=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).update=ne(ee(Pe(r),r.update),te),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(t,e,n){var r=bt(this.el_),i=gt(this.player_.el()),o=t.width*e;if(i&&r){var a=t.left-i.left+o,s=t.width-o+(i.right-t.right),c=r.width/2;a<c?c+=c-a:s<c&&(c=s),c<0?c=0:c>r.width&&(c=r.width),c=Math.round(c),this.el_.style.right="-"+c+"px",this.write(n)}},n.write=function(t){ot(this.el_,t)},n.updateTime=function(t,e,n,r){var i=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var o,a=i.player_.duration();if(i.player_.liveTracker&&i.player_.liveTracker.isLive()){var s=i.player_.liveTracker.liveWindow(),c=s-e*s;o=(c<1?"":"-")+gi(c,s)}else o=gi(n,a);i.update(t,e,o),r&&r()}))},e}(je);je.registerComponent("TimeTooltip",xi);var Ai=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).update=ne(ee(Pe(r),r.update),te),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(t,e){var n=this.getChild("timeTooltip");if(n){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(t,e,r)}},e}(je);Ai.prototype.options_={children:[]},K||N||Ai.prototype.options_.children.push("timeTooltip"),je.registerComponent("PlayProgressBar",Ai);var Ri=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).update=ne(ee(Pe(r),r.update),te),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,e){var n=this,r=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,r,(function(){n.el_.style.left=t.width*e+"px"}))},e}(je);Ri.prototype.options_={children:["timeTooltip"]},je.registerComponent("MouseTimeDisplay",Ri);var Ii=5,Li=12,Ni=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).setEventHandlers_(),r}Ae(e,t);var n=e.prototype;return n.setEventHandlers_=function(){var t=this;this.update_=ee(this,this.update),this.update=ne(this.update_,te),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(e){return t.enableInterval_(e)},this.disableIntervalHandler_=function(e){return t.disableInterval_(e)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.on(document,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(t){"hidden"===document.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(t)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,te))},n.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&"ended"!==t.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(e){var n=this;if("hidden"!==document.visibilityState){var r=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var t=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),e=n.player_.liveTracker,i=n.player_.duration();e&&e.isLive()&&(i=n.player_.liveTracker.liveCurrentTime()),n.percent_!==r&&(n.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),n.percent_=r),n.currentTime_===t&&n.duration_===i||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[gi(t,i),gi(i,i)],"{1} of {2}")),n.currentTime_=t,n.duration_=i),n.bar&&n.bar.update(gt(n.el()),n.getProgress())})),r}},n.userSeek_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var t,e=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(t=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t},n.handleMouseDown=function(e){St(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},n.handleMouseMove=function(t,e){if(void 0===e&&(e=!1),St(t)){var n;e||this.player_.scrubbing()||this.player_.scrubbing(!0);var r=this.calculateDistance(t),i=this.player_.liveTracker;if(i&&i.isLive()){if(r>=.99)return void i.seekToLiveEdge();var o=i.seekableStart(),a=i.liveCurrentTime();if((n=o+r*i.liveWindow())>=a&&(n=a),n<=o&&(n=o+.1),n===1/0)return}else(n=r*this.player_.duration())===this.player_.duration()&&(n-=.1);this.userSeek_(n)}},n.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},n.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},n.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Ue(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+Ii)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-Ii)},n.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(e){var n=this.player_.liveTracker;if(Se.isEventKey(e,"Space")||Se.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(Se.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(Se.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Se(e))){e.preventDefault(),e.stopPropagation();var r=10*(Se.codes[Se(e)]-Se.codes[0])/100;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else Se.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Ii*Li)):Se.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Ii*Li)):t.prototype.handleKeyDown.call(this,e)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.off(document,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(ji);Ni.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},K||N||Ni.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),je.registerComponent("SeekBar",Ni);var Mi=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).handleMouseMove=ne(ee(Pe(r),r.handleMouseMove),te),r.throttledHandleMouseSeek=ne(ee(Pe(r),r.handleMouseSeek),te),r.handleMouseUpHandler_=function(t){return r.handleMouseUp(t)},r.handleMouseDownHandler_=function(t){return r.handleMouseDown(t)},r.enable(),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("playProgressBar"),r=e.getChild("mouseTimeDisplay");if(n||r){var i=e.el(),o=bt(i),a=_t(i,t).x;a=Si(a,0,1),r&&r.update(o,a),n&&n.update(o,e.getProgress())}}},n.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var t=this.getChild("seekBar");this.player_.scrubbing(!1),t.videoWasPlaying&&Ue(this.player_.play())}},n.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUpHandler_),this.on(e,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(t){var e=this.getChild("seekBar");e&&e.handleMouseUp(t),this.removeListenersAddedOnMousedownAndTouchstart()},e}(je);Mi.prototype.options_={children:["seekBar"]},je.registerComponent("ProgressControl",Mi);var Di=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).on(e,["enterpictureinpicture","leavepictureinpicture"],(function(t){return r.handlePictureInPictureChange(t)})),r.on(e,["disablepictureinpicturechanged","loadedmetadata"],(function(t){return r.handlePictureInPictureEnabledChange(t)})),r.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(function(){"audio"===e.currentType().substring(0,5)||e.audioPosterMode()||e.audioOnlyMode()?(e.isInPictureInPicture()&&e.exitPictureInPicture(),r.hide()):r.show()})),r.disable(),r}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){document.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},n.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(ui);Di.prototype.controlText_="Picture-in-Picture",je.registerComponent("PictureInPictureToggle",Di);var Fi=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).on(e,"fullscreenchange",(function(t){return r.handleFullscreenChange(t)})),!1===document[e.fsApi_.fullscreenEnabled]&&r.disable(),r}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(ui);Fi.prototype.controlText_="Fullscreen",je.registerComponent("FullscreenToggle",Fi);var Bi=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))},Hi=function(t){function e(){return t.apply(this,arguments)||this}return Ae(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return e.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),e},e}(je);je.registerComponent("VolumeLevel",Hi);var Vi=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).update=ne(ee(Pe(r),r.update),te),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(t,e,n,r){if(!n){var i=gt(this.el_),o=gt(this.player_.el()),a=t.width*e;if(!o||!i)return;var s=t.left-o.left+a,c=t.width-a+(o.right-t.right),l=i.width/2;s<l?l+=l-s:c<l&&(l=c),l<0?l=0:l>i.width&&(l=i.width),this.el_.style.right="-"+l+"px"}this.write(r+"%")},n.write=function(t){ot(this.el_,t)},n.updateVolume=function(t,e,n,r,i){var o=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(function(){o.update(t,e,n,r.toFixed(0)),i&&i()}))},e}(je);je.registerComponent("VolumeLevelTooltip",Vi);var Ui=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).update=ne(ee(Pe(r),r.update),te),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,e,n){var r=this,i=100*e;this.getChild("volumeLevelTooltip").updateVolume(t,e,n,i,(function(){n?r.el_.style.bottom=t.height*e+"px":r.el_.style.left=t.width*e+"px"}))},e}(je);Ui.prototype.options_={children:["volumeLevelTooltip"]},je.registerComponent("MouseVolumeLevelDisplay",Ui);var zi=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).on("slideractive",(function(t){return r.updateLastVolume_(t)})),r.on(e,"volumechange",(function(t){return r.updateARIAAttributes(t)})),e.ready((function(){return r.updateARIAAttributes()})),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(e){St(e)&&t.prototype.handleMouseDown.call(this,e)},n.handleMouseMove=function(t){var e=this.getChild("mouseVolumeLevelDisplay");if(e){var n=this.el(),r=gt(n),i=this.vertical(),o=_t(n,t);o=i?o.y:o.x,o=Si(o,0,1),e.update(r,o,i)}St(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))},e}(ji);zi.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},K||N||zi.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),zi.prototype.playerEvent="volumechange",je.registerComponent("VolumeBar",zi);var Wi=function(t){function e(e,n){var r;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||j(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),r=t.call(this,e,n)||this,Bi(Pe(r),e),r.throttledHandleMouseMove=ne(ee(Pe(r),r.handleMouseMove),te),r.handleMouseUpHandler_=function(t){return r.handleMouseUp(t)},r.on("mousedown",(function(t){return r.handleMouseDown(t)})),r.on("touchstart",(function(t){return r.handleMouseDown(t)})),r.on("mousemove",(function(t){return r.handleMouseMove(t)})),r.on(r.volumeBar,["focus","slideractive"],(function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")})),r.on(r.volumeBar,["blur","sliderinactive"],(function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")})),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},n.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUpHandler_),this.on(e,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(je);Wi.prototype.options_={children:["volumeBar"]},je.registerComponent("VolumeControl",Wi);var $i=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))},qi=function(t){function e(e,n){var r;return r=t.call(this,e,n)||this,$i(Pe(r),e),r.on(e,["loadstart","volumechange"],(function(t){return r.update(t)})),r}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(t){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var t=this.player_.volume(),e=3;K&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)lt(this.el_,"vjs-vol-"+n);ct(this.el_,"vjs-vol-"+e)},n.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},e}(ui);qi.prototype.controlText_="Mute",je.registerComponent("MuteToggle",qi);var Xi=function(t){function e(e,n){var r;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||j(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(r=t.call(this,e,n)||this).handleKeyPressHandler_=function(t){return r.handleKeyPress(t)},r.on(e,["loadstart"],(function(t){return r.volumePanelState_(t)})),r.on(r.muteToggle,"keyup",(function(t){return r.handleKeyPress(t)})),r.on(r.volumeControl,"keyup",(function(t){return r.handleVolumeControlKeyUp(t)})),r.on("keydown",(function(t){return r.handleKeyPress(t)})),r.on("mouseover",(function(t){return r.handleMouseOver(t)})),r.on("mouseout",(function(t){return r.handleMouseOut(t)})),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}Ae(e,t);var n=e.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},n.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(t){Se.isEventKey(t,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(t){this.addClass("vjs-hover"),Xt(document,"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(t){this.removeClass("vjs-hover"),Kt(document,"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(t){Se.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(je);Xi.prototype.options_={children:["muteToggle","volumeControl"]},je.registerComponent("VolumePanel",Xi);var Ki=function(t){function e(e,n){var r;return r=t.call(this,e,n)||this,n&&(r.menuButton_=n.menuButton),r.focusedChild_=-1,r.on("keydown",(function(t){return r.handleKeyDown(t)})),r.boundHandleBlur_=function(t){return r.handleBlur(t)},r.boundHandleTapClick_=function(t){return r.handleTapClick(t)},r}Ae(e,t);var n=e.prototype;return n.addEventListenerForItem=function(t){t instanceof je&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(t){t instanceof je&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},n.addItem=function(t){var e=this.addChild(t);e&&this.addEventListenerForItem(e)},n.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=it(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),Xt(n,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),n},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},n.handleBlur=function(t){var e=t.relatedTarget||document.activeElement;if(!this.children().some((function(t){return t.el()===e}))){var n=this.menuButton_;n&&n.buttonPressed_&&e!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var n=e.filter((function(e){return e.el()===t.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(t){Se.isEventKey(t,"Left")||Se.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(Se.isEventKey(t,"Right")||Se.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},n.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},n.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},n.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].hasClass("vjs-menu-title")&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(je);je.registerComponent("Menu",Ki);var Yi=function(t){function e(e,n){var r;void 0===n&&(n={}),(r=t.call(this,e,n)||this).menuButton_=new ui(e,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var i=ui.prototype.buildCSSClass();r.menuButton_.el_.className=r.buildCSSClass()+" "+i,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0;var o=function(t){return r.handleClick(t)};return r.handleMenuKeyUp_=function(t){return r.handleMenuKeyUp(t)},r.on(r.menuButton_,"tap",o),r.on(r.menuButton_,"click",o),r.on(r.menuButton_,"keydown",(function(t){return r.handleKeyDown(t)})),r.on(r.menuButton_,"mouseenter",(function(){r.addClass("vjs-hover"),r.menu.show(),Xt(document,"keyup",r.handleMenuKeyUp_)})),r.on("mouseleave",(function(t){return r.handleMouseLeave(t)})),r.on("keydown",(function(t){return r.handleSubmenuKeyDown(t)})),r}Ae(e,t);var n=e.prototype;return n.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},n.createMenu=function(){var t=new Ki(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=it("li",{className:"vjs-menu-title",textContent:be(this.options_.title),tabIndex:-1}),n=new je(this.player_,{el:e});t.addItem(n)}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)t.addItem(this.items[r]);return t},n.createItems=function(){},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+ui.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},n.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},n.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},n.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(t){this.removeClass("vjs-hover"),Kt(document,"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(t){Se.isEventKey(t,"Esc")||Se.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),Se.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(Se.isEventKey(t,"Up")||Se.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(t){(Se.isEventKey(t,"Esc")||Se.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},n.handleSubmenuKeyDown=function(t){(Se.isEventKey(t,"Esc")||Se.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Se.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),K&&nt())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(je);je.registerComponent("MenuButton",Yi);var Gi=function(t){function e(e,n){var r,i=n.tracks;if((r=t.call(this,e,n)||this).items.length<=1&&r.hide(),!i)return Pe(r);var o=ee(Pe(r),r.update);return i.addEventListener("removetrack",o),i.addEventListener("addtrack",o),i.addEventListener("labelchange",o),r.player_.on("ready",o),r.player_.on("dispose",(function(){i.removeEventListener("removetrack",o),i.removeEventListener("addtrack",o),i.removeEventListener("labelchange",o)})),r}return Ae(e,t),e}(Yi);je.registerComponent("TrackButton",Gi);var Ji=["Tab","Esc","Up","Down","Right","Left"],Qi=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).selectable=n.selectable,r.isSelected_=n.selected||!1,r.multiSelectable=n.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}Ae(e,t);var n=e.prototype;return n.createEl=function(e,n,r){this.nonIconControl=!0;var i=t.prototype.createEl.call(this,"li",E({className:"vjs-menu-item",tabIndex:-1},n),r);return i.replaceChild(it("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),i.querySelector(".vjs-icon-placeholder")),i},n.handleKeyDown=function(e){Ji.some((function(t){return Se.isEventKey(e,t)}))||t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){this.selected(!0)},n.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(ei);je.registerComponent("MenuItem",Qi);var Zi=function(t){function e(e,n){var r,i=n.track,o=e.textTracks();n.label=i.label||i.language||"Unknown",n.selected="showing"===i.mode,(r=t.call(this,e,n)||this).track=i,r.kinds=(n.kinds||[n.kind||r.track.kind]).filter(Boolean);var a,s=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.handleTracksChange.apply(Pe(r),e)},c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.handleSelectedLanguageChange.apply(Pe(r),e)};return e.on(["loadstart","texttrackchange"],s),o.addEventListener("change",s),o.addEventListener("selectedlanguagechange",c),r.on("dispose",(function(){e.off(["loadstart","texttrackchange"],s),o.removeEventListener("change",s),o.removeEventListener("selectedlanguagechange",c)})),void 0===o.onchange&&r.on(["tap","click"],(function(){if("object"!=typeof window.Event)try{a=new window.Event("change")}catch(t){}a||(a=document.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(a)})),r.handleTracksChange(),r}Ae(e,t);var n=e.prototype;return n.handleClick=function(e){var n=this.track,r=this.player_.textTracks();if(t.prototype.handleClick.call(this,e),r)for(var i=0;i<r.length;i++){var o=r[i];-1!==this.kinds.indexOf(o.kind)&&(o===n?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},n.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},n.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Qi);je.registerComponent("TextTrackMenuItem",Zi);var to=function(t){function e(e,n){return n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,e,n)||this}Ae(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,r=0,i=e.length;r<i;r++){var o=e[r];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,r=0,i=e.length;r<i;r++){var o=e[r];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Zi);je.registerComponent("OffTextTrackMenuItem",to);var eo=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.textTracks(),t.call(this,e,n)||this}return Ae(e,t),e.prototype.createItems=function(t,e){var n;void 0===t&&(t=[]),void 0===e&&(e=Zi),this.label_&&(n=this.label_+" off"),t.push(new to(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var o=r[i];if(this.kinds_.indexOf(o.kind)>-1){var a=new e(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),t.push(a)}}return t},e}(Gi);je.registerComponent("TextTrackButton",eo);var no=function(t){function e(e,n){var r,i=n.track,o=n.cue,a=e.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=a&&a<o.endTime,(r=t.call(this,e,n)||this).track=i,r.cue=o,r}return Ae(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(Qi);je.registerComponent("ChaptersTrackMenuItem",no);var ro=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,r)||this).selectCurrentItem_=function(){i.items.forEach((function(t){t.selected(i.track_.activeCues[0]===t.cue)}))},i}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},n.update=function(e){if(!e||!e.track||"chapters"===e.track.kind){var n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),t.prototype.update.call(this)):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&t.prototype.update.call(this)}},n.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},n.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var n=t[e];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(be(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,r=e.length;n<r;n++){var i=e[n],o=new no(this.player_,{track:this.track_,cue:i});t.push(o)}return t},e}(eo);ro.prototype.kind_="chapters",ro.prototype.controlText_="Chapters",je.registerComponent("ChaptersButton",ro);var io=function(t){function e(e,n,r){var i;i=t.call(this,e,n,r)||this;var o=e.textTracks(),a=ee(Pe(i),i.handleTracksChange);return o.addEventListener("change",a),i.on("dispose",(function(){o.removeEventListener("change",a)})),i}Ae(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,r=0,i=e.length;r<i;r++){var o=e[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(eo);io.prototype.kind_="descriptions",io.prototype.controlText_="Descriptions",je.registerComponent("DescriptionsButton",io);var oo=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(eo);oo.prototype.kind_="subtitles",oo.prototype.controlText_="Subtitles",je.registerComponent("SubtitlesButton",oo);var ao=function(t){function e(e,n){var r;return n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(r=t.call(this,e,n)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+n.kind+" settings dialog"),r}return Ae(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Zi);je.registerComponent("CaptionSettingsMenuItem",ao);var so=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new ao(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(eo);so.prototype.kind_="captions",so.prototype.controlText_="Captions",je.registerComponent("CaptionsButton",so);var co=function(t){function e(){return t.apply(this,arguments)||this}return Ae(e,t),e.prototype.createEl=function(e,n,r){var i=t.prototype.createEl.call(this,e,n,r),o=i.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(o.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(it("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),i},e}(Zi);je.registerComponent("SubsCapsMenuItem",co);var lo=function(t){function e(e,n){var r;return void 0===n&&(n={}),(r=t.call(this,e,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(be(r.label_)),r}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new ao(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,co)},e}(eo);lo.prototype.kinds_=["captions","subtitles"],lo.prototype.controlText_="Subtitles",je.registerComponent("SubsCapsButton",lo);var uo=function(t){function e(e,n){var r,i=n.track,o=e.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled,(r=t.call(this,e,n)||this).track=i,r.addClass("vjs-"+i.kind+"-menu-item");var a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.handleTracksChange.apply(Pe(r),e)};return o.addEventListener("change",a),r.on("dispose",(function(){o.removeEventListener("change",a)})),r}Ae(e,t);var n=e.prototype;return n.createEl=function(e,n,r){var i=t.prototype.createEl.call(this,e,n,r),o=i.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(o.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(it("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i},n.handleClick=function(e){if(t.prototype.handleClick.call(this,e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var n=this.player_.audioTracks(),r=0;r<n.length;r++){var i=n[r];i!==this.track&&(i.enabled=i===this.track)}},n.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Qi);je.registerComponent("AudioTrackMenuItem",uo);var ho=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.audioTracks(),t.call(this,e,n)||this}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++){var r=e[n];t.push(new uo(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return t},e}(Gi);ho.prototype.controlText_="Audio Track",je.registerComponent("AudioTrackButton",ho);var fo=function(t){function e(e,n){var r,i=n.rate,o=parseFloat(i,10);return n.label=i,n.selected=o===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,(r=t.call(this,e,n)||this).label=i,r.rate=o,r.on(e,"ratechange",(function(t){return r.update(t)})),r}Ae(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Qi);fo.prototype.contentElType="button",je.registerComponent("PlaybackRateMenuItem",fo);var po=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).menuButton_.el_.setAttribute("aria-describedby",r.labelElId_),r.updateVisibility(),r.updateLabel(),r.on(e,"loadstart",(function(t){return r.updateVisibility(t)})),r.on(e,"ratechange",(function(t){return r.updateLabel(t)})),r.on(e,"playbackrateschange",(function(t){return r.handlePlaybackRateschange(t)})),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=it("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e},n.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var t=this.playbackRates(),e=[],n=t.length-1;n>=0;n--)e.push(new fo(this.player(),{rate:t[n]+"x"}));return e},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(t){var e=this.player().playbackRate(),n=this.playbackRates(),r=(n.indexOf(e)+1)%n.length;this.player().playbackRate(n[r])},n.handlePlaybackRateschange=function(t){this.update()},n.playbackRates=function(){var t=this.player();return t.playbackRates&&t.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(Yi);po.prototype.controlText_="Playback Rate",je.registerComponent("PlaybackRateMenuButton",po);var yo=function(t){function e(){return t.apply(this,arguments)||this}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(e,n,r){return void 0===e&&(e="div"),void 0===n&&(n={}),void 0===r&&(r={}),n.className||(n.className=this.buildCSSClass()),t.prototype.createEl.call(this,e,n,r)},e}(je);je.registerComponent("Spacer",yo);var vo=function(t){function e(){return t.apply(this,arguments)||this}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"Â "})},e}(yo);je.registerComponent("CustomControlSpacer",vo);var mo=function(t){function e(){return t.apply(this,arguments)||this}return Ae(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(je);mo.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in document&&mo.prototype.options_.children.splice(mo.prototype.options_.children.length-1,0,"pictureInPictureToggle"),je.registerComponent("ControlBar",mo);var go=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).on(e,"error",(function(t){return r.open(t)})),r}Ae(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(qe);go.prototype.options_=_({},qe.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),je.registerComponent("ErrorDisplay",go);var bo="vjs-text-track-settings",_o=["#000","Black"],wo=["#00F","Blue"],To=["#0FF","Cyan"],ko=["#0F0","Green"],Co=["#F0F","Magenta"],Eo=["#F00","Red"],So=["#FFF","White"],jo=["#FF0","Yellow"],Oo=["1","Opaque"],Po=["0.5","Semi-Transparent"],xo=["0","Transparent"],Ao={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[_o,So,Eo,ko,wo,jo,Co,To]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Oo,Po,xo]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[So,_o,Eo,ko,wo,jo,Co,To]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Oo,Po]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[xo,Po,Oo]}};function Ro(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}function Io(t,e){return Ro(t.options[t.options.selectedIndex].value,e)}function Lo(t,e,n){if(e)for(var r=0;r<t.options.length;r++)if(Ro(t.options[r].value,n)===e){t.selectedIndex=r;break}}Ao.windowColor.options=Ao.backgroundColor.options;var No=function(t){function e(e,n){var r;return n.temporary=!1,(r=t.call(this,e,n)||this).updateDisplay=r.updateDisplay.bind(Pe(r)),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=it("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",(function(){r.saveSettings(),r.close()})),r.on(r.$(".vjs-default-button"),"click",(function(){r.setDefaults(),r.updateDisplay()})),k(Ao,(function(t){r.on(r.$(t.selector),"change",r.updateDisplay)})),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}Ae(e,t);var n=e.prototype;return n.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},n.createElSelect_=function(t,e,n){var r=this;void 0===e&&(e=""),void 0===n&&(n="label");var i=Ao[t],o=i.id.replace("%s",this.id_),a=[e,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(i.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(i.options.map((function(t){var e=o+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+a+" "+e+'">',r.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},n.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return it("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return it("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var t=this.localize("restore all settings to the default values");return it("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var t=this;return C(Ao,(function(e,n,r){var i=Io(t.$(n.selector),n.parser);return void 0!==i&&(e[r]=i),e}),{})},n.setValues=function(t){var e=this;k(Ao,(function(n,r){Lo(e.$(n.selector),t[r],n.parser)}))},n.setDefaults=function(){var t=this;k(Ao,(function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n}))},n.restoreSettings=function(){var t;try{t=JSON.parse(window.localStorage.getItem(bo))}catch(t){v.warn(t)}t&&this.setValues(t)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?window.localStorage.setItem(bo,JSON.stringify(t)):window.localStorage.removeItem(bo)}catch(t){v.warn(t)}}},n.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},e}(qe);je.registerComponent("TextTrackSettings",No);var Mo=function(t){function e(e,n){var r,i=n.ResizeObserver||window.ResizeObserver;null===n.ResizeObserver&&(i=!1);var o=we({createEl:!i,reportTouchActivity:!1},n);return(r=t.call(this,e,o)||this).ResizeObserver=n.ResizeObserver||window.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=re((function(){r.resizeHandler()}),100,!1,Pe(r)),i?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(e.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var t=r.debouncedHandler_,e=r.unloadListener_=function(){Kt(this,"resize",t),Kt(this,"unload",e),e=null};Xt(r.el_.contentWindow,"unload",e),Xt(r.el_.contentWindow,"resize",t)}},r.one("load",r.loadListener_)),r}Ae(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(je);je.registerComponent("ResizeManager",Mo);var Do={trackingThreshold:20,liveTolerance:15},Fo=function(t){function e(e,n){var r,i=we(Do,n,{createEl:!1});return(r=t.call(this,e,i)||this).handleVisibilityChange_=function(t){return r.handleVisibilityChange(t)},r.trackLiveHandler_=function(){return r.trackLive_()},r.handlePlay_=function(t){return r.handlePlay(t)},r.handleFirstTimeupdate_=function(t){return r.handleFirstTimeupdate(t)},r.handleSeeked_=function(t){return r.handleSeeked(t)},r.seekToLiveEdge_=function(t){return r.seekToLiveEdge(t)},r.reset_(),r.on(r.player_,"durationchange",(function(t){return r.handleDurationchange(t)})),r.on(r.player_,"canplay",(function(){return r.toggleTracking()})),U&&"hidden"in document&&"visibilityState"in document&&r.on(document,"visibilitychange",r.handleVisibilityChange_),r}Ae(e,t);var n=e.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(document.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var t=this.player_.seekable();if(t&&t.length){var e=Number(window.performance.now().toFixed(4)),n=-1===this.lastTime_?0:(e-this.lastTime_)/1e3;this.lastTime_=e,this.pastSeekEnd_=this.pastSeekEnd()+n;var r=this.liveCurrentTime(),i=this.player_.currentTime(),o=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-i)>this.options_.liveTolerance;this.timeupdateSeen_&&r!==1/0||(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,te),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&t>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.end(n));return e.length?e.sort()[e.length-1]:1/0},n.seekableStart=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.start(n));return e.length?e.sort()[0]:0},n.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?0:t-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var t=this.seekableEnd();return-1!==this.lastSeekEnd_&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(document,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},e}(je);je.registerComponent("LiveTracker",Fo);var Bo,Ho=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var n=t.$$("source"),r=[],i="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var a=n[o].src;a&&-1===r.indexOf(a)&&r.push(a)}return!!r.length&&(1===r.length&&(i=r[0]),t.triggerSourceset(i),!0)},Vo=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=document.createElement(this.nodeName.toLowerCase());e.innerHTML=t;for(var n=document.createDocumentFragment();e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",window.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Uo=function(t,e){for(var n={},r=0;r<t.length&&!((n=Object.getOwnPropertyDescriptor(t[r],e))&&n.set&&n.get);r++);return n.enumerable=!0,n.configurable=!0,n},zo=function(t){return Uo([t.el(),window.HTMLMediaElement.prototype,window.Element.prototype,Vo],"innerHTML")},Wo=function(t){var e=t.el();if(!e.resetSourceWatch_){var n={},r=zo(t),i=function(n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=n.apply(e,i);return Ho(t),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(t){e[t]&&(n[t]=e[t],e[t]=i(n[t]))})),Object.defineProperty(e,"innerHTML",we(r,{set:i(r.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(n).forEach((function(t){e[t]=n[t]})),Object.defineProperty(e,"innerHTML",r)},t.one("sourceset",e.resetSourceWatch_)}},$o=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?ln(window.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return window.Element.prototype.setAttribute.call(this,"src",t),t}}),qo=function(t){return Uo([t.el(),window.HTMLMediaElement.prototype,$o],"src")},Xo=function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var n=qo(t),r=e.setAttribute,i=e.load;Object.defineProperty(e,"src",we(n,{set:function(r){var i=n.set.call(e,r);return t.triggerSourceset(e.src),i}})),e.setAttribute=function(n,i){var o=r.call(e,n,i);return/src/i.test(n)&&t.triggerSourceset(e.src),o},e.load=function(){var n=i.call(e);return Ho(t)||(t.triggerSourceset(""),Wo(t)),n},e.currentSrc?t.triggerSourceset(e.currentSrc):Ho(t)||Wo(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=i,e.setAttribute=r,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}}}},Ko=function(t,e,n,r){void 0===r&&(r=!0);var i=function(n){return Object.defineProperty(t,e,{value:n,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var t=n();return i(t),t}};return r&&(o.set=i),Object.defineProperty(t,e,o)},Yo=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;var i=e.source,o=!1;if(r.featuresVideoFrameCallback=r.featuresVideoFrameCallback&&"VIDEO"===r.el_.tagName,i&&(r.el_.currentSrc!==i.src||e.tag&&3===e.tag.initNetworkState_)?r.setSource(i):r.handleLateInit_(r.el_),e.enableSourceset&&r.setupSourcesetHandling_(),r.isScrubbing_=!1,r.el_.hasChildNodes()){for(var a=r.el_.childNodes,s=a.length,c=[];s--;){var l=a[s];"track"===l.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(l),r.remoteTextTracks().addTrack(l.track),r.textTracks().addTrack(l.track),o||r.el_.hasAttribute("crossorigin")||!hn(l.src)||(o=!0)):c.push(l))}for(var u=0;u<c.length;u++)r.el_.removeChild(c[u])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&o&&v.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),r.restoreMetadataTracksInIOSNativePlayer_(),($||X||D)&&!0===e.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}Ae(e,t);var n=e.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){Xo(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),n=function(){t=[];for(var n=0;n<e.length;n++){var r=e[n];"metadata"===r.kind&&t.push({track:r,storedMode:r.mode})}};n(),e.addEventListener("change",n),this.on("dispose",(function(){return e.removeEventListener("change",n)}));var r=function n(){for(var r=0;r<t.length;r++){var i=t[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){e.removeEventListener("change",n),e.removeEventListener("change",r),e.addEventListener("change",r)})),this.on("webkitendfullscreen",(function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",r)}))},n.overrideNative_=function(t,e){var n=this;if(e===this["featuresNative"+t+"Tracks"]){var r=t.toLowerCase();this[r+"TracksListeners_"]&&Object.keys(this[r+"TracksListeners_"]).forEach((function(t){n.el()[r+"Tracks"].removeEventListener(t,n[r+"TracksListeners_"][t])})),this["featuresNative"+t+"Tracks"]=!e,this[r+"TracksListeners_"]=null,this.proxyNativeTracksForType_(r)}},n.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},n.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},n.proxyNativeTracksForType_=function(t){var e=this,n=Bn[t],r=this.el()[n.getterName],i=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var o={change:function(n){var r={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(r),"text"===t&&e[Hn.remoteText.getterName]().trigger(r)},addtrack:function(t){i.addTrack(t.track)},removetrack:function(t){i.removeTrack(t.track)}},a=function(){for(var t=[],e=0;e<i.length;e++){for(var n=!1,o=0;o<r.length;o++)if(r[o]===i[e]){n=!0;break}n||t.push(i[e])}for(;t.length;)i.removeTrack(t.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(t){var n=o[t];r.addEventListener(t,n),e.on("dispose",(function(e){return r.removeEventListener(t,n)}))})),this.on("loadstart",a),this.on("dispose",(function(t){return e.off("loadstart",a)}))}},n.proxyNativeTracks_=function(){var t=this;Bn.names.forEach((function(e){t.proxyNativeTracksForType_(e)}))},n.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var n=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(n,t),e.disposeMediaElement(t),t=n}else{t=document.createElement("video");var r=we({},this.options_.tag&&ft(this.options_.tag));$&&!0===this.options_.nativeControlsForTouch||delete r.controls,ht(t,E(r,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&dt(t,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var i=["loop","muted","playsinline","autoplay"],o=0;o<i.length;o++){var a=i[o],s=this.options_[a];void 0!==s&&(s?dt(t,a,a):yt(t,a),t[a]=s)}return t},n.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var r=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",r),e||this.trigger("loadstart")}))}var i=["loadstart"];i.push("loadedmetadata"),t.readyState>=2&&i.push("loadeddata"),t.readyState>=3&&i.push("canplay"),t.readyState>=4&&i.push("canplaythrough"),this.ready((function(){i.forEach((function(t){this.trigger(t)}),this)}))}},n.setScrubbing=function(t){this.isScrubbing_=t},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&Y?this.el_.fastSeek(t):this.el_.currentTime=t}catch(t){v(t,"Video is not ready. (Video.js)")}},n.duration=function(){var t=this;if(this.el_.duration===1/0&&N&&H&&0===this.el_.currentTime){var e=function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)}))}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=window.navigator&&window.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)Ue(this.el_.play()),this.setTimeout((function(){t.pause();try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}),0);else try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},n.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):t.prototype.requestVideoFrameCallback.call(this,e)},n.cancelVideoFrameCallback=function(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):t.prototype.cancelVideoFrameCallback.call(this,e)},n.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},n.reset=function(){e.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(t){this.el_.controls=!!t},n.addTextTrack=function(e,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,r):t.prototype.addTextTrack.call(this,e,n,r)},n.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var n=document.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n},n.addRemoteTextTrack=function(e,n){var r=t.prototype.addRemoteTextTrack.call(this,e,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},n.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)e!==n[r]&&e!==n[r].track||this.el().removeChild(n[r])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),window.performance&&"function"==typeof window.performance.now?t.creationTime=window.performance.now():window.performance&&window.performance.timing&&"number"==typeof window.performance.timing.navigationStart&&(t.creationTime=window.Date.now()-window.performance.timing.navigationStart),t},e}(Ar);Ko(Yo,"TEST_VID",(function(){if(tt()){var t=document.createElement("video"),e=document.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}})),Yo.isSupported=function(){try{Yo.TEST_VID.volume=.5}catch(t){return!1}return!(!Yo.TEST_VID||!Yo.TEST_VID.canPlayType)},Yo.canPlayType=function(t){return Yo.TEST_VID.canPlayType(t)},Yo.canPlaySource=function(t,e){return Yo.canPlayType(t.type)},Yo.canControlVolume=function(){try{var t=Yo.TEST_VID.volume;Yo.TEST_VID.volume=t/2+.1;var e=t!==Yo.TEST_VID.volume;return e&&K?(window.setTimeout((function(){Yo&&Yo.prototype&&(Yo.prototype.featuresVolumeControl=t!==Yo.TEST_VID.volume)})),!1):e}catch(t){return!1}},Yo.canMuteVolume=function(){try{var t=Yo.TEST_VID.muted;return Yo.TEST_VID.muted=!t,Yo.TEST_VID.muted?dt(Yo.TEST_VID,"muted","muted"):yt(Yo.TEST_VID,"muted","muted"),t!==Yo.TEST_VID.muted}catch(t){return!1}},Yo.canControlPlaybackRate=function(){if(N&&H&&V<58)return!1;try{var t=Yo.TEST_VID.playbackRate;return Yo.TEST_VID.playbackRate=t/2+.1,t!==Yo.TEST_VID.playbackRate}catch(t){return!1}},Yo.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(document.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(document.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(document.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(document.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},Yo.supportsNativeTextTracks=function(){return Y||K&&H},Yo.supportsNativeVideoTracks=function(){return!(!Yo.TEST_VID||!Yo.TEST_VID.videoTracks)},Yo.supportsNativeAudioTracks=function(){return!(!Yo.TEST_VID||!Yo.TEST_VID.audioTracks)},Yo.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(t){var e=t[0],n=t[1];Ko(Yo.prototype,e,(function(){return Yo[n]()}),!0)})),Yo.prototype.featuresVolumeControl=Yo.canControlVolume(),Yo.prototype.movingMediaElementInDOM=!K,Yo.prototype.featuresFullscreenResize=!0,Yo.prototype.featuresProgressEvents=!0,Yo.prototype.featuresTimeupdateEvents=!0,Yo.prototype.featuresVideoFrameCallback=!(!Yo.TEST_VID||!Yo.TEST_VID.requestVideoFrameCallback),Yo.patchCanPlayType=function(){M>=4&&!F&&!H&&(Bo=Yo.TEST_VID&&Yo.TEST_VID.constructor.prototype.canPlayType,Yo.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(t)?"maybe":Bo.call(this,t)})},Yo.unpatchCanPlayType=function(){var t=Yo.TEST_VID.constructor.prototype.canPlayType;return Bo&&(Yo.TEST_VID.constructor.prototype.canPlayType=Bo),t},Yo.patchCanPlayType(),Yo.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},Yo.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){Yo.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){Yo.prototype["set"+be(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(t){Yo.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(t){Yo.prototype["set"+be(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){Yo.prototype[t]=function(){return this.el_[t]()}})),Ar.withSourceHandlers(Yo),Yo.nativeSourceHandler={},Yo.nativeSourceHandler.canPlayType=function(t){try{return Yo.TEST_VID.canPlayType(t)}catch(t){return""}},Yo.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Yo.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=un(t.src);return Yo.nativeSourceHandler.canPlayType("video/"+n)}return""},Yo.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},Yo.nativeSourceHandler.dispose=function(){},Yo.registerSourceHandler(Yo.nativeSourceHandler),Ar.registerTech("Html5",Yo);var Go=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Jo={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Qo=["tiny","xsmall","small","medium","large","xlarge","huge"],Zo={};Qo.forEach((function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Zo[t]="vjs-layout-"+e}));var ta={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},ea=function(t){function n(r,i,o){var a;if(r.id=r.id||i.id||"vjs_video_"+Bt(),(i=E(n.getTagSettings(r),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof r.closest){var s=r.closest("[lang]");s&&s.getAttribute&&(i.language=s.getAttribute("lang"))}else for(var l=r;l&&1===l.nodeType;){if(ft(l).hasOwnProperty("lang")){i.language=l.getAttribute("lang");break}l=l.parentNode}if((a=t.call(this,null,i,o)||this).boundDocumentFullscreenChange_=function(t){return a.documentFullscreenChange_(t)},a.boundFullWindowOnEscKey_=function(t){return a.fullWindowOnEscKey(t)},a.boundUpdateStyleEl_=function(t){return a.updateStyleEl_(t)},a.boundApplyInitTime_=function(t){return a.applyInitTime_(t)},a.boundUpdateCurrentBreakpoint_=function(t){return a.updateCurrentBreakpoint_(t)},a.boundHandleTechClick_=function(t){return a.handleTechClick_(t)},a.boundHandleTechDoubleClick_=function(t){return a.handleTechDoubleClick_(t)},a.boundHandleTechTouchStart_=function(t){return a.handleTechTouchStart_(t)},a.boundHandleTechTouchMove_=function(t){return a.handleTechTouchMove_(t)},a.boundHandleTechTouchEnd_=function(t){return a.handleTechTouchEnd_(t)},a.boundHandleTechTap_=function(t){return a.handleTechTap_(t)},a.isFullscreen_=!1,a.log=m(a.id_),a.fsApi_=c,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,a.audioOnlyMode_=!1,a.audioPosterMode_=!1,a.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=r,a.tagAttributes=r&&ft(r),a.language(a.options_.language),i.languages){var u={};Object.getOwnPropertyNames(i.languages).forEach((function(t){u[t.toLowerCase()]=i.languages[t]})),a.languages_=u}else a.languages_=n.prototype.options_.languages;a.resetCache_(),a.poster_=i.poster||"",a.controls_=!!i.controls,r.controls=!1,r.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],r.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach((function(t){if("function"!=typeof a[t])throw new Error('plugin "'+t+'" does not exist')})),a.scrubbing_=!1,a.el_=a.createEl(),ye(Pe(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(Xt(document,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var h=we(a.options_);i.plugins&&Object.keys(i.plugins).forEach((function(t){a[t](i.plugins[t])})),i.debug&&a.debug(!0),a.options_.playerOptions=h,a.middleware_=[],a.playbackRates(i.playbackRates),a.initChildren(),a.isAudio("audio"===r.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),$&&a.addClass("vjs-touch-enabled"),K||a.addClass("vjs-workinghover"),n.players[a.id_]=Pe(a);var f=e.split(".")[0];return a.addClass("vjs-v"+f),a.userActive(!0),a.reportUserActivity(),a.one("play",(function(t){return a.listenForUserActivity_(t)})),a.on("stageclick",(function(t){return a.handleStageClick_(t)})),a.on("keydown",(function(t){return a.handleKeyDown(t)})),a.on("languagechange",(function(t){return a.handleLanguagechange(t)})),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a.on("ready",(function(){a.audioPosterMode(a.options_.audioPosterMode),a.audioOnlyMode(a.options_.audioOnlyMode)})),a}Ae(n,t);var r=n.prototype;return r.dispose=function(){var e=this;this.trigger("dispose"),this.off("dispose"),Kt(document,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Kt(document,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),n.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),qr(this),Vn.names.forEach((function(t){var n=Vn[t],r=e[n.getterName]();r&&r.off&&r.off()})),t.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},r.createEl=function(){var e,n=this.tag,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();r?e=this.el_=n.parentNode:i||(e=this.el_=t.prototype.createEl.call(this,"div"));var o=ft(n);if(i){for(e=this.el_=n,n=this.tag=document.createElement("video");e.children.length;)n.appendChild(e.firstChild);st(e,"video-js")||ct(e,"video-js"),e.appendChild(n),r=this.playerElIngest_=e,Object.keys(e).forEach((function(t){try{n[t]=e[t]}catch(t){}}))}if(n.setAttribute("tabindex","-1"),o.tabindex="-1",(U||H&&W)&&(n.setAttribute("role","application"),o.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach((function(t){i&&"class"===t||e.setAttribute(t,o[t]),i&&n.setAttribute(t,o[t])})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=e.player=this,this.addClass("vjs-paused"),!0!==window.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Mt("vjs-styles-dimensions");var a=Ot(".vjs-styles-defaults"),s=Ot("head");s.insertBefore(this.styleEl_,a?a.nextSibling:s.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var c=n.getElementsByTagName("a"),l=0;l<c.length;l++){var u=c.item(l);ct(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(e,n),at(n,e),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=e,e},r.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");"anonymous"===t||"use-credentials"===t?this.techCall_("setCrossOrigin",t):v.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"')},r.width=function(t){return this.dimension("width",t)},r.height=function(t){return this.dimension("height",t)},r.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e||"auto"===e)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(e);isNaN(r)?v.error('Improper value "'+e+'" supplied for for '+t):(this[n]=r,this.updateStyleEl_())},r.fluid=function(t){var e=this;if(void 0===t)return!!this.fluid_;this.fluid_=!!t,ae(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),se(this,(function(){e.on(["playerreset","resize"],e.boundUpdateStyleEl_)}))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},r.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},r.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},r.updateStyleEl_=function(){if(!0!==window.VIDEOJS_NO_DYNAMIC_STYLE){var t,e,n,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=r[1]/r[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*i,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),Dt(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+100*i+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(o>=0&&(s.width=o),a>=0&&(s.height=a))}},r.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var r=be(t),i=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==r&&this.tag&&(Ar.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var o=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(o=!1);var a={source:e,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Vn.names.forEach((function(t){var e=Vn[t];a[e.getterName]=n[e.privateName]})),E(a,this.options_[r]),E(a,this.options_[i]),E(a,this.options_[t.toLowerCase()]),this.tag&&(a.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);var s=Ar.getTech(t);if(!s)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new s(a),this.tech_.ready(ee(this,this.handleTechReady_),!0),We.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Go.forEach((function(t){n.on(n.tech_,t,(function(e){return n["handleTech"+be(t)+"_"](e)}))})),Object.keys(Jo).forEach((function(t){n.on(n.tech_,t,(function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Jo[t]+"_"].bind(n),event:e}):n["handleTech"+Jo[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",(function(t){return n.handleTechLoadStart_(t)})),this.on(this.tech_,"sourceset",(function(t){return n.handleTechSourceset_(t)})),this.on(this.tech_,"waiting",(function(t){return n.handleTechWaiting_(t)})),this.on(this.tech_,"ended",(function(t){return n.handleTechEnded_(t)})),this.on(this.tech_,"seeking",(function(t){return n.handleTechSeeking_(t)})),this.on(this.tech_,"play",(function(t){return n.handleTechPlay_(t)})),this.on(this.tech_,"firstplay",(function(t){return n.handleTechFirstPlay_(t)})),this.on(this.tech_,"pause",(function(t){return n.handleTechPause_(t)})),this.on(this.tech_,"durationchange",(function(t){return n.handleTechDurationChange_(t)})),this.on(this.tech_,"fullscreenchange",(function(t,e){return n.handleTechFullscreenChange_(t,e)})),this.on(this.tech_,"fullscreenerror",(function(t,e){return n.handleTechFullscreenError_(t,e)})),this.on(this.tech_,"enterpictureinpicture",(function(t){return n.handleTechEnterPictureInPicture_(t)})),this.on(this.tech_,"leavepictureinpicture",(function(t){return n.handleTechLeavePictureInPicture_(t)})),this.on(this.tech_,"error",(function(t){return n.handleTechError_(t)})),this.on(this.tech_,"posterchange",(function(t){return n.handleTechPosterChange_(t)})),this.on(this.tech_,"textdata",(function(t){return n.handleTechTextData_(t)})),this.on(this.tech_,"ratechange",(function(t){return n.handleTechRateChange_(t)})),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||at(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},r.unloadTech_=function(){var t=this;Vn.names.forEach((function(e){var n=Vn[e];t[n.privateName]=t[n.getterName]()})),this.textTracksJson_=We.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},r.tech=function(t){return void 0===t&&v.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},r.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},r.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},r.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},r.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},r.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var n,r=function(){var t=e.muted();e.muted(!0);var n=function(){e.muted(t)};e.playTerminatedQueue_.push(n);var r=e.play();if(Ve(r))return r.catch((function(t){throw n(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(t||""))}))};if("any"!==t||this.muted()?n="muted"!==t||this.muted()?this.play():r():Ve(n=this.play())&&(n=n.catch(r)),Ve(n))return n.then((function(){e.trigger({type:"autoplay-success",autoplay:t})})).catch((function(){e.trigger({type:"autoplay-failure",autoplay:t})}))}},r.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,n="";"string"!=typeof e&&(e=t.src,n=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=Jr(this,e)),this.cache_.source=we({},t,{src:e,type:n});for(var r=this.cache_.sources.filter((function(t){return t.src&&t.src===e})),i=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var c=ft(o[s]);i.push(c),c.src&&c.src===e&&a.push(c.src)}a.length&&!r.length?this.cache_.sources=i:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},r.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var n=function(t){return e.updateSourceCaches_(t)},r=this.currentSource().src,i=t.src;r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=function(){}),n(i),t.src||this.tech_.any(["sourceset","loadstart"],(function(t){if("sourceset"!==t.type){var n=e.techGet("currentSrc");e.lastSource_.tech=n,e.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},r.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},r.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},r.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},r.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime(),n=function n(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",n))};this.on("timeupdate",n)},r.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},r.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},r.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},r.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},r.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},r.handleTechFirstPlay_=function(){this.options_.starttime&&(v.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},r.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},r.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},r.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},r.handleTechClick_=function(t){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,t):this.paused()?Ue(this.play()):this.pause()))},r.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(e){return e.contains(t.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},r.handleTechTap_=function(){this.userActive(!this.userActive())},r.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},r.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},r.handleTechTouchEnd_=function(t){t.cancelable&&t.preventDefault()},r.handleStageClick_=function(){this.reportUserActivity()},r.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},r.documentFullscreenChange_=function(t){var e=t.target.player;if(!e||e===this){var n=this.el(),r=document[this.fsApi_.fullscreenElement]===n;!r&&n.matches?r=n.matches(":"+this.fsApi_.fullscreen):!r&&n.msMatchesSelector&&(r=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}},r.handleTechFullscreenChange_=function(t,e){var n=this;e&&(e.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",(function(){n.removeClass("vjs-ios-native-fs")}))),this.isFullscreen(e.isFullscreen))},r.handleTechFullscreenError_=function(t,e){this.trigger("fullscreenerror",e)},r.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},r.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},r.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},r.handleTechError_=function(){var t=this.tech_.error();this.error(t)},r.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},r.getCache=function(){return this.cache_},r.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},r.techCall_=function(t,e){this.ready((function(){if(t in Ur)return Br(this.middleware_,this.tech_,t,e);if(t in zr)return Hr(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw v(t),t}}),!0)},r.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Vr)return Fr(this.middleware_,this.tech_,t);if(t in zr)return Hr(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw v("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw v("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw v(e),e}}},r.play=function(){var t=this,e=this.options_.Promise||window.Promise;return e?new e((function(e){t.play_(e)})):this.play_()},r.play_=function(t){var e=this;void 0===t&&(t=Ue),this.playCallbacks_.push(t);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!Y&&!K||this.load());var r=this.techGet_("play");null===r?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)},r.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach((function(t){t()}))},r.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach((function(e){e(t)}))},r.pause=function(){this.techCall_("pause")},r.paused=function(){return!1!==this.techGet_("paused")},r.played=function(){return this.techGet_("played")||Ne(0,0)},r.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},r.currentTime=function(t){return void 0!==t?(t<0&&(t=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",t),void(this.cache_.initTime=0)):(this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},r.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},r.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},r.remainingTime=function(){return this.duration()-this.currentTime()},r.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},r.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=Ne(0,0)),t},r.bufferedPercent=function(){return Me(this.buffered(),this.duration())},r.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},r.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},r.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},r.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},r.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},r.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},r.isFullscreen=function(t){if(void 0!==t){var e=this.isFullscreen_;return this.isFullscreen_=Boolean(t),this.isFullscreen_!==e&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},r.requestFullscreen=function(t){var e=this.options_.Promise||window.Promise;if(e){var n=this;return new e((function(e,r){function i(){n.off("fullscreenerror",a),n.off("fullscreenchange",o)}function o(){i(),e()}function a(t,e){i(),r(e)}n.one("fullscreenchange",o),n.one("fullscreenerror",a);var s=n.requestFullscreenHelper_(t);s&&(s.then(i,i),s.then(e,r))}))}return this.requestFullscreenHelper_()},r.requestFullscreenHelper_=function(t){var e,n=this;if(this.fsApi_.prefixed||(e=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(e=t)),this.fsApi_.requestFullscreen){var r=this.el_[this.fsApi_.requestFullscreen](e);return r&&r.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),r}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},r.exitFullscreen=function(){var t=this.options_.Promise||window.Promise;if(t){var e=this;return new t((function(t,n){function r(){e.off("fullscreenerror",o),e.off("fullscreenchange",i)}function i(){r(),t()}function o(t,e){r(),n(e)}e.one("fullscreenchange",i),e.one("fullscreenerror",o);var a=e.exitFullscreenHelper_();a&&(a.then(r,r),a.then(t,n))}))}return this.exitFullscreenHelper_()},r.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var e=document[this.fsApi_.exitFullscreen]();return e&&Ue(e.then((function(){return t.isFullscreen(!1)}))),e}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},r.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,Xt(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow="hidden",ct(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},r.fullWindowOnEscKey=function(t){Se.isEventKey(t,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},r.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Kt(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow=this.docOrigOverflow,lt(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},r.disablePictureInPicture=function(t){if(void 0===t)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},r.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},r.requestPictureInPicture=function(){if("pictureInPictureEnabled"in document&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},r.exitPictureInPicture=function(){if("pictureInPictureEnabled"in document)return document.exitPictureInPicture()},r.handleKeyDown=function(t){var e,n,r=this.options_.userActions;r&&r.hotkeys&&(e=this.el_.ownerDocument.activeElement,n=e.tagName.toLowerCase(),e.isContentEditable||("input"===n?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type):-1!==["textarea"].indexOf(n))||("function"==typeof r.hotkeys?r.hotkeys.call(this,t):this.handleHotkeys(t)))},r.handleHotkeys=function(t){var e=this.options_.userActions?this.options_.userActions.hotkeys:{},n=e.fullscreenKey,r=void 0===n?function(t){return Se.isEventKey(t,"f")}:n,i=e.muteKey,o=void 0===i?function(t){return Se.isEventKey(t,"m")}:i,a=e.playPauseKey,s=void 0===a?function(t){return Se.isEventKey(t,"k")||Se.isEventKey(t,"Space")}:a;if(r.call(this,t)){t.preventDefault(),t.stopPropagation();var c=je.getComponent("FullscreenToggle");!1!==document[this.fsApi_.fullscreenEnabled]&&c.prototype.handleClick.call(this,t)}else o.call(this,t)?(t.preventDefault(),t.stopPropagation(),je.getComponent("MuteToggle").prototype.handleClick.call(this,t)):s.call(this,t)&&(t.preventDefault(),t.stopPropagation(),je.getComponent("PlayToggle").prototype.handleClick.call(this,t))},r.canPlayType=function(t){for(var e,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],o=Ar.getTech(i);if(o||(o=je.getComponent(i)),o){if(o.isSupported()&&(e=o.canPlayType(t)))return e}else v.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},r.selectSource=function(t){var e=this,n=this.options_.techOrder.map((function(t){return[t,Ar.getTech(t)]})).filter((function(t){var e=t[0],n=t[1];return n?n.isSupported():(v.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),r=function(t,e,n){var r;return t.some((function(t){return e.some((function(e){if(r=n(t,e))return!0}))})),r},i=function(t){return function(e,n){return t(n,e)}},o=function(t,n){var r=t[0];if(t[1].canPlaySource(n,e.options_[r.toLowerCase()]))return{source:n,tech:r}};return(this.options_.sourceOrder?r(t,n,i(o)):r(n,t,o))||!1},r.handleSrc_=function(t,e){var n=this;if(void 0===t)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var r=Qr(t);if(r.length){if(this.changingSrc_=!0,e||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),Mr(this,r[0],(function(t,i){if(n.middleware_=i,e||(n.cache_.sources=r),n.updateSourceCaches_(t),n.src_(t))return r.length>1?n.handleSrc_(r.slice(1)):(n.changingSrc_=!1,n.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void n.triggerReady());Dr(i,n.tech_)})),this.options_.retryOnError&&r.length>1){var i=function(){n.error(null),n.handleSrc_(r.slice(1),!0)},o=function(){n.off("error",i)};this.one("error",i),this.one("playing",o),this.resetRetryOnError_=function(){n.off("error",i),n.off("playing",o)}}}else this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0)},r.src=function(t){return this.handleSrc_(t,!1)},r.src_=function(t){var e=this,n=this.selectSource([t]);return!n||(_e(n.tech,this.techName_)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready((function(){e.changingSrc_=!1})),!1))},r.load=function(){this.techCall_("load")},r.reset=function(){var t=this,e=this.options_.Promise||window.Promise;this.paused()||!e?this.doReset_():Ue(this.play().then((function(){return t.doReset_()})))},r.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),ae(this)&&this.trigger("playerreset")},r.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},r.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar||{},e=t.durationDisplay,n=t.remainingTimeDisplay;e&&e.updateContent(),n&&n.updateContent()},r.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},r.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},r.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},r.currentSource=function(){return this.cache_.source||{}},r.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},r.currentType=function(){return this.currentSource()&&this.currentSource().type||""},r.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},r.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)||!0===t&&this.options_.normalizeAutoplay?(this.options_.autoplay=t,this.manualAutoplay_("string"==typeof t?t:"play"),e=!1):this.options_.autoplay=!!t,e=void 0===e?this.options_.autoplay:e,this.tech_&&this.techCall_("setAutoplay",e)},r.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},r.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},r.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},r.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},r.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},r.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},r.error=function(t){var e=this;if(void 0===t)return this.error_||null;if(i("beforeerror").forEach((function(n){var r=n(e,t);S(r)&&!Array.isArray(r)||"string"==typeof r||"number"==typeof r||null===r?t=r:e.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&t&&4===t.code){var n=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),void this.one("loadstart",(function(){this.off(["click","touchstart"],n)}))}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new De(t),this.addClass("vjs-error"),v.error("(CODE:"+this.error_.code+" "+De.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),i("error").forEach((function(t){return t(e,e.error_)}))},r.reportUserActivity=function(t){this.userActivity_=!0},r.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},r.listenForUserActivity_=function(){var t,e,n,r=ee(this,this.reportUserActivity),i=function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,r())},o=function(){r(),this.clearInterval(t),t=this.setInterval(r,250)},a=function(e){r(),this.clearInterval(t)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",a),this.on("mouseleave",a);var s,c=this.getChild("controlBar");!c||K||N||(c.on("mouseenter",(function(t){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),c.on("mouseleave",(function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",r),this.on("keyup",r),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var t=this.options_.inactivityTimeout;t<=0||(s=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t))}}),250)},r.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},r.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},r.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},r.enableAudioOnlyUI_=function(){var t=this;this.addClass("vjs-audio-only-mode");var e=this.children(),n=this.getChild("ControlBar"),r=n&&n.currentHeight();e.forEach((function(e){e!==n&&e.el_&&!e.hasClass("vjs-hidden")&&(e.hide(),t.audioOnlyCache_.hiddenChildren.push(e))})),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(r),this.trigger("audioonlymodechange")},r.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach((function(t){return t.show()})),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},r.audioOnlyMode=function(t){var e=this;if("boolean"!=typeof t||t===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=t;var n=this.options_.Promise||window.Promise;if(n){if(t){var r=[];return this.isInPictureInPicture()&&r.push(this.exitPictureInPicture()),this.isFullscreen()&&r.push(this.exitFullscreen()),this.audioPosterMode()&&r.push(this.audioPosterMode(!1)),n.all(r).then((function(){return e.enableAudioOnlyUI_()}))}return n.resolve().then((function(){return e.disableAudioOnlyUI_()}))}t?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},r.enablePosterModeUI_=function(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},r.disablePosterModeUI_=function(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},r.audioPosterMode=function(t){var e=this;if("boolean"!=typeof t||t===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=t;var n=this.options_.Promise||window.Promise;return n?t?this.audioOnlyMode()?this.audioOnlyMode(!1).then((function(){e.enablePosterModeUI_()})):n.resolve().then((function(){e.enablePosterModeUI_()})):n.resolve().then((function(){e.disablePosterModeUI_()})):t?(this.audioOnlyMode()&&this.audioOnlyMode(!1),void this.enablePosterModeUI_()):void this.disablePosterModeUI_()},r.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},r.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},r.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t.track;if(e||(e=t),this.tech_)return this.tech_.removeRemoteTextTrack(e)},r.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},r.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},r.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},r.language=function(t){if(void 0===t)return this.language_;this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),ae(this)&&this.trigger("languagechange"))},r.languages=function(){return we(n.prototype.options_.languages,this.languages_)},r.toJSON=function(){var t=we(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var r=e[n];(r=we(r)).player=void 0,t.tracks[n]=r}return t},r.createModal=function(t,e){var n=this;(e=e||{}).content=t||"";var r=new qe(this,e);return this.addChild(r),r.on("dispose",(function(){n.removeChild(r)})),r.open(),r},r.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),n=0;n<Qo.length;n++){var r=Qo[n];if(e<=this.breakpoints_[r]){if(t===r)return;t&&this.removeClass(Zo[t]),this.addClass(Zo[r]),this.breakpoint_=r;break}}},r.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},r.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=E({},ta,t),this.updateCurrentBreakpoint_()),E(this.breakpoints_)},r.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},r.currentBreakpoint=function(){return this.breakpoint_},r.currentBreakpointClass=function(){return Zo[this.breakpoint_]||""},r.loadMedia=function(t,e){var n=this;if(t&&"object"==typeof t){this.reset(),this.cache_.media=we(t);var r=this.cache_.media,i=r.artwork,o=r.poster,a=r.src,s=r.textTracks;!i&&o&&(this.cache_.media.artwork=[{src:o,type:Gr(o)}]),a&&this.src(a),o&&this.poster(o),Array.isArray(s)&&s.forEach((function(t){return n.addRemoteTextTrack(t,!1)})),this.ready(e)}},r.getMedia=function(){if(!this.cache_.media){var t=this.poster(),e={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}}))};return t&&(e.poster=t,e.artwork=[{src:e.poster,type:Gr(e.poster)}]),e}return we(this.cache_.media)},n.getTagSettings=function(t){var e={sources:[],tracks:[]},n=ft(t),r=n["data-setup"];if(st(t,"vjs-fill")&&(n.fill=!0),st(t,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=Be(r||"{}"),o=i[0],a=i[1];o&&v.error(o),E(n,a)}if(E(e,n),t.hasChildNodes())for(var s=t.childNodes,c=0,l=s.length;c<l;c++){var u=s[c],h=u.nodeName.toLowerCase();"source"===h?e.sources.push(ft(u)):"track"===h&&e.tracks.push(ft(u))}return e},r.flexNotSupported_=function(){var t=document.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},r.debug=function(t){if(void 0===t)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},r.playbackRates=function(t){if(void 0===t)return this.cache_.playbackRates;Array.isArray(t)&&t.every((function(t){return"number"==typeof t}))&&(this.cache_.playbackRates=t,this.trigger("playbackrateschange"))},n}(je);Vn.names.forEach((function(t){var e=Vn[t];ea.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),ea.prototype.crossorigin=ea.prototype.crossOrigin,ea.players={};var na=window.navigator;ea.prototype.options_={techOrder:Ar.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:na&&(na.languages&&na.languages[0]||na.userLanguage||na.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){ea.prototype[t]=function(){return this.techGet_(t)}})),Go.forEach((function(t){ea.prototype["handleTech"+be(t)+"_"]=function(){return this.trigger(t)}})),je.registerComponent("Player",ea);var ra=b((function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,r)}t.exports=e}));function ia(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var oa=ia,aa=b((function(t){function e(n,r,i){return oa()?t.exports=e=Reflect.construct:t.exports=e=function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&ra(i,n.prototype),i},e.apply(null,arguments)}t.exports=e})),sa="plugin",ca="activePlugins_",la={},ua=function(t){return la.hasOwnProperty(t)},ha=function(t){return ua(t)?la[t]:void 0},fa=function(t,e){t[ca]=t[ca]||{},t[ca][e]=!0},pa=function(t,e,n){var r=(n?"before":"")+"pluginsetup";t.trigger(r,e),t.trigger(r+":"+e.name,e)},da=function(t,e){var n=function(){pa(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return fa(this,t),pa(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach((function(t){n[t]=e[t]})),n},ya=function(t,e){return e.prototype.name=t,function(){pa(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=aa(e,[this].concat(r));return this[t]=function(){return o},pa(this,o.getEventHash()),o}},va=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),ye(this),delete this.trigger,me(this,this.constructor.defaultState),fa(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),Yt(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[ca][t]=!1,this.player=this.state=null,e[t]=ya(t,la[t])},t.isBasic=function(e){var n="string"==typeof e?ha(e):e;return"function"==typeof n&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(e,n){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(ua(e))v.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(ea.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof n+".");return la[e]=n,e!==sa&&(t.isBasic(n)?ea.prototype[e]=da(e,n):ea.prototype[e]=ya(e,n)),n},t.deregisterPlugin=function(t){if(t===sa)throw new Error("Cannot de-register base plugin.");ua(t)&&(delete la[t],delete ea.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(la)),t.forEach((function(t){var n=ha(t);n&&((e=e||{})[t]=n)})),e},t.getPluginVersion=function(t){var e=ha(t);return e&&e.VERSION||""},t}();function ma(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ra(t,e)}va.getPlugin=ha,va.BASE_PLUGIN_NAME=sa,va.registerPlugin(sa,va),ea.prototype.usingPlugin=function(t){return!!this[ca]&&!0===this[ca][t]},ea.prototype.hasPlugin=function(t){return!!ua(t)};var ga=ma,ba=function(t,e){void 0===e&&(e={});var n=function(){t.apply(this,arguments)},r={};for(var i in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),r=e):"function"==typeof e&&(n=e),ga(n,t),t&&(n.super_=t),r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n},_a=function(t){return 0===t.indexOf("#")?t.slice(1):t};function wa(t,e,n){var r=wa.getPlayer(t);if(r)return e&&v.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var o="string"==typeof t?Ot("#"+_a(t)):t;if(!et(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");o.ownerDocument.defaultView&&o.ownerDocument.body.contains(o)||v.warn("The element supplied is not included in the DOM"),!0===(e=e||{}).restoreEl&&(e.restoreEl=(o.parentNode&&o.parentNode.hasAttribute("data-vjs-player")?o.parentNode:o).cloneNode(!0)),i("beforesetup").forEach((function(t){var n=t(o,we(e));S(n)&&!Array.isArray(n)?e=we(e,n):v.error("please return an object in beforesetup hooks")}));var a=je.getComponent("Player");return r=new a(o,e,n),i("setup").forEach((function(t){return t(r)})),r}if(wa.hooks_=r,wa.hooks=i,wa.hook=o,wa.hookOnce=s,wa.removeHook=a,!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&tt()){var Ta=Ot(".vjs-styles-defaults");if(!Ta){Ta=Mt("vjs-styles-defaults");var ka=Ot("head");ka&&ka.insertBefore(Ta,ka.firstChild),Dt(Ta,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}return It(1,wa),wa.VERSION=e,wa.options=ea.prototype.options_,wa.getPlayers=function(){return ea.players},wa.getPlayer=function(t){var e,n=ea.players;if("string"==typeof t){var r=_a(t),i=n[r];if(i)return i;e=Ot("#"+r)}else e=t;if(et(e)){var o=e,a=o.player,s=o.playerId;if(a||n[s])return a||n[s]}},wa.getAllPlayers=function(){return Object.keys(ea.players).map((function(t){return ea.players[t]})).filter(Boolean)},wa.players=ea.players,wa.getComponent=je.getComponent,wa.registerComponent=function(t,e){Ar.isTech(e)&&v.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),je.registerComponent.call(je,t,e)},wa.getTech=Ar.getTech,wa.registerTech=Ar.registerTech,wa.use=Nr,Object.defineProperty(wa,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(wa.middleware,"TERMINATOR",{value:Lr,writeable:!1,enumerable:!0}),wa.browser=G,wa.TOUCH_ENABLED=$,wa.extend=ba,wa.mergeOptions=we,wa.bind=ee,wa.registerPlugin=va.registerPlugin,wa.deregisterPlugin=va.deregisterPlugin,wa.plugin=function(t,e){return v.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),va.registerPlugin(t,e)},wa.getPlugins=va.getPlugins,wa.getPlugin=va.getPlugin,wa.getPluginVersion=va.getPluginVersion,wa.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),wa.options.languages=we(wa.options.languages,((n={})[t]=e,n)),wa.options.languages[t]},wa.log=v,wa.createLogger=m,wa.createTimeRange=wa.createTimeRanges=Ne,wa.formatTime=gi,wa.setFormatTime=vi,wa.resetFormatTime=mi,wa.parseUrl=cn,wa.isCrossOrigin=hn,wa.EventTarget=ie,wa.on=Xt,wa.one=Gt,wa.off=Kt,wa.trigger=Yt,wa.xhr=_n,wa.TextTrack=An,wa.AudioTrack=Rn,wa.VideoTrack=In,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){wa[t]=function(){return v.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),xt[t].apply(null,arguments)}})),wa.computedStyle=O,wa.dom=xt,wa.url=fn,wa.defineLazyProperty=Ko,wa.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"}),wa}()},596:(t,e,n)=>{var r;!function(){function i(t,e,n){return t.call.apply(t.bind,arguments)}function o(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function a(t,e,n){return(a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:o).apply(null,arguments)}var s=Date.now||function(){return+new Date};function c(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var l=!!window.FontFace;function u(t,e,n,r){if(e=t.c.createElement(e),n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return r&&e.appendChild(t.c.createTextNode(r)),e}function h(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,e,n){e=e||[],n=n||[];for(var r=t.className.split(/\s+/),i=0;i<e.length;i+=1){for(var o=!1,a=0;a<r.length;a+=1)if(e[i]===r[a]){o=!0;break}o||r.push(e[i])}for(e=[],i=0;i<r.length;i+=1){for(o=!1,a=0;a<n.length;a+=1)if(r[i]===n[a]){o=!0;break}o||e.push(r[i])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(t,e){for(var n=t.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==e)return!0;return!1}function y(t,e,n){function r(){s&&i&&o&&(s(a),s=null)}e=u(t,"link",{rel:"stylesheet",href:e,media:"all"});var i=!1,o=!0,a=null,s=n||null;l?(e.onload=function(){i=!0,r()},e.onerror=function(){i=!0,a=Error("Stylesheet failed to load"),r()}):setTimeout((function(){i=!0,r()}),0),h(t,"head",e)}function v(t,e,n,r){var i=t.c.getElementsByTagName("head")[0];if(i){var o=u(t,"script",{src:e}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&i.removeChild(o))},i.appendChild(o),setTimeout((function(){a||(a=!0,n&&n(Error("Script load timeout")))}),r||5e3),o}return null}function m(){this.a=0,this.c=null}function g(t){return t.a++,function(){t.a--,_(t)}}function b(t,e){t.c=e,_(t)}function _(t){0==t.a&&t.c&&(t.c(),t.c=null)}function w(t){this.a=t||"-"}function T(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function k(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var r=t[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?e.push("'"+r+"'"):e.push(r)}return e.join(",")}function C(t){return t.a+t.f}function E(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function S(t){var e=4,n="n",r=null;return t&&((r=t.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=t.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?e=7:/[1-9]00/.test(r[1])&&(e=parseInt(r[1].substr(0,1),10)))),n+e}function j(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new w("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function O(t){if(t.g){var e=d(t.f,t.a.c("wf","active")),n=[],r=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),p(t.f,n,r)}P(t,"inactive")}function P(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,C(n)):t.h[e]())}function x(){this.c={}}function A(t,e){this.c=t,this.f=e,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function R(t){h(t.c,"body",t.a)}function I(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+k(t.c)+";font-style:"+E(t)+";font-weight:"+t.f+"00;"}function L(t,e,n,r,i,o){this.g=t,this.j=e,this.a=r,this.c=n,this.f=i||3e3,this.h=o||void 0}function N(t,e,n,r,i,o,a){this.v=t,this.B=e,this.c=n,this.a=r,this.s=a||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new A(this.c,this.s),this.h=new A(this.c,this.s),this.j=new A(this.c,this.s),this.m=new A(this.c,this.s),t=I(t=new T(this.a.c+",serif",C(this.a))),this.g.a.style.cssText=t,t=I(t=new T(this.a.c+",sans-serif",C(this.a))),this.h.a.style.cssText=t,t=I(t=new T("serif",C(this.a))),this.j.a.style.cssText=t,t=I(t=new T("sans-serif",C(this.a))),this.m.a.style.cssText=t,R(this.g),R(this.h),R(this.j),R(this.m)}w.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},L.prototype.start=function(){var t=this.c.o.document,e=this,n=s(),r=new Promise((function(r,i){!function o(){s()-n>=e.f?i():t.fonts.load(function(t){return E(t)+" "+t.f+"00 300px "+k(t.c)}(e.a),e.h).then((function(t){1<=t.length?r():setTimeout(o,25)}),(function(){i()}))}()})),i=null,o=new Promise((function(t,n){i=setTimeout(n,e.f)}));Promise.race([o,r]).then((function(){i&&(clearTimeout(i),i=null),e.g(e.a)}),(function(){e.j(e.a)}))};var M={D:"serif",C:"sans-serif"},D=null;function F(){if(null===D){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);D=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return D}function B(t,e,n){for(var r in M)if(M.hasOwnProperty(r)&&e===t.f[M[r]]&&n===t.f[M[r]])return!0;return!1}function H(t){var e,n=t.g.a.offsetWidth,r=t.h.a.offsetWidth;(e=n===t.f.serif&&r===t.f["sans-serif"])||(e=F()&&B(t,n,r)),e?s()-t.A>=t.w?F()&&B(t,n,r)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?V(t,t.v):V(t,t.B):function(t){setTimeout(a((function(){H(this)}),t),50)}(t):V(t,t.v)}function V(t,e){setTimeout(a((function(){f(this.g.a),f(this.h.a),f(this.j.a),f(this.m.a),e(this.a)}),t),0)}function U(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}N.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),H(this)};var z=null;function W(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&p(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),P(t,"active")):O(t.a))}function $(t){this.j=t,this.a=new x,this.h=0,this.f=this.g=!0}function q(t,e,n,r,i){var o=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=i||null,s=r||{};if(0===n.length&&o)O(e.a);else{e.f+=n.length,o&&(e.j=o);var c,l=[];for(c=0;c<n.length;c++){var u=n[c],h=s[u.c],f=e.a,d=u;if(f.g&&p(f.f,[f.a.c("wf",d.c,C(d).toString(),"loading")]),P(f,"fontloading",d),f=null,null===z)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var y=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);z=d?42<parseInt(d[1],10):!y}else z=!1;f=z?new L(a(e.g,e),a(e.h,e),e.c,u,e.s,h):new N(a(e.g,e),a(e.h,e),e.c,u,e.s,t,h),l.push(f)}for(c=0;c<l.length;c++)l[c].start()}}),0)}function X(t,e){this.c=t,this.a=e}function K(t,e){this.c=t,this.a=e}function Y(t,e){this.c=t||G,this.a=[],this.f=[],this.g=e||""}U.prototype.g=function(t){var e=this.a;e.g&&p(e.f,[e.a.c("wf",t.c,C(t).toString(),"active")],[e.a.c("wf",t.c,C(t).toString(),"loading"),e.a.c("wf",t.c,C(t).toString(),"inactive")]),P(e,"fontactive",t),this.m=!0,W(this)},U.prototype.h=function(t){var e=this.a;if(e.g){var n=d(e.f,e.a.c("wf",t.c,C(t).toString(),"active")),r=[],i=[e.a.c("wf",t.c,C(t).toString(),"loading")];n||r.push(e.a.c("wf",t.c,C(t).toString(),"inactive")),p(e.f,r,i)}P(e,"fontinactive",t),W(this)},$.prototype.load=function(t){this.c=new c(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,n){var r=[],i=n.timeout;!function(t){t.g&&p(t.f,[t.a.c("wf","loading")]),P(t,"loading")}(e);r=function(t,e,n){var r,i=[];for(r in e)if(e.hasOwnProperty(r)){var o=t.c[r];o&&i.push(o(e[r],n))}return i}(t.a,n,t.c);var o=new U(t.c,e,i);for(t.h=r.length,e=0,n=r.length;e<n;e++)r[e].load((function(e,n,r){q(t,o,e,n,r)}))}(this,new j(this.c,t),t)},X.prototype.load=function(t){function e(){if(o["__mti_fntLst"+r]){var n,i=o["__mti_fntLst"+r](),a=[];if(i)for(var s=0;s<i.length;s++){var c=i[s].fontfamily;null!=i[s].fontStyle&&null!=i[s].fontWeight?(n=i[s].fontStyle+i[s].fontWeight,a.push(new T(c,n))):a.push(new T(c))}t(a)}else setTimeout((function(){e()}),50)}var n=this,r=n.a.projectId,i=n.a.version;if(r){var o=n.c.o;v(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+r+".js"+(i?"?v="+i:""),(function(i){i?t([]):(o["__MonotypeConfiguration__"+r]=function(){return n.a},e())})).id="__MonotypeAPIScript__"+r}else t([])},K.prototype.load=function(t){var e,n,r=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},a=new m;for(e=0,n=r.length;e<n;e++)y(this.c,r[e],g(a));var s=[];for(e=0,n=i.length;e<n;e++)if((r=i[e].split(":"))[1])for(var c=r[1].split(","),l=0;l<c.length;l+=1)s.push(new T(r[0],c[l]));else s.push(new T(r[0]));b(a,(function(){t(s,o)}))};var G="https://fonts.googleapis.com/css";function J(t){this.f=t,this.a=[],this.c={}}var Q={latin:"BESbswy","latin-ext":"Ã§Ã¶Ã¼ÄÅ",cyrillic:"Ð¹ÑÐ",greek:"Î±Î²Î£",khmer:"ááá",Hanuman:"ááá"},Z={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},et=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function nt(t,e){this.c=t,this.a=e}var rt={Arimo:!0,Cousine:!0,Tinos:!0};function it(t,e){this.c=t,this.a=e}function ot(t,e){this.c=t,this.f=e,this.a=[]}nt.prototype.load=function(t){var e=new m,n=this.c,r=new Y(this.a.api,this.a.text),i=this.a.families;!function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r].split(":");3==i.length&&t.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),t.a.push(i.join(o))}}(r,i);var o=new J(i);!function(t){for(var e=t.f.length,n=0;n<e;n++){var r=t.f[n].split(":"),i=r[0].replace(/\+/g," "),o=["n4"];if(2<=r.length){var a;if(a=[],s=r[1])for(var s,c=(s=s.split(",")).length,l=0;l<c;l++){var u;if((u=s[l]).match(/^[\w-]+$/))if(null==(h=et.exec(u.toLowerCase())))u="";else{if(u=null==(u=h[2])||""==u?"n":tt[u],null==(h=h[1])||""==h)h="4";else var h=Z[h]||(isNaN(h)?"4":h.substr(0,1));u=[u,h].join("")}else u="";u&&a.push(u)}0<a.length&&(o=a),3==r.length&&(a=[],0<(r=(r=r[2])?r.split(","):a).length&&(r=Q[r[0]])&&(t.c[i]=r))}for(t.c[i]||(r=Q[i])&&(t.c[i]=r),r=0;r<o.length;r+=1)t.a.push(new T(i,o[r]))}}(o),y(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],r=0;r<e;r++)n.push(t.a[r].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(r),g(e)),b(e,(function(){t(o.a,o.c,rt)}))},it.prototype.load=function(t){var e=this.a.id,n=this.c.o;e?v(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var r=[],i=0;i<e.length;i+=2)for(var o=e[i],a=e[i+1],s=0;s<a.length;s++)r.push(new T(o,a[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(r)}}),2e3):t([])},ot.prototype.load=function(t){var e=this.f.id,n=this.c.o,r=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var i=0,o=n.fonts.length;i<o;++i){var a=n.fonts[i];r.a.push(new T(a.name,S("font-weight:"+a.weight+";font-style:"+a.style)))}t(r.a)},v(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var at=new $(window);at.a.c.custom=function(t,e){return new K(e,t)},at.a.c.fontdeck=function(t,e){return new ot(e,t)},at.a.c.monotype=function(t,e){return new X(e,t)},at.a.c.typekit=function(t,e){return new it(e,t)},at.a.c.google=function(t,e){return new nt(e,t)};var st={load:a(at.load,at)};void 0===(r=function(){return st}.call(e,n,e,t))||(t.exports=r)}()}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{default:()=>_d,videoPlayer:()=>md,videoPlayers:()=>gd});var t={};n.r(t),n.d(t,{assign:()=>M});var e={};n.r(e),n.d(e,{sliceAndUnsetProperties:()=>B,sliceProperties:()=>F});var i={};n.r(i),n.d(i,{getElementPosition:()=>H,getPointerPosition:()=>V,isElementInViewport:()=>U,setPosition:()=>z});var o={};n.r(o),n.d(o,{camelize:()=>W,startsWith:()=>$});var a={};n.r(a),n.d(a,{filterAndAddTextTracks:()=>Fr,handleCldError:()=>Nr,isKeyInTransformation:()=>Dr});var s={};n.r(s),n.d(s,{applyWithProps:()=>Br});var c={};n.r(c),n.d(c,{groupBy:()=>Hr});var l={};n.r(l),n.d(l,{mixin:()=>Wr});var u={};n.r(u),n.d(u,{fontFace:()=>Xr});var h={};n.r(h),n.d(h,{playButton:()=>Kr});var f={};n.r(f),n.d(f,{CLASS_PREFIX:()=>ii,playerClassPrefix:()=>ai,setSkinClassPrefix:()=>li,skinClass:()=>si,skinClassPrefix:()=>ci});var p={};n.r(p),n.d(p,{normalizeAttributes:()=>pi});var d=n(146),y=n.n(d);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=_(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},b.apply(this,arguments)}function _(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=C(t);if(e){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function k(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(o,t);var e,n,r,i=T(o);function o(){return m(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"handleClick",value:function(t){b(C(o.prototype),"handleClick",this).call(this,t),this.player().currentTime(this.player().currentTime()+10)}},{key:"createEl",value:function(){return y().dom.createEl("button",{className:"vjs-control vjs-icon-skip-10-plus vjs-button"})}}])&&g(e.prototype,n),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(y().getComponent("ClickableComponent"));y().registerComponent("JumpForwardButton",E);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=x(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},P.apply(this,arguments)}function x(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=L(t);if(e){var i=L(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function I(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(o,t);var e,n,r,i=R(o);function o(){return j(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"handleClick",value:function(t){P(L(o.prototype),"handleClick",this).call(this,t),this.player().currentTime(this.player().currentTime()-10)}},{key:"createEl",value:function(){return y().dom.createEl("button",{className:"vjs-control vjs-icon-skip-10-min vjs-button"})}}])&&O(e.prototype,n),r&&O(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(y().getComponent("ClickableComponent"));y().registerComponent("JumpBackButton",N);function M(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object.assign?Object.assign.apply(Object,[t].concat(n)):(n.forEach((function(e){e&&Object.keys(e).forEach((function(n){var r=e[n];t[n]=r}))})),t)}function D(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return r.reduce((function(n,r){return Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r],e&&delete t[r]),n}),{})}function F(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return D.apply(void 0,[t,!1].concat(n))}function B(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return D.apply(void 0,[t,!0].concat(n))}function H(t){var e=t.getBoundingClientRect(),n=document.body,r=document.documentElement,i=window.pageYOffset||r.scrollTop||n.scrollTop,o=window.pageXOffset||r.scrollLeft||n.scrollLeft,a=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0,c=e.top+i-a,l=e.left+o-s;return{top:Math.round(c),left:Math.round(l)}}function V(t,e){var n={},r=H(t),i=t.offsetWidth,o=t.offsetHeight,a=r.top,s=r.left,c=e.pageY,l=e.pageX;return e.changedTouches&&(l=e.changedTouches[0].pageX,c=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-c+o)/o)),n.x=Math.max(0,Math.min(1,(l-s)/i)),n}function U(t,e){var n=e.fraction,r=H(t),i=r.left,o=r.top,a=t.offsetHeight,s=t.offsetWidth,c=i+s,l=o+a;return Math.max(0,Math.min(s,window.pageXOffset+window.innerWidth-i,c-window.pageXOffset))*Math.max(0,Math.min(s,window.pageYOffset+window.innerHeight-o,l-window.pageYOffset))/(s*a)>n}function z(t,e,n){t.style.left="".concat(e,"px"),t.style.top="".concat(n,"px")}function W(t){return t.replace(/[_.-](\w|$)/g,(function(t,e){return e.toUpperCase()}))}function $(t,e,n){if(String.prototype.startsWith)return t.startsWith(e,n);var r=r||0;return t.indexOf(e,r)===r}function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function X(t){return null!==t&&"object"===q(t)&&"[object Object]"===Object.prototype.toString.call(t)}function K(t){return t instanceof String||"string"==typeof t}function Y(t){return t instanceof Number||"number"==typeof t}function G(t){return"number"==typeof t&&t%1==0}function J(t){return"boolean"==typeof t}function Q(t){return"function"==typeof t}var Z={format:"jpg",resource_type:"video"},tt=["webm/vp9","mp4/h265","mp4"],et={resource_type:"video",type:"upload",transformation:[],sourceTransformation:{},sourceTypes:tt,recommendations:null,info:{},interactionAreas:{}},nt=RegExp("\\.(".concat(tt.join("|"),")$$")),rt=RegExp("https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)"),it={dash:["application/dash+xml"],hls:["application/x-mpegURL"],mpd:["application/dash+xml"],m3u8:["application/x-mpegURL"]},ot={hls:"m3u8",dash:"mpd"};function at(t){return"object"==typeof t&&null!==t}function st(t){let e="";return e="undefined"!=typeof window?btoa(encodeURI(decodeURI(t))):global.Buffer.from(t).toString("base64"),e.replace(/\+/g,"-").replace(/\//g,"_")}const ct={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or","*":"mul","/":"div","+":"add","-":"sub","^":"pow"},lt="res.cloudinary.com",ut={aspect_ratio:"ar",aspectRatio:"ar",current_page:"cp",currentPage:"cp",duration:"du",face_count:"fc",faceCount:"fc",height:"h",initial_aspect_ratio:"iar",initial_height:"ih",initial_width:"iw",initialAspectRatio:"iar",initialHeight:"ih",initialWidth:"iw",initial_duration:"idu",initialDuration:"idu",page_count:"pc",page_x:"px",page_y:"py",pageCount:"pc",pageX:"px",pageY:"py",tags:"tags",width:"w"},ht="(([0-9]*)\\.([0-9]+)|([0-9]+))([%pP])?",ft=RegExp(`^${ht}$`),pt=RegExp(`(${ht})\\.\\.(${ht})`),dt={font_weight:"normal",font_style:"normal",text_decoration:"none",text_align:"",stroke:"none"};function yt(t,e=/([^a-zA-Z0-9_.\-\/:]+)/g){return t.replace(e,(function(t){return t.split("").map((function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})).join("")}))}const vt=t=>t.replace(/[A-Z]/g,(t=>`_${t.toLowerCase()}`));class mt{constructor(t){this.options={},null!=t&&["resourceType","type","publicId","format"].forEach((e=>{var n;return this.options[e]=null!=(n=t[e])?n:t[vt(e)]}))}resourceType(t){return this.options.resourceType=t,this}type(t){return this.options.type=t,this}publicId(t){return this.options.publicId=t,this}getPublicId(){var t;return null!=(t=this.options.publicId)?t.replace(/\//g,":"):void 0}getFullPublicId(){return null!=this.options.format?this.getPublicId()+"."+this.options.format:this.getPublicId()}format(t){return this.options.format=t,this}toString(){let t=[];if(null==this.options.publicId)throw"Must supply publicId";return"image"!==this.options.resourceType&&t.push(this.options.resourceType),"upload"!==this.options.type&&t.push(this.options.type),t.push(this.getFullPublicId()),t.filter((t=>!!t)).join(":")}clone(){return new mt(this.options)}}const gt=mt;function bt(t){return null==t||"object"==typeof t&&0===Object.keys(t).length||"string"==typeof t&&0===t.trim().length}const _t=function(t){return null!=t&&!isNaN(parseFloat(t))};const wt=class extends gt{constructor(t){let e;super(t),e=["resourceType","resourceType","fontFamily","fontSize","fontWeight","fontStyle","textDecoration","textAlign","stroke","letterSpacing","lineSpacing","fontHinting","fontAntialiasing","text"],null!=t&&e.forEach((e=>{var n;return this.options[e]=null!=(n=t[e])?n:t[vt(e)]})),this.options.resourceType="text"}resourceType(t){throw"Cannot modify resourceType for text layers"}type(t){throw"Cannot modify type for text layers"}format(t){throw"Cannot modify format for text layers"}fontFamily(t){return this.options.fontFamily=t,this}fontSize(t){return this.options.fontSize=t,this}fontWeight(t){return this.options.fontWeight=t,this}fontStyle(t){return this.options.fontStyle=t,this}textDecoration(t){return this.options.textDecoration=t,this}textAlign(t){return this.options.textAlign=t,this}stroke(t){return this.options.stroke=t,this}letterSpacing(t){return this.options.letterSpacing=t,this}lineSpacing(t){return this.options.lineSpacing=t,this}fontHinting(t){return this.options.fontHinting=t,this}fontAntialiasing(t){return this.options.fontAntialiasing=t,this}text(t){return this.options.text=t,this}toString(){var t,e,n,r,i,o,a,s,c;if(a=this.textStyleIdentifier(),null!=this.options.publicId&&(n=this.getFullPublicId()),null!=this.options.text){if(t=!bt(n),e=!bt(a),t&&e||!t&&!e)throw"Must supply either style parameters or a public_id when providing text parameter in a text overlay/underlay, but not both!";for(r=/\$\([a-zA-Z]\w*\)/g,o=0,c=yt(this.options.text,/[,\/]/g),s="";i=r.exec(c);)s+=yt(c.slice(o,i.index)),s+=i[0],o=i.index+i[0].length;s+=yt(c.slice(o))}return[this.options.resourceType,a,n,s].filter((t=>!!t)).join(":")}textStyleIdentifier(){var t;if(t=[],"normal"!==this.options.fontWeight&&t.push(this.options.fontWeight),"normal"!==this.options.fontStyle&&t.push(this.options.fontStyle),"none"!==this.options.textDecoration&&t.push(this.options.textDecoration),t.push(this.options.textAlign),"none"!==this.options.stroke&&t.push(this.options.stroke),bt(this.options.letterSpacing)&&!_t(this.options.letterSpacing)||t.push("letter_spacing_"+this.options.letterSpacing),bt(this.options.lineSpacing)&&!_t(this.options.lineSpacing)||t.push("line_spacing_"+this.options.lineSpacing),bt(this.options.fontAntialiasing)||t.push("antialias_"+this.options.fontAntialiasing),bt(this.options.fontHinting)||t.push("hinting_"+this.options.fontHinting),!bt(t.filter((t=>!!t)))){if(bt(this.options.fontFamily))throw`Must supply fontFamily. ${t}`;if(bt(this.options.fontSize)&&!_t(this.options.fontSize))throw"Must supply fontSize."}return t.unshift(this.options.fontFamily,this.options.fontSize),t=t.filter((t=>!!t)).join("_")}};function Tt(t){const e=[];let n="";if(Object.keys(dt).forEach((n=>{let r=dt[n],i=t[n]||r;i!==r&&e.push(i)})),Object.keys(t).forEach((n=>{"letter_spacing"!==n&&"line_spacing"!==n||e.push(`${n}_${t[n]}`),"font_hinting"===n&&e.push(`${n.split("_").pop()}_${t[n]}`),"font_antialiasing"===n&&e.push(`antialias_${t[n]}`)})),t.hasOwnProperty("font_size")||!e||0===e.length){if(!t.font_size)throw"Must supply font_size for text in overlay/underlay";if(!t.font_family)throw"Must supply font_family for text in overlay/underlay";e.unshift(t.font_size),e.unshift(t.font_family),n=e.filter((t=>t)).join("_")}return n}function kt(t){if(t instanceof wt||t instanceof gt)return t.toString();let e="";if(at(t))if("fetch"===t.resource_type||null!=t.url)e=`fetch:${st(t.url)}`;else{let n=t.public_id,r=t.format,i=t.resource_type||"image",o=t.type||"upload",a=t.text,s=null,c=[];const l=!n||0===n.length;if(l||(n=n.replace(new RegExp("/","g"),":"),null!=r&&(n=`${n}.${r}`)),a&&0!==a.length||"text"===i){if(i="text",o=null,s=Tt(t),a&&a.length>=0){const t=!s;if(!l&&!t||l&&t)throw"Must supply either style parameters or a public_id when providing text parameter in a text overlay/underlay";let e=/\$\([a-zA-Z]\w*\)/g,n=0,r=yt(decodeURIComponent(a),/[,\/]/g);a="";for(let t=e.exec(r);t;t=e.exec(r))a+=yt(r.slice(n,t.index)),a+=t[0],n=t.index+t[0].length;a+=encodeURIComponent(r.slice(n))}}else{if(l)throw"Must supply public_id for resource_type layer_parameter";"subtitles"===i&&(s=Tt(t))}"image"!==i&&c.push(i),"upload"!==o&&c.push(o),c.push(s),c.push(n),c.push(a),e=c.filter((t=>t)).join(":")}else e=/^fetch:.+/.test(t)?`fetch:${st(t.substr(6))}`:t;return e}function Ct(t){if("string"!=typeof t||0===t.length||t.match(/^!.+!$/))return t?t.toString():t;t=String(t);const e=new RegExp("((\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*|\\^)(?=[ _]))","g");t=t.replace(e,(t=>ct[t]));const n="("+Object.keys(ut).join("|")+")",r=new RegExp(`(\\$_*[^_ ]+)|${n}`,"g");return(t=t.replace(r,(t=>ut[t]||t))).replace(/[ _]+/g,"_")}function Et(t){switch(!0){case null==t:return[];case Array.isArray(t):return t;default:return[t]}}function St(t){if(!at(t))return t;if("remote"===t.function_type){const e=st(t.source).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");return[t.function_type,e].join(":")}return[t.function_type,t.source].join(":")}function jt(t){switch(t&&t.constructor){case String:return pt.test(t)?t.split(".."):t;case Array:return[[t],t[t.length-1]];default:return[null,null]}}function Ot(t){const e=String(t).match(ft);if(e){const t=e[5]?"p":"";return`${e[1]||e[4]}${t}`}return t}function Pt(t){switch(t&&t.constructor){case Object:{let e="";return"codec"in t&&(e=t.codec,"profile"in t&&(e+=":"+t.profile,"level"in t&&(e+=":"+t.level))),e}case String:return t;default:return null}}class xt{constructor(t){this.expressions=[],null!=t&&this.expressions.push(xt.normalize(t))}static new(t){return new this(t)}static normalize(t){var e,n,r;return null==t?t:(t=String(t),"\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*|\\^","((\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*|\\^)(?=[ _]))",e=new RegExp("((\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*|\\^)(?=[ _]))","g"),t=t.replace(e,(t=>At[t])),n="("+Object.keys(Rt).join("|")+")",r=new RegExp(n,"g"),(t=t.replace(r,((e,n,r)=>"$"===t[r-1]?e:Rt[e]))).replace(/[ _]+/g,"_"))}serialize(){return xt.normalize(this.expressions.join("_"))}toString(){return this.serialize()}getParent(){return this.parent}setParent(t){return this.parent=t,this}predicate(t,e,n){return null!=At[e]&&(e=At[e]),this.expressions.push(`${t}_${e}_${n}`),this}and(){return this.expressions.push("and"),this}or(){return this.expressions.push("or"),this}then(){return this.getParent().if(this.toString())}height(t,e){return this.predicate("h",t,e)}width(t,e){return this.predicate("w",t,e)}aspectRatio(t,e){return this.predicate("ar",t,e)}pageCount(t,e){return this.predicate("pc",t,e)}faceCount(t,e){return this.predicate("fc",t,e)}value(t){return this.expressions.push(t),this}static variable(t,e){return new this(t).value(e)}static width(){return new this("width")}static height(){return new this("height")}static initialWidth(){return new this("initialWidth")}static initialHeight(){return new this("initialHeight")}static aspectRatio(){return new this("aspectRatio")}static initialAspectRatio(){return new this("initialAspectRatio")}static pageCount(){return new this("pageCount")}static faceCount(){return new this("faceCount")}static currentPage(){return new this("currentPage")}static tags(){return new this("tags")}static pageX(){return new this("pageX")}static pageY(){return new this("pageY")}}const At={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or","*":"mul","/":"div","+":"add","-":"sub","^":"pow"},Rt={aspect_ratio:"ar",aspectRatio:"ar",current_page:"cp",currentPage:"cp","preview:duration":"preview:duration",duration:"du",face_count:"fc",faceCount:"fc",height:"h",initial_aspect_ratio:"iar",initial_duration:"idu",initial_height:"ih",initial_width:"iw",initialAspectRatio:"iar",initialDuration:"idu",initialHeight:"ih",initialWidth:"iw",page_count:"pc",page_x:"px",page_y:"py",pageCount:"pc",pageX:"px",pageY:"py",tags:"tags",width:"w"},It=xt;const Lt=class extends It{constructor(t){super(t)}height(t,e){return this.predicate("h",t,e)}width(t,e){return this.predicate("w",t,e)}aspectRatio(t,e){return this.predicate("ar",t,e)}pageCount(t,e){return this.predicate("pc",t,e)}faceCount(t,e){return this.predicate("fc",t,e)}duration(t,e){return this.predicate("du",t,e)}initialDuration(t,e){return this.predicate("idu",t,e)}};"undefined"!=typeof window&&null!==window&&window.location&&window.location.protocol;var Nt="__lodash_hash_undefined__",Mt=9007199254740991,Dt="[object Arguments]",Ft="[object Boolean]",Bt="[object Date]",Ht="[object Function]",Vt="[object GeneratorFunction]",Ut="[object Map]",zt="[object Number]",Wt="[object Object]",$t="[object Promise]",qt="[object RegExp]",Xt="[object Set]",Kt="[object String]",Yt="[object Symbol]",Gt="[object WeakMap]",Jt="[object ArrayBuffer]",Qt="[object DataView]",Zt="[object Float32Array]",te="[object Float64Array]",ee="[object Int8Array]",ne="[object Int16Array]",re="[object Int32Array]",ie="[object Uint8Array]",oe="[object Uint8ClampedArray]",ae="[object Uint16Array]",se="[object Uint32Array]",ce=/\w*$/,le=/^\[object .+?Constructor\]$/,ue=/^(?:0|[1-9]\d*)$/,he={};he[Dt]=he["[object Array]"]=he[Jt]=he[Qt]=he[Ft]=he[Bt]=he[Zt]=he[te]=he[ee]=he[ne]=he[re]=he[Ut]=he[zt]=he[Wt]=he[qt]=he[Xt]=he[Kt]=he[Yt]=he[ie]=he[oe]=he[ae]=he[se]=!0,he["[object Error]"]=he[Ht]=he[Gt]=!1;var fe="object"==typeof global&&global&&global.Object===Object&&global,pe="object"==typeof self&&self&&self.Object===Object&&self,de=fe||pe||Function("return this")(),ye="object"==typeof exports&&exports&&!exports.nodeType&&exports,ve=ye&&"object"==typeof module&&module&&!module.nodeType&&module,me=ve&&ve.exports===ye;function ge(t,e){return t.set(e[0],e[1]),t}function be(t,e){return t.add(e),t}function _e(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function we(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!`${t}`}catch(t){}return e}function Te(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function ke(t,e){return function(n){return t(e(n))}}function Ce(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var Ee,Se=Array.prototype,je=Function.prototype,Oe=Object.prototype,Pe=de["__core-js_shared__"],xe=(Ee=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||""))?`Symbol(src)_1.${Ee}`:"",Ae=je.toString,Re=Oe.hasOwnProperty,Ie=Oe.toString,Le=RegExp(`^${Ae.call(Re).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")}$`),Ne=me?de.Buffer:void 0,Me=de.Symbol,De=de.Uint8Array,Fe=ke(Object.getPrototypeOf,Object),Be=Object.create,He=Oe.propertyIsEnumerable,Ve=Se.splice,Ue=Object.getOwnPropertySymbols,ze=Ne?Ne.isBuffer:void 0,We=ke(Object.keys,Object),$e=mn(de,"DataView"),qe=mn(de,"Map"),Xe=mn(de,"Promise"),Ke=mn(de,"Set"),Ye=mn(de,"WeakMap"),Ge=mn(Object,"create"),Je=Tn($e),Qe=Tn(qe),Ze=Tn(Xe),tn=Tn(Ke),en=Tn(Ye),nn=Me?Me.prototype:void 0,rn=nn?nn.valueOf:void 0;function on(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function an(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function sn(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function cn(t){this.__data__=new an(t)}function ln(t,e){var n=En(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Sn(t)}(t)&&Re.call(t,"callee")&&(!He.call(t,"callee")||Ie.call(t)==Dt)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!Re.call(t,o)||i&&("length"==o||_n(o,r))||n.push(o);return n}function un(t,e,n){var r=t[e];Re.call(t,e)&&Cn(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function hn(t,e){for(var n=t.length;n--;)if(Cn(t[n][0],e))return n;return-1}function fn(t,e,n,r,i,o,a){var s;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!Pn(t))return t;var c=En(t);if(c){if(s=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&Re.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,s)}else{var l=bn(t),u=l==Ht||l==Vt;if(jn(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(l==Wt||l==Dt||u&&!o){if(we(t))return o?t:{};if(s=function(t){return"function"!=typeof t.constructor||wn(t)?{}:(e=Fe(t),Pn(e)?Be(e):{});var e}(u?{}:t),!e)return function(t,e){return yn(t,gn(t),e)}(t,function(t,e){return t&&yn(e,xn(e),t)}(s,t))}else{if(!he[l])return o?t:{};s=function(t,e,n,r){var i=t.constructor;switch(e){case Jt:return dn(t);case Ft:case Bt:return new i(+t);case Qt:return function(t,e){var n=e?dn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case Zt:case te:case ee:case ne:case re:case ie:case oe:case ae:case se:return function(t,e){var n=e?dn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case Ut:return function(t,e,n){var r=e?n(Te(t),!0):Te(t);return _e(r,ge,new t.constructor)}(t,r,n);case zt:case Kt:return new i(t);case qt:return function(t){var e=new t.constructor(t.source,ce.exec(t));return e.lastIndex=t.lastIndex,e}(t);case Xt:return function(t,e,n){var r=e?n(Ce(t),!0):Ce(t);return _e(r,be,new t.constructor)}(t,r,n);case Yt:return o=t,rn?Object(rn.call(o)):{}}var o}(t,l,fn,e)}}a||(a=new cn);var h=a.get(t);if(h)return h;if(a.set(t,s),!c)var f=n?function(t){return function(t,e,n){var r=e(t);return En(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,xn,gn)}(t):xn(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(f||t,(function(i,o){f&&(i=t[o=i]),un(s,o,fn(i,e,n,r,o,t,a))})),s}function pn(t){return!(!Pn(t)||(e=t,xe&&xe in e))&&(On(t)||we(t)?Le:le).test(Tn(t));var e}function dn(t){var e=new t.constructor(t.byteLength);return new De(e).set(new De(t)),e}function yn(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;un(n,a,void 0===s?t[a]:s)}return n}function vn(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function mn(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return pn(n)?n:void 0}on.prototype.clear=function(){this.__data__=Ge?Ge(null):{}},on.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},on.prototype.get=function(t){var e=this.__data__;if(Ge){var n=e[t];return n===Nt?void 0:n}return Re.call(e,t)?e[t]:void 0},on.prototype.has=function(t){var e=this.__data__;return Ge?void 0!==e[t]:Re.call(e,t)},on.prototype.set=function(t,e){return this.__data__[t]=Ge&&void 0===e?Nt:e,this},an.prototype.clear=function(){this.__data__=[]},an.prototype.delete=function(t){var e=this.__data__,n=hn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ve.call(e,n,1),!0)},an.prototype.get=function(t){var e=this.__data__,n=hn(e,t);return n<0?void 0:e[n][1]},an.prototype.has=function(t){return hn(this.__data__,t)>-1},an.prototype.set=function(t,e){var n=this.__data__,r=hn(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},sn.prototype.clear=function(){this.__data__={hash:new on,map:new(qe||an),string:new on}},sn.prototype.delete=function(t){return vn(this,t).delete(t)},sn.prototype.get=function(t){return vn(this,t).get(t)},sn.prototype.has=function(t){return vn(this,t).has(t)},sn.prototype.set=function(t,e){return vn(this,t).set(t,e),this},cn.prototype.clear=function(){this.__data__=new an},cn.prototype.delete=function(t){return this.__data__.delete(t)},cn.prototype.get=function(t){return this.__data__.get(t)},cn.prototype.has=function(t){return this.__data__.has(t)},cn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof an){var r=n.__data__;if(!qe||r.length<199)return r.push([t,e]),this;n=this.__data__=new sn(r)}return n.set(t,e),this};var gn=Ue?ke(Ue,Object):function(){return[]},bn=function(t){return Ie.call(t)};function _n(t,e){return!!(e=null==e?Mt:e)&&("number"==typeof t||ue.test(t))&&t>-1&&t%1==0&&t<e}function wn(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Oe)}function Tn(t){if(null!=t){try{return Ae.call(t)}catch(t){}try{return`${t}`}catch(t){}}return""}function kn(t){return fn(t,!0,!0)}function Cn(t,e){return t===e||t!=t&&e!=e}($e&&bn(new $e(new ArrayBuffer(1)))!=Qt||qe&&bn(new qe)!=Ut||Xe&&bn(Xe.resolve())!=$t||Ke&&bn(new Ke)!=Xt||Ye&&bn(new Ye)!=Gt)&&(bn=function(t){var e=Ie.call(t),n=e==Wt?t.constructor:void 0,r=n?Tn(n):void 0;if(r)switch(r){case Je:return Qt;case Qe:return Ut;case Ze:return $t;case tn:return Xt;case en:return Gt}return e});var En=Array.isArray;function Sn(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Mt}(t.length)&&!On(t)}var jn=ze||function(){return!1};function On(t){var e=Pn(t)?Ie.call(t):"";return e==Ht||e==Vt}function Pn(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function xn(t){return Sn(t)?ln(t):function(t){if(!wn(t))return We(t);var e=[];for(var n in Object(t))Re.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}const An=function(t){let e=t.match(Nn);return e=e.map((t=>t.charAt(0).toLocaleUpperCase()+t.slice(1).toLocaleLowerCase())),e[0]=e[0].toLocaleLowerCase(),e.join("")};var Rn,In,Ln=function(t,e){var n,r;n={};for(let i in t)r=t[i],e&&(i=e(i)),bt(i)||(n[i]=r);return n},Nn=(In="[A-Z]",Rn="[a-z]+",RegExp(In+"+(?="+In+Rn+")|"+In+"?"+Rn+"|"+In+"+|[0-9]+","g"));function Mn(t){return t}function Dn(t,e){for(let n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}const Fn=class extends wt{constructor(t){super(t),this.options.resourceType="subtitles"}};function Bn(t){return"string"==typeof t||t instanceof String}const Hn=class extends gt{constructor(t){super(t),Bn(t)?this.options.url=t:(null!=t?t.url:void 0)&&(this.options.url=t.url)}url(t){return this.options.url=t,this}toString(){return`fetch:${st(this.options.url)}`}};function Vn(t){return t instanceof Function}const Un=["accessibility","api_secret","auth_token","cdn_subdomain","cloud_name","cname","format","placeholder","private_cdn","resource_type","secure","secure_cdn_subdomain","secure_distribution","shorten","sign_url","signature","ssl_detected","type","url_suffix","use_root_path","version"];function zn(t,...e){return e.forEach((e=>{Object.keys(e).forEach((n=>{null!=e[n]&&(t[n]=e[n])}))})),t}class Wn{constructor(t,e,n=Mn){this.name=t,this.shortName=e,this.process=n}set(t){return this.origValue=t,this}serialize(){var t,e;return t=this.value(),e=Array.isArray(t)||at(t)||Bn(t)?!bt(t):null!=t,null!=this.shortName&&e?`${this.shortName}_${t}`:""}value(){return this.process(this.origValue)}static norm_color(t){return null!=t?t.replace(/^#/,"rgb:"):void 0}static build_array(t){return null==t?[]:Array.isArray(t)?t:[t]}static process_video_params(t){var e;switch(t.constructor){case Object:return e="","codec"in t&&(e=t.codec,"profile"in t&&(e+=":"+t.profile,"level"in t&&(e+=":"+t.level))),e;case String:return t;default:return null}}}class $n extends Wn{constructor(t,e,n=".",r){super(t,e,r),this.sep=n}serialize(){if(null!=this.shortName){let t=this.value();if(bt(t))return"";if(Bn(t))return`${this.shortName}_${t}`;{let e=t.map((t=>Vn(t.serialize)?t.serialize():t)).join(this.sep);return`${this.shortName}_${e}`}}return""}value(){return Array.isArray(this.origValue)?this.origValue.map((t=>this.process(t))):this.process(this.origValue)}set(t){return null==t||Array.isArray(t)?super.set(t):super.set([t])}}class qn extends Wn{constructor(t,e="t",n=".",r){super(t,e,r),this.sep=n}serialize(){let t="";const e=this.value();if(bt(e))return t;if((n=e).length&&n.every(Bn)){const n=e.join(this.sep);bt(n)||(t=`${this.shortName}_${n}`)}else t=e.map((t=>Bn(t)&&!bt(t)?`${this.shortName}_${t}`:Vn(t.serialize)?t.serialize():at(t)&&!bt(t)?new nr(t).serialize():void 0)).filter((t=>t));var n;return t}set(t){return this.origValue=t,Array.isArray(this.origValue)?super.set(this.origValue):super.set([this.origValue])}}class Xn extends Wn{constructor(t,e,n=Xn.norm_range_value){super(t,e,n)}static norm_range_value(t){let e=String(t).match(new RegExp("^(([0-9]*)\\.([0-9]+)|([0-9]+))([%pP])?$"));if(e){let n=null!=e[5]?"p":"";t=(e[1]||e[4])+n}return t}}class Kn extends Wn{constructor(t,e,n=Mn){super(t,e,n)}serialize(){return this.value()}}class Yn extends Wn{value(){if(null==this.origValue)return"";let t;if(this.origValue instanceof gt)t=this.origValue;else if(at(this.origValue)){let n=(e=this.origValue,Ln(e,An));t="text"===n.resourceType||null!=n.text?new wt(n):"subtitles"===n.resourceType?new Fn(n):"fetch"===n.resourceType||null!=n.url?new Hn(n):new gt(n)}else t=Bn(this.origValue)?/^fetch:.+/.test(this.origValue)?new Hn(this.origValue.substr(6)):this.origValue:"";var e;return t.toString()}static textStyle(t){return new wt(t).textStyleIdentifier()}}class Gn{constructor(t){let e,n;e=void 0,n={},this.toOptions=t=>{let e={};if(null==t&&(t=!0),Object.keys(n).forEach((t=>e[t]=n[t].origValue)),zn(e,this.otherOptions),t&&!bt(this.chained)){let t=this.chained.map((t=>t.toOptions()));t.push(e),e={},zn(e,this.otherOptions),e.transformation=t}return e},this.setParent=t=>(e=t,null!=t&&this.fromOptions("function"==typeof t.toOptions?t.toOptions():void 0),this),this.getParent=()=>e,this.param=(t,e,r,i,o)=>(null==o&&(o=Vn(i)?i:Mn),n[e]=new Wn(e,r,o).set(t),this),this.rawParam=function(t,e,r,i,o){return o=tr(arguments),n[e]=new Kn(e,r,o).set(t),this},this.rangeParam=function(t,e,r,i,o){return o=tr(arguments),n[e]=new Xn(e,r,o).set(t),this},this.arrayParam=function(t,e,r,i=":",o=[],a){return a=tr(arguments),n[e]=new $n(e,r,i,a).set(t),this},this.transformationParam=function(t,e,r,i=".",o,a){return a=tr(arguments),n[e]=new qn(e,r,i,a).set(t),this},this.layerParam=function(t,e,r){return n[e]=new Yn(e,r).set(t),this},this.getValue=function(t){let e=n[t]&&n[t].value();return null!=e?e:this.otherOptions[t]},this.get=function(t){return n[t]},this.remove=function(t){var e;switch(!1){case null==n[t]:return e=n[t],delete n[t],e.origValue;case null==this.otherOptions[t]:return e=this.otherOptions[t],delete this.otherOptions[t],e;default:return null}},this.keys=function(){var t;return function(){var e;for(t in e=[],n)null!=t&&e.push(t.match(Jn)?t:vt(t));return e}().sort()},this.toPlainObject=function(){var t,e,r;for(e in t={},n)t[e]=n[e].value(),at(t[e])&&(t[e]=kn(t[e]));return bt(this.chained)||((r=this.chained.map((t=>t.toPlainObject()))).push(t),t={transformation:r}),t},this.chain=function(){var t;return 0!==Object.getOwnPropertyNames(n).length&&(t=new this.constructor(this.toOptions(!1)),this.resetTransformations(),this.chained.push(t)),this},this.resetTransformations=function(){return n={},this},this.otherOptions={},this.chained=[],this.fromOptions(t)}fromOptions(t={}){if(t instanceof Gn)this.fromTransformation(t);else{(Bn(t)||Array.isArray(t))&&(t={transformation:t}),(t=kn(t)).if&&(this.set("if",t.if),delete t.if);for(let e in t){let n=t[e];null!=n&&(e.match(Jn)?"$attr"!==e&&this.set("variable",e,n):this.set(e,n))}}return this}fromTransformation(t){return t instanceof Gn&&t.keys().forEach((e=>this.set(e,t.get(e).origValue))),this}set(t,...e){let n;return n=An(t),Dn(rr,n)?this[n].apply(this,e):this.otherOptions[t]=e[0],this}hasLayer(){return this.getValue("overlay")||this.getValue("underlay")}serialize(){var t,e,n,r,i,o,a,s,c,l,u,h,f,p,d,y,v,m;for(l=this.chained.map((t=>t.serialize())),r=this.keys(),p=null!=(i=this.get("transformation"))?i.serialize():void 0,t=null!=(o=this.get("if"))?o.serialize():void 0,y=function(t){var e,n,r,i,o;if(Array.isArray(t)){for(i=[],e=0,n=t.length;e<n;e++)[r,o]=t[e],i.push(`${r}_${It.normalize(o)}`);return i}return t}(null!=(a=this.get("variables"))?a.value():void 0),m=["transformation","if","variables"],r=r.filter((t=>!m.includes(t))),v=[],h=[],e=0,n=r.length;e<n;e++)(u=r[e]).match(Jn)?v.push(u+"_"+It.normalize(null!=(s=this.get(u))?s.value():void 0)):h.push(null!=(c=this.get(u))?c.serialize():void 0);switch(!1){case!Bn(p):h.push(p);break;case!Array.isArray(p):l=l.concat(p)}return h=function(){var t,e,n;for(n=[],t=0,e=h.length;t<e;t++)d=h[t],(Array.isArray(d)&&!bt(d)||!Array.isArray(d)&&d)&&n.push(d);return n}(),h=v.sort().concat(y).concat(h.sort()),"if_end"===t?h.push(t):bt(t)||h.unshift(t),bt(f=h.filter((t=>!!t)).join(Zn))||l.push(f),l.filter((t=>!!t)).join(Qn)}static listNames(){return rr}toHtmlAttributes(){let t,e,n,r,i,o,a,s;return n={},Object.keys(this.otherOptions).forEach((e=>{o=this.otherOptions[e],s=vt(e),Dn(ir,s)||Dn(Un,s)||(t=/^html_/.test(e)?e.slice(5):e,n[t]=o)})),this.keys().forEach((t=>{/^html_/.test(t)&&(n[An(t.slice(5))]=this.getValue(t))})),this.hasLayer()||this.getValue("angle")||Dn(["fit","limit","lfill"],this.getValue("crop"))||(a=null!=(r=this.get("width"))?r.origValue:void 0,e=null!=(i=this.get("height"))?i.origValue:void 0,parseFloat(a)>=1&&null==n.width&&(n.width=a),parseFloat(e)>=1&&null==n.height&&(n.height=e)),n}static isValidParamName(t){return rr.indexOf(An(t))>=0}toHtml(){var t;return null!=(t=this.getParent())&&"function"==typeof t.toHtml?t.toHtml():void 0}toString(){return this.serialize()}clone(){return new Gn(this.toOptions(!0))}}const Jn=/^\$[a-zA-Z0-9]+$/,Qn="/",Zn=",";function tr(t){var e;return Vn(e=null!=t?t[t.length-1]:void 0)?e:void 0}function er({function_type:t,source:e}){return"remote"===t?[t,btoa(e)].join(":"):"wasm"===t?[t,e].join(":"):void 0}class nr extends Gn{constructor(t){super(t)}static new(t){return new nr(t)}angle(t){return this.arrayParam(t,"angle","a",".",It.normalize),this}audioCodec(t){return this.param(t,"audio_codec","ac"),this}audioFrequency(t){return this.param(t,"audio_frequency","af"),this}aspectRatio(t){return this.param(t,"aspect_ratio","ar",It.normalize),this}background(t){return this.param(t,"background","b",Wn.norm_color),this}bitRate(t){return this.param(t,"bit_rate","br"),this}border(t){return this.param(t,"border","bo",(t=>at(t)?`${(t=Object.assign({},{color:"black",width:2},t)).width}px_solid_${Wn.norm_color(t.color)}`:t))}color(t){return this.param(t,"color","co",Wn.norm_color),this}colorSpace(t){return this.param(t,"color_space","cs"),this}crop(t){return this.param(t,"crop","c"),this}customFunction(t){return this.param(t,"custom_function","fn",(()=>er(t)))}customPreFunction(t){if(!this.get("custom_function"))return this.rawParam(t,"custom_function","",(()=>(t=er(t))?`fn_pre:${t}`:t))}defaultImage(t){return this.param(t,"default_image","d"),this}delay(t){return this.param(t,"delay","dl"),this}density(t){return this.param(t,"density","dn"),this}duration(t){return this.rangeParam(t,"duration","du"),this}dpr(t){return this.param(t,"dpr","dpr",(t=>(null!=(t=t.toString())?t.match(/^\d+$/):void 0)?t+".0":It.normalize(t)))}effect(t){return this.arrayParam(t,"effect","e",":",It.normalize),this}else(){return this.if("else")}endIf(){return this.if("end")}endOffset(t){return this.rangeParam(t,"end_offset","eo"),this}fallbackContent(t){return this.param(t,"fallback_content"),this}fetchFormat(t){return this.param(t,"fetch_format","f"),this}format(t){return this.param(t,"format"),this}flags(t){return this.arrayParam(t,"flags","fl","."),this}gravity(t){return this.param(t,"gravity","g"),this}fps(t){return this.param(t,"fps","fps",(t=>Bn(t)?t:Array.isArray(t)?t.join("-"):t))}height(t){return this.param(t,"height","h",(()=>this.getValue("crop")||this.getValue("overlay")||this.getValue("underlay")?It.normalize(t):null))}htmlHeight(t){return this.param(t,"html_height"),this}htmlWidth(t){return this.param(t,"html_width"),this}if(t=""){var e,n,r,i,o;switch(t){case"else":return this.chain(),this.param(t,"if","if");case"end":for(this.chain(),e=r=this.chained.length-1;r>=0&&"end"!==(n=this.chained[e].getValue("if"))&&(null==n||(i=nr.new().if(n),this.chained[e].remove("if"),o=this.chained[e],this.chained[e]=nr.new().transformation([i,o]),"else"===n));e=r+=-1);return this.param(t,"if","if");case"":return Lt.new().setParent(this);default:return this.param(t,"if","if",(t=>Lt.new(t).toString()))}}keyframeInterval(t){return this.param(t,"keyframe_interval","ki"),this}ocr(t){return this.param(t,"ocr","ocr"),this}offset(t){var e,n;if([n,e]=Vn(null!=t?t.split:void 0)?t.split(".."):Array.isArray(t)?t:[null,null],null!=n&&this.startOffset(n),null!=e)return this.endOffset(e)}opacity(t){return this.param(t,"opacity","o",It.normalize),this}overlay(t){return this.layerParam(t,"overlay","l"),this}page(t){return this.param(t,"page","pg"),this}poster(t){return this.param(t,"poster"),this}prefix(t){return this.param(t,"prefix","p"),this}quality(t){return this.param(t,"quality","q",It.normalize),this}radius(t){return this.arrayParam(t,"radius","r",":",It.normalize),this}rawTransformation(t){return this.rawParam(t,"raw_transformation"),this}size(t){let e,n;if(Vn(null!=t?t.split:void 0))return[n,e]=t.split("x"),this.width(n),this.height(e)}sourceTypes(t){return this.param(t,"source_types"),this}sourceTransformation(t){return this.param(t,"source_transformation")}startOffset(t){return this.rangeParam(t,"start_offset","so"),this}streamingProfile(t){return this.param(t,"streaming_profile","sp"),this}transformation(t){return this.transformationParam(t,"transformation","t"),this}underlay(t){return this.layerParam(t,"underlay","u"),this}variable(t,e){return this.param(e,t,t),this}variables(t){return this.arrayParam(t,"variables"),this}videoCodec(t){return this.param(t,"video_codec","vc",Wn.process_video_params),this}videoSampling(t){return this.param(t,"video_sampling","vs"),this}width(t){return this.param(t,"width","w",(()=>this.getValue("crop")||this.getValue("overlay")||this.getValue("underlay")?It.normalize(t):null)),this}x(t){return this.param(t,"x","x",It.normalize),this}y(t){return this.param(t,"y","y",It.normalize),this}zoom(t){return this.param(t,"zoom","z",It.normalize),this}}const rr=["angle","audioCodec","audioFrequency","aspectRatio","background","bitRate","border","color","colorSpace","crop","customFunction","customPreFunction","defaultImage","delay","density","duration","dpr","effect","else","endIf","endOffset","fallbackContent","fetchFormat","format","flags","gravity","fps","height","htmlHeight","htmlWidth","if","keyframeInterval","ocr","offset","opacity","overlay","page","poster","prefix","quality","radius","rawTransformation","size","sourceTypes","sourceTransformation","startOffset","streamingProfile","transformation","underlay","variable","variables","videoCodec","videoSampling","width","x","y","zoom"],ir=rr.map(vt).concat(["api_key","api_secret","callback","cdn_subdomain","cloud_name","cname","private_cdn","protocol","resource_type","responsive","responsive_class","responsive_use_breakpoints","responsive_width","round_dpr","secure","secure_cdn_subdomain","secure_distribution","shorten","type","upload_preset","url_suffix","use_root_path","version","externalLibraries","max_timeout_ms"]),or=nr;function ar(t){if("string"==typeof t)return t;if(t instanceof or)return t.toString();if(Array.isArray(t))return t.map((t=>ar(t))).filter((t=>t)).join("/");let e,n;const r=t.size,i=t.overlay||t.underlay,o=t.crop,a=Et(t.angle).join("."),s=(t.background||"").replace(/^#/,"rgb:"),c=(t.color||"").replace(/^#/,"rgb:"),l=Et(t.flags||[]).join("."),u=void 0===t.dpr?t.dpr:function(t){let e=t.toString();return(null!=e?e.match(/^\d+$/):void 0)?e+".0":It.normalize(e)}(t.dpr),h=kt(t.overlay),f=function(t){let e=t;if(!e)return e;if(Array.isArray(e)||(e=[e]),0===e.length||e.length>4)throw new Error("Radius array should contain between 1 and 4 values");if(e.findIndex((t=>null===t))>=0)throw new Error("Corner: Cannot be null");return e.map(Ct).join(":")}(t.radius),p=kt(t.underlay),d=function(t){return t?"if_"+Ct(t):t}(t.if),y=St(t.custom_function),v=function(t){const e=St(t);return"string"==typeof e?`pre:${e}`:null}(t.custom_pre_function);let m=t.fps,g=[],b=Et(t.transformation||[]),_=t.effect;const w=i||a||"fit"===o||"limit"===o;if(r){const[t,i]=r.split("x");e=t,n=i}else e=t.width,n=t.height;e&&(0===e.toString().indexOf("auto")||w||parseFloat(e.toString())<1)&&delete t.width,n&&(w||parseFloat(n.toString())<1)&&delete t.height;const T=b.some((t=>"object"==typeof t));T?b=b.map((t=>at(t)?ar(t):ar({transformation:t}))).filter((t=>t)):(g=b.join("."),b=[]),Array.isArray(_)?_=_.join(":"):at(_)&&(_=Object.entries(_).map((([t,e])=>`${t}:${e}`)));let k=t.border;at(k)?k=`${null!=k.width?k.width:2}px_solid_${(null!=k.color?k.color:"black").replace(/^#/,"rgb:")}`:/^\d+$/.exec(k)&&(t.border=k,k=void 0),Array.isArray(m)&&(m=m.join("-"));const C={a:Ct(a),ar:Ct(t.aspect_ratio),b:s,bo:k,c:o,co:c,dpr:Ct(u),e:Ct(_),fl:l,fn:y||v,fps:m,h:Ct(n),ki:Ct(t.keyframe_interval),l:h,o:Ct(t.opacity),q:Ct(t.quality),r:f,t:g,u:p,w:Ct(e),x:Ct(t.x),y:Ct(t.y),z:Ct(t.zoom),ac:t.audio_codec,af:t.audio_frequency,br:t.bit_rate,cs:t.color_space,d:t.default_image,dl:t.delay,dn:t.density,du:Ot(t.duration),eo:Ot(t.end_offset||_t(t.end_offset)?t.end_offset:jt(t.offset)[1]),f:t.fetch_format,g:t.gravity,pg:t.page,p:t.prefix,so:Ot(t.start_offset||_t(t.start_offset)?t.start_offset:jt(t.offset)[0]),sp:t.streaming_profile,vc:Pt(t.video_codec),vs:t.video_sampling},E=[d,Object.entries(t).filter((([t,e])=>t.startsWith("$"))).map((([t,e])=>`${t}_${Ct(e)}`)).sort().concat((t.variables||[]).map((([t,e])=>`${t}_${Ct(e)}`))).join(","),Object.entries(C).filter((([t,e])=>null!=e&&(("string"!=typeof e||0!==e.length)&&(!Array.isArray(e)||0!==e.length)))).map((([t,e])=>`${t}_${e}`)).sort().join(","),t.raw_transformation].filter((t=>t)).join(",");return E&&b.push(E),b.join("/")}function sr(t,e){let n;"fetch"===e.type&&null==e.fetch_format&&(e.fetch_format=e.format);let r=e.type,i=e.resource_type||"image",o=e.version;const a="boolean"!=typeof e.force_version||e.force_version,s=(e.long_url_signature,e.format),c=e.cloud_name;if(!c)throw"cloud_name must be provided in the configuration";const l=e.private_cdn,u=e.secure_distribution,h=e.secure,f=(e.cdn_subdomain,e.secure_cdn_subdomain,e.cname),p=e.shorten,d=e.sign_url,y=(e.api_secret,e.url_suffix),v=e.use_root_path,m=e.auth_token,g=/^(image|raw)\/([a-z0-9_]+)\/v(\d+)\/([^#]+)$/.exec(t);g&&(i=g[1],r=g[2],o=g[3],t=g[4]);const b=t;if(null==t)return b;if(t=t.toString(),null===r&&t.match(/^https?:\//i))return b;[i,r]=function(t,e,n,r,i){if(null==e&&(e="upload"),null!=n)if("image"===t&&"upload"===e)t="images",e=null;else if("image"===t&&"private"===e)t="private_images",e=null;else if("image"===t&&"authenticated"===e)t="authenticated_images",e=null;else if("raw"===t&&"upload"===e)t="files",e=null;else{if("video"!==t||"upload"!==e)throw new Error("URL Suffix only supported for image/upload, image/private, image/authenticated, video/upload and raw/upload");t="videos",e=null}if(r){if(!("image"===t&&"upload"===e||"images"===t&&null==e))throw new Error("Root path only supported for image/upload");t=null,e=null}return i&&"image"===t&&"upload"===e&&(t="iu",e=null),[t,e]}(i,r,y,v,p),[t,n]=function(t,e,n){let r;if((t=t.replace(/([^:])\/\//g,"$1/")).match(/^https?:\//i))r=t=yt(t);else{if(r=t=encodeURIComponent(decodeURIComponent(t)).replace(/%3A/g,":").replace(/%2F/g,"/"),n){if(n.match(/[\.\/]/))throw new Error("url_suffix should not include . or /");t=t+"/"+n}null!=e&&(t=t+"."+e,r=r+"."+e)}return[t,r]}(t,s,y),null==o&&a&&n.indexOf("/")>=0&&!n.match(/^v[0-9]+/)&&!n.match(/^https?:\//)&&(o=1),o=null!=o?`v${o}`:null;const _=ar(kn(e)).replace(/([^:])\/\//g,"$1/");if(d&&!m){let t=[_,n].filter((function(t){return null!=t&&""!==t})).join("/");try{for(let e=0;t!==decodeURIComponent(t)&&e<10;e++)t=decodeURIComponent(t)}catch(t){}}const w=function(t,e,n,r,i,o,a,s){let c;if(0===e.indexOf("/"))return"/res"+e;let l=!n;a?(null!=s&&"cloudinary-a.akamaihd.net"!==s||(s=n?e+"-res.cloudinary.com":lt),null==l&&(l=s===lt),c="https://"+s):c=o?"http://"+o:"http://"+[n?e+"-":"","res",".cloudinary.com"].join("");return l&&(c+="/"+e),c}(0,c,l,0,0,f,h,u);return[w,i,r,_,o,t].filter((function(t){return null!=t&&""!==t})).join("/").replace(" ","%20")}function cr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return lr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function lr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ur(t){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(t)}var hr=function(t,e){return e.reduce((function(e,n){var r=t[n];return void 0!==r&&(e[n]=r),e}),{})},fr=function(t,e){return Object.keys(t).reduce((function(n,r){var i=t[r];return e.includes(r)||(n[r]=i),n}),{})};function pr(t){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pr(t)}var dr=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.tolerateMissingId,i=void 0!==r&&r;if(X(t)){var o=M({},t);if(!K(t=B(o,"publicId").publicId)&&!i)throw new Error("Source is missing 'publicId'.");e&&(e=M({},o,e))}return{publicId:t,options:e}},yr=function(t){return rt.test(t)},vr=function(t,e){return Object.assign(t,e)},mr=function(t,e){return sr(t,fr(e,["chainTarget"]))},gr=function(t,e){var n=function(t){return"Transformation"===t.constructor.name&&t.toOptions}(t)?t.toOptions():t;return new or(n).fromOptions(e).toOptions()},br=6,_r=10,wr=11,Tr=12,kr=13,Cr=14,Er=function(t){var e={h265:"hev1.1.6.L93.B0",vp9:"vp09.00.50.08",h264:"avc1.42E01E"};return e[t]?e[t]:t},Sr={avc1:"h264",avc2:"h264",svc1:"Scalable Video Coding",mvc1:"Multiview Video Coding",mvc2:"Multiview Video Coding"},jr={0:"No",42:"baseline","4d":"main",58:"extended",64:"high","6e":"high 10","7a":"high 4:2:2",f4:"high 4:4:4","2c":"CAVLC 4:4:4",53:"Scalable Baseline",56:"Scalable High",80:"Stereo High",76:"Multiview High","8a":"Multiview Depth High"};var Or=function(t){var e=/(avc1|avc2|svc1|mvc1|mvc2)\.([0-9a-f]{6})/i;if(!1===e.test("avc1.42001e"))throw new Error("Codec string is not formatted according to H.264/AVC standards for example avc1.42001e (maybe an iOS friendly version...)");var n=t.match(e);if(null!==n){n.shift();return Sr[n[0]]+":"+function(t){var e=/([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i;if(!1===e.test(t))throw new Error("error: please provide a 3-bytes hex-sequence for example: 42001e");var n=t.match(e);n.shift();var r=n[0];r="string"==typeof(r=jr[r])?r:"Unknown";var i=n[2];return i=parseInt(i,16),i=String(i).split("").join("."),"".concat(r,":").concat(i)}(n[1])}return t},Pr={VP9:"vp9",HEV1:"hev1",H265:"h265",H264:"h264"};function xr(t,e){return Array.prototype.find&&Array.isArray(t)?t.find(e):Ar(t,e)[0]}function Ar(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e(r,n,t))return[r,n]}return[void 0,-1]}var Rr={method:"head"},Ir={method:"get",credentials:"include",headers:{"Content-Range":"bytes=0-0"}},Lr=function(t,e){var n,r,i,o,a,s,c,l;t.videojs.error((n={errorMsg:e.headers.get("x-cld-error")||"",publicId:t.currentPublicId(),cloudName:t.cloudinaryConfig().cloud_name,error:e,statusCode:e.status},r=n.errorMsg,i=n.publicId,o=n.cloudName,a=n.statusCode,c={code:_r,message:"".concat(s="Video cannot be played").concat(r?"- "+r:""),statusCode:a},(l=r.toLowerCase()).startsWith("unknown customer")&&(c.code=wr,c.message="".concat(s," Unknown cloud-name ").concat(o)),l.startsWith("resource not found")&&(c.code=Tr,c.message="".concat(s," Public ID ").concat(i," not found")),l.startsWith("private resource")&&(c.code=kr,c.message="".concat(s," Private video")),l.startsWith("unauthenticated access")&&(c.message="".concat(s," Requires authentication"),c.code=Cr),c))},Nr=function(t,e){var n=e.fetchErrorUsingGet?Ir:Rr,r=t.videojs.cloudinary.getCurrentSources();r.length>0?Promise.all(r.map((function(t){return fetch(t.src,n)}))).then((function(e){var n=function(t){return t.reduce((function(t,e){if(e.status>=200&&e.status<399&&""!==e.url){var n=Mr(e.url);t.push(n.host+n.path)}return t}),[])}(e),i=e[0];if(n.length){var o=function(t,e){return t.filter((function(t){var n=Mr(t.src);return-1!==e.indexOf(n.host+n.path)&&!0!==t.try}))}(r,n);o&&o.length?function(t,e){console.log("Trying urls: "+JSON.stringify(e)),e.forEach((function(t){t.try=!0})),t.videojs.autoplay(t.videojs.autoplay()||t.playWasCalled),t.videojs.src(e)}(t,o):(console.log("No urls left to try so stopping"),t.videojs.error({code:br,message:"No supported media sources",statusCode:e.status}))}else Lr(t,i)})).catch((function(e){t.videojs.error({code:7,message:e&&e.message?e.message:"Failed to test sources"})})):t.videojs.error({code:br,message:"No supported media sources"})};function Mr(t){for(var e={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=e.parser[e.strictMode?"strict":"loose"].exec(t),r={},i=14;i--;)r[e.key[i]]=n[i]||"";return r[e.q.name]={},r[e.key[12]].replace(e.q.parser,(function(t,n,i){n&&(r[e.q.name][n]=i)})),r}var Dr=function t(e,n){return!(!e||!n)&&(Array.isArray(e)?!!xr(e,(function(e){return t(e,n)})):e.getValue?!!e.getValue(n):!!e[n])},Fr=function(t,e){t.forEach((function(t){fetch(t.src,Rr).then((function(n){n.status>=200&&n.status<=399&&e.addRemoteTextTrack(t,!0)}))}))};function Br(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.order,i=void 0===r?null:r,o=e,a=function(n){var r=e[n];void 0!==r&&t[n]&&Q(t[n])&&t[n](r)};i&&(o=M({},e),i.forEach((function(t){a(t),delete o[t]}))),Object.keys(o).forEach((function(t){a(t)}))}var Hr=function(t,e){return t.reduce((function(t,n,r){return r=e(n),Object.prototype.hasOwnProperty.call(t,r)?t[r].push(n):t[r]=[n],t}),{})};function Vr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ur(t,e,n){return e&&Vr(t.prototype,e),n&&Vr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return e(t)}),Ur((function t(){zr(this,t)})))}var $r=n(596),qr=n.n($r),Xr=function(t,e){var n=e.cloudinary.fontFace;void 0===n&&(n="Fira Sans"),n&&"inherit"!==n?(qr().load({google:{families:[n]}}),t.style.fontFamily=n):"inherit"===n&&(t.style.fontFamily="inherit")},Kr=function(t,e){"init"===e.bigPlayButton&&(t.classList.add("vjs-big-play-button-init-only"),e.bigPlayButton=!0)};const Yr=function(t){var e=t.loop(),n=t.paused(),r=t.muted(),i=t.isFullscreen(),o={class:"player-version",label:"Cloudinary Player v1.9.5"};return t.controls()?[{label:e?"Unloop":"Loop",listener:function(){t.loop(!e)}},{label:n?"Play":"Pause",listener:function(){n?t.play():t.pause()}},{label:r?"Unmute":"Mute",listener:function(){t.muted(!r)}},{label:i?"Exit Fullscreen":"Fullscreen",listener:function(){i?t.exitFullscreen():t.requestFullscreen()}},o]:[o]};var Gr=["cloudinaryConfig","transformation","sourceTypes","sourceTransformation","posterOptions","autoShowRecommendations","fontFace","secure"],Jr=Gr.concat(["publicId","source","autoplayMode","playedEventPercents","playedEventTimes","analytics","cloudinaryAnalytics","fluid","ima","playlistWidget","hideContextMenu","colors","floatingWhenNotVisible","ads","showJumpControls","textTracks","qualitySelector","fetchErrorUsingGet","withCredentials","seekThumbnails","queryParams"]),Qr=["cloud_name","secure","private_cdn","secure_distribution","cdn_subdomain","secure_cdn_subdomain","cname","shorten","sign_url","api_secret","url_suffix","use_root_path","auth_token"],Zr={html5:{handlePartialData:!1,vhs:{overrideNative:!y()||!y().browser||!y().browser.IS_IOS&&!y().browser.IS_SAFARI}}},ti="cld-fluid",ei={ALWAYS:"always",ON_SCROLL:"on-scroll",NEVER:"never"},ni={LEFT:"left",RIGHT:"right",NONE:"none"};const ri={logoOnclickUrl:"https://cloudinary.com/",showLogo:!0,showJumpControls:!1,playsinline:y().browser.IS_IOS,skin:"dark",controls:!1,controlBar:{pictureInPictureToggle:!1},preload:"auto",loop:!1,muted:!1,posterOptions:{},sourceTypes:["webm/vp9","mp4/h265","mp4"],contextMenu:{content:Yr},floatingWhenNotVisible:ni.NONE,hideContextMenu:!1,analytics:!1,cloudinaryAnalytics:!1,playedEventPercents:[25,50,75,100]};var ii="cld-video-player",oi="".concat(ii,"-skin-"),ai=function(t){return"".concat(ii,"-").concat(t.id_)},si=function(t){return"".concat(oi).concat(t)},ci=function(t){return xr(t.el().classList,(function(t){return $(t,oi)}))},li=function(t,e){var n=ci(t),r=!!e&&e.replace(oi,""),i="";(i=r?si(r):t.options_.skin?si(t.options_.skin):si(ri.skin))!==n&&(n&&t.removeClass(n),t.addClass(i)),r&&t.options_.skin!==r&&(t.options_.skin=r)},ui=/^(data-cld-)(\w+)/,hi={};var fi=function(t){return function(t){var e=null;if(""===t)return!0;try{e=JSON.parse(t)}catch(t){}return e||(e=Number(t))||t}(t)},pi=function(t){var e={};if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,r=n.length-1;r>=0;r--){var i=n[r].name,o=n[r].value;if(i.match(ui)&&(i=W(i.replace(ui,"$2"))),"boolean"==typeof t[i])o=null!==o;else o=(hi[i]||fi)(o);e[i]=o}return e};const di=M({},t,e,i,o,a,u,h,c,s,l,f,p);var yi=n(162),vi=n.n(yi);function mi(t){return function(t){if(Array.isArray(t))return gi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return gi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gi(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bi=function(t){return t.class.indexOf("cld-video-player-skin-light")>-1||"light"===t.skin},_i=function(t,e){var n=di.normalizeAttributes(t);(y().dom.hasClass(t,ti)||y().dom.hasClass(t,"vjs-fluid"))&&(e.fluid=!0),function(t){var e=t.autoplayMode;e&&(t.autoplay=e===ei.ALWAYS)}(e=di.assign({},Zr,ri,n,e));var r=di.sliceAndUnsetProperties.apply(di,[e].concat(mi(Jr)));return r.cloudinary=di.sliceAndUnsetProperties.apply(di,[r].concat(mi(Gr))),e.videojs&&(di.assign(e,e.videojs),delete e.videojs),{playerOptions:r,videojsOptions:e}};function wi(t){return wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(t)}function Ti(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ki(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ci(t,e){return Ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ci(t,e)}function Ei(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ji(t);if(e){var i=ji(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Si(this,n)}}function Si(t,e){if(e&&("object"===wi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ji(t){return ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ji(t)}var Oi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ci(t,e)}(o,t);var e,n,r,i=Ei(o);function o(){return Ti(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"createEl",value:function(){var t=this.options_.playerOptions,e=t.showLogo?"block":"none",n=bi(t)?"https://res.cloudinary.com/cloudinary-marketing/image/upload/v1597164189/creative_source/Logo/Cloud%20Glyph/cloudinary_cloud_glyph_regular.svg":"https://res.cloudinary.com/cloudinary-marketing/image/upload/v1597164191/creative_source/Logo/Cloud%20Glyph/cloudinary_cloud_glyph_white.svg",r=t.logoImageUrl?t.logoImageUrl:n;return y().dom.createEl("a",{},{class:"vjs-control vjs-cloudinary-button vjs-button",href:t.logoOnclickUrl,target:"_blank",style:"display: ".concat(e,"; background-image: url(").concat(r,")")})}}])&&ki(e.prototype,n),r&&ki(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(y().getComponent("ClickableComponent"));y().registerComponent("logoButton",Oi);function Pi(t){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(t)}function xi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ai(){return Ai="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Ri(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Ai.apply(this,arguments)}function Ri(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mi(t)););return t}function Ii(t,e){return Ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ii(t,e)}function Li(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mi(t);if(e){var i=Mi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ni(this,n)}}function Ni(t,e){if(e&&("object"===Pi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Mi(t){return Mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mi(t)}var Di=y().getComponent("ClickableComponent"),Fi={item:null,transformation:{width:300,aspect_ratio:"16:9",crop:"pad",background:"black"}};const Bi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ii(t,e)}(o,t);var e,n,r,i=Li(o);function o(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var n=y().mergeOptions(Fi,e);return i.call(this,t,n)}return e=o,n=[{key:"getItem",value:function(){return this.options_.item}},{key:"getTitle",value:function(){return this.getItem().info().title}},{key:"getDuration",value:function(){return" "}},{key:"getThumbnail",value:function(){return this.getItem().poster().url({transformation:this.options_.transformation})}},{key:"handleClick",value:function(t){t.preventDefault()}},{key:"createControlTextEl",value:function(){}},{key:"createEl",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"a",e=Ai(Mi(o.prototype),"createEl",this).call(this,t,{className:"cld-thumbnail",href:"#"}),n=Ai(Mi(o.prototype),"createEl",this).call(this,"img",{className:"cld-thumbnail-img",src:this.getThumbnail()});return e.appendChild(n),e.style.backgroundImage="url('".concat(this.getThumbnail(),"')"),e}}],n&&xi(e.prototype,n),r&&xi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(Di);function Hi(t){return Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(t)}function Vi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ui(){return Ui="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=zi(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Ui.apply(this,arguments)}function zi(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xi(t)););return t}function Wi(t,e){return Wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wi(t,e)}function $i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xi(t);if(e){var i=Xi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qi(this,n)}}function qi(t,e){if(e&&("object"===Hi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xi(t){return Xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xi(t)}var Ki=y().dom||y(),Yi={source:null,next:!1},Gi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wi(t,e)}(o,t);var e,n,r,i=$i(o);function o(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var n=y().mergeOptions(Yi,e);return i.call(this,t,n)}return e=o,n=[{key:"handleClick",value:function(t){Ui(Xi(o.prototype),"handleClick",this).call(this,t),this.play()}},{key:"play",value:function(){var t=this.getItem(),e=this.player().cloudinary.playlist().list().indexOf(t);if(-1===e)throw new Error("Invalid playlist item...");this.player().cloudinary.playlist().playAtIndex(e)}},{key:"isCurrent",value:function(){return this.options_.current}},{key:"getTitle",value:function(){return Ui(Xi(o.prototype),"getTitle",this).call(this)}},{key:"getDuration",value:function(){return Ui(Xi(o.prototype),"getDuration",this).call(this)}},{key:"createEl",value:function(){var t=Ui(Xi(o.prototype),"createEl",this).call(this);t.classList.add("cld-plw-panel-item");var e=Ki.createEl("div",{className:"cld-plw-item-info-wrap"}),n=Ki.createEl("div",{className:"cld-plw-item-title"});if(this.isCurrent()){t.classList.add("cld-plw-panel-item-active");var r=Ki.createEl("span",{className:"cld-plw-item-title-curr"},{},"Now Playing: ");n.appendChild(r)}var i=Ki.createEl("span",{className:"cld-plw-item-title"},{},this.getTitle());n.appendChild(i);var a=Ki.createEl("div",{className:"cld-plw-item-duration"},{},this.getDuration());return e.appendChild(n),e.appendChild(a),t&&t.appendChild(e),t.appendChild(e),t}}],n&&Vi(e.prototype,n),r&&Vi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(Bi);y().registerComponent("playlistPanelItem",Gi);const Ji=Gi;var Qi="play",Zi="playing",to="pause",eo="seek",no="mute",ro="unmute",io="pausenoseek",oo="error",ao="timeupdate",so="retryplaylist",co="canplaythrough",lo="cldsourcechanged",uo="sourcechanged",ho="loadedmetadata",fo="loadeddata",po="refreshTextTracks",yo="playlistcreated",vo="upcomingvideoshow",mo="upcomingvideohide",go="playlistitemchanged",bo="volumechange",_o="fluid",wo="PlaylistPanel",To="ended",ko="resize",Co="start",Eo="videoload",So="shoppableitemchanged",jo="fullscreenchange",Oo="percentsplayed",Po="timeplayed",xo="playerload",Ao="qualitychanged",Ro={AUDIO:"AudioSource",VIDEO:"VideoSource"};function Io(t){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(t)}function Lo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function No(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mo(t,e){return Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mo(t,e)}function Do(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Uo(t);if(e){var i=Uo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fo(this,n)}}function Fo(t,e){if(e&&("object"===Io(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bo(t)}function Bo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ho(){return Ho="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Vo(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Ho.apply(this,arguments)}function Vo(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Uo(t)););return t}function Uo(t){return Uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uo(t)}var zo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mo(t,e)}(o,t);var e,n,r,i=Do(o);function o(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Lo(this,o),n=i.call(this,t,r);var a=function(){n.render()};return t.on(go,a),n.render(),n.dispose=function(){Ho((e=Bo(n),Uo(o.prototype)),"dispose",e).call(e),t.off(go,a)},n}return e=o,n=[{key:"createEl",value:function(){var t=Ho(Uo(o.prototype),"createEl",this).call(this);return t.classList.add("cld-plw-panel"),t}},{key:"removeAll",value:function(){for(var t=this.children(),e=t.length-1;e>=0;--e)this.removeChild(t[e])}},{key:"getItems",value:function(){var t=this.player().cloudinary.playlist(),e=t._repeat;if(this.options_.showAll)return t.list();var n=[],r=this.options_.total,i=t.currentIndex(),o=t.list()[i];for(n.push(o);n.length<r;){if(-1===(i=t.nextIndex(i))){if(!e&&n.length>0)break;i=0}o=t.list()[i],n.push(o)}return n}},{key:"render",value:function(){var t=this,e=this.getItems();this.removeAll(),e.forEach((function(e,n){var r=new Ji(t.player(),y().mergeOptions(t.options_,{item:e,next:1===n,current:0===n}));t.addChild(r)}))}}],n&&No(e.prototype,n),r&&No(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(y().getComponent("Component"));y().registerComponent("playlistPanel",zo);function Wo(t){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(t)}function $o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xo(){return Xo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Ko(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Xo.apply(this,arguments)}function Ko(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qo(t)););return t}function Yo(t,e){return Yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yo(t,e)}function Go(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qo(t);if(e){var i=Qo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jo(this,n)}}function Jo(t,e){if(e&&("object"===Wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qo(t){return Qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qo(t)}var Zo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yo(t,e)}(o,t);var e,n,r,i=Go(o);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $o(this,o),i.call(this,t,e)}return e=o,(n=[{key:"createEl",value:function(){return Xo(Qo(o.prototype),"createEl",this).call(this,"div",{className:"vjs-progress-control-events-blocker"})}}])&&qo(e.prototype,n),r&&qo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(y().getComponent("Component"));y().registerComponent("progressControlEventsBlocker",Zo);function ta(t){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(t)}function ea(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function na(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ra(){return ra="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=ia(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},ra.apply(this,arguments)}function ia(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ca(t)););return t}function oa(t,e){return oa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oa(t,e)}function aa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ca(t);if(e){var i=ca(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sa(this,n)}}function sa(t,e){if(e&&("object"===ta(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ca(t){return ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ca(t)}const la=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oa(t,e)}(o,t);var e,n,r,i=aa(o);function o(){return ea(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"setItem",value:function(t){var e=t.action,n=t.source;this.source=n;var r=n.info();this.setTitle(r.title||n.publicId()),this.setPoster(this.source.poster().url({transformation:{aspect_ratio:"16:9",crop:"pad",background:"black"}})),this.setAction(e)}},{key:"setTitle",value:function(t){this.title.innerText=t}},{key:"setAction",value:function(t){this.action=t}},{key:"handleClick",value:function(){ra(ca(o.prototype),"handleClick",this).call(this),this.player().trigger("recommendationshide"),this.action()}}])&&na(e.prototype,n),r&&na(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(y().getComponent("ClickableComponent"));var ua=n(169),ha=n.n(ua);function fa(t){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(t)}function pa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function da(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ya(){return ya="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=va(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},ya.apply(this,arguments)}function va(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_a(t)););return t}function ma(t,e){return ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ma(t,e)}function ga(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_a(t);if(e){var i=_a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ba(this,n)}}function ba(t,e){if(e&&("object"===fa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _a(t){return _a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_a(t)}var wa=y().dom||y();const Ta=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ma(t,e)}(o,t);var e,n,r,i=ga(o);function o(){return pa(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"setItem",value:function(t){ya(_a(o.prototype),"setItem",this).call(this,t);var e=this.source.info();if(this.setTitle(e.title),this.setSubtitle(e.subtitle),e.description){var n=e.description.length>300?e.description.substring(0,300)+"...":e.description;this.setDescription(n)}}},{key:"setPoster",value:function(t){this.poster.style.backgroundImage="url('".concat(t,"')")}},{key:"setTitle",value:function(t){ha().setText(this.title,t)}},{key:"setSubtitle",value:function(t){ha().setText(this.subtitle,t)}},{key:"setDescription",value:function(t){ha().setText(this.description,t)}},{key:"clearItem",value:function(){this.setTitle(""),this.setSubtitle(""),this.setDescription(""),this.poster.style.backgroundImage=null}},{key:"createEl",value:function(){var t=ya(_a(o.prototype),"createEl",this).call(this,"div",{className:"vjs-recommendations-overlay-item vjs-recommendations-overlay-item-primary"});return this.poster=wa.createEl("div",{className:"vjs-recommendations-overlay-item-primary-image"}),this.title=wa.createEl("h2"),this.title.innerHTML="",this.subtitle=wa.createEl("h3"),this.subtitle.innerHTML="",this.description=wa.createEl("p"),this.description.innerHTML="",this.content=wa.createEl("div",{className:"vjs-recommendations-overlay-item-info vjs-recommendations-overlay-item-primary-content"}),this.content.appendChild(this.title),this.content.appendChild(this.subtitle),this.content.appendChild(this.description),t.appendChild(this.poster),t.appendChild(this.content),t}}])&&da(e.prototype,n),r&&da(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(la);function ka(t){return ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ka(t)}function Ca(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ea(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sa(){return Sa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=ja(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Sa.apply(this,arguments)}function ja(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Aa(t)););return t}function Oa(t,e){return Oa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oa(t,e)}function Pa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Aa(t);if(e){var i=Aa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xa(this,n)}}function xa(t,e){if(e&&("object"===ka(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Aa(t){return Aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Aa(t)}var Ra=y().dom||y();const Ia=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oa(t,e)}(o,t);var e,n,r,i=Pa(o);function o(){return Ca(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"setItem",value:function(t){Sa(Aa(o.prototype),"setItem",this).call(this,t),this.setDuration("")}},{key:"setPoster",value:function(t){this.el().style.backgroundImage="url('".concat(t,"')")}},{key:"setDuration",value:function(t){this.duration.innerText=t}},{key:"createEl",value:function(){var t=Sa(Aa(o.prototype),"createEl",this).call(this,"div",{className:"vjs-recommendations-overlay-item vjs-recommendations-overlay-item-secondary"});this.title=Ra.createEl("span",{className:"vjs-recommendations-overlay-item-secondary-title"}),this.title.innerHTML="",this.duration=Ra.createEl("span",{className:"vjs-recommendations-overlay-item-secondary-duration"}),this.duration.innerHTML="";var e=Ra.createEl("div",{className:"vjs-recommendations-overlay-item-info"});return e.appendChild(this.title),e.appendChild(this.duration),t.appendChild(e),t}},{key:"handleClick",value:function(){Sa(Aa(o.prototype),"handleClick",this).call(this),this.action()}}])&&Ea(e.prototype,n),r&&Ea(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(la);function La(t){return La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(t)}function Na(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ma(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Da(){return Da="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Fa(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Da.apply(this,arguments)}function Fa(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ua(t)););return t}function Ba(t,e){return Ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ba(t,e)}function Ha(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ua(t);if(e){var i=Ua(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Va(this,n)}}function Va(t,e){if(e&&("object"===La(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ua(t){return Ua=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ua(t)}const za=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ba(t,e)}(o,t);var e,n,r,i=Ha(o);function o(){return Na(this,o),i.apply(this,arguments)}return e=o,n=[{key:"setItems",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.clearItems(),n&&n.forEach((function(e){var n=new Ia(t.player());n.setItem(e),t.addChild(n)}))}},{key:"clearItems",value:function(){var t=this;this.children().forEach((function(){t.removeChild(t.children()[0])}))}},{key:"createEl",value:function(){return Da(Ua(o.prototype),"createEl",this).call(this,"div",{className:"vjs-recommendations-overlay-item-secondary-container"})}}],n&&Ma(e.prototype,n),r&&Ma(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(y().getComponent("Component"));function Wa(t){return Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(t)}function $a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xa(t,e,n){return e&&qa(t.prototype,e),n&&qa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ka(){return Ka="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Ya(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Ka.apply(this,arguments)}function Ya(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ts(t)););return t}function Ga(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ja(t,e)}function Ja(t,e){return Ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ja(t,e)}function Qa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ts(t);if(e){var i=ts(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Za(this,n)}}function Za(t,e){if(e&&("object"===Wa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ts(t){return ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ts(t)}var es=y().getComponent("Component"),ns=function(t){Ga(n,t);var e=Qa(n);function n(t){var r;$a(this,n);for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return(r=e.call.apply(e,[this,t].concat(o)))._content=new rs(t),r.addChild(r._content),r}return Xa(n,[{key:"setItems",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this._content).setItems.apply(e,[t].concat(r))}},{key:"clearItems",value:function(){this._content._primary.clearItem(),this._content._secondaryContainer.clearItems()}},{key:"createEl",value:function(){return Ka(ts(n.prototype),"createEl",this).call(this,"div",{className:"vjs-recommendations-overlay-content"})}}]),n}(es),rs=function(t){Ga(n,t);var e=Qa(n);function n(t){var r;$a(this,n);for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return(r=e.call.apply(e,[this,t].concat(o)))._primary=new Ta(t),r._secondaryContainer=new za(t),r.addChild(r._primary),r.addChild(r._secondaryContainer),r}return Xa(n,[{key:"setItems",value:function(t){var e;this._primary.setItem(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this._secondaryContainer).setItems.apply(e,r)}},{key:"createEl",value:function(){return Ka(ts(n.prototype),"createEl",this).call(this,"div",{className:"aspect-ratio-content"})}}]),n}(es);const is=ns;function os(t){return os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(t)}function as(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ss(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cs(){return cs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=ls(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},cs.apply(this,arguments)}function ls(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ps(t)););return t}function us(t,e){return us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},us(t,e)}function hs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ps(t);if(e){var i=ps(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fs(this,n)}}function fs(t,e){if(e&&("object"===os(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ps(t){return ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ps(t)}const ds=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&us(t,e)}(o,t);var e,n,r,i=hs(o);function o(){return as(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"createEl",value:function(){return cs(ps(o.prototype),"createEl",this).call(this,"span",{className:"vjs-recommendations-overlay-hide vjs-icon-close"})}},{key:"handleClick",value:function(){this.options_.clickHandler()}}])&&ss(e.prototype,n),r&&ss(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(y().getComponent("ClickableComponent"));function ys(t){return ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(t)}function vs(t){return function(t){if(Array.isArray(t))return ms(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ms(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ms(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ms(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gs(t,e,n){return gs=Es()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&ks(i,n.prototype),i},gs.apply(null,arguments)}function bs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ws(){return ws="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Ts(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},ws.apply(this,arguments)}function Ts(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ss(t)););return t}function ks(t,e){return ks=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ks(t,e)}function Cs(t,e){if(e&&("object"===ys(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Es(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ss(t){return Ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ss(t)}var js=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ks(t,e)}(s,t);var e,n,r,i,o,a=(e=s,n=Es(),function(){var t,r=Ss(e);if(n){var i=Ss(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return Cs(this,t)});function s(t,e){var n;bs(this,s);for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return(n=a.call.apply(a,[this,t].concat(i)))._content=new is(t),n.addChild(n._content),n.addChild(gs(ds,[t,{clickHandler:function(){n.close()}}].concat(i))),n.setEvents(t),n.doNotOpen=!1,n}return r=s,i=[{key:"setEvents",value:function(t){var e=this;this.on(t,"recommendationschanged",(function(t,n){e.setItems.apply(e,vs(n.items))})),this.on(t,"recommendationsnoshow",this.setDoNotOpen),this.on(t,"recommendationsshow",this.open),this.on(t,"recommendationshide",this.close),this.on(t,"cldsourcechanged",(function(){e.clearItems(),e.close()}))}},{key:"setDoNotOpen",value:function(){this.doNotOpen=!0}},{key:"open",value:function(){this.doNotOpen||(this._showControlsOnClose=this.player().controls(),this.player().controls(!1),this.el().style.visibility="visible")}},{key:"clearItems",value:function(){this._content.clearItems()}},{key:"close",value:function(){this.el().style.visibility="hidden",this._showControlsOnClose&&this.player().controls(!0)}},{key:"createEl",value:function(){var t="vjs-recommendations-overlay",e=ws(Ss(s.prototype),"createEl",this).call(this,"div",{className:t});return y().dom.addClass(e,t),e}},{key:"setItems",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.doNotOpen=!1,r=r.slice(0,3),(e=this._content).setItems.apply(e,[t].concat(vs(r)))}},{key:"handleClick",value:function(){this.stopPropagation()}},{key:"dispose",value:function(){ws(Ss(s.prototype),"dispose",this).call(this)}}],i&&_s(r.prototype,i),o&&_s(r,o),Object.defineProperty(r,"prototype",{writable:!1}),s}(y().getComponent("Component"));y().registerComponent("recommendationsOverlay",js);function Os(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ps(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ps(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ps(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xs=[1,4,5,6,7,10,11],As=function(t){var e=Os(t.split(":").reverse(),3),n=e[0],r=e[1],i=e[2],o=null;return isNaN(n)||(o=60*(+i||0)*60+60*(+r||0)+ +n),o},Rs=function(t){var e=Object.keys(t);if(!e.length)return"";var n=e.map((function(e){return"".concat(e,"=").concat(t[e])})).join("&");return"?".concat(n)};function Is(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ls(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Is(Object(n),!0).forEach((function(e){Ds(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Is(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ns(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ms(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ds(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fs=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ns(this,t),Ds(this,"_transformation",null);var i=dr(e,r),o=i.publicId,a=i.options,s=B(a,"cloudinaryConfig"),c=s.cloudinaryConfig,l=B(a,"transformation"),u=l.transformation,h=B(a,"queryParams"),f=h.queryParams;if(!c)throw new Error('Source is missing "cloudinaryConfig".');this.publicId=function(){return o},this.cloudinaryConfig=function(){return c},this.resourceConfig=function(){return a},this.queryParams=function(){return f},this.getType=function(){return n._type},this.transformation(u)}var e,n,r;return e=t,n=[{key:"transformation",value:function(t){return t&&(this._transformation=t),this._transformation}},{key:"config",value:function(){var t=this,e=this.cloudinaryConfig();return{cloud_name:e.cloudName,url:function(n,r){if(yr(n))return n;var i=gr(t.resourceConfig(),r);return mr(n,Ls(Ls({},e),i))}}}},{key:"url",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.transformation,n=this.config().url(this.publicId(),{transformation:e||this.transformation()}),r=this.queryParams()?Rs(this.queryParams()):"";return"".concat(n).concat(r)}}],n&&Ms(e.prototype,n),r&&Ms(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Bs=Fs;function Hs(t){return Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(t)}function Vs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Us(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zs(t,e){return zs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zs(t,e)}function Ws(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qs(t);if(e){var i=qs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $s(this,n)}}function $s(t,e){if(e&&("object"===Hs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qs(t){return qs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qs(t)}var Xs=RegExp("\\.(".concat(["jpg","png","gif","webp"].join("|"),")$$")),Ks={resource_type:"image",type:"upload",transformation:[]};const Ys=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zs(t,e)}(o,t);var e,n,r,i=Ws(o);function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Us(this,o);var r=dr(t,n);return t=r.publicId,n=r.options,t=t.replace(Xs,""),n=M({},Ks,n),(e=i.call(this,t,n))._type="ImageSource",e}return e=o,n&&Vs(e.prototype,n),r&&Vs(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(Bs);var Gs="goto",Js="seek",Qs="overlay",Zs="cld-spbl-panel",tc="cld-spbl-item",ec="cld-spbl-img";function nc(t){return nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(t)}function rc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ic(){return ic="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=oc(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},ic.apply(this,arguments)}function oc(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lc(t)););return t}function ac(t,e){return ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ac(t,e)}function sc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lc(t);if(e){var i=lc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cc(this,n)}}function cc(t,e){if(e&&("object"===nc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function lc(t){return lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lc(t)}var uc=y().getComponent("ClickableComponent"),hc=y().dom||y(),fc={width:132},pc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ac(t,e)}(o,t);var e,n,r,i=sc(o);function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,t,e)).options_=e,n.isDragged=!1,n}return e=o,(n=[{key:"handleClick",value:function(t){var e,n,r;t.preventDefault(),t.stopPropagation(),e=this.el_,n=".dragged .".concat(tc),((r=Element.prototype).matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),this)}).call(e,n)||this.options_.clickHandler(t),this.isDragged=!1}},{key:"getTitle",value:function(){return this.options_.conf.title}},{key:"createEl",value:function(){var t=ic(lc(o.prototype),"createEl",this).call(this,"a",{className:"".concat(tc," base-color-bg accent-color-text"),href:"#"});t.setAttribute("data-product-id",this.options_.conf.productId||""),t.setAttribute("data-product-name",this.options_.conf.productName||""),this.options_.conf.onHover&&dc(t,this.options_.conf.onHover,this.options_.item.cloudinaryConfig()),this.options_.conf.onClick&&yc(t,this.options_.conf.onClick);var e=ic(lc(o.prototype),"createEl",this).call(this,"img",{className:ec},{src:this.options_.item.url(fc)});if(t.appendChild(e),this.getTitle()){var n=hc.createEl("div",{className:"cld-spbl-item-info base-color-semi-bg text-color-text"}),r=hc.createEl("span",{className:"cld-spbl-item-title"},{},this.getTitle());n.appendChild(r),t.appendChild(n)}return t}}])&&rc(e.prototype,n),r&&rc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(uc),dc=function(t,e,n){if(t.setAttribute("data-hover-action",e.action),e.action===Qs){var r=hc.createEl("span",{className:"cld-spbl-overlay-text base-color-text"},{},e.args),i=hc.createEl("span",{className:"cld-spbl-overlay text-color-semi-bg base-color-text"},{title:e.args},r);t.appendChild(i)}else{var o=new Ys(e.args.publicId,{cloudinaryConfig:n,transformation:e.args.transformation}),a=hc.createEl("img",{className:"".concat(ec," cld-spbl-hover-img")},{src:o.url(fc)});t.appendChild(a)}},yc=function(t,e){t.setAttribute("data-click-action",e.action),t.setAttribute("data-pause",e.pause),e.action===Js?t.setAttribute("data-seek",e.args.time):e.action===Gs&&t.setAttribute("data-goto-url",e.args.url)};y().registerComponent("shoppablePanelItem",pc);const vc=pc;function mc(t){return mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(t)}function gc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _c(t,e){return _c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_c(t,e)}function wc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sc(t);if(e){var i=Sc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tc(this,n)}}function Tc(t,e){if(e&&("object"===mc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kc(t)}function kc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cc(){return Cc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Ec(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Cc.apply(this,arguments)}function Ec(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sc(t)););return t}function Sc(t){return Sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sc(t)}var jc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_c(t,e)}(o,t);var e,n,r,i=wc(o);function o(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};gc(this,o),(n=i.call(this,t,r)).options=r;var a=function(){n.render()};return t.on(So,a),n.render(),n.dispose=function(){Cc((e=kc(n),Sc(o.prototype)),"dispose",e).call(e),t.off(So,a)},n}return e=o,n=[{key:"createEl",value:function(){var t=Cc(Sc(o.prototype),"createEl",this).call(this);return[Zs,"base-color-bg"].map((function(e){return t.classList.add(e)})),t}},{key:"removeAll",value:function(){for(var t=this.children(),e=t.length-1;e>=0;--e)this.removeChild(t[e])}},{key:"getItems",value:function(){var t=this,e=this.player_.cloudinary.cloudinaryConfig();return this.options.products.map((function(n){n.onHover&&"object"===mc(n.onHover.args)&&(n.onHover.args.transformation=M({},t.options.transformation,n.onHover.args.transformation));var r={productId:n.productId,productName:n.productName,title:n.title,onHover:n.onHover,onClick:n.onClick,startTime:n.startTime,endTime:n.endTime};return{imageSrc:new Ys(n.publicId,{cloudinaryConfig:e,transformation:M({},t.options.transformation,n.transformation)}),conf:r}}))}},{key:"scrollToActiveItem",value:function(){var t=this.el_.getElementsByClassName("active");if(t.length>0){var e=t[0].offsetTop-12;"scrollBehavior"in document.documentElement.style?this.el_.scrollTo({top:e,behavior:"smooth"}):this.el_.scrollTop=e}}},{key:"render",value:function(){var t=this;this.removeAll();var e,n,r,i=this.getItems(),o=(e=function(){return t.scrollToActiveItem()},n=1e3,r=window.performance.now(),function(){var t=window.performance.now();t-r>=n&&(e.apply(void 0,arguments),r=t)});i.forEach((function(e,n){var r=new vc(t.player(),{item:e.imageSrc,conf:e.conf,next:1===n,current:0===n,clickHandler:function(e){var n=e.currentTarget||e.target,r=t.player_.ended()?"productClickPost":"productClick";if(t.player_.trigger(r,{productId:n.dataset.productId,productName:n.dataset.productName}),n.dataset.clickAction===Gs)window.open(n.dataset.gotoUrl,"_blank");else if(n.dataset.clickAction===Js){var i=As(n.dataset.seek);null!==i&&(t.player_.addClass("vjs-has-started"),t.player_.postModal&&t.player_.postModal.close(),t.player_.currentTime(i),t.player_.removeClass("shoppable-panel-visible"),t.player_.addClass("shoppable-panel-hidden"),t.player_.addClass("shoppable-products-overlay"),t.player_.one("seeked",(function(){return t.player_.trigger("showProductsOverlay")})))}"false"!==n.dataset.pause&&(t.player_.pause(),As(n.dataset.pause)&&setTimeout((function(){t.player_.play()}),1e3*As(n.dataset.pause)))}});r.on("mouseover",(function(e){var n=e.currentTarget||e.target,r=t.player_.ended()?"productHoverPost":"productHover";t.player_.trigger(r,{productId:n.dataset.productId,productName:n.dataset.productName})})),void 0!==e.conf.startTime&&void 0!==e.conf.endTime&&t.player_.on(ao,(function(){var n=t.player_.currentTime();n>=e.conf.startTime&&n<e.conf.endTime?(r.el_.classList.add("active"),o()):r.el_.classList.contains("active")&&r.el_.classList.remove("active")})),t.addChild(r)}))}}],n&&bc(e.prototype,n),r&&bc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(y().getComponent("Component"));y().registerComponent("shoppablePanel",jc);function Oc(t){return Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(t)}function Pc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ac(){return Ac="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Rc(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Ac.apply(this,arguments)}function Rc(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mc(t)););return t}function Ic(t,e){return Ic=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ic(t,e)}function Lc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mc(t);if(e){var i=Mc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Nc(this,n)}}function Nc(t,e){if(e&&("object"===Oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Mc(t){return Mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mc(t)}var Dc=y().dom||y(),Fc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ic(t,e)}(o,t);var e,n,r,i=Lc(o);function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Pc(this,o),(e=i.call(this,t,n)).on(t,"cldsourcechanged",(function(t,n){var r=n.source;return e.setItem(r)})),e}return e=o,(n=[{key:"setItem",value:function(t){if(!t)return this.setTitle(""),void this.setSubtitle("");var e=t.info();this.setTitle(e.title),this.setSubtitle(e.subtitle)}},{key:"setTitle",value:function(t){return ha().setText(this.titleEl,t),this.refresh(),t}},{key:"setSubtitle",value:function(t){return ha().setText(this.subtitleEl,t),this.refresh(),t}},{key:"refresh",value:function(){var t=this;t.titleEl.innerText||t.subtitleEl.innerText?this.show():this.hide()}},{key:"createEl",value:function(){this.titleEl=Dc.createEl("div",{className:"vjs-title-bar-title"}),this.subtitleEl=Dc.createEl("div",{className:"vjs-title-bar-subtitle"});var t=Ac(Mc(o.prototype),"createEl",this).call(this,"div",{append:this.titleEl,className:"vjs-title-bar"});return t.appendChild(this.titleEl),t.appendChild(this.subtitleEl),t}}])&&xc(e.prototype,n),r&&xc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(y().getComponent("Component"));y().registerComponent("titleBar",Fc);function Bc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hc(t,e,n){return e&&Bc(t.prototype,e),n&&Bc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Uc={fraction:.5,isMuted:!0},zc=Hc((function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Vc(this,t),r=M({},Uc,r),this.player=e;var i=F(r,"fraction"),o=!1,a=!1,s=null,c=null;this.init=function(){p(),f()};var l=function(){window.removeEventListener("DOMContentLoaded",f,!1),window.removeEventListener("load",f,!1),window.removeEventListener("scroll",f,!1),window.removeEventListener("resize",f,!1),n.player.off("pause",s),n.player.off("play",c)},u=function(){o=!0,a=!1,n.player.pause()},h=function(){o=!1,a=!0,n.player.play()},f=function(){U(n.player.el(),{fraction:i.fraction})?n.player.paused()&&h():n.player.paused()||n.player.activePlugins_.floatingPlayer||u()},p=function(){s=function(){n.player.waiting||o||l()},c=function(){a||l()},window.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1),window.addEventListener("scroll",f,!1),window.addEventListener("resize",f,!1),n.player.on("pause",s),n.player.on("play",c)}}));function Wc(t){return Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(t)}function $c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qc(t,e,n){return e&&$c(t.prototype,e),n&&$c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Kc={fraction:.5,collapsedWidth:300,floatTo:"right"},Yc=qc((function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xc(this,t),(r=M({},Kc,r)).floatTo&&r.floatTo!==ni.LEFT&&r.floatTo!==ni.RIGHT&&(r.floatTo=Kc.floatTo),this.player=e;var i=this.player.el(),o=F(r,"fraction"),a=null,s=!1,c=!1;this.init=function(){f(),"object"===Wc(n.player.ima)&&d()};var l=function(t){var e=document.createElement("div");for(t.appendChild(e);t.firstChild!==e;)e.appendChild(t.firstChild);return e},u=function(){window.removeEventListener("DOMContentLoaded",b,!1),window.removeEventListener("load",b,!1),window.removeEventListener("scroll",b,!1),window.removeEventListener("resize",b,!1)},h=function(){window.addEventListener("DOMContentLoaded",b,!1),window.addEventListener("load",b,!1),window.addEventListener("scroll",b,!1),window.addEventListener("resize",b,!1)},f=function(){n.player.on("play",b),n.player.on("play",h),n.player.on("dispose",u)},p=function(){var t=i.getBoundingClientRect();a.setAttribute("class","cld-video-player-floater cld-video-player-floater-bottom-".concat(r.floatTo)),a.setAttribute("style",["width: "+r.collapsedWidth+"px;","top: "+t.top+"px;","left: "+t.left+"px;","right: "+(document.documentElement.clientWidth-t.right)+"px;","bottom: "+(document.documentElement.clientHeight-t.bottom)+"px;"].join("")),c=!0},d=function(){var t=i.getBoundingClientRect();a=l(i);var e=l(a);e.setAttribute("class","cld-video-player-floater-inner"),e.setAttribute("style","padding-bottom: "+100*t.height/t.width+"%;");var n=document.createElement("button");n.setAttribute("class","cld-video-player-floater-close"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><polygon fill-rule="evenodd" points="370 7.41 368.59 6 364 10.59 359.41 6 358 7.41 362.59 12 358 16.59 359.41 18 364 13.41 368.59 18 370 16.59 365.41 12" transform="translate(-358 -6)"/></svg>',n.onclick=function(){m(),g()},a.appendChild(n)},y=function(){var t=n.player.ima;t&&t.adsActive&&t.getAdsManager().resize(s?a.clientWidth:i.clientWidth,s?a.clientHeight:i.clientHeight)},v=function(){a||d(),c||p(),s=!0,setTimeout((function(){a.classList.add("cld-video-player-floating"),y()}))},m=function(){a.classList.remove("cld-video-player-floating"),s=!1,y()},g=function(){u(),n.player.off("play",b),n.player.off("play",h)},b=function(){U(n.player.el(),{fraction:o.fraction})?s&&m():s||v()}}));function Gc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jc(t,e,n){return e&&Gc(t.prototype,e),n&&Gc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Zc="\n  .PLAYER-CLASS-PREFIX {\n    --color-accent: --accent-color;\n    --color-base: --base-color;\n    --color-text: --text-color;\n\n    color: --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-time-tooltip,\n  .PLAYER-CLASS-PREFIX .vjs-mouse-display:after,\n  .PLAYER-CLASS-PREFIX .vjs-play-progress:after {\n    color: --base-color;\n    background-color: --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-slider {\n    background-color: rgba(--accent-color, 0.3);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-load-progress,\n  .PLAYER-CLASS-PREFIX .vjs-load-progress div {\n    background: rgba(--accent-color, 0.2);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-volume-level,\n  .PLAYER-CLASS-PREFIX .vjs-play-progress {\n    background: --accent-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-volume-vertical {\n    background-color: rgba(--base-color, 0.7);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-volume-panel-horizontal .vjs-control:before {\n    border-color: transparent transparent rgba(--accent-color, 0.4) transparent;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-volume-panel-horizontal .vjs-volume-level:before {\n    border-color: transparent transparent --accent-color transparent;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-title-bar {\n    color: --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay {\n    color: --text-color;\n    background-color: rgba(--base-color, 0.4);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item {\n    box-shadow: 0 0.5em 1.2em 0px --base-color;\n    color: --text-color;\n    border: 1px solid --text-color !important;\n    position: relative;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item:active,\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item:hover {\n    border: 1px solid --accent-color !important;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-context-menu-ui .vjs-menu-content .vjs-menu-item:active,\n  .PLAYER-CLASS-PREFIX .vjs-context-menu-ui .vjs-menu-content .vjs-menu-item:hover {\n    color: --text-color;\n    background-color: --accent-color;\n  }\n\n  .PLAYER-CLASS-PREFIX.vjs-ad-playing .vjs-progress-control .vjs-play-progress {\n    background: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX.cld-plw-layout {\n    background-color: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .cld-plw-item-info-wrap {\n    color: --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .cld-plw-panel-item {\n    border-color: --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .cld-video-player-floater-close polygon {\n    fill: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .cld-spbl-product-hotspot:after {\n    background: --base-color;\n    box-shadow: 0 0 0 4px --accent-color, 0 0 0 8px rgba(--text-color, 0.24);\n  }\n\n  .PLAYER-CLASS-PREFIX .cld-spbl-product-tooltip {\n    color: --base-color;\n    background: --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .base-color-semi-bg {\n    background: rgba(--base-color, 0.7);\n  }\n\n  .PLAYER-CLASS-PREFIX .text-color-semi-bg {\n    background: rgba(--text-color, 0.7);\n  }\n\n  .PLAYER-CLASS-PREFIX .text-color-text {\n    color: --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .base-color-text {\n    color: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .accent-color-text {\n    color: --accent-color;\n  }\n",tl="\n\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-dark .base-color-bg,\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-dark .vjs-control-bar,\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-dark .vjs-big-play-button,\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-dark .vjs-menu-button\n  .vjs-menu-content {\n    background-color: rgba(--base-color, 0.6);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-title-bar {\n    background-image: linear-gradient(--base-color, rgba(255, 255, 255, 0) 100%);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-primary .vjs-recommendations-overlay-item-primary-content {\n    background-color: rgba(--base-color, 0.6);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-secondary div {\n    background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent 80%);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-upcoming-video {\n    border: 1px solid rgba(--text-color, 0.5);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-upcoming-video .vjs-upcoming-video-bar {\n    background-color: rgba(--base-color, 0.6);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-context-menu-ui .vjs-menu-content {\n    background-color: rgba(--base-color, 0.6);\n  }\n",el="\n  .PLAYER-CLASS-PREFIX .vjs-title-bar {\n    flex-direction: row;\n    justify-content: left;\n    height: 3.6em;\n    background: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-title-bar div {\n    width: auto;\n    padding: 0 inherit;\n    margin: 0;\n  }\n\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-light .base-color-bg,\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-light .vjs-control-bar,\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-light .vjs-big-play-button,\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-light .vjs-menu-button .vjs-menu-content {\n    background-color: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-primary .vjs-recommendations-overlay-item-primary-content {\n    background-color: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-primary:active .vjs-recommendations-overlay-item-primary-content,\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-primary:hover .vjs-recommendations-overlay-item-primary-content {\n    color: --base-color;\n    background-color: rgba(--accent-color, 0.8);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-secondary:active div,\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-secondary:hover div {\n    color: --base-color;\n    background-color: rgba(--accent-color, 0.8);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-secondary div {\n    background: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-upcoming-video {\n    border: 1px solid --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-upcoming-video .vjs-upcoming-video-bar {\n    background-color: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-context-menu-ui .vjs-menu-content {\n    background-color: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .cld-plw-item-info-wrap {\n    color: --text-color;\n  }\n\n  @media only screen and (max-width: 768px) {\n    .PLAYER-CLASS-PREFIX.cld-plw-vertical .cld-plw-item-info-wrap {\n      color: --accent-color;\n    }\n  }\n",nl={colorsDark:{base:"#000000",accent:"#FF620C",text:"#FFFFFF"},colorsLight:{base:"#FFFFFF",accent:"#0078FF",text:"#0E2F5A"}},rl=function(t){return bi(t)?nl.colorsLight:nl.colorsDark},il=Jc((function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qc(this,t),this.player=e;var i=rl(this.player.options_);r.colors=M({},i,r.colors),this.init=function(){o(s(Zc)),"light"===n.player.options_.skin?o(s(el)):o(s(tl))};var o=function(t){var e=document.createElement("style");e.innerHTML=t,n.player.el_.appendChild(e)},a=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,r){return e+e+n+n+r+r}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16):null},s=function(t){return t.replace(/PLAYER\-CLASS\-PREFIX/g,ai(n.player)).replace(/rgba\(\-\-base\-color/g,"rgba("+a(r.colors.base)).replace(/rgba\(\-\-accent\-color/g,"rgba("+a(r.colors.accent)).replace(/rgba\(\-\-text\-color/g,"rgba("+a(r.colors.text)).replace(/\-\-base\-color/g,r.colors.base).replace(/\-\-accent\-color/g,r.colors.accent).replace(/\-\-text\-color/g,r.colors.text)}}));var ol={cancel:!0,sensitivity:10,wait:500,disabled:!1},al="vjs-contextmenu";function sl(t,e){if(t.contextmenu.options.disabled)return t;var n={target:t,type:al};return["clientX","clientY","pageX","pageY","screenX","screenY"].forEach((function(t){n[t]=e[t]})),t.trigger(n)}function cl(t){var e=this.contextmenu.current;if(e){var n=this.contextmenu.options.wait;"touchend"===t.type&&(new Date).getTime()-e.time>=n&&sl(this,t),this.contextmenu.current=null}}function ll(t){var e=this.contextmenu.current;if(e){var n=t.touches[0],r=this.contextmenu.options.sensitivity;(n.screenX-e.screenX>r||n.screenY-e.screenY>r)&&(this.contextmenu.current=null)}}function ul(t){if(!this.contextmenu.current){var e=t.touches[0];this.contextmenu.current={screenX:e.screenX,screenY:e.screenY,time:(new Date).getTime()}}}function hl(t){this.contextmenu.options.cancel&&!this.contextmenu.options.disabled&&t.preventDefault(),sl(this,t),this.off(["touchcancel","touchend"],cl),this.off("touchmove",ll),this.off("touchstart",ul)}function fl(t){var e=this;this.contextmenu.options=y().mergeOptions(ol,t),this.on("contextmenu",hl),this.on(["touchcancel","touchend"],cl),this.on("touchmove",ll),this.on("touchstart",ul),this.ready((function(){return e.addClass(al)}))}y().registerPlugin("contextmenu",fl);var pl=function(t){return Array.isArray(t)?t:[t]},dl=function(t,e){return!(!Array.isArray(t)||!t.length)&&t.some(e)},yl=function(t,e){if(Array.isArray(t)&&t.length)return t.map(e)};function vl(t){return vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(t)}var ml=function(t,e){return t.parentNode.insertBefore(e,t),e.appendChild(t),e},gl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=document.createElement(t);for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.setAttribute(i,e[i]);return pl(n).forEach((function(t){return bl(t,r)})),r},bl=function(t,e){if(t instanceof Element)e.appendChild(t);else if(t&&"object"!==vl(t)){var n=document.createTextNode(t);e.appendChild(n)}};function _l(t){return _l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(t)}function wl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kl(){return kl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Cl(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},kl.apply(this,arguments)}function Cl(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ol(t)););return t}function El(t,e){return El=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},El(t,e)}function Sl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ol(t);if(e){var i=Ol(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jl(this,n)}}function jl(t,e){if(e&&("object"===_l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ol(t){return Ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ol(t)}const Pl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&El(t,e)}(o,t);var e,n,r,i=Sl(o);function o(){return wl(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"handleClick",value:function(){kl(Ol(o.prototype),"handleClick",this).call(this),this.options_.listener()}},{key:"createEl",value:function(){var t=gl("span",{class:"vjs-menu-item-text"+(this.options_.class?" ".concat(this.options_.class):"")});return t.appendChild(document.createTextNode(this.localize(this.options_.label))),gl("li",{class:"vjs-menu-item",tabIndex:-1},t)}}])&&Tl(e.prototype,n),r&&Tl(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(y().getComponent("MenuItem"));function xl(t){return xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(t)}function Al(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rl(){return Rl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Il(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Rl.apply(this,arguments)}function Il(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fl(t)););return t}function Ll(t,e){return Ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ll(t,e)}function Nl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fl(t);if(e){var i=Fl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ml(this,n)}}function Ml(t,e){if(e&&("object"===xl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dl(t)}function Dl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fl(t){return Fl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fl(t)}const Bl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ll(t,e)}(o,t);var e,n,r,i=Nl(o);function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,t,e)).dispose=y().bind(Dl(n),n.dispose),e.content.forEach((function(e){var r=null;r=Q(e.listener)?e.listener:"string"==typeof e.href?function(){return window.open(e.href)}:function(){return!0};var i=Dl(n);n.addItem(new Pl(t,{label:e.label,class:e.class,listener:y().bind(t,(function(){r(this),window.setTimeout((function(){i.dispose()}),1)}))}))})),n}return e=o,(n=[{key:"setPosition",value:function(t,e){z(this.el(),t,e)}},{key:"createEl",value:function(){var t=Rl(Fl(o.prototype),"createEl",this).call(this);if(y().dom.addClass(t,"vjs-context-menu-ui"),this.options_.position){var e=this.options_.position,n=e.left,r=e.top;this.setPosition(n,r)}return t}}])&&Al(e.prototype,n),r&&Al(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(y().getComponent("Menu"));function Hl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vl(t,e,n){return e&&Hl(t.prototype,e),n&&Hl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Ul={showNativeOnRecurringEvent:!1},zl=Vl((function t(e,n){var r=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!Array.isArray(n.content)&&!Q(n.content))throw new Error('"content" required');var i=M({},Ul,n);this.player=e;var o=F(i,"content","showNativeOnRecurringEvent");this.init=function(){r.player.contextmenu(),r.player.on("vjs-contextmenu",a),r.player.ready((function(){return r.player.addClass("vjs-context-menu")}))};var a=function(t){if(!r.menu||(r.menu.dispose(),!o.showNativeOnRecurringEvent)){o.showNativeOnRecurringEvent&&(r.player.contextmenu.options.cancel=!1),t.preventDefault();var e=o.content;Q(e)&&(e=e(r.player)),r.menu=new Bl(r.player,{content:e});var n=function(t){var e=r.menu.el();e.style.visibility="hidden",r.player.el().appendChild(e);var n=e.getBoundingClientRect();r.player.el().removeChild(e),e.style.visibility="visible";var i=V(r.player.el(),t),o=r.player.el().getBoundingClientRect(),a=o.height-o.height*i.y+1,s=Math.round(o.width*i.x)+1,c=a,l=s;return a+n.height>o.height&&(c=a+n.height-o.height>n.height/2?a-n.height-1:o.height-n.height),s+n.width>o.width&&(l=s+n.width-o.width>n.width/2?s-n.width-1:o.width-n.width),c<a&&l<s&&(c=a-n.height-1,l=s-n.width-1),c=Math.max(0,c),{left:l=Math.max(0,l),top:c}}(t),i=n.left,a=n.top;r.menu.setPosition(i,a);var s=function(t){("click"!==t.type||3!==t.which&&2!==t.button)&&r.menu.dispose()};r.menu.on("dispose",(function(){r.player.contextmenu.options.cancel=!0,r.player.removeChild(r.menu),y().off(document,["click","tap"],s),delete r.menu})),r.player.addChild(r.menu),y().on(document,["click","tap"],s)}}}));function Wl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return $l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ql(t){var e=Wl(t.toLowerCase().split("/"),2),n=e[0],r=e[1],i=it[n],o=null;return i||(i=["video/".concat(n),o]),r&&(o=function(t){if(!t)return{};switch(t){case Pr.VP9:return{video_codec:Pr.VP9};case Pr.HEV1:return{video_codec:Pr.H265};case Pr.H264:return{video_codec:"".concat(Pr.H264,":baseline:3.0")};default:return{video_codec:Or(t)}}}(r),i=["".concat(i[0],'; codecs="').concat(Er(r),'"'),o]),i}var Xl=function(t){return t&&dl(Object.values(Pr),(function(e){return t.includes(e)}))},Kl=function(t,e){return!(!t&&!e)&&(!!function(t){return dl(["video_codec","streaming_profile"],(function(e){return Dr(t,e)}))}(t)||(K(e)?Xl(e):dl(t,(function(t){return dl(t,(function(t){return Xl(X(t)?t.video_codec:t)}))}))))};function Yl(t){return Yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(t)}function Gl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Jl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jl(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ql(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tu(t,e){return tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tu(t,e)}function eu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ru(t);if(e){var i=ru(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return nu(this,n)}}function nu(t,e){if(e&&("object"===Yl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ru(t){return ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ru(t)}var iu=0,ou=function(){return iu++};const au=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tu(t,e)}(o,t);var e,n,r,i=eu(o);function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ql(this,o);var r=yr(t),a=dr(t,n),s=a.publicId,c=a.options;r||(s=s.replace(nt,"")),(c=M({},et,c)).poster||(c.poster=M({publicId:s},Z));var l=B(c,"poster","sourceTypes","sourceTransformation","info","recommendations","textTracks","withCredentials","interactionAreas"),u=l.poster,h=l.sourceTypes,f=l.sourceTransformation,p=l.info,d=l.recommendations,y=l.textTracks,v=l.withCredentials,m=l.interactionAreas;return(e=i.call(this,s,c))._sourceTypes=null,e._recommendations=null,e._textTracks=null,e._poster=null,e._info=null,e._sourceTransformation=null,e._interactionAreas=null,e._type=Ro.VIDEO,e.isRawUrl=r,e._rawTransformation=c.raw_transformation,e.withCredentials=!!v,e.getInitOptions=function(){return n},e.poster(u),e.sourceTypes(h),e.sourceTransformation(f),e.info(p),e.interactionAreas(m),e.recommendations(d),e.textTracks(y),e.objectId=ou(),e}return e=o,n=[{key:"textTracks",value:function(t){return void 0===t?this._textTracks:(this._textTracks=t,this)}},{key:"recommendations",value:function(t){return void 0===t?this._recommendations:(this._recommendations=t,this)}},{key:"sourceTypes",value:function(t){return t?(this._sourceTypes=t,this):this._sourceTypes}},{key:"info",value:function(t){return t?(this._info=t,this):this._info}},{key:"interactionAreas",value:function(t){return t?(this._interactionAreas=t,this):this._interactionAreas}},{key:"sourceTransformation",value:function(t){return t?(this._sourceTransformation=t,this):this._sourceTransformation}},{key:"poster",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return this._poster;if(t instanceof Ys)return this._poster=t,this;var n=dr(t,e,{tolerateMissingId:!0});return t=n.publicId,e=n.options,t||(t=this.publicId(),e=M({},e,Z)),e.cloudinaryConfig=e.cloudinaryConfig||this.cloudinaryConfig(),this._poster=new Ys(t,e),this}},{key:"contains",value:function(t){return this.generateSources().some((function(e){return i=n=e,o=r=t,"object"===pr(n)&&(i=n.src),"object"===pr(r)&&(o=r.src),/^\/\//.test(i)&&(o=o.slice(o.indexOf("//"))),/^\/\//.test(o)&&(i=i.slice(i.indexOf("//"))),i===o;var n,r,i,o}))}},{key:"generateSources",value:function(){var t=this;if(this.isRawUrl){var e=this.sourceTypes().length>1?null:this.sourceTypes()[0];return[this.generateRawSource(this.publicId(),e)]}var n=this.sourceTypes().map((function(e){var n=t.sourceTransformation()[e]||t.transformation(),r=function(t){t=t.toLowerCase().split("/").shift();var e=ot[t];return e||(e=t.split("/").shift()),e}(e),i=-1!==["mpd","m3u8"].indexOf(r),o={};n&&(o.transformation=pl(n)),M(o,{resource_type:"video",format:r});var a=Gl(ql(e),2),s=a[0],c=a[1];c&&!Kl(o.transformation,t._rawTransformation)&&(o.transformation=gr(o.transformation,c)),"auto"===o.format&&delete o.format;var l=t.queryParams()?Rs(t.queryParams()):"",u=t.config().url(t.publicId(),o),h=u.indexOf("?")>-1?l.replace("?","&"):l;return{type:s,src:u+h,cldSrc:t,isAdaptive:i,withCredentials:t.withCredentials}}));return"undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))?n.filter((function(t){return'video/mp4; codec="hev1.1.6.L93.B0"'!==t.type})):y().browser.IS_ANY_SAFARI?n.filter((function(t){return-1===t.type.indexOf("application/dash+xml")})):n}},{key:"generateRawSource",value:function(t,e){var n=e||t.split(".").pop(),r=!!it[n];return{type:e=r?it[n][0]:e?"video/".concat(e):null,src:t,cldSrc:this,isAdaptive:r,withCredentials:this.withCredentials}}},{key:"getInteractionAreas",value:function(){return this._interactionAreas}}],n&&Zl(e.prototype,n),r&&Zl(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(Bs);function su(t){return su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(t)}function cu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uu(t,e,n){return e&&lu(t.prototype,e),n&&lu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hu(){return hu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=fu(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},hu.apply(this,arguments)}function fu(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gu(t)););return t}function pu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&du(t,e)}function du(t,e){return du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},du(t,e)}function yu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gu(t);if(e){var i=gu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vu(this,n)}}function vu(t,e){if(e&&("object"===su(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mu(t)}function mu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gu(t){return gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(t)}function bu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _u=y().dom||y(),wu=y().getComponent("Component"),Tu=function(t){pu(n,t);var e=yu(n);function n(t){var r;cu(this,n);for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return bu(mu(r=e.call.apply(e,[this,t].concat(o))),"_hide",(function(){r.removeClass(n.VJS_UPCOMING_VIDEO_SHOW)})),bu(mu(r),"_onPlaylistItemChange",(function(t,e){r._hide(),r._disableTransition((function(){e.next&&r.setItem(e.next)}))})),bu(mu(r),"_show",(function(){var t=r.player().ima,e="object"===t&&t.getAdsManager();e&&e.getCurrentAd()&&!e.getCurrentAd().isLinear()||r.addClass(n.VJS_UPCOMING_VIDEO_SHOW)})),r._setEvents(t),r}return uu(n,[{key:"_setEvents",value:function(t){t.on(vo,this._show),t.on(mo,this._hide),t.on(go,this._onPlaylistItemChange)}},{key:"_disableTransition",value:function(t){this.addClass(n.DISABLE_TRANSITION_CLASS),t(),this.removeClass(n.DISABLE_TRANSITION_CLASS)}},{key:"setTitle",value:function(t){this.getChild("upcomingVideoOverlayContent").getChild("upcomingVideoOverlayBar").getChild("upcomingVideoOverlayTitle").setContent(t.info().title||t.publicId())}},{key:"setItem",value:function(t){this._source=t;var e=parseInt(window.getComputedStyle(this.el(),null).getPropertyValue("max-width"),10),n={crop:"pad",background:"auto:predominant",width:e,height:Math.round(e*(9/16))},r=this.getChild("upcomingVideoOverlayContent");this.setTitle(t),r.el().style.backgroundImage="url(".concat(this._source.poster().url({transformation:n}),")")}},{key:"handleClick",value:function(){hu(gu(n.prototype),"handleClick",this).call(this,event),this.player().cloudinary.playlist().playNext()}},{key:"createEl",value:function(){return hu(gu(n.prototype),"createEl",this).call(this,"div",{className:"vjs-upcoming-video"})}}]),n}(y().getComponent("ClickableComponent"));bu(Tu,"DISABLE_TRANSITION_CLASS","disable-transition"),bu(Tu,"VJS_UPCOMING_VIDEO_SHOW","vjs-upcoming-video-show");var ku=function(t){pu(n,t);var e=yu(n);function n(){return cu(this,n),e.apply(this,arguments)}return uu(n,[{key:"createEl",value:function(){return hu(gu(n.prototype),"createEl",this).call(this,"div",{className:"upcoming-video-overlay aspect-ratio-content"})}}]),n}(wu),Cu=function(t){pu(n,t);var e=yu(n);function n(){return cu(this,n),e.apply(this,arguments)}return uu(n,[{key:"setContent",value:function(t){this._contentSpan.innerText=t}},{key:"createEl",value:function(){var t=hu(gu(n.prototype),"createEl",this).call(this,"div",{className:"vjs-control vjs-upcoming-video-title"}),e=_u.createEl("div",{className:"vjs-upcoming-video-title-display",innerHTML:'<span class="vjs-control-text">Next up</span>Next up: '});return this._contentSpan=_u.createEl("span",{className:"vjs-upcoming-video-title-display-label"}),e.appendChild(this._contentSpan),t.appendChild(e),t}}]),n}(wu),Eu=function(t){pu(n,t);var e=yu(n);function n(){return cu(this,n),e.apply(this,arguments)}return uu(n,[{key:"createEl",value:function(){return hu(gu(n.prototype),"createEl",this).call(this,"div",{className:"vjs-upcoming-video-bar"})}}]),n}(wu);Tu.prototype.options_={children:["upcomingVideoOverlayContent"]},y().registerComponent("upcomingVideoOverlay",Tu),ku.prototype.options_={children:["upcomingVideoOverlayBar"]},y().registerComponent("upcomingVideoOverlayContent",ku),Eu.prototype.options_={children:["upcomingVideoOverlayTitle","playlistNextButton"]},y().registerComponent("upcomingVideoOverlayBar",Eu),y().registerComponent("upcomingVideoOverlayTitle",Cu);function Su(t){return Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(t)}function ju(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ou(t,e){return Ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ou(t,e)}function Pu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Au(t);if(e){var i=Au(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xu(this,n)}}function xu(t,e){if(e&&("object"===Su(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Au(t){return Au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Au(t)}const Ru=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ou(t,e)}(o,t);var e,n,r,i=Pu(o);function o(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),n=i.call(this,t,e);var r=e.type;if(!r&&"previous"!==r&&"next"!==r)throw new Error("Type must be either 'previous' or 'next'");return n}return e=o,(n=[{key:"createEl",value:function(){var t=this.options_.type,e="vjs-icon-play-".concat(t);return y().dom.createEl("button",{className:"vjs-control vjs-playlist-button vjs-button ".concat(e)})}}])&&ju(e.prototype,n),r&&ju(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(y().getComponent("ClickableComponent"));function Iu(t){return Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(t)}function Lu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nu(){return Nu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Mu(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Nu.apply(this,arguments)}function Mu(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hu(t)););return t}function Du(t,e){return Du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Du(t,e)}function Fu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hu(t);if(e){var i=Hu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Bu(this,n)}}function Bu(t,e){if(e&&("object"===Iu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Hu(t){return Hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hu(t)}var Vu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Du(t,e)}(o,t);var e,n,r,i=Fu(o);function o(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,t,{type:"next"})}return e=o,(n=[{key:"handleClick",value:function(t){t.stopPropagation(),Nu(Hu(o.prototype),"handleClick",this).call(this,t),this.player().cloudinary.playlist().playNext()}}])&&Lu(e.prototype,n),r&&Lu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(Ru);y().registerComponent("PlaylistNextButton",Vu);function Uu(t){return Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(t)}function zu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wu(){return Wu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=$u(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Wu.apply(this,arguments)}function $u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yu(t)););return t}function qu(t,e){return qu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qu(t,e)}function Xu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yu(t);if(e){var i=Yu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ku(this,n)}}function Ku(t,e){if(e&&("object"===Uu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Yu(t){return Yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yu(t)}var Gu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qu(t,e)}(o,t);var e,n,r,i=Xu(o);function o(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,t,{type:"previous"})}return e=o,(n=[{key:"handleClick",value:function(t){Wu(Yu(o.prototype),"handleClick",this).call(this,t),this.player().cloudinary.playlist().playPrevious()}}])&&zu(e.prototype,n),r&&zu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(Ru);y().registerComponent("PlaylistPreviousButton",Gu);var Ju={fluid:!1,show:!0,direction:"vertical",total:4,selector:!1,renderTo:[]};function Qu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var th=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.repeat,a=void 0!==o&&o,s=i.autoAdvance,c=void 0!==s&&s,l=i.presentUpcoming,u=void 0!==l&&l;Qu(this,t),this._context=e,this._sources=[],this._defaultRecResolverCache={},this._currentIndex=null,this._recommendationsHandler=null,this._autoAdvance=null,this._presentUpcoming=null,this.resetState=function(){n.repeat(a),n.autoAdvance(c),n.presentUpcoming(u)},r.forEach((function(t){return n.enqueue(t)})),this.resetState()}var e,n,r;return e=t,n=[{key:"list",value:function(){return this._sources}},{key:"player",value:function(){return this._context.player}},{key:"presentUpcoming",value:function(t){if(this._presentUpcoming=this._presentUpcoming||{},void 0===t)return this._presentUpcoming.delay;if(!0===t)t=10;else if(!1===t)t=!1;else if(!G(t)||t<0)throw new Error("presentUpcoming 'delay' must be either a boolean or a positive integer.");return this._presentUpcoming.delay=t,this._setupPresentUpcoming(),this._presentUpcoming.delay}},{key:"autoAdvance",value:function(t){if(this._autoAdvance=this._autoAdvance||{},void 0===t)return this._autoAdvance.delay;if(!0===t)t=0;else if(!1===t)t=!1;else if(!G(t)||t<0)throw new Error("Auto advance 'delay' must be either a boolean or a positive integer.");return this._autoAdvance.delay=t,this._setupAutoAdvance(),this._autoAdvance.delay}},{key:"_setupAutoAdvance",value:function(){var t=this;this._resetAutoAdvance();var e=this._autoAdvance.delay;!1!==e&&(this._autoAdvance={delay:e,trigger:function(){t.player().ended()&&(t._autoAdvance.timeout=setTimeout((function(){t.playNext()}),1e3*e))}},this._context.on("ended",this._autoAdvance.trigger))}},{key:"dispose",value:function(){this._resetAutoAdvance(),this._resetPresentUpcoming(),this._resetRecommendations()}},{key:"_resetPresentUpcoming",value:function(){this.player().trigger("upcomingvideohide"),this._presentUpcoming||(this._presentUpcoming={}),this._presentUpcoming.trigger&&this._context.off("timeupdate",this._presentUpcoming.trigger),this._presentUpcoming.trigger=null,this._presentUpcoming.showTriggered=!1}},{key:"_setupPresentUpcoming",value:function(){var t=this;this._resetPresentUpcoming(),!1!==this._presentUpcoming.delay&&(this._presentUpcoming.trigger=function(){var e=t.player().currentTime(),n=t.player().duration()-e;n<1.5?t._presentUpcoming.showTriggered&&(t.player().trigger("upcomingvideohide"),t._presentUpcoming.showTriggered=!1):n<=t._presentUpcoming.delay&&!t._presentUpcoming.showTriggered&&!t.player().loop()?(t.player().trigger("upcomingvideoshow"),t._presentUpcoming.showTriggered=!0):t._presentUpcoming.showTriggered&&(n>t._presentUpcoming.delay||t.player().loop())&&(t.player().trigger("upcomingvideohide"),t._presentUpcoming.showTriggered=!1)},this._context.on("timeupdate",this._presentUpcoming.trigger))}},{key:"_resetAutoAdvance",value:function(){this._autoAdvance||(this._autoAdvance={}),this._autoAdvance.timeout&&clearTimeout(this._autoAdvance.timeout),this._autoAdvance.trigger&&this._context.off("ended",this._autoAdvance.trigger),this._autoAdvance.timeout=null,this._autoAdvance.trigger=null}},{key:"_resetRecommendations",value:function(){this._recommendationsHandler&&this._context.off("ended",this._recommendationsHandler)}},{key:"_refreshRecommendations",value:function(){var t=this;this._resetRecommendations(),this._recommendationsHandler=function(){!1===t.autoAdvance()&&t._context.autoShowRecommendations()&&t.player().trigger("recommendationsshow")},this._context.on("ended",this._recommendationsHandler)}},{key:"_refreshTextTracks",value:function(){this.player().trigger("refreshTextTracks",this.currentSource().textTracks())}},{key:"_recommendationItemBuilder",value:function(t){var e=this,n=this._defaultRecResolverCache[t.objectId];if(!t.recommendations()||n&&t.recommendations()===n)return function(t){return{source:t,action:function(){return e.playItem(t)}}}}},{key:"currentIndex",value:function(t){if(void 0===t)return this._currentIndex;if(t>=this.length()||t<0)throw new Error("Invalid playlist index.");this._currentIndex=t;var e=this.currentSource(),n=this._recommendationItemBuilder(e);e.recommendations()||e.recommendations(this._defaultRecommendationsResolver(e)),this._context.source(e,{recommendationOptions:{disableAutoShow:!0,itemBuilder:n}});var r={playlist:this,current:e,next:this.next()};return this.player().trigger("playlistitemchanged",r),this._refreshRecommendations(),this._refreshTextTracks(),e}},{key:"_defaultRecommendationsResolver",value:function(t){var e=this,n=this._defaultRecResolverCache[t.objectId];return n||(this._defaultRecResolverCache[t.objectId]=function(){for(var n=e.list().indexOf(t),r=[],i=Math.min(4,e.length()-1);r.length<i&&-1!==(n=e.nextIndex(n));){var o=e.list()[n];r.push(o)}return r},this._defaultRecResolverCache[t.objectId])}},{key:"buildSource",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._context.buildSource(t,e)}},{key:"enqueue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t instanceof au?t:this.buildSource(t,e);return this._sources.push(n),n}},{key:"playItem",value:function(t){var e=this.list().indexOf(t);if(-1===e)throw new Error("Invalid playlist item.");this.playAtIndex(e)}},{key:"playAtIndex",value:function(t){return this.currentIndex(t),this.player().play(),this.currentSource()}},{key:"currentSource",value:function(){return this.list()[this.currentIndex()]}},{key:"removeAt",value:function(t){if(t>=this.length()||t<0)throw new Error("Invalid playlist index.");return this._sources.splice(t,1),this}},{key:"repeat",value:function(t){return void 0===t||(this._repeat=!!t),this._repeat}},{key:"first",value:function(){return this.list()[0]}},{key:"last",value:function(){return this.list()[this.length()-1]}},{key:"next",value:function(){var t=this.nextIndex();return-1===t?null:this.list()[t]}},{key:"nextIndex",value:function(t){if((t=void 0!==t?t:this.currentIndex())>=this.length()||t<0)throw new Error("Invalid playlist index.");var e=t+1;if(t===this.length()-1){if(!this.repeat())return-1;e=0}return e}},{key:"previousIndex",value:function(){return this.isFirst()?-1:this.currentIndex()-1}},{key:"playFirst",value:function(){return this.playAtIndex(0)}},{key:"playLast",value:function(){var t=this.list().length-1;return this.playAtIndex(t)}},{key:"isLast",value:function(){return this.currentIndex()>=this.length()-1}},{key:"isFirst",value:function(){return 0===this.currentIndex()}},{key:"length",value:function(){return this.list().length}},{key:"playNext",value:function(){var t=this.nextIndex();return-1===t?null:this.playAtIndex(t)}},{key:"playPrevious",value:function(){var t=this.previousIndex();return-1===t?null:this.playAtIndex(t)}}],n&&Zu(e.prototype,n),r&&Zu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const eh=th;var nh=["created_at","updated_at"],rh=function t(e){var n={};return X(e)?(Object.keys(e).reduce((function(n,r){var i=W(r);return-1!==nh.indexOf(r)?n[i]=new Date(function(t){var e=0,n=0,r=0;if(n=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(t)){for(var i,o=0;i=xs[o];++o)n[i]=+n[i]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,"Z"!==n[8]&&void 0!==n[9]&&(r=60*n[10]+n[11],"+"===n[9]&&(r=0-r)),e=Date.UTC(n[1],n[2],n[3],n[4],n[5]+r,n[6],n[7])}else e=NaN;return e}(e[r])):n[i]=t(e[r]),n}),n),n):Array.isArray(e)?e.map((function(e){return t(e)})):e};function ih(t){return ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(t)}function oh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ah(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sh(t,e){return sh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sh(t,e)}function ch(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hh(t);if(e){var i=hh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lh(this,n)}}function lh(t,e){if(e&&("object"===ih(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return uh(t)}function uh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hh(t){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hh(t)}var fh={format:"json",resource_type:"video",type:"list"};const ph=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sh(t,e)}(o,t);var e,n,r,i=ch(o);function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};oh(this,o),e=i.call(this);var r=F(n,"chainTarget").chainTarget,a=null,s=null;e.playlist=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===n?a:(e.playlist()&&e.disposePlaylist(),c(n,i),t.trigger("playlistcreated"),r)},e.disposePlaylist=function(){t.removeClass("vjs-playlist");var n=e.playlist();a=void 0,n.dispose(),e.off("cldsourcechanged",s)};var c=function(n,r){n instanceof eh?((a=n).resetState(),a.currentIndex(a.currentIndex())):(a=new eh(uh(e),n,r)).currentIndex(0),s=l(),t.addClass("vjs-playlist")},l=function(){var t=function(){e.playlist()&&!e.playlist().currentSource().contains(e.player.currentSource())&&e.disposePlaylist()};return e.on("cldsourcechanged",t),t};return e}return e=o,n=[{key:"playlistByTag",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.sourcesByTag(t,n).then((function(t){return e.playlist(t,n)}))}},{key:"sourcesByTag",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=mr(t,vr(this.cloudinaryConfig(),fh));return fetch(r).then((function(t){return t.json()})).then((function(t){var r=rh(t.resources);return n.sorter&&r.sort(n.sorter),r.map((function(t){var r=n.sourceParams||{};"function"==typeof r&&(r=r(t));var i=M({info:t.context&&t.context.custom||{}},r,{publicId:t.publicId});return e.buildSource(i)}))}))}}],n&&ah(e.prototype,n),r&&ah(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(t)};function dh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var yh=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._emitter=e,this._eventHandlers=[]}var e,n,r;return e=t,n=[{key:"on",value:function(t,e){this._eventHandlers.push({type:t,handler:e}),this._emitter.on(t,e)}},{key:"one",value:function(t,e){var n=this;this._eventHandlers.push({type:t,handler:e,wrapper:function(){e.apply(void 0,arguments),n.off(t,e)}}),this._emitter.one(t,e)}},{key:"off",value:function(t,e){var n,r,i=(n=this._eventHandlers,r=function(n){return n.type===t&&n.handler===e},Array.prototype.findIndex?n.findIndex(r):Ar(n,r)[1]);if(-1!==i){var o=this._eventHandlers[i];this._emitter.off(t,o.wrapper||o.handler),this._eventHandlers.splice(i,1)}}},{key:"removeAllListeners",value:function(){var t=this;this._eventHandlers.forEach((function(e){t.off(e)}))}}],n&&dh(e.prototype,n),r&&dh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const vh=yh;var mh={format:"jpg",resource_type:"video",transformation:{flags:"waveform"}},gh=RegExp("\\.(".concat(["mp3","ogg","wav","mp4"].join("|"),")$$")),bh={resource_type:"video",type:"upload",transformation:[]};function _h(t){return _h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(t)}function wh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Th(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kh(t,e){return kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kh(t,e)}function Ch(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sh(t);if(e){var i=Sh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Eh(this,n)}}function Eh(t,e){if(e&&("object"===_h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sh(t)}const jh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kh(t,e)}(o,t);var e,n,r,i=Ch(o);function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};wh(this,o);var r=dr(t,n);t=r.publicId,n=r.options,t=t.replace(gh,"");var a=B(n=M({},bh,n),"poster"),s=a.poster;return(e=i.call(this,t,n))._poster=null,e._type=Ro.AUDIO,e.poster(s),e}return e=o,n=[{key:"getPoster",value:function(){return this._poster}},{key:"poster",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return this._poster;if(t instanceof Ys)return this._poster=t,this;var n=dr(t,e,{tolerateMissingId:!0});return t=n.publicId,e=n.options,t||(t=this.publicId(),e=M({},e,mh)),e.cloudinaryConfig=e.cloudinaryConfig||this.cloudinaryConfig(),this._poster=new Ys(t,e),this}},{key:"generateSources",value:function(){var t=this;return this.sourceTypes().map((function(e){if("audio"===e){var n={},r=t.sourceTransformation()[e]||[t.transformation()];r&&(n.transformation=r),M(n,{resource_type:"video",format:"mp3"});var i=t.queryParams()?Rs(t.queryParams()):"";return{type:"video/mp4",src:"".concat(t.config().url(t.publicId(),n)).concat(i),cldSrc:t,poster:t.getPoster().url()}}return null}),this)}}],n&&Th(e.prototype,n),r&&Th(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(au);function Oh(t){return Oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(t)}function Ph(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ah(t,e){return Ah=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ah(t,e)}function Rh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nh(t);if(e){var i=Nh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ih(this,n)}}function Ih(t,e){if(e&&("object"===Oh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Lh(t)}function Lh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nh(t)}var Mh={transformation:{},sourceTypes:[],sourceTransformation:[],posterOptions:{}},Dh=["cloudinaryConfig","transformation","sourceTypes","sourceTransformation","posterOptions","autoShowRecommendations"],Fh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ah(t,e)}(o,t);var e,n,r,i=Rh(o);function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ph(this,o),(e=i.call(this,t,n)).player=t,n=M({},Mh,n);var r=null,a=null,s=null,c=null,l=null,u=null,h=null,f=null,p=null,d=n.chainTarget,v=null,m=null,g=!1;e.source=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n=M({},n),!t)return r;var i=null;if(t instanceof au)i=t;else{var o=dr(t,n),a=o.publicId,s=o.options;i=e.buildSource(a,s)}if(i.recommendations()){var c=i.recommendations(),l=null,u=!1;if(n.recommendationOptions){var h=B(n.recommendationOptions,"disableAutoShow","itemBuilder");u=h.disableAutoShow,l=h.itemBuilder}b(c,{disableAutoShow:u,itemBuilder:l})}else _();return r=i,n.skipRefresh||w(),e.player.trigger("cldsourcechanged",{source:i}),d},e.buildSource=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=dr(t,n);return t=r.publicId,(n=r.options).cloudinaryConfig=vr(e.cloudinaryConfig(),n.cloudinaryConfig||{}),n.transformation=gr(e.transformation(),n.transformation||{}),n.sourceTransformation=n.sourceTransformation||e.sourceTransformation(),n.sourceTypes=n.sourceTypes||e.sourceTypes(),n.poster=n.poster||k(),n.queryParams=Object.assign(n.queryParams||{},n.usageReport?{_s:"vp-".concat("1.9.5")}:{}),n.sourceTypes.indexOf("audio")>-1?new jh(t,n):new au(t,n)},e.posterOptions=function(t){return t?(l=t,d):l},e.disablePoster=function(t){e.player.poster(" "),e.player.posterImage.el().style.backgroundColor=t},e.cloudinaryConfig=function(t){return t?(u=t,d):u},e.transformation=function(t){return t?(h=t,d):h},e.sourceTypes=function(t){return t?(f=t,d):f},e.getCurrentSources=function(){return a},e.sourceTransformation=function(t){return t?(p=t,d):p},e.on=function(){var t;return(t=v).on.apply(t,arguments)},e.one=function(){var t;return(t=v).one.apply(t,arguments)},e.off=function(){var t;return(t=v).off.apply(t,arguments)},e.autoShowRecommendations=function(t){return void 0===t?g:(g=t,d)},e.dispose=function(){e.playlist()&&e.disposePlaylist(),_(),r=void 0,v.removeAllListeners()};var b=function(t,n){var r=n.disableAutoShow,i=void 0!==r&&r,o=n.itemBuilder,a=void 0===o?null:o;if(_(),!Array.isArray(t)&&"function"!=typeof t&&!t.then)throw new Error('"recommendations" must be either an array or a function');a=a||function(t){return{source:t instanceof au?t:e.buildSource(t),action:function(){return e.source(t)}}},(m={}).sourceChangedHandler=function(){var n=function(t){if(void 0!==t&&t.length>0){var n=t.map((function(t){return a(t)}));e.player.trigger("recommendationschanged",{items:n})}else e.player.trigger("recommendationsnoshow");m.sources=t};Q(t)?n(t()):t.then?t.then(n):n(t)},e.one("cldsourcechanged",m.sourceChangedHandler),m.endedHandler=function(){!i&&e.autoShowRecommendations()&&e.player.trigger("recommendationsshow")},e.on("ended",m.endedHandler)},_=function(){m&&(e.off("cldsourcechanged",m.sourceChangedHandler),e.off("ended",m.endedHandler),delete m.endedHandler,delete m.sourceChangedHandler),m=null},w=function(){var t=e.source(),n=e.player.cloudinary.posterOptions().posterColor;n?e.disablePoster(n):t.poster()&&e.player.poster(t.poster().url()),a=t.generateSources().reduce((function(t,e){if(e.isAdaptive)if((e.type.split("; ")[1]||null)&&"MediaSource"in window){var n=e.type.split("; "),r="video/mp4; ".concat(n[1]||""),i=T(r);y().browser.IS_ANY_SAFARI&&(e.type="".concat(n[0],"; ").concat(Er("h264"))),i&&t.push(e)}else t.push(e);else t.push(e);return t}),[]),e.player.src(a),s=t,c=e.playlist()},T=function(t){return document.createElement("video").canPlayType(t)||"MediaSource"in window&&MediaSource.isTypeSupported(t)},k=function(){var t=M({},e.posterOptions());t.transformation&&(!t.transformation.width&&!t.transformation.height||t.transformation.crop||(t.transformation.crop="scale")),t.transformation=t.transformation||{};var n=e.player.el();if(n&&n.clientWidth&&n.clientHeight&&!Dr(t.transformation,"width")&&!Dr(t.transformation,"height")){var r=function(t){return 100*Math.ceil(t/100)};t.transformation=gr(t.transformation,{width:r(n.clientWidth),height:r(n.clientHeight),crop:"limit"})}return t},C=function(t,n){var r=n.to;s&&s.contains(r)?e.source()||(c&&e.playlist(c),e.source(s,{skipRefresh:!0})):(e.player.trigger("cldsourcechanged",{}),e.dispose())};v=new vh(e.player);var E=B.apply(void 0,[n].concat(Dh));return Br(Lh(e),E),e.on("sourcechanged",C),e}return e=o,(n=[{key:"currentSourceType",value:function(){return this.source().getType()}},{key:"currentPublicId",value:function(){return this.source()&&this.source().publicId()}},{key:"currentPoster",value:function(){return this.source()&&this.source().poster()}}])&&xh(e.prototype,n),r&&xh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(Wr(ph));var Bh=n(343);function Hh(t){return Hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(t)}function Vh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zh(t,e){return zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zh(t,e)}function Wh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xh(t);if(e){var i=Xh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $h(this,n)}}function $h(t,e){if(e&&("object"===Hh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qh(t)}function qh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xh(t){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xh(t)}var Kh={percentsplayed:{percents:[25,50,75,100]}},Yh={events:[Oo,io,eo,no,ro,Ao]},Gh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zh(t,e)}(o,t);var e,n,r,i=Wh(o);function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Uh(this,o),(e=i.call(this)).player=t;var r=y().mergeOptions(Yh,n),a={lastState:void 0},s=0,c=0,l=!1,u=[],h=[],f=null,p=!1,d=function(t){e.player.muted()&&"muted"!==a.lastState?(a.lastState="muted",e.emit(no,t)):e.player.muted()||"unmuted"===a.lastState||(a.lastState="unmuted",e.emit(ro,t))},v=function(t){var n=e.player.currentTime(),r=e.player.duration(),i=function(n,r){r.originalType="timeupdate",e.emit(n,t,r)};if(e.events.percentsplayed&&e.events.percentsplayed.percents.forEach((function(t){Qh(n,r,t)&&-1===u.indexOf(t)&&(u.push(t),i(Oo,{percent:t}))})),e.events.timeplayed){var o=e.events.timeplayed;(o.interval?[Math.floor(n/o.interval)*o.interval]:o.times).forEach((function(t){Zh(n,t)&&-1===h.indexOf(t)&&(h.push(t),i(Po,{time:t}))}))}e.events.seek&&(s=c,c=n,Math.abs(s-c)>1&&(l=!0,k(),i(eo,{seekStart:s,seekEnd:c})))},m=function(t){Math.round(e.player.currentTime())===Math.round(e.player.duration())||l||e.emit(io,t)},g=function(){l=!1},b=function(){p&&(e.player.trigger("replay"),p=!1)},_=function(){e.player.currentSource().src!==f&&(k(),f=e.player.currentSource().src)},w=function(t){for(var n=qh(e),r=e.player.textTracks(),i=null,o=0;o<r.length;o++)"segment-metadata"===r[o].label&&(i=r[o]);var a=null;i&&i.on("cuechange",(function(){var e=i.activeCues[0];if(e){var r=e.value.resolution;if(a!==r){var o={from:a,to:r};n.emit(Ao,t,o)}a=r}}))},T=function(){a={lastState:void 0},s=c=0,l=!1,k()},k=function(){u=[],h=[]},C=function(){p=!0};return e.events=Jh(r.events,Kh),T(),e.player.on(Qi,b.bind(qh(e))),e.player.on(To,C.bind(qh(e))),(e.events.percentsplayed||e.events.timeplayed||e.events.seek||e.events.totaltimeplayed)&&e.player.on(ao,v.bind(qh(e))),(e.events.mute||e.events.unmute)&&e.player.on(bo,d.bind(qh(e))),e.events.pausenoseek&&(e.player.on(to,m.bind(qh(e))),e.player.on(Qi,g.bind(qh(e)))),e.player.on(ho,_.bind(qh(e))),e.player.on(fo,w.bind(qh(e))),e}return e=o,n&&Vh(e.prototype,n),r&&Vh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(n.n(Bh)()),Jh=function(t,e){var n=t;return"Array"===t.constructor.name&&(n=t.reduce((function(t,n){var r=e[n]||{};return X(n)?t[n.type]=M({},r,n):t[n]=r,t}),{})),n},Qh=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=e*n/100;return Zh(t,i,r)},Zh=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return t<=e+n&&t>=e-n};const tf=Gh;function ef(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var rf={percentsplayed:{percents:[25,50,75,100]}},of={events:[Qi,to,To,bo,ko,oo,jo,Co,Eo,Oo,eo,xo],category:"Video",defaultLabel:function(t){return t.cloudinary&&t.cloudinary.currentPublicId()||t.currentSource().src}},af=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ef(this,t),this.player=e,this.options=y().mergeOptions(of,n),this.events=Jh(this.options.events,rf);var r=F(this.events,Oo,Po,to,eo);r.pause&&(delete r.pause,r.pausenoseek={}),this._extendedEvents=new tf(e,{events:r}),this._currentSource=null,this._startTracked=null,this._endTracked=null,this.resetState()}var e,n,r;return e=t,(n=[{key:"init",value:function(){var t=this;this.events.shoppable&&(this.player.on("productHover",function(e,n){t.track({action:"productHover",label:n.productName})}.bind(this)),this.player.on("productClick",function(e,n){t.track({action:"productClick",label:n.productName})}.bind(this)),this.player.on("productHoverPost",function(e,n){t.track({action:"productHoverPostPlay",label:n.productName})}.bind(this)),this.player.on("productClickPost",function(e,n){t.track({action:"productClickPostPlay",label:n.productName})}.bind(this)),this.player.on("productBarMin",function(){t.track({action:"shoppableBar",label:"closed"})}.bind(this)),this.player.on("productBarMax",function(){t.track({action:"shoppableBar",label:"opened"})}.bind(this)),this.player.on("replay",function(){t.track({action:"replay"})}.bind(this))),this.events.play&&this.player.on(Qi,function(){t.track({action:"Play"})}.bind(this)),this.events.ended&&this.player.on(To,function(){t._endTracked||(t.track({action:"Ended",nonInteraction:!0}),t._endTracked=!0)}.bind(this)),this.events.volumechange&&this.player.on(bo,function(){var e=t.player.muted()?0:t.player.volume();t.track({action:"Volume Change",value:e})}.bind(this)),this.events.resize&&this.player.on(ko,function(){var e="Resize - ".concat(t.player.width(),"x").concat(t.player.height(),"}");t.track({action:e})}.bind(this)),this.events.error&&this.player.on(oo,function(){t.track({action:"Error",nonInteraction:!0})}.bind(this)),this.events.start&&this.player.on(Zi,function(){t._startTracked&&(t.track({action:"Start"}),t._startTracked=!0)}.bind(this)),this.events.fullscreenchange&&this.player.on(jo,function(){var e=t.player.isFullscreen()?"Enter Fullscreen":"Exit Fullscreen";t.track({action:e})}.bind(this)),this.events.percentsplayed&&this._extendedEvents.on(Oo,function(e,n){var r=n.percent;t.track({action:"".concat(r," Percents Played"),nonInteraction:!0})}.bind(this)),this.events.timeplayed&&this._extendedEvents.on(Po,function(e,n){var r=n.time;t.track({action:"".concat(r," Seconds Played"),value:r,nonInteraction:!0})}.bind(this)),this.events.pause&&this._extendedEvents.on(io,function(){t.track({action:"Pause"})}.bind(this)),this.events.seek&&this._extendedEvents.on(eo,function(e,n){var r=n.seekStart,i=n.seekEnd;t.track({action:"Seek Start",value:r}),t.track({action:"Seek End",value:i})}.bind(this)),this.events.playerload&&t.track({action:"Player Load",label:window.location.href,nonInteraction:!0}),this.player.on(ho,this.loadedmetadata.bind(this))}},{key:"track",value:function(t){var e=t.action,n=t.label,r=t.value,i=void 0===r?null:r,o=t.nonInteraction,a=void 0!==o&&o,s={eventCategory:this.options.category,eventAction:e,eventLabel:n||this.options.defaultLabel(this.player),eventValue:i||Math.round(this.player.currentTime()),nonInteraction:a};window.ga("send","event",s)}},{key:"videoload",value:function(){this.track({action:"Video Load",nonInteraction:!0})}},{key:"resetState",value:function(){this._currentSource="",this._startTracked=!1,this._endTracked=!1}},{key:"loadedmetadata",value:function(){var t=this.player.currentSource().src;t!==this._currentSource&&(this.resetState(),this._currentSource=t,this.events.videoload&&this.videoload())}}])&&nf(e.prototype,n),r&&nf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const sf={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let cf;const lf=new Uint8Array(16);function uf(){if(!cf&&(cf="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!cf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cf(lf)}const hf=[];for(let t=0;t<256;++t)hf.push((t+256).toString(16).slice(1));function ff(t,e=0){return(hf[t[e+0]]+hf[t[e+1]]+hf[t[e+2]]+hf[t[e+3]]+"-"+hf[t[e+4]]+hf[t[e+5]]+"-"+hf[t[e+6]]+hf[t[e+7]]+"-"+hf[t[e+8]]+hf[t[e+9]]+"-"+hf[t[e+10]]+hf[t[e+11]]+hf[t[e+12]]+hf[t[e+13]]+hf[t[e+14]]+hf[t[e+15]]).toLowerCase()}const pf=function(t,e,n){if(sf.randomUUID&&!e&&!t)return sf.randomUUID();const r=(t=t||{}).random||(t.rng||uf)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return ff(r)};var df="play",yf="pause";function vf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vf(Object(n),!0).forEach((function(e){gf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||wf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _f(t){return function(t){if(Array.isArray(t))return Tf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||wf(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wf(t,e){if(t){if("string"==typeof t)return Tf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tf(t,e):void 0}}function Tf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kf="cld-analytics-user-id",Cf=function(){var t=window.localStorage.getItem(kf);if(t)return t;var e=pf();return window.localStorage.setItem(kf,e),e},Ef=function(t,e){var n=[];window.addEventListener("beforeunload",(function(){t.currentTime;var r,i,o,a,s=function(t){var e=_f(t);return e.findLastIndex((function(t){return t.type===df}))>e.findLastIndex((function(t){return t.type===yf}))&&e.push({type:yf,time:Date.now()}),e}(n),c=s.reduce((function(t,e){var n=t.watchedFrames[t.watchedFrames.length-1];return e.type===df?t.watchedFrames.push([e.time]):n&&1===n.length&&e.type===yf&&n.push(e.time),t}),{watchedFrames:[]}),l=(r=c.watchedFrames,Math.round(r.reduce((function(t,e){var n=bf(e,2),r=n[0];return t+(n[1]-r)/1e3}),0))),u="function"==typeof e?e():e;i="https://video-analytics-api.cloudinary.com/video-analytics",o=mf(mf({},u),{},{userId:Cf(),playedTimeSeconds:l}),a=Object.keys(o).reduce((function(t,e){return t.append(e,o[e]),t}),new FormData),"function"!=typeof window.navigator.sendBeacon?fetch(i,{method:"POST",mode:"no-cors",body:a,keepalive:!0}):window.navigator.sendBeacon(i,a)})),t.addEventListener("play",(function(){n.push({type:df,time:Date.now()})})),t.addEventListener("pause",(function(){n.push({type:yf,time:Date.now()})})),t.addEventListener("emptied",(function(){n.push({type:yf,time:Date.now()})}))};function Sf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var jf=function(){function t(e){var n,r,i,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=function(){return{cloudName:o.player.cloudinary.cloudinaryConfig().cloud_name,videoPublicId:o.player.cloudinary.currentPublicId()}},(r="getMetadata")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.player=e}var e,n,r;return e=t,(n=[{key:"init",value:function(){Ef(this.player.videoElement,this.getMetadata)}}])&&Sf(e.prototype,n),r&&Sf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();var Of={},Pf={},xf=function(){function t(t,e){return this.player=t,this.options=e,this.listenForDurationChange(),this.initializeThumbnails(),this.registeredEvents={},this}return t.prototype.src=function(t){this.resetPlugin(),this.options.src=t,this.initializeThumbnails()},t.prototype.detach=function(){this.resetPlugin()},t.prototype.resetPlugin=function(){this.thumbnailHolder&&this.thumbnailHolder.parentNode.removeChild(this.thumbnailHolder),this.progressBar&&(this.progressBar.removeEventListener("mouseenter",this.registeredEvents.progressBarMouseEnter),this.progressBar.removeEventListener("mouseleave",this.registeredEvents.progressBarMouseLeave),this.progressBar.removeEventListener("mousemove",this.registeredEvents.progressBarMouseMove)),delete this.registeredEvents.progressBarMouseEnter,delete this.registeredEvents.progressBarMouseLeave,delete this.registeredEvents.progressBarMouseMove,delete this.progressBar,delete this.vttData,delete this.thumbnailHolder,delete this.lastStyle},t.prototype.listenForDurationChange=function(){this.player.on("durationchange",(function(){}))},t.prototype.initializeThumbnails=function(){var t=this;if(this.options.src){var e=this.getBaseUrl(),n=this.getFullyQualifiedUrl(this.options.src,e);this.getVttFile(n).then((function(e){t.vttData=t.processVtt(e),t.setupThumbnailElement()}))}},t.prototype.getBaseUrl=function(){return[window.location.protocol,"//",window.location.hostname,window.location.port?":"+window.location.port:"",window.location.pathname].join("").split(/([^\/]*)$/gi).shift()},t.prototype.getVttFile=function(t){var e=this;return new Promise((function(n){var r=new XMLHttpRequest;r.data={resolve:n},r.addEventListener("load",e.vttFileLoaded),r.open("GET",t),r.send()}))},t.prototype.vttFileLoaded=function(){this.data.resolve(this.responseText)},t.prototype.setupThumbnailElement=function(){var t=this,e=this.player.$(".vjs-mouse-display");this.progressBar=this.player.$(".vjs-progress-control");var n=document.createElement("div");n.setAttribute("class","vjs-vtt-thumbnail-display"),this.progressBar.appendChild(n),this.thumbnailHolder=n;var r=document.createElement("div");r.setAttribute("class","vjs-vtt-time-display"),this.thumbnailHolder.appendChild(r),this.timeHolder=r,e&&e.classList.add("vjs-hidden"),this.registeredEvents.progressBarMouseEnter=function(){return t.onBarMouseenter()},this.registeredEvents.progressBarMouseLeave=function(){return t.onBarMouseleave()},this.progressBar.addEventListener("mouseenter",this.registeredEvents.progressBarMouseEnter),this.progressBar.addEventListener("mouseleave",this.registeredEvents.progressBarMouseLeave)},t.prototype.onBarMouseenter=function(){var t=this;this.progressBar.offsetWidth<400||(this.mouseMoveCallback=function(e){t.onBarMousemove(e)},this.registeredEvents.progressBarMouseMove=this.mouseMoveCallback,this.progressBar.addEventListener("mousemove",this.registeredEvents.progressBarMouseMove),this.showThumbnailHolder())},t.prototype.onBarMouseleave=function(){this.registeredEvents.progressBarMouseMove&&this.progressBar.removeEventListener("mousemove",this.registeredEvents.progressBarMouseMove),this.hideThumbnailHolder()},t.prototype.getXCoord=function(t,e){var n=t.getBoundingClientRect(),r=document.documentElement;return e-(n.left+(window.pageXOffset||r.scrollLeft||0))},t.prototype.onBarMousemove=function(t){this.updateThumbnailStyle(y().dom.getPointerPosition(this.progressBar,t).x,this.progressBar.offsetWidth)},t.prototype.getStyleForTime=function(t){for(var e=0;e<this.vttData.length;++e){var n=this.vttData[e];if(t>=n.start&&t<n.end){if(n.css.url&&!Pf[n.css.url]){var r=new Image;r.src=n.css.url,Pf[n.css.url]=r}return n.css}}},t.prototype.showThumbnailHolder=function(){this.thumbnailHolder.style.opacity="1"},t.prototype.hideThumbnailHolder=function(){this.thumbnailHolder.style.opacity="0"},t.prototype.updateThumbnailStyle=function(t,e){var n=t*this.player.duration(),r=this.getStyleForTime(n);if(!r)return this.hideThumbnailHolder();var i=t*e,o=parseInt(r.width,10),a=o/2,s=e-(i+a),c=i-a;if(c>0&&s>0?this.thumbnailHolder.style.transform="translateX("+(i-a)+"px)":c<=0?this.thumbnailHolder.style.transform="translateX(0px)":s<=0&&(this.thumbnailHolder.style.transform="translateX("+(e-o)+"px)"),this.timeHolder.innerHTML=this.getTimestampFromSeconds(n),!this.lastStyle||this.lastStyle!==r)for(var l in this.lastStyle=r,r)Object.prototype.hasOwnProperty.call(r,l)&&(this.thumbnailHolder.style[l]=r[l])},t.prototype.processVtt=function(t){var e=this,n=[];return t.split(/[\r\n][\r\n]/i).forEach((function(t){if(t.match(/([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?( ?--> ?)([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?[\r\n]{1}.*/gi)){var r=t.split(/[\r\n]/i),i=r[0].split(/ ?--> ?/i),o=i[0],a=i[1],s=r[1].split("/").pop(),c=e.getVttCss(s);n.push({start:e.getSecondsFromTimestamp(o),end:e.getSecondsFromTimestamp(a),css:c})}})),n},t.prototype.getFullyQualifiedUrl=function(t,e){return t.indexOf("//")>=0?t:0===e.indexOf("//")?[e.replace(/\/$/gi,""),this.trim(t,"/")].join("/"):e.indexOf("//")>0?[this.trim(e,"/"),this.trim(t,"/")].join("/"):t},t.prototype.getPropsFromDef=function(t){var e=t.split(/#xywh=/i),n=e[0],r=e[1].match(/[0-9]+/gi);return{x:r[0],y:r[1],w:r[2],h:r[3],image:n}},t.prototype.getVttCss=function(t){var e={},n="";if(n=this.options.src.indexOf("//")>=0?this.options.src.split(/([^\/]*)$/gi).shift():this.getBaseUrl()+this.options.src.split(/([^\/]*)$/gi).shift(),!(t=this.getFullyQualifiedUrl(t,n)).match(/#xywh=/i))return e.background='url("'+t+'")',e;var r=this.getPropsFromDef(t);return e.background='url("'+r.image+'") no-repeat -'+r.x+"px -"+r.y+"px",e.width=r.w+"px",e.height=r.h+"px",e.url=r.image,e},t.prototype.doconstructTimestamp=function(t){var e=t.split("."),n=e[0].split(":");return{milliseconds:parseInt(e[1],10)||0,seconds:parseInt(n.pop(),10)||0,minutes:parseInt(n.pop(),10)||0,hours:parseInt(n.pop(),10)||0}},t.prototype.getSecondsFromTimestamp=function(t){var e=this.doconstructTimestamp(t);return parseInt(3600*e.hours+60*e.minutes+e.seconds+e.milliseconds/1e3,10)},t.prototype.getTimestampFromSeconds=function(t){var e=Math.floor(t/60),n=Math.floor(t%60);return n<10&&(n="0"+n),e+":"+n},t.prototype.trim=function(t,e){var n=[" ","\n","\r","\t","\f","\v","Â ","â","â","â","â","â","â","â","â","â","â","â","â","\u2028","\u2029","ã"].join(""),r=0,i=0;for(t+="",e&&(n=(e+"").replace(/([[\]().?/*{}+$^:])/g,"$1")),r=t.length,i=0;i<r;i++)if(-1===n.indexOf(t.charAt(i))){t=t.substring(i);break}for(i=(r=t.length)-1;i>=0;i--)if(-1===n.indexOf(t.charAt(i))){t=t.substring(0,i+1);break}return-1===n.indexOf(t.charAt(0))?t:""},t}();const Af={autoplayOnScroll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};new zc(this,t).init()},floatingPlayer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};new Yc(this,t).init()},colors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};new il(this,t).init()},contextMenu:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};new zl(this,t).init()},cloudinary:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.chainTarget=t.chainTarget||this,this.cloudinary=new Fh(this,t)},analytics:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};new af(this,t).init()},cloudinaryAnalytics:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};new jf(this,t).init()},vttThumbnails:function(t){var e=this;this.ready((function(){!function(t,e){t.addClass("vjs-vtt-thumbnails"),t.vttThumbnails=new xf(t,e)}(e,y().mergeOptions(Of,t))}))}};function Rf(t){return Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(t)}function If(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lf(t,e){return Lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lf(t,e)}function Nf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ff(t);if(e){var i=Ff(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mf(this,n)}}function Mf(t,e){if(e&&("object"===Rf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Df(t)}function Df(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ff(t){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ff(t)}const Bf=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lf(t,e)}(o,t);var e,n,r,i=Nf(o);function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this);var e={data:{},handlers:{}};return t.on=function(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.length-1,s=i[a];return e.handlers[s]=function(e){e.Player=Df(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];s.apply(void 0,[e].concat(r))},i[a]=e.handlers[s],(n=t.videojs).on.apply(n,i)},t.one=function(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.length-1,s=i[a];return e.handlers[s]=function(n){n.Player=Df(t);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];s.apply(void 0,[n].concat(i)),delete e.handlers[s]},i[a]=e.handlers[s],(n=t.videojs).one.apply(n,i)},t.off=function(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.length-1,s=i[a];i[a]=e.handlers[s];var c=(n=t.videojs).off.apply(n,i);return delete e.handlers[s],c},t.trigger=function(){var e;(e=t.videojs).trigger.apply(e,arguments)},t}return e=o,n&&If(e.prototype,n),r&&If(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)};function Hf(t){return Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(t)}function Vf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Uf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vf(Object(n),!0).forEach((function(e){zf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $f(t,e){return $f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$f(t,e)}function qf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jf(t);if(e){var i=Jf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xf(this,n)}}function Xf(t,e){if(e&&("object"===Hf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Kf(t)}function Kf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yf(){return Yf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Gf(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Yf.apply(this,arguments)}function Gf(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jf(t)););return t}function Jf(t){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jf(t)}var Qf=y().dom||y(),Zf=y().getComponent("Component"),tp={wrap:!1},ep=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$f(t,e)}(o,t);var e,n,r,i=qf(o);function o(t,e){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var a=Uf(Uf({},tp),e);(r=i.call(this,t,a)).player_=t,r.setCls();var s,c=function(t,e){r.options_.fluid=e,r.removeCls(),r.setCls()};return a.wrap&&(s=r.el(),r.videoWrap_=Qf.createEl("div",{className:"cld-plw-col-player"}),r.contentEl_=r.contentEl_=Qf.createEl("div",{className:"cld-plw-col-list"}),ml(r.player().el(),s),s.appendChild(r.videoWrap_),s.appendChild(r.contentEl_),ml(r.player().el(),r.videoWrap_)),t.on(_o,c),r.addChild(wo,r.options_),r.dispose=function(){r.removeLayout(),Yf((n=Kf(r),Jf(o.prototype)),"dispose",n).call(n),t.off(_o,c)},r}return e=o,(n=[{key:"getCls",value:function(){var t=["cld-video-player","cld-plw-layout"];return t.push(ci(this.player())),t.push(ai(this.player())),this.options_.fluid&&t.push("cld-plw-layout-fluid"),t}},{key:"setCls",value:function(){var t=this;this.removeClass(ci(this)),this.getCls().forEach((function(e){t.addClass(e)}))}},{key:"removeCls",value:function(){var t=this;this.getCls().forEach((function(e){t.removeClass(e)}))}},{key:"update",value:function(t,e){this.options(e),this.removeChild("PlaylistPanel"),this.addChild("PlaylistPanel",this.options_),this.trigger("playlistlayoutupdate")}},{key:"removeLayout",value:function(){var t=this.el().parentElement;t&&t.appendChild(this.player().el())}},{key:"createEl",value:function(){var t=Yf(Jf(o.prototype),"createEl",this).call(this,"div");return t.style.fontFamily=this.player().el().style.fontFamily,t}}])&&Wf(e.prototype,n),r&&Wf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(Zf);y().registerComponent("playlistLayout",ep);const np=ep;function rp(t){return rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(t)}function ip(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function op(){return op="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=ap(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},op.apply(this,arguments)}function ap(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=up(t)););return t}function sp(t,e){return sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sp(t,e)}function cp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=up(t);if(e){var i=up(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lp(this,n)}}function lp(t,e){if(e&&("object"===rp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},up(t)}const hp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sp(t,e)}(o,t);var e,n,r,i=cp(o);function o(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e.wrap=!0,i.call(this,t,e)}return e=o,(n=[{key:"getCls",value:function(){var t=op(up(o.prototype),"getCls",this).call(this);return t.push("cld-plw-horizontal"),t}}])&&ip(e.prototype,n),r&&ip(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(np);function fp(t){return fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(t)}function pp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dp(){return dp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=yp(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},dp.apply(this,arguments)}function yp(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bp(t)););return t}function vp(t,e){return vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vp(t,e)}function mp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bp(t);if(e){var i=bp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gp(this,n)}}function gp(t,e){if(e&&("object"===fp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bp(t)}const _p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vp(t,e)}(o,t);var e,n,r,i=mp(o);function o(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e.wrap=!0,i.call(this,t,e)}return e=o,(n=[{key:"getCls",value:function(){var t=dp(bp(o.prototype),"getCls",this).call(this);return t.push("cld-plw-vertical"),t}}])&&pp(e.prototype,n),r&&pp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(np);function wp(t){return wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(t)}function Tp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cp(){return Cp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Ep(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Cp.apply(this,arguments)}function Ep(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pp(t)););return t}function Sp(t,e){return Sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sp(t,e)}function jp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Pp(t);if(e){var i=Pp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Op(this,n)}}function Op(t,e){if(e&&("object"===wp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pp(t)}const xp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sp(t,e)}(o,t);var e,n,r,i=jp(o);function o(){return Tp(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"getCls",value:function(){var t=Cp(Pp(o.prototype),"getCls",this).call(this);return t.push("cld-plw-custom"),t}},{key:"createEl",value:function(){var t=Cp(Pp(o.prototype),"createEl",this).call(this);return this.options_.renderTo.appendChild(t),t}}])&&kp(e.prototype,n),r&&kp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(np);function Ap(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ip(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ip(Object(n),!0).forEach((function(e){Np(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ip(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Np(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mp=function(t,e){var n=Lp(Lp({},Ju),e);if(n.show&&"string"==typeof n.selector&&(n.useDefaultLayout=!1,n.useCustomLayout=!0,n.renderTo=document.querySelector(n.selector),n.showAll=!0,0===!n.renderTo.length))throw new Error("Couldn't find element(s) by selector '".concat(n.selector,"' for playlist"));return n.show&&!n.selector&&(n.useDefaultLayout=!0,n.useCustomLayout=!1),n.direction="horizontal"===n.direction.toLowerCase()?"horizontal":"vertical",n.skin=t.options_.skin,n};const Dp=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ap(this,t),r=Mp(e,r),this.options_=r,this.player_=e,this.render();var i=function(t,e){n.options_.fluid=e};e.on(_o,i),this.options=function(t){return t?(n.options_=y().mergeOptions(n.options_,t),e.trigger("playlistwidgetoption",n.options_.playlistWidget),n.options_):n.options_},this.dispose=function(){n.layout_.dispose(),e.off(_o,i)}}var e,n,r;return e=t,n=[{key:"render",value:function(){this.options_.useDefaultLayout&&("horizontal"===this.options_.direction?this.layout_=new hp(this.player_,this.options_):this.layout_=new _p(this.player_,this.options_)),this.options_.useCustomLayout&&(this.layout_=new xp(this.player_,this.options_))}},{key:"getLayout",value:function(){return this.layout_}},{key:"update",value:function(t,e){this.options(e),"direction"===t?(this.layout_.removeLayout(),this.layout_.dispose(),this.render()):this.layout_.update(t,this.options_)}},{key:"setSkin",value:function(){this.layout_.setCls()}},{key:"total",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ju.total,e=parseInt(t,10);return e!==this.options_.total&&"number"==typeof e&&e>0&&this.update("total",{total:e}),this}},{key:"direction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ju.direction;return"horizontal"!==t&&"vertical"!==t||this.update("direction",{direction:t}),this}}],n&&Rp(e.prototype,n),r&&Rp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();var Fp,Bp=function(t){return Q(t)?t():t},Hp=function(t,e,n){var r=Bp(t),i=r.value(e);return i||console.error("cloudinary video player: ".concat(r.message(n))),i},Vp=function t(e,n){if(X(n))for(var r in e)if(Object.prototype.hasOwnProperty.call(n,r)){var i=e[r],o=n[r],a=X(i);if(a&&!t(i,o))return!1;if(!a&&!Hp(o,i,r))return!1}return!0};function Up(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zp={PORTRAIT:"portrait",LANDSCAPE:"landscape",All:"all",CENTER:"center"};Up(Fp={},zp.PORTRAIT,"https://res.cloudinary.com/prod/raw/upload/v1623772481/video-player/vtts/portrait.vtt"),Up(Fp,zp.LANDSCAPE,"https://res.cloudinary.com/prod/raw/upload/v1623772303/video-player/vtts/landscape.vtt"),Up(Fp,zp.All,"https://res.cloudinary.com/prod/raw/upload/v1623250266/video-player/vtts/all.vtt"),Up(Fp,zp.CENTER,"https://res.cloudinary.com/prod/raw/upload/v1623250265/video-player/vtts/center.vtt");function Wp(t){return Wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(t)}var $p=function(t){return X(t)?":(".concat(Object.values(t).join("/"),")"):""},qp={isString:function(t){return{value:K,message:function(e){return"'".concat(e,"' should be a string").concat($p(t))}}},isNumber:function(t){return{value:Y,message:function(e){return"'".concat(e,"' should be a number").concat($p(t))}}},isBoolean:function(){return{value:J,message:function(t){return"'".concat(t,"' should be a boolean")}}},isFunction:function(){return{value:Q,message:function(t){return"'".concat(t,"' should be a function")}}},isPlainObject:function(){return{value:X,message:function(t){return"'".concat(t,"' should be an object")}}},isObject:function(){return{value:function(t){return t&&"object"===Wp(t)},message:function(t){return"'".concat(t,"' should be an object")}}},isArray:function(){return{value:Array.isArray,message:function(t){return"'".concat(t,"' should be an array")}}},isArrayOfNumbers:function(){return{value:function(t){return Array.isArray(t)&&t.every(Y)},message:function(t){return"'".concat(t,"' should be an array of numbers")}}},isArrayOfStrings:function(){return{value:function(t){return Array.isArray(t)&&t.every(K)},message:function(t){return"'".concat(t,"' should be an array of strings")}}},isArrayOfObjects:function(t){return{value:function(e){return e.every((function(e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n],i=t[n];if(!(i&&Hp(i(r),r,n)))return!1}return!0}))},message:function(){return"invalid array"}}},or:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){return{value:function(t){return dl(e,(function(e){return Bp(e).value(t)}))},message:function(t){return yl(e,(function(e){return Bp(e).message(t)})).join(" or ")}}}}},Xp={videojsOptions:{loop:qp.isBoolean,controls:qp.isBoolean,autoplay:qp.isBoolean,autoplayMode:qp.isString(ei),bigPlayButton:qp.isBoolean,playbackRates:qp.isArray,showLogo:qp.isBoolean,logoImageUrl:qp.isString,logoOnclickUrl:qp.isString,videoJS:qp.isPlainObject,maxTries:qp.isNumber,muted:qp.isBoolean,playsinline:qp.isBoolean,videoTimeout:qp.isNumber,preload:qp.isString,sourceTransformation:qp.isPlainObject,allowUsageReport:qp.isBoolean,interactionAreas:{theme:{template:qp.isString({PULSING:"pulsing",SHADOWED:"shadowed"})},layout:{enable:qp.isBoolean,showAgain:qp.isBoolean}}},playerOptions:{queryParams:qp.isPlainObject,publicId:qp.isString,fluid:qp.isBoolean,analytics:qp.isBoolean,cloudinaryAnalytics:qp.isBoolean,hideContextMenu:qp.isBoolean,playedEventPercents:qp.isArrayOfNumbers,showJumpControls:qp.isBoolean,seekThumbnails:qp.isBoolean,floatingWhenNotVisible:qp.isString(ni),playedEventTimes:qp.isArray,playlistWidget:{direction:qp.isString,total:qp.isNumber},colors:{base:qp.isString,accent:qp.isString,text:qp.isString},ads:{adTagUrl:qp.isString,showCountdown:qp.isBoolean,adLabel:qp.isString,locale:qp.isString,prerollTimeout:qp.isNumber,postrollTimeout:qp.isNumber,adsInPlaylist:qp.isString({FIRST_VIDEO:"first-video",EVERY_VIDEO:"every-video"})},cloudinary:{autoShowRecommendations:qp.isBoolean,sourceTypes:qp.isArrayOfStrings,transformation:qp.isObject,fontFace:qp.isString,posterOptions:{publicId:qp.isString,transformation:qp.isObject}}}},Kp={raw_transformation:qp.isString,shoppable:qp.isPlainObject,withCredentials:qp.isBoolean,interactionAreas:{enable:qp.isBoolean,template:qp.or(qp.isString(zp),qp.isArray),vttUrl:qp.isString,onClick:qp.isFunction},textTracks:{captions:{label:qp.isString,language:qp.isString,default:qp.isBoolean,url:qp.isString},subtitles:qp.isArrayOfObjects({label:qp.isString,language:qp.isString,url:qp.isString})},info:{title:qp.isString,subtitle:qp.isString,description:qp.isString},cloudinary:{sourceTypes:qp.isArrayOfStrings,transformation:qp.isObject}};function Yp(t,e,n){return Yp=ad()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&rd(i,n.prototype),i},Yp.apply(null,arguments)}function Gp(t){return function(t){if(Array.isArray(t))return Jp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Jp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qp(){Qp=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),s=new E(i||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function f(){}function p(){}function d(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==e&&n.call(m,o)&&(y=m);var g=d.prototype=f.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,o,a,s){var c=u(t[r],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==ed(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return j()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function T(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,T(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(_.prototype),c(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new _(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Zp(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function td(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Zp(o,r,i,a,s,"next",t)}function s(t){Zp(o,r,i,a,s,"throw",t)}a(void 0)}))}}function ed(t){return ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(t)}function nd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rd(t,e){return rd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rd(t,e)}function id(t,e){if(e&&("object"===ed(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return od(t)}function od(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ad(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function sd(t){return sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sd(t)}Object.keys(Af).forEach((function(t){y().registerPlugin(t,Af[t])})),function(){var t=y().getComponent("Player").prototype.options_.children;t.push("titleBar"),t.push("upcomingVideoOverlay"),t.push("recommendationsOverlay");var e=y().getComponent("ControlBar");e&&((t=e.prototype.options_.children).splice(t.indexOf("progressControl"),0,"spacer","progressControlEventsBlocker"),t.splice(t.indexOf("playToggle"),1,"playlistPreviousButton","JumpBackButton","playToggle","JumpForwardButton","playlistNextButton"),t.splice(t.indexOf("fullscreenToggle"),1,"logoButton","fullscreenToggle"))}();var cd=!0,ld=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rd(t,e)}(l,t);var e,n,r,i,o,a,s,c=(e=l,n=ad(),function(){var t,r=sd(e);if(n){var i=sd(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return id(this,t)});function l(t,e,n){var r,i,o,a;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),r=c.call(this),i=od(r),a=function(){r.videojs.clearTimeout(r.reTryId)},(o="_clearTimeOut")in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,r._playlistWidget=null,r.nbCalls=0,r.videoElement=function(t){if(K(t)){var e=t;0===e.indexOf("#")&&(e=e.slice(1));try{t=document.querySelector("#".concat(vi()(e)))||y().getPlayer(e)}catch(e){t=null}if(!t)throw new Error("Could not find element with id ".concat(e))}if(!t.tagName)throw new Error("Must specify either an element or an element id.");if("VIDEO"!==t.tagName)throw new Error("Element is not a video tag.");return t}(t),r.options=_i(r.videoElement,e),r._videojsOptions=r.options.videojsOptions,r.videoElement.classList.add("video-js"),di.fontFace(r.videoElement,r.playerOptions),di.playButton(r.videoElement,r._videojsOptions),r.videojs=y()(r.videoElement,r._videojsOptions),r._isPlayerConfigValid=!0,Vp(r.options,Xp),!r._isPlayerConfigValid)return r.videojs.error("invalid player configuration"),id(r);r._videojsOptions.muted&&r.videojs.volume(.4),r.playerOptions.fluid&&r.fluid(r.playerOptions.fluid);var s={contribAdsLoaded:Q(r.videojs.ads),imaAdsLoaded:"object"===("undefined"==typeof google?"undefined":ed(google))&&"object"===ed(google.ima)};return r._setCssClasses(),r._initPlugins(s),r._initPlaylistWidget(),r._initJumpButtons(),r._setVideoJsListeners(n),r}return r=l,i=[{key:"_setVideoJsListeners",value:function(t){var e=this;y().hook("beforeerror",(function(t,n){return n&&3===n.code&&e.loadingLazyPlugins&&(n=null),n})),this.videojs.on(oo,(function(){var t=e.videojs.error();if(t){var n=e._isPlayerConfigValid&&e.videojs.cloudinary.currentSourceType();[3===t.code&&y().browser.IS_SAFARI,4===t.code].includes(!0)&&[Ro.AUDIO,Ro.VIDEO].includes(n)?(e.videojs.error(null),di.handleCldError(e,e.playerOptions)):e._clearTimeOut()}})),this.videojs.tech_.on(so,(function(){var t=function(t,e,n){if(t&&"object"===ur(t)){var r,i=t,o=cr(e.split("."));try{for(o.s();!(r=o.n()).done;){var a=r.value;if(!Object.prototype.hasOwnProperty.call(i,a)||void 0===i[a])return n;i=i[a]}}catch(t){o.e(t)}finally{o.f()}return i}return n}(e.videojs,"hls.stats.mediaRequestsErrored",0);t>0&&(e._clearTimeOut(),di.handleCldError(e,e.playerOptions))})),this.videojs.on(Qi,this._clearTimeOut),this.videojs.on(co,this._clearTimeOut),this.videojs.ready((function(){e._onReady(),t&&t(e)})),this.adsEnabled&&Object.keys(this.playerOptions.ads).length>0&&"object"===ed(this.videojs.ima)&&("first-video"===this.playerOptions.ads.adsInPlaylist?this.videojs.one(uo,(function(){e.videojs.ima.playAd()})):this.videojs.on(uo,(function(){e.videojs.ima.playAd()})))}},{key:"_initPlugins",value:function(t){this._initAutoplay(),this._initContextMenu(),this._initPerSrcBehaviors(),this._initCloudinary(),this._initAnalytics(),this._initCloudinaryAnalytics(),this._initFloatingPlayer(),this._initColors(),this._initTextTracks(),this._initSeekThumbs()}},{key:"_initLazyPlugins",value:(s=td(Qp().mark((function t(e){return Qp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loadingLazyPlugins=!0,t.next=3,this._initDash(e);case 3:this.loadingLazyPlugins=!1;case 4:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"_initDash",value:(a=td(Qp().mark((function t(e){var n;return Qp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.sourceTypes&&e.sourceTypes.some((function(t){return t.includes("dash")})),!Af.dashPlugin||!n){t.next=4;break}return t.next=4,Af.dashPlugin();case 4:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})},{key:"_isFullScreen",value:function(){return this.videojs.player().isFullscreen()}},{key:"_initIma",value:function(t){if(!t.contribAdsLoaded||!t.imaAdsLoaded)return this.playerOptions.ads&&(t.contribAdsLoaded||console.log("contribAds is not loaded"),t.imaAdsLoaded||console.log("imaSdk is not loaded")),!1;this.playerOptions.ads||(this.playerOptions.ads={});var e=this.playerOptions.ads;return 0!==Object.keys(e).length&&(this.videojs.ima({id:this.el().id,adTagUrl:e.adTagUrl,disableFlashAds:!0,prerollTimeout:e.prerollTimeout||5e3,postrollTimeout:e.postrollTimeout||5e3,showCountdown:!1!==e.showCountdown,adLabel:e.adLabel||"Advertisement",locale:e.locale||"en",autoPlayAdBreaks:!1!==e.autoPlayAdBreaks,debug:!0}),!0)}},{key:"setTextTracks",value:function(t){var e=this.videojs.remoteTextTracks();if(e)for(var n=e.tracks_.length-1;n>=0;n--)this.videojs.removeRemoteTextTrack(e.tracks_[n]);if(t){for(var r=[],i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];if(Array.isArray(t[a]))for(var s=t[a],c=0;c<s.length;c++)r.push(l.buildTextTrackObj(a,s[c]));else r.push(l.buildTextTrackObj(a,t[a]))}di.filterAndAddTextTracks(r,this.videojs)}}},{key:"_initSeekThumbs",value:function(){var t=this;this.playerOptions.seekThumbnails&&this.videojs.on(lo,(function(e,n){var r=n.source;if(r&&r.getType()!==Ro.AUDIO&&!(t.videojs&&t.videojs.activePlugins_&&t.videojs.activePlugins_.vr)){var i=r.publicId(),o=r.transformation();o&&o.streaming_profile&&delete o.streaming_profile,o.flags=o.flags||[],o.flags.push("sprite");var a=r.config().url("".concat(i,".vtt"),{transformation:o});Q(t.videojs.vttThumbnails)?t.videojs.vttThumbnails({src:a}):t.videojs.vttThumbnails.src(a)}}))}},{key:"_initColors",value:function(){this.videojs.colors(this.playerOptions.colors?{colors:this.playerOptions.colors}:{})}},{key:"_initTextTracks",value:function(){var t=this;this.videojs.on(po,(function(e,n){t.setTextTracks(n)}))}},{key:"_initPerSrcBehaviors",value:function(){this.videojs.perSourceBehaviors&&this.videojs.perSourceBehaviors()}},{key:"_initJumpButtons",value:function(){!this.playerOptions.showJumpControls&&this.videojs.controlBar&&(this.videojs.controlBar.removeChild("JumpForwardButton"),this.videojs.controlBar.removeChild("JumpBackButton"))}},{key:"_initCloudinary",value:function(){var t=this.playerOptions.cloudinary.cloudinaryConfig;t.chainTarget=this,!1!==t.secure&&vr(t,{secure:!0}),this.videojs.cloudinary(this.playerOptions.cloudinary)}},{key:"_initAnalytics",value:function(){var t=this.playerOptions.analytics;if(window.ga||!t){if(t){var e="object"===ed(t)?t:{};this.videojs.analytics(e)}}else console.error("Google Analytics script is missing")}},{key:"_initCloudinaryAnalytics",value:function(){this.playerOptions.cloudinaryAnalytics&&(this.videojs.videoElement=this.videoElement,this.videojs.cloudinaryAnalytics())}},{key:"reTryVideo",value:function(t,e){var n=this;if(!this.isVideoReady())if(this.nbCalls<t)this.nbCalls++,this.reTryId=this.videojs.setTimeout((function(){return n.reTryVideo(t,e)}),e);else{var r=new Error("Video is not ready please try later");this.videojs.trigger("error",r)}}},{key:"isVideoReady",value:function(){return this.videojs.readyState()>=(/iPad|iPhone|iPod/.test(navigator.userAgent)?1:4)&&(this.nbCalls=0,!0)}},{key:"_initPlaylistWidget",value:function(){var t=this;this.videojs.on(yo,(function(){t._playlistWidget&&t._playlistWidget.dispose();var e=t.playerOptions.playlistWidget;X(e)&&(t.playerOptions.fluid&&(e.fluid=!0),t.playerOptions.cloudinary.fontFace&&(e.fontFace=t.playerOptions.cloudinary.fontFace),t._playlistWidget=new Dp(t.videojs,e))}))}},{key:"playlistWidget",value:function(t){return!(!t&&!this._playlistWidget)&&(!t&&this._playlistWidget||X(t)&&this._playlistWidget.options(t),this._playlistWidget)}},{key:"_initAutoplay",value:function(){"on-scroll"===this.playerOptions.autoplayMode&&this.videojs.autoplayOnScroll()}},{key:"_initContextMenu",value:function(){this.playerOptions.hideContextMenu||this.videojs.contextMenu(ri.contextMenu)}},{key:"_initFloatingPlayer",value:function(){this.playerOptions.floatingWhenNotVisible!==ni.NONE&&this.videojs.floatingPlayer({floatTo:this.playerOptions.floatingWhenNotVisible})}},{key:"_setCssClasses",value:function(){this.videojs.addClass(di.CLASS_PREFIX),this.videojs.addClass(di.playerClassPrefix(this.videojs)),di.setSkinClassPrefix(this.videojs,di.skinClassPrefix(this.videojs))}},{key:"_onReady",value:function(){this._setExtendedEvents();var t=this.playerOptions.source||this.playerOptions.publicId;t&&this.source(t,this.playerOptions)}},{key:"_setExtendedEvents",value:function(){var t=this,e=[];this.playerOptions.playedEventPercents&&e.push({type:Oo,percents:this.playerOptions.playedEventPercents}),this.playerOptions.playedEventTimes&&e.push({type:Po,times:this.playerOptions.playedEventTimes}),e.push.apply(e,[eo,no,ro,Ao]);var n=new tf(this.videojs,{events:e});Object.keys(n.events).forEach((function(e){n.on(e,(function(n,r){t.videojs.trigger({type:e,eventData:r})}))}))}},{key:"cloudinaryConfig",value:function(t){return this.videojs.cloudinary.cloudinaryConfig(t)}},{key:"playerOptions",get:function(){return this.options.playerOptions}},{key:"currentPublicId",value:function(){return this.videojs.cloudinary.currentPublicId()}},{key:"currentSourceUrl",value:function(){return this.videojs.currentSource().src}},{key:"currentPoster",value:function(){return this.videojs.cloudinary.currentPoster()}},{key:"source",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._isPlayerConfigValid){var r=Vp(n,Kp);if(r){if(t instanceof au)return this.videojs.cloudinary.source(t,n);this.videojs.interactive&&this.videojs.interactive(this.videojs,n),l.allowUsageReport()&&(n.usageReport=!0),this.setTextTracks(n.textTracks),clearTimeout(this.reTryId),this.nbCalls=0;var i=this.videojs.options_.maxTries||3,o=this.videojs.options_.videoTimeout||55e3;return this.reTryVideo(i,o),this._initLazyPlugins(n).then((function(){return e.videojs.cloudinary.source(t,n)})),this.videojs.cloudinary.source(t,n)}this.videojs.error("invalid source configuration")}}},{key:"posterOptions",value:function(t){return this.videojs.cloudinary.posterOptions(t)}},{key:"skin",value:function(t){if(void 0!==t&&K(t)){di.setSkinClassPrefix(this.videojs,t);var e=this.playlistWidget();e&&e.setSkin()}return di.skinClassPrefix(this.videojs)}},{key:"playlist",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._initQualitySelector(),this.videojs.cloudinary.playlist(t,e)}},{key:"playlistByTag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.videojs.cloudinary.playlistByTag(t,e)}},{key:"sourcesByTag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.videojs.cloudinary.sourcesByTag(t,e)}},{key:"fluid",value:function(t){return void 0===t?this.videojs.fluid():(t?this.videojs.addClass(ti):this.videojs.removeClass(ti),this.videojs.fluid(t),this.videojs.trigger(_o,t),this)}},{key:"play",value:function(){return this.playWasCalled=!0,this.videojs.play(),this}},{key:"stop",value:function(){return this.pause(),this.currentTime(0),this}},{key:"playPrevious",value:function(){return this.playlist().playPrevious(),this}},{key:"playNext",value:function(){return this.playlist().playNext(),this}},{key:"transformation",value:function(t){return this.videojs.cloudinary.transformation(t)}},{key:"sourceTypes",value:function(t){return this.videojs.cloudinary.sourceTypes(t)}},{key:"sourceTransformation",value:function(t){return this.videojs.cloudinary.sourceTransformation(t)}},{key:"autoShowRecommendations",value:function(t){return this.videojs.cloudinary.autoShowRecommendations(t)}},{key:"duration",value:function(){return this.videojs.duration()}},{key:"height",value:function(t){return t?(this.videojs.height(t),this):this.videojs.height()}},{key:"width",value:function(t){return t?(this.videojs.width(t),this):this.videojs.width()}},{key:"volume",value:function(t){return t?(this.videojs.volume(t),this):this.videojs.volume()}},{key:"mute",value:function(){return this.isMuted()||this.videojs.muted(!0),this}},{key:"unmute",value:function(){return this.isMuted()&&this.videojs.muted(!1),this}},{key:"isMuted",value:function(){return this.videojs.muted()}},{key:"pause",value:function(){return this.videojs.pause(),this}},{key:"currentTime",value:function(t){return t||0===t?(this.videojs.currentTime(t),this):this.videojs.currentTime()}},{key:"maximize",value:function(){return this.isMaximized()||this.videojs.requestFullscreen(),this}},{key:"exitMaximize",value:function(){return this.isMaximized()&&this.videojs.exitFullscreen(),this}},{key:"isMaximized",value:function(){return this.videojs.isFullscreen()}},{key:"dispose",value:function(){this.videojs.dispose()}},{key:"controls",value:function(t){return void 0===t?this.videojs.controls():(this.videojs.controls(t),this)}},{key:"ima",value:function(){return{playAd:this.videojs.ima.playAd}}},{key:"loop",value:function(t){return void 0===t?this.videojs.loop():(this.videojs.loop(t),this)}},{key:"el",value:function(){return this.videojs.el()}}],o=[{key:"all",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=document.querySelectorAll(t);return Gp(i).map((function(t){return Yp(l,[t].concat(n))}))}},{key:"allowUsageReport",value:function(t){return void 0===t?cd:cd=!!t}},{key:"buildTextTrackObj",value:function(t,e){return{kind:t,label:e.label,srclang:e.language,default:!!e.default,src:e.url}}}],i&&nd(r.prototype,i),o&&nd(r,o),Object.defineProperty(r,"prototype",{writable:!1}),l}(di.mixin(Bf));const ud=ld;function hd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hd(Object(n),!0).forEach((function(e){pd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}window.cloudinary&&window.cloudinary.Cloudinary&&console.warn("For version 1.9.0 and above, cloudinary-core is not needed for using the Cloudinary Video Player");var dd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return M(fr(t,Qr),{cloudinaryConfig:e||hr(t,Qr)})},yd=function(t){return function(e,n,r){return new ud(e,dd(n,t),r)}},vd=function(t){return function(e,n,r){return ud.all(e,dd(n,t),r)}},md=yd(),gd=vd(),bd=fd(fd({},window.cloudinary||{}),{},{videoPlayer:md,videoPlayers:gd,Cloudinary:{new:function(t){return{videoPlayer:yd(t),videoPlayers:vd(t)}}}});window.cloudinary=bd;const _d=bd})(),r})()));
//# sourceMappingURL=cld-video-player.light.min.js.map