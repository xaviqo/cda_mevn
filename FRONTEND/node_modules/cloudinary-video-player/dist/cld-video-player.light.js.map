{"version":3,"file":"cld-video-player.light.js","mappings":"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Q,CAAC4C,OAAO,CAAC,kBAAkB,CAAC,EAAE,CAAC,EAAE,YAAY,EAAE,kBAAkB,CAAC;EAC5F;AACF,CAAC;;;;;;;;;;ACjID;AACA,CAAC;AACD;AACA,KAAK,IAA0B;AAC/B;AACA;AACA,GAAG,KAAK,EAMN;AACF,CAAC,QAAQ,qBAAM,kBAAkB,qBAAM;;AAEvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;;;;;;;;;;;;ACzGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,sBAAsB;AACxC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe;AACf;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;;AAEA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,uCAAuC,QAAQ;AAC/C;AA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Aa,QAAQ;AACrB;AACA;AACA,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ,0BAA0B;AAC1B,4CAA4C;AAC5C;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,kBAAkB;;AAElB,kBAAkB,mBAAmB;AACrC;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA,qBAAqB,wBAAwB;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,OAAO;AACrB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR,gCAAgC;;AAEhC;AACA,uCAAuC;;AAEvC;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA,QAAQ;AACR;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;;AAEA;AACA,0EAA0E,aAAa;AACvF;AACA;;AAEA;AACA,OAAO;;;AAGP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,yBAAyB;AACjE;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,gBAAgB;AAChB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;;AAGA;AACA,6EAA6E,eAAe;AAC5F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;;AAGA;AACA,6EAA6E,eAAe;AAC5F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;;AAGA;AACA,6EAA6E,eAAe;AAC5F;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wHAAwH,qBAAM,mBAAmB,qBAAM;;AAEvJ;AACA,qBAAqB,aAAa;AAClC;;AAEA;AACA;AACA;AACA,wBAAwB,sBAAsB;AAC9C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,kBAAkB;AAC/B;AACA;;;AAGA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB,cAAc;AACd;;AAEA;AACA,8FAA8F,aAAa;AAC3G;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,cAAc;AACd;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc;AACd;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc;AACd;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,QAAQ,cAAc;AACpC;AACA;AACA,cAAc,QAAQ,cAAc;AACpC;AACA;AACA,aAAa,8BAA8B;AAC3C;AACA;AACA,cAAc;AACd;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC;AACtC;AACA;;AAEA;AACA;AACA,wCAAwC;AACxC;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,aAAa,SAAS;AACtB;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,yCAAyC;AACzC;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,sCAAsC;AACpD,uCAAuC;AACvC;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA,kBAAkB;AAClB;AACA;;AAEA;;AAEA;AACA;;AAEA,qCAAqC,QAAQ;AAC7C;AACA,sCAAsC;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,cAAc,mBAAmB;AACjC;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wCAAwC;AACvD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,8BAA8B;AAC3C;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,aAAa,8BAA8B;AAC3C;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,aAAa,8BAA8B;AAC3C;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,mBAAmB;AACjC;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,gBAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,gBAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA8C;;AAE9C;AACA,2CAA2C,OAAO;AAClD,mCAAmC;;AAEnC;AACA;AACA;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA;AACA;AACA,YAAY;;AAEZ,UAAU;AACV;AACA;AACA;AACA,QAAQ;;AAER,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sCAAsC;;AAEtC;AACA;AACA,UAAU;AACV;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kCAAkC;;AAElC;AACA,kCAAkC;AAClC;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,2BAA2B;AACxC;AACA;;;AAGA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;;AAGA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA,QAAQ;;;AAGR;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,sCAAsC;;AAEtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gDAAgD;;AAEhD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,yDAAyD;;AAEzD;AACA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR,qDAAqD;AACrD,oBAAoB,aAAa;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,QAAQ,WAAW;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA,aAAa,2BAA2B;AACxC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;;AAEA,kCAAkC;;AAElC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,mDAAmD,OAAO;AAC1D;AACA;AACA,cAAc;AACd;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA,aAAa,2BAA2B;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC;;AAElC;AACA;AACA;;AAEA;AACA;AACA,MAAM;;;AAGN;AACA;;AAEA;AACA,OAAO;;;AAGP;AACA;AACA,oEAAoE;AACpE;AACA;AACA;;AAEA;AACA;;AAEA,wCAAwC;;AAExC;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA,MAAM;;;AAGN;AACA,sBAAsB,qBAAqB;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA,aAAa,0BAA0B;AACvC;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;;;AAGN,6BAA6B;;AAE7B;AACA;AACA,MAAM;AACN;;;AAGA;AACA,+CAA+C;AAC/C,MAAM;AACN;AACA,oCAAoC;AACpC;;AAEA,kDAAkD;;AAElD;AACA;AACA,oCAAoC;;AAEpC;AACA;AACA,UAAU;;;AAGV;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA,aAAa,qBAAqB;AAClC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;;AAGP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA,aAAa,qBAAqB;AAClC;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;;AAGP,gDAAgD;;AAEhD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;;;AAGN,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,uBAAuB;AACvB;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,aAAa,mBAAmB;AAChC;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA,aAAa,2BAA2B;AACxC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,qBAAqB;AACvC;AACA;AACA;AACA,WAAW;AACX;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA,aAAa,2BAA2B;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA,WAAW;AACX;;;AAGA;AACA;AACA;AACA;AACA,WAAW,sBAAsB,YAAY,uBAAuB;AACpE;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA,aAAa,2BAA2B;AACxC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,iCAAiC;AAC9C;AACA;AACA;;;AAGA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,0BAA0B;AAC5C;AACA;AACA;AACA,WAAW;AACX;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc;AACd;AACA;;;AAGA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA,cAAc,UAAU;AACxB;AACA;;;AAGA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA,cAAc;AACd;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;;;AAGA;AACA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;;;AAGA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc,UAAU;AACxB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;;;AAGA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc;AACd;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,gBAAgB;AAC9B;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA,cAAc,UAAU;AACxB;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,SAAS,6BAA6B;AACtC;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,gBAAgB,6BAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;;AAEA,0EAA0E,aAAa;AACvF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C;;AAE5C;AACA;AACA;AACA;AACA,WAAW;AACX;;;AAGA,sDAAsD;AACtD;AACA;;AAEA;AACA;AACA,WAAW;AACX;;;AAGA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,gBAAgB,6BAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;;AAEA,6EAA6E,eAAe;AAC5F;AACA;;AAEA;AACA;AACA;AACA;AACA,qDAAqD;;;AAGrD;AACA,+CAA+C;AAC/C,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA,kFAAkF,eAAe;AACjG;AACA;;AAEA;AACA,WAAW;AACX;;;AAGA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,gBAAgB,6BAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;;AAEA,6EAA6E,eAAe;AAC5F;AACA;;AAEA;AACA;AACA;AACA;AACA,qDAAqD;;;AAGrD;AACA,+CAA+C;AAC/C,QAAQ;AACR;AACA;;AAEA,kFAAkF,eAAe;AACjG;AACA;;AAEA;AACA,WAAW;AACX;;;AAGA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,gBAAgB,6BAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D,QAAQ;AACR;AACA,mCAAmC;;AAEnC;AACA;AACA,iDAAiD;;AAEjD,yCAAyC;AACzC;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA,2EAA2E;;AAE3E;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,gDAAgD;AAC9D;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,QAAQ,WAAW;AACjC;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4CAA4C;;AAE5C;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP,MAAM;;;AAGN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,sBAAsB;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,aAAa;;AAEb;AACA;AACA,QAAQ,iDAAiD;AACzD;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO,GAAG;AACV;AACA;;AAEA;AACA;AACA;AACA,YAAY,gCAAgC,KAAK;AACjD;AACA;AACA;AACA,sBAAsB;AACtB,sBAAsB,QAAQ;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,cAAc,mDAAmD;AACjE;AACA;AACA,8BAA8B,8BAA8B;AAC5D;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA,mCAAmC;AACnC;;AAEA,4BAA4B,+BAA+B;;AAE3D;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,yDAAyD;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;;AAEA,2EAA2E,aAAa;AACxF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO,SAAS,QAAQ,YAAY;AACnD,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR,sEAAsE;;AAEtE,wCAAwC;;AAExC;AACA,+CAA+C;;AAE/C;AACA,+CAA+C;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO,SAAS,QAAQ,YAAY;AACnD,gBAAgB;AAChB;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAY;;;AAGZ;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA,MAAM;;;AAGN,qBAAqB,QAAQ;AAC7B;AACA,MAAM;;;AAGN,gBAAgB,QAAQ;AACxB;AACA,MAAM;;;AAGN,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,oDAAoD;AACpD;;AAEA;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC;AACtC,QAAQ;AACR;AACA;;AAEA,gCAAgC;;AAEhC,oCAAoC;;AAEpC,qCAAqC,kBAAkB;;AAEvD,sEAAsE;;AAEtE,4DAA4D;;AAE5D;AACA;AACA;AACA;AACA;;AAEA,yCAAyC;;AAEzC;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,QAAQ;;;AAGR;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;;AAE7C;AACA;AACA,QAAQ;AACR;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;;;AAGA;AACA;AACA;AACA,OAAO;AACP,+BAA+B;;AAE/B;AACA,gDAAgD,QAAQ;AACxD;AACA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,EAAE;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,GAAG,UAAU,EAAE,KAAK,GAAG,IAAI,EAAE;AACzE;AACA;AACA;AACA;AACA,wDAAwD,GAAG,SAAS,EAAE;AACtE;AACA,uBAAuB,GAAG,IAAI,EAAE;AAChC;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,eAAe,UAAU;AACzB;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA,qDAAqD,OAAO;AAC5D;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qEAAqE,mBAAmB;AACxF;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,uBAAuB;AACtC;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA,2EAA2E,aAAa;AACxF;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA,sBAAsB,kBAAkB;AACxC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC;AACA;AACA,eAAe,QAAQ,WAAW;AAClC;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yBAAyB;;AAEzB;AACA;AACA,0EAA0E;;AAE1E,sCAAsC;AACtC;;AAEA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;;;AAGA;AACA;AACA;;AAEA,uEAAuE;AACvE,QAAQ;AACR;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;;;AAGA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC;AACjC,gCAAgC,mBAAmB;AACnD,sCAAsC,YAAY,mBAAmB;;AAErE;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA,8DAA8D;AAC9D;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW;;;AAGX;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,+BAA+B;AAC/B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B;;AAE5B;AACA,2CAA2C;;AAE3C;;AAEA;AACA;AACA;AACA,WAAW;AACX,UAAU;;AAEV;AACA;AACA;AACA;AACA,kBAAkB;AAClB;;;AAGA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE,4CAA4C,0BAA0B;AACtE;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,uBAAuB;AACvC,mBAAmB,qBAAqB;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,2BAA2B;AACvC;AACA,eAAe,eAAe;AAC9B;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,2BAA2B;AACvC;AACA,eAAe,eAAe;AAC9B;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,uBAAuB,KAAK,uBAAuB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,+DAA+D;AAC/D,cAAc,OAAO;AACrB;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;;;AAGV;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA,UAAU;;;AAGV;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;;AAEA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA,QAAQ;;;AAGR;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,sEAAsE;;AAEtE,iEAAiE;AACjE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb,iDAAiD;;AAEjD;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,SAAS;;;AAGT;AACA,qCAAqC;AACrC;;AAEA;AACA,2BAA2B;;AAE3B;AACA;AACA,iEAAiE;;AAEjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA,0CAA0C;;AAE1C;AACA,OAAO;;AAEP;AACA,kBAAkB;;AAElB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC,8BAA8B;AAC9D,WAAW,yBAAyB;AACpC,yDAAyD;AACzD;AACA;AACA;AACA,gBAAgB,8BAA8B,IAAI,yBAAyB;AAC3E;AACA,eAAe,2BAA2B;AAC1C;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA,4BAA4B,8BAA8B;AAC1D;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,QAAQ,2BAA2B,4BAA4B;AAC/D;AACA,+CAA+C,wBAAwB;AACvE;AACA,eAAe,QAAQ;AACvB;AACA,eAAe,4BAA4B;AAC3C;AACA,gBAAgB;AAChB;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D,WAAW,yBAAyB;AACpC,2CAA2C;AAC3C;AACA,eAAe,2BAA2B;AAC1C;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA,gBAAgB,+BAA+B;AAC/C;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,4BAA4B,6BAA6B;AACjE;AACA,+CAA+C,wBAAwB;AACvE;AACA,eAAe,QAAQ;AACvB;AACA,eAAe,6BAA6B;AAC5C;AACA,gBAAgB;AAChB;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,2BAA2B;AACrC;AACA,wCAAwC,iCAAiC;AACzE;AACA;AACA;AACA;AACA;AACA,gBAAgB,2BAA2B;AAC3C;AACA;AACA;AACA,gBAAgB;AAChB;AACA,gCAAgC,sCAAsC;AACtE;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oCAAoC;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB,2BAA2B;AAC3C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA,yCAAyC,sCAAsC;AAC/E;AACA,4DAA4D,wBAAwB;AACpF;AACA,eAAe,QAAQ;AACvB,wDAAwD,sCAAsC;AAC9F;AACA,gBAAgB;AAChB;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,gBAAgB,WAAW,8CAA8C,WAAW;AACpF,2CAA2C,yBAAyB;AACpE,gBAAgB,mCAAmC;AACnD;AACA;AACA,gBAAgB,wCAAwC;AACxD;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,WAAW;AAC1B;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA,mEAAmE;AACnE;;AAEA,iDAAiD;;AAEjD;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;;AAEA,8DAA8D;AAC9D;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,UAAU;AAC5B;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,mCAAmC;AACnD;AACA;AACA,gBAAgB,mCAAmC;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,kBAAkB,OAAO;AACzB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM,4FAA4F;AAClG;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;;;AAGA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,WAAW;AACxB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAoB,qBAAqB;AACzC;AACA,6BAA6B;;AAE7B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,iCAAiC;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,sCAAsC;AACtC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA,iCAAiC,kBAAkB;AACnD;AACA,YAAY;AACZ;AACA,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB;;AAEA;AACA;AACA,qDAAqD,4BAA4B;AACjF;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA,uBAAuB,uCAAuC;AAC9D,wDAAwD;;AAExD;AACA,IAAI;;AAEJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;;AAEA;AACA;AACA,sCAAsC;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,iBAAiB;AACxC,qBAAqB,gBAAgB;AACrC;AACA,aAAa,WAAW;AACxB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B,mBAAmB,gBAAgB;AACnC,MAAM,iDAAiD;AACvD;AACA,aAAa,MAAM;AACnB;AACA;AACA,cAAc;AACd,8DAA8D,WAAW;AACzE,cAAc,oBAAoB;AAClC;;;AAGA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,6BAA6B,gBAAgB,QAAQ,YAAY;AACjE,aAAa,iBAAiB;AAC9B;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA,eAAe,SAAS;AACxB,4DAA4D;AAC5D;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,6CAA6C;AAC7C;AACA;;;AAGA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA,wFAAwF;;AAExF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;AAEA;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA,UAAU;AACV;;;AAGA;;AAEA;AACA;AACA;;AAEA,iDAAiD;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,UAAU;;;AAGV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA,kCAAkC;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,iCAAiC;;AAEjC;AACA;AACA,QAAQ;AACR;AACA,QAAQ;;;AAGR;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,yBAAyB;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC,oBAAoB,GAAG,qBAAqB;AAC9E,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP,sBAAsB,mBAAmB;AACzC;AACA;;AAEA;AACA;AACA;AACA,cAAc,aAAa;AAC3B;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;;;AAGR;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,sBAAsB,OAAO;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,oBAAoB,OAAO;AAC3B;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uCAAuC,OAAO;AAC9C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,oBAAoB,OAAO;AAC3B;AACA;;;AAGA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA,uCAAuC,OAAO;AAC9C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA,yDAAyD,mBAAmB;AAC5E;AACA,gBAAgB,QAAQ;AACxB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA,0BAA0B,kBAAkB;AAC5C;AACA,iBAAiB;AACjB;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC;AACA,eAAe,YAAY;AAC3B;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,uDAAuD;;;AAGvD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA,0BAA0B,iBAAiB;AAC3C;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA,0BAA0B,kBAAkB;AAC5C;AACA,iBAAiB;AACjB;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B,oDAAoD,kBAAkB;AACtE;;AAEA;AACA;AACA,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA;AACA;AACA,cAAc,kBAAkB;AAChC;AACA,eAAe,YAAY;AAC3B;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,uDAAuD;;;AAGvD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA,0BAA0B,iBAAiB;AAC3C;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,cAAc,iBAAiB;AAC/B;AACA,eAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2DAA2D;;;AAG3D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA,0BAA0B,uBAAuB;AACjD;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP,qDAAqD,YAAY;AACjE;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC;AACA,eAAe,kBAAkB;AACjC;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;;;AAGR;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,QAAQ,gBAAgB;AACxB;AACA,eAAe,WAAW;AAC1B;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,2DAA2D,YAAY;AACvE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA,eAAe,kBAAkB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA,2DAA2D,YAAY;AACvE;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA,eAAe,QAAQ;AACvB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;;AAEA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA,uCAAuC,OAAO;AAC9C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,sEAAsE,iBAAiB;AACvF,MAAM,iBAAiB,OAAO,gBAAgB;AAC9C;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ,WAAW;AAClC;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA,eAAe,QAAQ;AACvB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,wFAAwF;;AAExF;AACA,kBAAkB;AAClB;AACA;;AAEA;;AAEA,oBAAoB,kBAAkB;AACtC;AACA,MAAM;AACN;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA,gDAAgD,IAAI;AACpD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iCAAiC;;AAEjC,qFAAqF;AACrF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,QAAQ;;;AAGR;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mDAAmD;AACnD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;AACA;;AAEA,uBAAuB;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,4BAA4B;AAC5B;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0FAA0F;;AAE1F;AACA,8GAA8G;;AAE9G;AACA;AACA;;AAEA;AACA;AACA,6BAA6B;;AAE7B,kCAAkC;AAClC;;AAEA;AACA;AACA;;AAEA;AACA,sEAAsE;;AAEtE;AACA;AACA,MAAM;AACN;AACA;;;AAGA;AACA;AACA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAM;;AAEN;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,WAAW;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,WAAW;AACxB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,4BAA4B;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;;AAET;AACA;AACA,oBAAoB,QAAQ;AAC5B,8DAA8D,qBAAqB;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;;;AAGA;AACA;AACA,SAAS;;AAET;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA,SAAS;;AAET;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;;;AAGd;AACA;AACA;;AAEA;AACA;;AAEA,kDAAkD,OAAO;AACzD;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;;AAEA;AACA;AACA,cAAc;AACd,+BAA+B,oBAAoB;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,gFAAgF;;AAEhF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;;;AAGV;AACA;AACA;;AAEA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,qEAAqE;AACrE;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ,WAAW;AAClC;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,SAAS;AACxB;AACA,kBAAkB,qBAAqB,YAAY,kBAAkB;AACrE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA,uBAAuB,gCAAgC;AACvD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;;AAEA;AACA;AACA,OAAO,GAAG;AACV;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ,WAAW;AAClC;AACA;AACA,eAAe,QAAQ;AACvB,uBAAuB;AACvB;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA,uBAAuB,iCAAiC;AACxD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;;AAEA;AACA;AACA,OAAO,GAAG;AACV;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA,eAAe;AACf,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,6BAA6B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB;;AAEzB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,cAAc,uBAAuB;;AAE1D;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG,IAAI;AACP;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA,qDAAqD;;AAErD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA,oCAAoC,IAAI,MAAM,IAAI,QAAQ,EAAE;;AAE5D;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,IAAI;AACJ;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,0BAA0B,IAAI;AAC9B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,QAAQ;AACxD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,cAAc;;AAErB;AACA;;AAEA;AACA;AACA,QAAQ;;AAER;AACA;AACA,4CAA4C;;AAE5C;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,MAAM;;;AAGN;AACA,wCAAwC;;AAExC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC;AACtC;;AAEA;AACA;AACA,IAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;;AAEA,kDAAkD;AAClD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;;;AAGN;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;;AAGZ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6EAA6E;;AAE7E;AACA;AACA,UAAU;;;AAGV;;AAEA;AACA;AACA,UAAU;AACV;;;AAGA;AACA;AACA,UAAU;;;AAGV;AACA;AACA;AACA,2CAA2C;;AAE3C;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,UAAU;AACV;;;AAGA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;AACA;;;AAGA;;AAEA;AACA,oBAAoB,4BAA4B;AAChD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,sBAAsB,iBAAiB;AACvC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAoB,gDAAgD;AACpE;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yBAAyB;AACzB;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA,oBAAoB;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM,+BAA+B;AACrC;AACA;;;AAGA;AACA;AACA;AACA;AACA,OAAO,GAAG,6BAA6B;AACvC;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,mDAAmD;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA,KAAK;;;AAGL;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;;AAE1B,sBAAsB,iBAAiB;AACvC;AACA;AACA,UAAU;AACV;;;AAGA;AACA;AACA;;AAEA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA,UAAU;;;AAGV;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;;AAGA;AACA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA,uCAAuC;AACvC;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB;AACvB,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uCAAuC;AACvC;AACA;;AAEA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;;AAEA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;;AAEA;AACA,MAAM;;;AAGN;AACA,sBAAsB,iBAAiB;AACvC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sBAAsB,iBAAiB;AACvC,uBAAuB;;AAEvB;AACA,iDAAiD;;AAEjD,6EAA6E;AAC7E;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;AACA,uBAAuB;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0CAA0C;;AAE1C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS,cAAc;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;;AAEtD,kDAAkD;AAClD;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA,QAAQ;AACR;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,QAAQ;;;AAGR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,QAAQ;;;AAGR;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;;AAGhB;AACA;AACA;;AAEA,kFAAkF;;AAElF;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA,kCAAkC;;AAElC;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,4CAA4C;;AAE5C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6DAA6D;AAC7D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR,oCAAoC;;AAEpC;AACA;AACA;;AAEA,yBAAyB;AACzB;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,8CAA8C;;AAE9C;AACA;AACA;AACA,UAAU;AACV;AACA;;;AAGA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,qDAAqD;;AAErD;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,kDAAkD;;AAElD;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,8CAA8C,6BAA6B;AAC3E;AACA,4BAA4B,mDAAmD;AAC/E,+DAA+D;AAC/D;AACA,eAAe,eAAe;AAC9B;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;;AAEA;AACA,yBAAyB,YAAY,iBAAiB,gBAAgB;AACtE;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,QAAQ,WAAW;AAChC;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,yBAAyB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wCAAwC;AACxC;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA,OAAO,GAAG;;AAEV;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,kCAAkC;;;AAGlC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,gBAAgB;AAChB;;;AAGA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,QAAQ,oBAAoB;AAC5B;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ,yBAAyB;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,SAAS,GAAG;AACZ,OAAO;AACP;AACA;AACA,8CAA8C,6BAA6B;AAC3E;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA,oDAAoD;AACpD;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,wDAAwD,qBAAqB;AAC7E,QAAQ,qBAAqB,OAAO,oBAAoB;AACxD;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC;;AAEtC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gCAAgC;;AAEhC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA,gDAAgD,gCAAgC;AAChF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,8BAA8B,qBAAqB,GAAG,OAAO,eAAe;AAC5E,QAAQ,qBAAqB;AAC7B;AACA,kBAAkB,kCAAkC;AACpD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kEAAkE;AAClE;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA,kEAAkE;AAClE;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA,kEAAkE;AAClE;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS,GAAG;AACZ;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,wBAAwB,mBAAmB;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,oCAAoC,iBAAiB;AACrD;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,wCAAwC,wBAAwB;AAChE;AACA,eAAe,QAAQ;AACvB,mBAAmB,kCAAkC;AACrD;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B;AACA;AACA;;AAEA;AACA,mFAAmF;;AAEnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,gBAAgB,QAAQ;AACxB;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,gBAAgB,QAAQ;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,eAAe,QAAQ;AACvB;AACA,gBAAgB,QAAQ;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA,cAAc;AACd;AACA,eAAe;AACf;AACA;;AAEA;AACA,cAAc;AACd;AACA,eAAe;AACf;AACA;;AAEA;AACA,cAAc;AACd;AACA,eAAe;AACf;AACA;;AAEA;AACA,6BAA6B;AAC7B;AACA,eAAe;AACf;AACA;;AAEA;AACA,6BAA6B;AAC7B;AACA,eAAe;AACf;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM,6BAA6B;AACnC;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD;AACpD,mBAAmB,4BAA4B;AAC/C;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM,8BAA8B;AACpC;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;AACA;AACA;;AAEA,sBAAsB,qBAAqB;AAC3C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;;AAGA;AACA;AACA;;AAEA,sBAAsB,qBAAqB;AAC3C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,yBAAyB,qBAAqB;AAC9C;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,qBAAqB;AAC9C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;;;AAGR;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B,MAAM,+CAA+C;AACrD,MAAM,+CAA+C;AACrD,MAAM,mDAAmD;AACzD;AACA,eAAe,QAAQ;AACvB;;AAEA;AACA;AACA,MAAM,0DAA0D;AAChE;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,mBAAmB;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,gBAAgB,cAAc;AAC9B;AACA,cAAc,mBAAmB;AACjC;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA,aAAa,MAAM;AACnB;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,cAAc,UAAU;AACxB;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,UAAU;AACxB;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,UAAU;AACxB;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iCAAiC,QAAQ;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,gBAAgB,cAAc;AAC9B;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,gBAAgB;AACpC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uCAAuC;;;AAGvC;AACA,gFAAgF;AAChF;AACA,MAAM;AACN,sDAAsD;;AAEtD;AACA;AACA;AACA;;AAEA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,UAAU;;;AAGV,sBAAsB;AACtB;;AAEA;AACA,OAAO;AACP,MAAM;AACN;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA,MAAM;;;AAGN;AACA;AACA,KAAK;;AAEL;AACA;AACA,MAAM;;;AAGN;;AAEA,oBAAoB,oBAAoB;AACxC;;AAEA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,uCAAuC;AACpD;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC;AACA,cAAc;AACd;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,sEAAsE;AACtE;;AAEA;AACA,6DAA6D,cAAc;AAC3E;AACA,6CAA6C;AAC7C;;AAEA;AACA;AACA,YAAY;;;AAGZ;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ,SAAS;AAChC;AACA;AACA,eAAe,QAAQ,cAAc;AACrC;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA,uGAAuG;AACvG,QAAQ;;;AAGR;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,WAAW,iCAAiC,KAAK,2BAA2B;AAC5E;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;AACxB;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA,gCAAgC;AAChC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iCAAiC;AAC5C,QAAQ,sCAAsC;AAC9C;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN,mEAAmE;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO,GAAG;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA,wBAAwB,mBAAmB;AAC3C;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,yCAAyC,gBAAgB;AACzD,yCAAyC,gBAAgB;AACzD;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,sBAAsB;AAC5C;;AAEA;AACA;AACA;AACA,oCAAoC;AACpC,YAAY;AACZ;AACA,YAAY;;AAEZ,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;;AAGA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,8BAA8B;AACrF,UAAU,+BAA+B;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yBAAyB,oBAAoB;AAC7C;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,iBAAiB,yBAAyB,wBAAwB;AAChF;AACA,eAAe,WAAW;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA,YAAY;AACZ;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB,WAAW,WAAW,GAAG,oBAAoB;AAC7E;AACA,eAAe,uBAAuB;AACtC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA,qBAAqB;;AAErB,sBAAsB,mBAAmB;AACzC;;AAEA,wBAAwB,6BAA6B;AACrD;AACA;AACA,QAAQ;;;AAGR,yDAAyD;;AAEzD,wBAAwB,qBAAqB;AAC7C;;AAEA,yBAAyB,gCAAgC;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,GAAG;AACxC,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA,eAAe,QAAQ,SAAS;AAChC;AACA;AACA,eAAe,QAAQ,cAAc;AACrC;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO,UAAU;;AAEjB;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC;AACA;AACA,eAAe,QAAQ,WAAW;AAClC;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iHAAiH,qCAAqC;;AAEtJ;AACA;AACA;AACA;AACA,QAAQ,qBAAqB;AAC7B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ,oBAAoB;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C;;AAE7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kDAAkD;AAClD,QAAQ;AACR;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;;AAEA;AACA,8BAA8B,aAAa;AAC3C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ,sCAAsC;AAC9C;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ,WAAW;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2DAA2D;;AAE3D;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ,0BAA0B;AAClC;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC;;AAEnC;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kCAAkC;;AAElC,kCAAkC;;AAElC;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;;AAEvC;AACA;AACA;AACA;AACA,MAAM;;;AAGN,wCAAwC;AACxC;;AAEA,yDAAyD;;AAEzD;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,wBAAwB;AACxB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,wBAAwB;AACxB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;;AAGA,yDAAyD;AACzD;AACA,qBAAqB;;;AAGrB,oDAAoD;AACpD;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,wBAAwB;AACxB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA,2CAA2C;AAC3C;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB;AAChB;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,wBAAwB;AACxB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC,mBAAmB,6BAA6B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,QAAQ;AACrB;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;;AAGT,0DAA0D;;AAE1D;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C;;AAE3C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ,SAAS;AAChC;AACA;AACA,eAAe,QAAQ,cAAc;AACrC;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,8BAA8B;AACnF,QAAQ,2BAA2B;AACnC;AACA,eAAe,mBAAmB;AAClC;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,8DAA8D;;AAE9D;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ,0BAA0B,KAAK,wBAAwB;AAC/D;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;AACA;AACA,UAAU;;;AAGV,wBAAwB,qBAAqB;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;;;AAGZ;AACA;AACA;;AAEA;AACA,kCAAkC;;AAElC;AACA;AACA,UAAU;;;AAGV,uCAAuC,sBAAsB;AAC7D;AACA;;AAEA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,mBAAmB,cAAc;AACjC;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,wCAAwC,eAAe;AACvD;AACA,eAAe,QAAQ;AACvB;AACA,yCAAyC;AACzC;AACA;;AAEA;AACA;AACA;AACA,6DAA6D;AAC7D;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;;;AAGA,kFAAkF;AAClF;AACA;AACA;;AAEA,2GAA2G;AAC3G;;AAEA,iDAAiD;AACjD;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;;;AAGA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,wCAAwC,eAAe;AACvD;AACA,eAAe,QAAQ;AACvB;AACA,yCAAyC;AACzC;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA,cAAc,eAAe;AAC7B,MAAM,sBAAsB;AAC5B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,mBAAmB,cAAc;AACjC;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,QAAQ,mBAAmB;AAC3B;AACA,eAAe,QAAQ;AACvB,wCAAwC,eAAe;AACvD;AACA,eAAe,QAAQ;AACvB;AACA,yCAAyC;AACzC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA,0BAA0B,sBAAsB;AAChD;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA,UAAU,wBAAwB;AAClC,MAAM,sBAAsB,kCAAkC;AAC9D;AACA,MAAM,sBAAsB;AAC5B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,mBAAmB,cAAc;AACjC;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,QAAQ,mBAAmB;AAC3B;AACA,eAAe,QAAQ;AACvB,wCAAwC,eAAe;AACvD;AACA,eAAe,QAAQ;AACvB;AACA,yCAAyC;AACzC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,wBAAwB;;AAExB;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0FAA0F;AAC1F;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,UAAU;;;AAGV;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uGAAuG,GAAG,UAAU,EAAE,0EAA0E,GAAG,IAAI,EAAE;;AAEzM;AACA;AACA,UAAU;;;AAGV;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,0FAA0F;;AAE1F;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sDAAsD;;AAEtD;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA,uEAAuE;;AAEvE;AACA;AACA,UAAU;AACV;;;AAGA;AACA;AACA,UAAU;AACV;AACA;;;AAGA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA,yDAAyD;;;AAGzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2FAA2F;AAC3F;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iEAAiE;AACjE;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAmC,uCAAuC;AAC1E;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;AACA,OAAO,GAAG;;;AAGV;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC,mBAAmB,oCAAoC,IAAI,oCAAoC;AAC/F;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ,0BAA0B;AAClC;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC,mBAAmB,+BAA+B;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ,0BAA0B;AAClC;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,WAAW;AACxB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,mBAAmB,cAAc;AACjC;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,wCAAwC,iBAAiB;AACzD;AACA,eAAe,QAAQ;AACvB;AACA,yCAAyC;AACzC;AACA,eAAe,SAAS;AACxB;AACA,iCAAiC;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,wCAAwC,iBAAiB;AACzD;AACA,eAAe,QAAQ;AACvB;AACA,yCAAyC;AACzC;AACA,eAAe,SAAS;AACxB;AACA,iCAAiC;AACjC;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA,UAAU,+BAA+B;AACzC,MAAM,oBAAoB,kCAAkC;AAC5D;AACA,MAAM,gBAAgB;AACtB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,mBAAmB,cAAc;AACjC;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,QAAQ,0BAA0B;AAClC;AACA,eAAe,QAAQ;AACvB,wCAAwC,iBAAiB;AACzD;AACA,eAAe,QAAQ;AACvB;AACA,yCAAyC;AACzC;AACA,eAAe,SAAS;AACxB;AACA,iCAAiC;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sCAAsC,uBAAuB;AAC7D;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yEAAyE;AACzE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ,WAAW;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oDAAoD;AACpD;;AAEA;AACA;AACA;AACA;;AAEA,8DAA8D;;AAE9D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO,GAAG;AACV;;;AAGA;AACA;;AAEA;;AAEA;AACA,OAAO;;AAEP;AACA;;AAEA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,WAAW;AACxB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA,2DAA2D;;AAE3D;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ,0BAA0B;AAClC;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA,QAAQ;;;AAGR,sBAAsB,OAAO;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ,WAAW;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;AACA;;AAEA,8DAA8D;;AAE9D;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO,GAAG;AACV;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO,GAAG;;;AAGV;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAmC,eAAe;AAClD;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC,eAAe;AACvD;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAc,gBAAgB;AAC9B;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,OAAO;;AAEP,uCAAuC;AACvC;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA,yEAAyE;;AAEzE;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA,UAAU;AACV;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA,eAAe,eAAe;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA,yCAAyC,WAAW;AACpD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ,WAAW;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,mEAAmE;;;AAGnE;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,+BAA+B;;AAE/B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO,IAAI;AACX;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA,+CAA+C;;AAE/C;AACA;AACA,QAAQ;AACR;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA,+CAA+C;;AAE/C;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,sCAAsC;AAClD;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ,wCAAwC;AAChD;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;;;AAGV;AACA,kCAAkC;;AAElC;AACA,UAAU;;AAEV,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;;;AAGV;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oEAAoE;AACpE;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ,WAAW;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ,SAAS;AAChC;AACA;AACA,eAAe,QAAQ,SAAS;AAChC;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO,kBAAkB;;;AAGzB;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,QAAQ,wCAAwC;AAChD;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,sCAAsC;AAClD;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;;AAEA;AACA;AACA,UAAU;AACV;AACA,0DAA0D;;AAE1D;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA,wCAAwC;;AAExC;AACA;AACA;AACA,2BAA2B;AAC3B;;AAEA;;AAEA;AACA,4EAA4E,aAAa;AACzF;AACA;;AAEA;AACA;;AAEA;AACA,+EAA+E,eAAe;AAC9F;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,GAAG;AACV;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,aAAa;AAC3B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT,QAAQ;;;AAGR;;AAEA;AACA;AACA;AACA;AACA,QAAQ,0BAA0B;AAClC;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,sBAAsB,mBAAmB;AACzC,+BAA+B;AAC/B;;AAEA;AACA;AACA,UAAU;AACV;;;AAGA;AACA;AACA;AACA,YAAY;AACZ;;AAEA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA,4DAA4D;AAC5D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,qEAAqE;;AAErE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;;;AAGR,iCAAiC;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA,yCAAyC,OAAO;AAChD;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,yCAAyC,OAAO;AAChD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,mBAAmB;AACzC,+BAA+B;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,8CAA8C;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,0BAA0B;AAClC;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;;;AAGR;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2BAA2B;;AAE3B;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA,sCAAsC,QAAQ;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA,4BAA4B;;AAE5B,yCAAyC,OAAO;AAChD;;AAEA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,QAAQ,0BAA0B;AAClC;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,oEAAoE;AACpE;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;;AAEA;AACA,SAAS,mBAAmB;AAC5B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA,yCAAyC;;AAEzC;AACA;AACA;AACA;;AAEA;;AAEA;AACA,4EAA4E,aAAa;AACzF;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yDAAyD;AACzD;;;AAGA,iCAAiC;;AAEjC;AACA;;AAEA,wBAAwB,mBAAmB;AAC3C,iCAAiC;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA,eAAe,mBAAmB;AAClC,mBAAmB,6BAA6B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA,sDAAsD,kBAAkB;AACxE;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,sBAAsB;AACrC;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA,wCAAwC;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,QAAQ,0BAA0B;AAClC;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qCAAqC,QAAQ;AAC7C;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,0BAA0B;AAClC;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qDAAqD;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;AAGA,iDAAiD;AACjD;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,UAAU;AACxB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,cAAc,UAAU;AACxB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,oFAAoF;;AAEpF;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA,2BAA2B;;;AAG3B;AACA;AACA;;AAEA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO,IAAI;AACX;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA,4FAA4F,4DAA4D;AACxJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA,uFAAuF;;AAEvF;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO,GAAG;AACV;;;AAGA;AACA;AACA,OAAO,GAAG;AACV;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA8C;;AAE9C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;;AAEA,+IAA+I;AAC/I;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA,oDAAoD;;AAEpD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,kBAAkB;;AAElB;AACA;AACA,MAAM;;;AAGN,oBAAoB,oBAAoB;AACxC;;AAEA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA,MAAM;AACN;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,4DAA4D;AAC5D;AACA;AACA,KAAK;AACL;AACA;AACA,uEAAuE;;AAEvE,2BAA2B;;AAE3B,uDAAuD;AACvD;;AAEA;AACA;AACA,QAAQ;;;AAGR,2BAA2B;AAC3B;;AAEA,gEAAgE;;AAEhE;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,qBAAqB;AACzC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;;;AAGA;AACA,wBAAwB;;AAExB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4EAA4E,aAAa;AACzF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR,sBAAsB;AACtB;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;;;AAGP;AACA;AACA;AACA;AACA;AACA;;;AAGA,sDAAsD;AACtD;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,wBAAwB;;AAExB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oDAAoD;;AAEpD;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qCAAqC;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,yBAAyB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4GAA4G;AAC5G;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;;;AAGR;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,wBAAwB;AAChD;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;;;AAGR,uDAAuD;AACvD;AACA;AACA;;;AAGA;AACA;AACA,QAAQ;AACR;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;AACA;;AAEA,wBAAwB,uBAAuB;AAC/C;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;;;AAGA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,wBAAwB,6CAA6C;AACrE;;AAEA;AACA;AACA;AACA,UAAU;;;AAGV;AACA,SAAS;AACT;;;AAGA;AACA,6EAA6E;;AAE7E;AACA;AACA,OAAO,GAAG;;AAEV;AACA;AACA;AACA,0EAA0E;;AAE1E;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ,mBAAmB;AAC1C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wBAAwB,uBAAuB;AAC/C;;AAEA,0BAA0B,qBAAqB;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,OAAO,GAAG;;AAEV;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV,gDAAgD;;AAEhD;AACA,0CAA0C;;AAE1C;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;;AAGA;;AAEA,sBAAsB,0BAA0B;AAChD;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,QAAQ;AACR;AACA;AACA;;;AAGA,2CAA2C;;AAE3C,8CAA8C;;AAE9C;AACA;AACA,QAAQ;;;AAGR;AACA;AACA,QAAQ;;;AAGR;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS,GAAG;;AAEZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA,8EAA8E;;AAE9E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;;AAEA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,gBAAgB,QAAQ;AACxB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA,eAAe,mBAAmB;AAClC;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA,QAAQ,8BAA8B;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,iBAAiB;AACrD;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,eAAe,SAAS;AACxB;AACA,gBAAgB,kBAAkB;AAClC,gCAAgC,wBAAwB;AACxD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA,cAAc,QAAQ;AACtB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA,aAAa,QAAQ;AACrB;AACA,cAAc,QAAQ;AACtB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS,GAAG;;AAEZ;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;;AAGA;AACA;AACA,wCAAwC;AACxC;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;AACA,YAAY;AACZ,eAAe;AACf;;AAEA;AACA;AACA;AACA,YAAY;AACZ,eAAe;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,eAAe;AACf;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ,eAAe;AACf;;AAEA;AACA;AACA;AACA,YAAY;AACZ,eAAe;AACf;;AAEA;AACA;AACA;AACA,YAAY;AACZ,eAAe;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA,+GAA+G;;AAE/G;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;;;AAGN;AACA;AACA,MAAM;AACN;;;AAGA,+BAA+B;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU,WAAW;AACrB;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAM;AACN;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU,WAAW;AACrB;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,mEAAmE,mBAAmB;AACtF;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,GAAG,GAAG;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,GAAG,GAAG;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,qDAAqD,0BAA0B;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,GAAG,GAAG;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,MAAM,yBAAyB;AAC/B;AACA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,yEAAyE,4BAA4B;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,GAAG,GAAG;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;;;AAGA;AACA;AACA;AACA,iEAAiE;AACjE,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA,sDAAsD;;;AAGtD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA,+DAA+D,WAAW;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA,4DAA4D,WAAW;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA,8DAA8D,WAAW;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA,8DAA8D,WAAW;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA,8DAA8D,WAAW;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA,qEAAqE,WAAW;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA,iEAAiE,WAAW;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA,iEAAiE,WAAW;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA,6DAA6D,WAAW;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA,mEAAmE,WAAW;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA,sEAAsE,WAAW;AACjF;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,mEAAmE;AACnE;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA,iEAAiE;AACjE;AACA;AACA;AACA;;AAEA,6DAA6D;AAC7D;;AAEA,oCAAoC;;AAEpC,gCAAgC;;AAEhC,+BAA+B;AAC/B;;AAEA,2CAA2C;;AAE3C;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR,mEAAmE;;AAEnE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;;AAGT,mCAAmC;;AAEnC,2CAA2C;;AAE3C,oCAAoC;;AAEpC,uCAAuC;AACvC;;AAEA,mCAAmC;;AAEnC,8BAA8B;;AAE9B,iCAAiC;;AAEjC,iCAAiC;;AAEjC,mCAAmC;;AAEnC,oCAAoC;;AAEpC,sCAAsC;;AAEtC;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,QAAQ;;;AAGR,uBAAuB;;AAEvB,uDAAuD;;AAEvD,+CAA+C;;;AAG/C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,QAAQ;AACR;AACA;;AAEA,2BAA2B;;;AAG3B,4CAA4C;;AAE5C,4CAA4C;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA,uCAAuC;;AAEvC;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;;;AAGA;AACA,oCAAoC;;AAEpC;AACA;AACA,OAAO,GAAG;AACV;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;;;AAGA,4DAA4D;;AAE5D;AACA;AACA;AACA,SAAS;AACT,QAAQ;;;AAGR;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,4BAA4B;;;AAG5B,6DAA6D;AAC7D;;;AAGA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;;;AAGR;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;;;AAGA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA,QAAQ;;;AAGR,gEAAgE;;AAEhE;;AAEA,8CAA8C;AAC9C;;;AAGA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;;AAEA,mDAAmD;AACnD;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,+BAA+B;;AAE/B,2BAA2B;;AAE3B;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iCAAiC;AACjC;AACA;;AAEA;AACA;;AAEA,+CAA+C;AAC/C;;;AAGA;AACA;AACA;AACA,OAAO,GAAG;;AAEV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oDAAoD;AACpD;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,WAAW;AACvB;AACA,SAAS;AACT,QAAQ;;;AAGR;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO,GAAG;AACV;AACA;;AAEA;AACA;AACA,kCAAkC;;AAElC,qCAAqC;;AAErC,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA,mDAAmD;;AAEnD,gFAAgF;AAChF;;AAEA;;AAEA,sBAAsB,kBAAkB;AACxC;AACA;AACA;AACA,QAAQ;AACR;;;AAGA,gDAAgD;;AAEhD;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;;AAGA;AACA,mCAAmC;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;;AAEA,iCAAiC;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;;;AAGR;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;;;AAGR;AACA;AACA,QAAQ;AACR;AACA,QAAQ;;;AAGR;AACA,+DAA+D,iCAAiC,mCAAmC,SAAS,gEAAgE,sDAAsD,SAAS;AAC3Q;AACA;AACA,4CAA4C,YAAY;AACxD;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gFAAgF;;AAEhF;AACA;AACA;AACA;AACA;;AAEA,sCAAsC;;AAEtC;AACA,sCAAsC;AACtC;;AAEA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;;;AAGR;;AAEA;AACA;AACA;;AAEA,+CAA+C;;AAE/C;AACA,mFAAmF;;AAEnF;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,WAAW;AAC9D;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,WAAW;AACrD;AACA;AACA;AACA,eAAe,GAAG;AAClB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yEAAyE;AACzE;AACA;;AAEA;AACA;AACA,sEAAsE;AACtE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;;AAE3B;AACA;AACA,QAAQ;;;AAGR,sCAAsC;;AAEtC;AACA;AACA;AACA,kEAAkE,WAAW;AAC7E,mCAAmC,wBAAwB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC;;AAEvC,wBAAwB;;AAExB,wCAAwC;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW;;;AAGX;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA,mBAAmB;AACnB;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA,uDAAuD;;AAEvD;AACA;AACA,QAAQ;;;AAGR,0CAA0C;AAC1C;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,sBAAsB,sBAAsB;AAC5C;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA,+CAA+C;AAC/C;AACA,QAAQ;AACR;AACA,QAAQ;;;AAGR;AACA;AACA;AACA,sEAAsE;AACtE;AACA;AACA;AACA,2EAA2E,WAAW;AACtF;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,cAAc,QAAQ;AACtB;AACA;AACA;AACA;;AAEA;AACA,kEAAkE,WAAW;AAC7E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;;;AAGA,sCAAsC;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA,mEAAmE,WAAW;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA,gEAAgE,WAAW;AAC3E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,+BAA+B;AAC/B;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gEAAgE,WAAW;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA,uEAAuE,WAAW;AAClF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA,gEAAgE,WAAW;AAC3E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA,gEAAgE,WAAW;AAC3E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA,+DAA+D,WAAW;AAC1E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA,kEAAkE,WAAW;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA,8DAA8D,WAAW;AACzE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA,8DAA8D,WAAW;AACzE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C;AAC1C;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iEAAiE,WAAW;AAC5E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;;AAGA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;;;AAGA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,UAAU;;;AAGV;AACA;AACA;AACA;AACA,UAAU;;;AAGV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yFAAyF;;AAEzF;AACA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;AACA;;AAEA,4DAA4D;AAC5D;;AAEA;AACA;AACA;;AAEA;AACA,QAAQ;;;AAGR,uCAAuC;;AAEvC;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;;AAEA;AACA;AACA,gCAAgC;;AAEhC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA,yBAAyB;;AAEzB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;;AAEA,qBAAqB;AACrB;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kDAAkD;;AAElD;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC;;AAEhC,sEAAsE;;AAEtE,8DAA8D;;AAE9D,0DAA0D;;AAE1D;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+DAA+D;;AAE/D,sEAAsE;;AAEtE,qDAAqD;AACrD;;AAEA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA,mDAAmD;;AAEnD;AACA;AACA,QAAQ;AACR;;;AAGA;AACA,gDAAgD;;AAEhD;AACA;AACA,UAAU;AACV;;;AAGA;;AAEA;AACA;AACA,UAAU;;;AAGV;AACA;AACA,SAAS;;;AAGT;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;;AAEA;AACA,wFAAwF;;AAExF;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA,eAAe;;AAEf,mDAAmD,cAAc;AACjE;AACA,2CAA2C;AAC3C;;AAEA;AACA;AACA,UAAU;;;AAGV;AACA;AACA;AACA,UAAU;;;AAGV;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO,GAAG;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;;AAGA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,8CAA8C;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA,QAAQ;AACR;;;AAGA,0CAA0C;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,QAAQ;;;AAGR,gCAAgC;AAChC;;AAEA;AACA;AACA;;AAEA,4CAA4C;;AAE5C;AACA,mCAAmC;AACnC;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,wCAAwC;;AAExC;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW,MAAM;AACjB;;;AAGA;;AAEA;AACA;;AAEA;AACA,OAAO,GAAG;;AAEV;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,8CAA8C;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA,SAAS;AACT;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uCAAuC;AACvC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,aAAa,QAAQ,KAAK;;AAElD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB;;AAExB;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,QAAQ;AACR,wCAAwC;AACxC,QAAQ;AACR;AACA;;AAEA,kGAAkG;AAClG;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;;;AAGR,0BAA0B;;AAE1B;AACA,sCAAsC;;AAEtC;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,yCAAyC;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAqB;;AAErB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,kBAAkB;AAClB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAqB;;AAErB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;;AAEA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,0BAA0B;AAC1C;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;;;AAGR;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,OAAO,GAAG;AACV;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,QAAQ;;;AAGR;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,yCAAyC;;AAEzC,kCAAkC;AAClC;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,6BAA6B;;AAE7B;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;;AAEA,6CAA6C;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA,0BAA0B;;AAE1B;AACA,SAAS;;;AAGT;AACA;AACA;AACA;AACA,oDAAoD;AACpD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,QAAQ;AACR;;;AAGA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;;;AAGV,oCAAoC;;AAEpC,+BAA+B;;AAE/B;AACA;;AAEA;AACA;AACA,UAAU;AACV;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP,gEAAgE;;AAEhE;AACA;AACA;;AAEA;AACA,+CAA+C;;AAE/C;AACA;AACA,OAAO,GAAG;;AAEV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX,UAAU;;;AAGV;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,qCAAqC,iBAAiB;AACtD,QAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB,QAAQ,uBAAuB;AACxE;AACA;AACA;AACA,eAAe,QAAQ;AACvB,kCAAkC,wBAAwB;AAC1D,eAAe,wBAAwB;AACvC;AACA,eAAe,SAAS;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC,QAAQ,qBAAqB,KAAK,2BAA2B;AAC7D;AACA,eAAe,QAAQ;AACvB,sBAAsB,iBAAiB;AACvC;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,wBAAwB,kCAAkC;AAC1D;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qDAAqD;;AAErD;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,sBAAsB,mBAAmB;AACzC,+BAA+B;;AAE/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA,eAAe,oCAAoC;AACnD,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA,eAAe,QAAQ;AACvB,4DAA4D,kBAAkB;AAC9E;AACA,gBAAgB;AAChB,oBAAoB,mBAAmB;AACvC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sBAAsB,6BAA6B;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;;;AAGZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,mCAAmC,sCAAsC;AACzE;;AAEA,uCAAuC;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA,2BAA2B;AAC3B;AACA,gBAAgB;AAChB;AACA,2BAA2B;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC;;AAEtC;AACA;AACA,QAAQ;;;AAGR,gCAAgC;AAChC;;AAEA;AACA;AACA,yCAAyC;AACzC,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E;AAC/E;AACA;AACA,kBAAkB;AAClB,kBAAkB,QAAQ;AAC1B;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA,kBAAkB,UAAU;AAC5B;AACA;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA,kBAAkB,8CAA8C;AAChE;AACA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA,kBAAkB,UAAU;AAC5B;AACA,sBAAsB,yGAAyG;AAC/H;AACA;AACA;AACA;AACA,sCAAsC,iCAAiC;AACvE;;AAEA;AACA,oCAAoC,qCAAqC;AACzE;AACA,gBAAgB,oBAAoB;AACpC;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA;AACA,sDAAsD;;AAEtD;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,mCAAmC,0BAA0B;AAC7D;AACA;AACA,QAAQ,0BAA0B;AAClC;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA,oDAAoD;AACpD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,uCAAuC;;AAEvC;AACA;;AAEA,6CAA6C,OAAO;AACpD,mCAAmC;;AAEnC;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA,8CAA8C;AAC9C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA,QAAQ;;;AAGR;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,4BAA4B;AACjD;AACA,cAAc;AACd;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,QAAQ,4CAA4C,iBAAiB;AACrE;;;AAGA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA,6CAA6C,yBAAyB;AACtE;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc;AACd;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA,6EAA6E;AAC7E;AACA,MAAM;AACN;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,cAAc;AACd;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,cAAc,wBAAwB;AACtC;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA,cAAc;AACd;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,cAAc;AACd;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP,0EAA0E,aAAa;AACvF;AACA;;AAEA,qEAAqE;;;AAGrE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,qDAAqD,cAAc;AACnE;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,qDAAqD;AACrD;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;AACA,6CAA6C;AAC7C;;AAEA,8CAA8C;;AAE9C;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ,QAAQ;AACjC;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,+DAA+D;AACvE;AACA,iBAAiB,eAAe;AAChC;AACA;AACA,iBAAiB,QAAQ,QAAQ;AACjC;AACA,iBAAiB,6CAA6C;AAC9D;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA,2CAA2C;AAC3C;AACA;;AAEA;AACA,uCAAuC;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;;AAEA,oCAAoC;AACpC;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA,gBAAgB,QAAQ;AACxB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA,gBAAgB,UAAU,mBAAmB;AAC7C;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;;AAEA,oCAAoC;;;AAGpC;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM,cAAc;AACpB;AACA,yDAAyD,cAAc;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,8BAA8B;AACpC;AACA,uCAAuC,cAAc,KAAK,YAAY;AACtE;AACA;AACA;AACA,yCAAyC,cAAc;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,gBAAgB;AAC9B;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA,cAAc,yBAAyB;AACvC,+CAA+C,cAAc,KAAK,YAAY;AAC9E;AACA;AACA,cAAc;AACd,iDAAiD,qBAAqB;AACtE;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA,6BAA6B;AAC7B;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK,GAAG;AACR;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAmC;;AAEnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gDAAgD,uBAAuB,wBAAwB,SAAS,gDAAgD,sCAAsC;AAC9L;AACA,IAAI;AACJ;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA,oCAAoC;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2BAA2B;AAC7D;AACA;AACA,4CAA4C;AAC5C;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,WAAW;AACxB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,gBAAgB,QAAQ;AACxB;;AAEA;AACA,aAAa;AACb;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,yBAAyB,6CAA6C;AACtE;AACA,YAAY;AACZ,YAAY;AACZ;;AAEA;AACA;AACA,UAAU,0DAA0D,SAAS;AAC7E;AACA;AACA,yCAAyC;AACzC,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;;AAEA;AACA,8CAA8C;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2CAA2C,iBAAiB,EAAE;AAC9D;AACA,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;;AAEA;AACA,2FAA2F;AAC3F;AACA;AACA;AACA,yBAAyB,qCAAqC;AAC9D;AACA,YAAY;AACZ,YAAY;AACZ;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA,GAAG;AACH;AACA;AACA,yBAAyB,qCAAqC;AAC9D;AACA,YAAY;AACZ,YAAY;AACZ;;AAEA;AACA;AACA,yBAAyB,qCAAqC;AAC9D;AACA,YAAY;AACZ,YAAY;AACZ;;AAEA;AACA,mDAAmD;AACnD;;AAEA;AACA;AACA,GAAG;;AAEH;;AAEA,CAAC;;;;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eAAe,eAAe;AAC9B,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,eAAe;AAC9B,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,eAAe;AAC9B,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,eAAe;AAC9B,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,eAAe;AAC9B,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,eAAe;AAC9B,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA,iEAAe,SAAS,EAAC;;;;;;;;;;;;;;;;;;;AC5FkC;AACZ;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,WAAW,WAAW;AACtB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA,kDAAkD,EAAE,uEAAS;AAC7D;AACA;AACA;AACA;AACA,SAAS,uDAAuD;AAChE,aAAa,gDAAgD;AAC7D;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,GAAG;AACnB;AACA;AACA;AACA;AACA;AACA,0CAA0C,uEAAS;AACnD;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,SAAS;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,eAAe,QAAQ;AACvB,iBAAiB,GAAG;AACpB;AACA,aAAa,uBAAuB;AACpC,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,4DAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA,eAAe,uEAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,aAAa,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACzNtB;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACA;AACA;AACA;AACA;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACA,+BAA+B,eAAe;AAC9C,kCAAkC,mBAAmB;AACrD,yCAAyC,mBAAmB,UAAU,mBAAmB;AACzF;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACvDiF;AACR;AACZ;AACQ;AACV;AACpD;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,sFAAsB;AAClD,kCAAkC,0EAAe;AACjD;AACA;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;AACA;AACA,2BAA2B,8FAA4B,CAAC,uEAAS;AACjE;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,4BAA4B,mDAAmD;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,UAAU;AACvC;AACA,mBAAmB,kFAAmB;AACtC;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;;;ACtFA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,KAAK,GAAG,SAAS,GAAG,MAAM;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,eAAe;AAC9B,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,eAAe;AAC9B,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,eAAe;AAC9B,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,eAAe;AAC9B,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,eAAe;AAC9B,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,UAAU,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9SgD;AACL;AACxB;AAC+B;AAC7B;AAC6C;AACM;AAC/C;AAC8B;AAClB;AACuB;AACrC;AACqB;AACf;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,yCAAyC,0DAAc;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,kBAAkB,WAAW;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,0DAAO;AACzB;AACA;AACA,mBAAmB,0DAAO;AAC1B,sFAAsF,mFAAU;AAChG,oBAAoB,uFAAY;AAChC,mBAAmB,yFAAa;AAChC,qBAAqB,uFAAY;AACjC,oBAAoB,kFAAU;AAC9B,4BAA4B,yGAAqB;AACjD,gCAAgC,+GAAwB;AACxD;AACA;AACA;AACA,+BAA+B,0DAAO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,4DAAQ;AACxB;AACA;AACA;AACA,sDAAsD,gBAAgB;AACtE;AACA,SAAS;AACT;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA,aAAa,4DAAQ;AACrB,iEAAiE,IAAI,GAAG,MAAM;AAC9E;AACA;AACA,QAAQ,4DAAQ;AAChB,oBAAoB,wCAAwC,WAAW,sEAAsE;AAC7I;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,8FAAyB;AACpC,YAAY,8FAAyB;AACrC;AACA;AACA;AACA;AACA,aAAa,8FAAyB;AACtC,WAAW,8FAAyB;AACpC;AACA;AACA;AACA,WAAW,8FAAyB;AACpC,YAAY,8FAAyB;AACrC;AACA,WAAW,8FAAyB;AACpC,WAAW,8FAAyB;AACpC;AACA;AACA;AACA,WAAW,8FAAyB;AACpC,WAAW,8FAAyB;AACpC,WAAW,8FAAyB;AACpC,WAAW,8FAAyB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,6EAAe;AAC3B,YAAY,6EAAe,qCAAqC,qEAAY,wEAAwE,iEAAU;AAC9J;AACA;AACA;AACA;AACA,YAAY,6EAAe,uCAAuC,qEAAY,4EAA4E,iEAAU;AACpK;AACA,YAAY,oGAAkB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C,kBAAkB,IAAI,GAAG,8FAAyB,QAAQ;AAC1D,KAAK;AACL;AACA,sEAAsE,KAAK,GAAG,8FAAyB,QAAQ;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,kCAAkC,IAAI,GAAG,MAAM;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACpM+B;AACuC;AACF;AACpE,yBAAyB,iDAAK;AAC9B;AACA;AACA;AACA,eAAe,eAAe;AAC9B,eAAe,QAAQ;AACvB;AACA;AACA;AACA,YAAY,+EAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,wBAAwB,6EAAY,mBAAmB;AACvD;AACA;AACA,iEAAe,UAAU,EAAC;;;;;;;;;;;;;;;;;AChCwB;AAClD;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wFAAwF,8DAAS;AACjG,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,KAAK,EAAC;;;;;;;;;;;;;;;;;AC7EkB;AACvC,6BAA6B,qDAAS;AACtC;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,cAAc,EAAC;;;;;;;;;;;;;;;;;;;;;ACZC;AACmB;AACJ;AACQ;AACE;AACxD,wBAAwB,iDAAK;AAC7B;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wFAAwF,8DAAS;AACjG,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0DAAO;AAClC,wBAAwB,0DAAO;AAC/B;AACA;AACA;AACA;AACA;AACA,mFAAmF,2CAA2C;AAC9H,yBAAyB,kEAAW;AACpC;AACA;AACA,wBAAwB,kEAAW;AACnC;AACA;AACA;AACA,oBAAoB,kEAAW;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0DAAO,iCAAiC,oEAAY;AAClE;AACA;AACA,cAAc,0DAAO,+BAA+B,oEAAY;AAChE;AACA;AACA,cAAc,0DAAO;AACrB;AACA;AACA,cAAc,0DAAO;AACrB;AACA;AACA,aAAa,0DAAO;AACpB,gBAAgB,0DAAO;AACvB,iDAAiD,WAAW;AAC5D;AACA,gBAAgB,0DAAO,4BAA4B,oEAAY;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,SAAS,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5Jc;AACY;AACQ;AACkB;AAC5B;AACR;AACE;AACQ;AACU;AACR;AACN;AACoB;AACtB;AACM;AACqB;AACxE;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,qCAAqC,2EAAQ;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA,eAAe,UAAU;AACzB;AACA;AACA,2CAA2C,8DAAQ;AACnD;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,oBAAoB,UAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA,sCAAsC,4DAAQ,SAAS,+EAAQ,SAAS,0DAAO;AAC/E;AACA,sBAAsB,eAAe,GAAG,IAAI;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA,eAAe,QAAQ;AACvB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,0DAAO;AACvB;AACA;AACA,qBAAqB,+EAAQ;AAC7B,0BAA0B,eAAe,GAAG,WAAW;AACvD;AACA;AACA,iDAAiD,gEAAU;AAC3D,0BAA0B,eAAe,GAAG,KAAK;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,GAAG;AACpB;AACA;AACA;AACA;AACA,YAAY,0DAAO;AACnB;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,iBAAiB,0DAAO;AACxB;AACA,4BAA4B,eAAe,GAAG,OAAO;AACrD;AACA;AACA,eAAe;AACf;AACA,oBAAoB,+EAAQ,QAAQ,0DAAO;AAC3C,8BAA8B,eAAe,GAAG,EAAE;AAClD;AACA,oBAAoB,gEAAU;AAC9B;AACA;AACA,oBAAoB,4DAAQ,QAAQ,0DAAO;AAC3C;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,8DAAQ;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,6DAAK;AAC3C;AACA;AACA,iBAAiB,4DAAQ;AACzB,+BAA+B,2EAAiB;AAChD;AACA;AACA,6BAA6B,iEAAS;AACtC;AACA,mBAAmB;AACnB;AACA,iCAAiC,sEAAc;AAC/C;AACA,uBAAuB;AACvB;AACA,qCAAqC,kEAAU;AAC/C;AACA;AACA,qCAAqC,6DAAK;AAC1C;AACA;AACA;AACA;AACA,iBAAiB,+EAAQ;AACzB;AACA,6BAA6B,kEAAU;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iEAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,sBAAsB;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,0DAAO;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gEAAU;AAC9B;AACA;AACA;AACA,8BAA8B,8DAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B,oBAAoB,GAAG;AACvB,6BAA6B,UAAU;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B,oBAAoB,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,8DAAS;AAC7E;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,4DAAQ;AAC5B;AACA,gCAAgC,wEAAS;AACzC;AACA;AACA,iBAAiB,0DAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ,WAAW;AAClC,iBAAiB,gBAAgB;AACjC;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,gBAAgB,+EAAQ;AACxB;AACA;AACA;AACA;AACA,sBAAsB,wEAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,GAAG;AAClB,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA,mBAAmB,mEAAS;AAC5B,YAAY,kEAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,oEAAU;AAC9B;AACA;AACA,4CAA4C,SAAS;AACrD;AACA;AACA,oCAAoC,iEAAoB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,+EAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,UAAU;AACpE;AACA,6CAA6C,0DAAO;AACpD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,kBAAkB,0DAAO;AACzB;AACA;AACA;AACA,aAAa,0DAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,8DAAS;AACpC,iBAAiB,kEAAQ,gCAAgC,kEAAQ;AACjE;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,wBAAwB,mEAAS;AACjC;AACA,SAAS;AACT,2DAA2D,kEAAQ;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,mEAAS;AACxC;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA,gDAAgD,mBAAmB;AACnE,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,gEAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,SAAS;AACpD;AACA,4BAA4B,KAAK,GAAG,iEAAoB,IAAI;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,uBAAuB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,wCAAwC;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB;AAChB,qDAAqD,wCAAwC;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,iEAAoB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,iEAAoB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,4DAAQ;AACxB,yCAAyC;AACzC;AACA;AACA,iBAAiB;AACjB,0BAA0B,aAAa,WAAW,+BAA+B;AACjF;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,MAAM;AAC3C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iEAAoB;AAC3C;AACA,SAAS;AACT;AACA;AACA,mDAAmD,iEAAoB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,+EAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,uBAAuB,iEAAoB;AAC3C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,QAAQ;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,6DAAa;AACpC;AACA;AACA,2BAA2B,6DAAa;AACxC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,gEAAU;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,iEAAoB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,iEAAoB;AAC9D;AACA;AACA;AACA,mDAAmD,iEAAoB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,gEAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iEAAoB;AAC3C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,oCAAoC,iEAAoB;AACxD;AACA;AACA;AACA,oCAAoC,iEAAoB;AACxD;AACA;AACA;AACA,uCAAuC,iEAAoB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,0DAAS,SAAS,6DAAa;AAC/D,iEAAe,cAAc,EAAC;;;;;;;;;;;;;;;;;;ACtvCsC;AACpB;AAChD;AACA;AACA;AACA,WAAW,UAAU;AACrB,YAAY,UAAU;AACtB;AACO;AACP,SAAS,4DAAQ;AACjB;AACA;AACA;AACA,8BAA8B,6EAAY;AAC1C;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACpBmE;AACnE;AACA;AACA;AACA,WAAW,UAAU;AACrB,YAAY,UAAU;AACtB;AACO;AACP,mBAAmB,gFAAqB;AACxC,+CAA+C,OAAO;AACtD;;;;;;;;;;;;;;;;;ACV0C;AAC1C;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,eAAe,gEAAoB;AACnC;AACA;;;;;;;;;;;;;;;;;ACbkF;AAClF;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACO;AACP,6BAA6B,8FAAyB;AACtD;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA,WAAW,UAAU;AACrB,YAAY,QAAQ;AACpB;AACgD;AACoB;AAChB;AACE;AACF;AACR;AACrC;AACP;AACA;AACA,gBAAgB,4DAAoB;AACpC,4BAA4B,4DAAoB;AAChD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,6BAA6B,KAAK,GAAG,YAAY;AACjD;AACA;AACA,6BAA6B,sBAAsB,GAAG,YAAY;AAClE;AACA;AACA,uCAAuC,YAAY;AACnD;AACA,KAAK;AACL,4CAA4C,CAAa;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,yBAAyB,iEAAS,qBAAqB,6DAAK;AAC5D;AACA;AACA;AACA,QAAQ,4DAAQ;AAChB;AACA,8BAA8B,6EAAY,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,UAAU,GAAG,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,kEAAW;AAChD;AACA,wDAAwD,KAAK;AAC7D,gCAAgC,kEAAW;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,6EAAY,kBAAkB;AACxD;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACrHkF;AAClF;AACA;AACA;AACA,WAAW,oCAAoC;AAC/C,YAAY,QAAQ;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,0FAAyB;AAC/C;;;;;;;;;;;;;;;;ACtBA;AACA;AACA,WAAW,QAAQ;AACnB,oCAAoC,+CAA+C;AACnF,YAAY,QAAQ;AACpB;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC5BO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC3C+C;AACxC;AACP;AACA;AACA;AACA,iBAAiB,4DAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACvBO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA,aAAa;AACb;AACO;AACP;AACA;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACO;AACP;AACA;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACuC;AAChC;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,eAAe;AAC1B,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,oDAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,CAAC;AACM;AACP;AACA;AACO;AACP,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;;;;;;;;;;;;;;;;;AC9DoF;AACpF;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,eAAe;AAC3B;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oEAA4B;AAC3C,KAAK;AACL;AACA,oDAAoD,8DAAsB;AAC1E;AACA,6CAA6C,oBAAoB,GAAG,sBAAsB;AAC1F;AACA,oEAAoE,8DAAsB;AAC1F;AACA;;;;;;;;;;;;;;;;;AC9B8C;AAC9C;AACA;AACA;AACA;AACO;AACP,uCAAuC,sDAAc;AACrD;AACA;AACA,kBAAkB,uBAAuB,EAAE,SAAS;AACpD;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACdA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;;;;;;;;;;;;;;;ACTA;AACA;AACA,WAAW,QAAQ;AACnB;AACO,+DAA+D,qBAAqB;;;;;;;;;;;;;;;;;ACJ3F;AACA;AACA;AACA;AACqD;AAC9C;AACP;AACA;AACA,iBAAiB,kEAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACbiE;AAC1D;AACP;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,6DAAqB;AAC1F,qFAAqF,kDAAU;AAC/F;AACA;AACA,oDAAoD,kDAAU;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC7BA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACwB;;;;;;;;;;;;;;;;ACtBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB;AACA,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,IAAI;AACvC,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,gFAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,QAAQ,UAAU;AAC7B,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ,UAAU;AAC7B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,KAAK;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,GAAG;AAChB;AACA;AACA;AACA,oBAAoB,QAAQ,IAAI,QAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACqB;;;;;;;;;;;;;;;;;ACnhDrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACsC;;;;;;;UC1BtC;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;;;;ACNiC;AACQ;AACH;AACM;AACmB;AAE/D,IAAI3N,MAAM,CAACoH,UAAU,IAAIpH,MAAM,CAACoH,UAAU,CAAC0wC,UAAU,EAAE;EACrD5R,OAAO,CAAC6R,IAAI,CAAC,kGAAkG,CAAC;AAClH;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAS;EAAA,IAAI1xC,aAAa,uEAAG,CAAC,CAAC;EAAA,IAAEuR,gBAAgB;EAAA,OAAKY,oDAAM,CAChEmQ,mDAAI,CAACtiB,aAAa,EAAE6qC,wEAAuB,CAAC,EAC5C;IAAEt5B,gBAAgB,EAAEA,gBAAgB,IAAImzB,mDAAI,CAAC1kC,aAAa,EAAE6qC,wEAAuB;EAAE,CAAC,CAAC;AAAA;AAEzF,IAAM8G,cAAc,GAAG,SAAjBA,cAAc,CAAI7oB,MAAM;EAAA,OAAK,UAACslB,EAAE,EAAEpuC,aAAa,EAAEkyB,KAAK;IAAA,OAAK,IAAI6Z,qDAAW,CAACqC,EAAE,EAAEsD,SAAS,CAAC1xC,aAAa,EAAE8oB,MAAM,CAAC,EAAEoJ,KAAK,CAAC;EAAA;AAAA;AAE7H,IAAM0f,eAAe,GAAG,SAAlBA,eAAe,CAAI9oB,MAAM;EAAA,OAAK,UAAC7f,QAAQ,EAAEjJ,aAAa,EAAEkyB,KAAK;IAAA,OAAK6Z,yDAAe,CAAC9iC,QAAQ,EAAEyoC,SAAS,CAAC1xC,aAAa,EAAE8oB,MAAM,CAAC,EAAEoJ,KAAK,CAAC;EAAA;AAAA;AAE1I,IAAM2f,2BAA2B,GAAG,SAA9BA,2BAA2B,CAAI/oB,MAAM;EAAA,OAAM;IAC/CgpB,WAAW,EAAEH,cAAc,CAAC7oB,MAAM,CAAC;IACnCipB,YAAY,EAAEH,eAAe,CAAC9oB,MAAM;EACtC,CAAC;AAAA,CAAC;AAEK,IAAMgpB,WAAW,GAAGH,cAAc,EAAE;AACpC,IAAMI,YAAY,GAAGH,eAAe,EAAE;AAE7C,IAAM9wC,UAAU,mCACVpH,MAAM,CAACoH,UAAU,IAAI,CAAC,CAAC;EAC3BgxC,WAAW,EAAXA,WAAW;EACXC,YAAY,EAAZA,YAAY;EACZP,UAAU,EAAE;IACV;IACA,OAAKK;EACP;AAAC,EACF;AAEDn4C,MAAM,CAACoH,UAAU,GAAGA,UAAU;AAE9B,iEAAeA,UAAU,E","sources":["webpack://cloudinary-video-player/webpack/universalModuleDefinition","webpack://cloudinary-video-player/./components/cld-analytics/cld-analytics.js","webpack://cloudinary-video-player/./components/cld-analytics/events.consts.js","webpack://cloudinary-video-player/./components/cld-analytics/send-beacon-request.js","webpack://cloudinary-video-player/./components/component-utils.js","webpack://cloudinary-video-player/./components/index.js","webpack://cloudinary-video-player/./components/interaction-area/interaction-area.const.js","webpack://cloudinary-video-player/./components/jumpButtons/jump-10-minus.js","webpack://cloudinary-video-player/./components/jumpButtons/jump-10-plus.js","webpack://cloudinary-video-player/./components/logoButton/logo-button.const.js","webpack://cloudinary-video-player/./components/logoButton/logo-button.js","webpack://cloudinary-video-player/./components/playlist/components/playlist-button.js","webpack://cloudinary-video-player/./components/playlist/components/playlist-next-button.js","webpack://cloudinary-video-player/./components/playlist/components/playlist-previous-button.js","webpack://cloudinary-video-player/./components/playlist/components/playlist.js","webpack://cloudinary-video-player/./components/playlist/components/upcoming-video-overlay.js","webpack://cloudinary-video-player/./components/playlist/layout/playlist-layout-custom.js","webpack://cloudinary-video-player/./components/playlist/layout/playlist-layout-horizontal.js","webpack://cloudinary-video-player/./components/playlist/layout/playlist-layout-vertical.js","webpack://cloudinary-video-player/./components/playlist/layout/playlist-layout.js","webpack://cloudinary-video-player/./components/playlist/panel/playlist-panel-item.js","webpack://cloudinary-video-player/./components/playlist/panel/playlist-panel.js","webpack://cloudinary-video-player/./components/playlist/playlist-widget.js","webpack://cloudinary-video-player/./components/playlist/playlist.const.js","webpack://cloudinary-video-player/./components/playlist/playlist.js","webpack://cloudinary-video-player/./components/playlist/thumbnail/thumbnail.js","webpack://cloudinary-video-player/./components/progress-control-events-blocker/progress-control-events-blocker.js","webpack://cloudinary-video-player/./components/recommendations-overlay/index.js","webpack://cloudinary-video-player/./components/recommendations-overlay/recommendations-overlay-content.js","webpack://cloudinary-video-player/./components/recommendations-overlay/recommendations-overlay-hide-button.js","webpack://cloudinary-video-player/./components/recommendations-overlay/recommendations-overlay-item.js","webpack://cloudinary-video-player/./components/recommendations-overlay/recommendations-overlay-primary-item.js","webpack://cloudinary-video-player/./components/recommendations-overlay/recommendations-overlay-secondary-item.js","webpack://cloudinary-video-player/./components/recommendations-overlay/recommendations-overlay-secondary-items-container.js","webpack://cloudinary-video-player/./components/recommendations-overlay/recommendations-overlay.js","webpack://cloudinary-video-player/./components/shoppable-bar/panel/shoppable-panel-item.js","webpack://cloudinary-video-player/./components/shoppable-bar/panel/shoppable-panel.js","webpack://cloudinary-video-player/./components/shoppable-bar/shoppable-widget.const.js","webpack://cloudinary-video-player/./components/title-bar/title-bar.js","webpack://cloudinary-video-player/./config/defaults.js","webpack://cloudinary-video-player/./extended-events.js","webpack://cloudinary-video-player/./mixins/eventable.js","webpack://cloudinary-video-player/./mixins/playlistable.js","webpack://cloudinary-video-player/./plugins/analytics/index.js","webpack://cloudinary-video-player/./plugins/autoplay-on-scroll/index.js","webpack://cloudinary-video-player/./plugins/cloudinary-analytics/index.js","webpack://cloudinary-video-player/./plugins/cloudinary/common.js","webpack://cloudinary-video-player/./plugins/cloudinary/event-handler-registry.js","webpack://cloudinary-video-player/./plugins/cloudinary/index.js","webpack://cloudinary-video-player/./plugins/cloudinary/models/audio-source/audio-source.const.js","webpack://cloudinary-video-player/./plugins/cloudinary/models/audio-source/audio-source.js","webpack://cloudinary-video-player/./plugins/cloudinary/models/base-source.js","webpack://cloudinary-video-player/./plugins/cloudinary/models/image-source.js","webpack://cloudinary-video-player/./plugins/cloudinary/models/video-source/video-source.const.js","webpack://cloudinary-video-player/./plugins/cloudinary/models/video-source/video-source.js","webpack://cloudinary-video-player/./plugins/cloudinary/models/video-source/video-source.utils.js","webpack://cloudinary-video-player/./plugins/colors/index.js","webpack://cloudinary-video-player/./plugins/context-menu/components/context-menu-item.js","webpack://cloudinary-video-player/./plugins/context-menu/components/context-menu.js","webpack://cloudinary-video-player/./plugins/context-menu/contextMenuContent.js","webpack://cloudinary-video-player/./plugins/context-menu/index.js","webpack://cloudinary-video-player/./plugins/context-menu/videojs-contextmenu.js","webpack://cloudinary-video-player/./plugins/floating-player/index.js","webpack://cloudinary-video-player/./plugins/index.js","webpack://cloudinary-video-player/./plugins/vtt-thumbnails/index.js","webpack://cloudinary-video-player/./utils/api.js","webpack://cloudinary-video-player/./utils/apply-with-props.js","webpack://cloudinary-video-player/./utils/array.js","webpack://cloudinary-video-player/./utils/assign.js","webpack://cloudinary-video-player/./utils/attributes-normalizer.js","webpack://cloudinary-video-player/./utils/cloudinary.js","webpack://cloudinary-video-player/./utils/consts.js","webpack://cloudinary-video-player/./utils/css-prefix.js","webpack://cloudinary-video-player/./utils/dom.js","webpack://cloudinary-video-player/./utils/find.js","webpack://cloudinary-video-player/./utils/fontFace.js","webpack://cloudinary-video-player/./utils/groupBy.js","webpack://cloudinary-video-player/./utils/index.js","webpack://cloudinary-video-player/./utils/matches.js","webpack://cloudinary-video-player/./utils/mixin.js","webpack://cloudinary-video-player/./utils/object.js","webpack://cloudinary-video-player/./utils/playButton.js","webpack://cloudinary-video-player/./utils/positioning.js","webpack://cloudinary-video-player/./utils/querystring.js","webpack://cloudinary-video-player/./utils/slicing.js","webpack://cloudinary-video-player/./utils/string.js","webpack://cloudinary-video-player/./utils/throttle.js","webpack://cloudinary-video-player/./utils/time.js","webpack://cloudinary-video-player/./utils/type-inference.js","webpack://cloudinary-video-player/./validators/validators-functions.js","webpack://cloudinary-video-player/./validators/validators-types.js","webpack://cloudinary-video-player/./validators/validators.js","webpack://cloudinary-video-player/./video-player.const.js","webpack://cloudinary-video-player/./video-player.js","webpack://cloudinary-video-player/./video-player.utils.js","webpack://cloudinary-video-player/../node_modules/css.escape/css.escape.js","webpack://cloudinary-video-player/../node_modules/events/events.js","webpack://cloudinary-video-player/../node_modules/video.js/dist/alt/video.core-exposed.js","webpack://cloudinary-video-player/../node_modules/expose-loader/dist/runtime/getGlobalThis.js","webpack://cloudinary-video-player/./assets/styles/components/playlist.scss?bc48","webpack://cloudinary-video-player/./assets/styles/components/thumbnail.scss?2e0f","webpack://cloudinary-video-player/./assets/styles/components/title-bar.scss?4f4d","webpack://cloudinary-video-player/./assets/styles/components/triangle-volume-bar.scss?3ed9","webpack://cloudinary-video-player/./assets/styles/main.scss?660a","webpack://cloudinary-video-player/./components/logoButton/logo-button.scss?ca64","webpack://cloudinary-video-player/./components/playlist/components/playlist.scss?8082","webpack://cloudinary-video-player/./components/playlist/components/upcoming-video-overlay.scss?a8f9","webpack://cloudinary-video-player/./components/recommendations-overlay/recommendations-overlay.scss?04ca","webpack://cloudinary-video-player/./plugins/context-menu/context-menu.scss?dcc8","webpack://cloudinary-video-player/./plugins/floating-player/floating-player.scss?6d81","webpack://cloudinary-video-player/./plugins/vtt-thumbnails/vtt-thumbnails.scss?2c1d","webpack://cloudinary-video-player/../node_modules/uuid/dist/esm-browser/native.js","webpack://cloudinary-video-player/../node_modules/uuid/dist/esm-browser/regex.js","webpack://cloudinary-video-player/../node_modules/uuid/dist/esm-browser/rng.js","webpack://cloudinary-video-player/../node_modules/uuid/dist/esm-browser/stringify.js","webpack://cloudinary-video-player/../node_modules/uuid/dist/esm-browser/v4.js","webpack://cloudinary-video-player/../node_modules/uuid/dist/esm-browser/validate.js","webpack://cloudinary-video-player/../node_modules/video.js/dist/alt/video.core.js","webpack://cloudinary-video-player/../node_modules/webfontloader/webfontloader.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/condition.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/configuration.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/consts.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/createCloudinaryLegacyURL.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/expression.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/generateTransformationString.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/legacyLayer/fetchlayer.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/legacyLayer/layer.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/legacyLayer/subtitleslayer.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/legacyLayer/textlayer.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/transformation.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/transformationProcessing/processCustomFunction.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/transformationProcessing/processCustomPreFunction.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/transformationProcessing/processDpr.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/transformationProcessing/processIf.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/transformationProcessing/processLayer.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/transformationProcessing/processRadius.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/transformationProcessing/processVideoParams.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/utils/finalizeResourceType.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/utils/finalize_source.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/utils/isEmpty.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/utils/isFunction.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/utils/isNumberLike.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/utils/isObject.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/utils/legacyBaseUtil.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/utils/legacyNormalizeExpression.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/utils/norm_range_values.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/utils/smartEscape.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/utils/snakeCase.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/utils/splitRange.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/utils/toArray.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/backwards/utils/unsigned_url_prefix.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/internal/utils/base64Encode.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/internal/utils/cloneDeep.js","webpack://cloudinary-video-player/../node_modules/@cloudinary/url-gen/internal/utils/dataStructureUtils.js","webpack://cloudinary-video-player/webpack/bootstrap","webpack://cloudinary-video-player/webpack/runtime/compat get default export","webpack://cloudinary-video-player/webpack/runtime/define property getters","webpack://cloudinary-video-player/webpack/runtime/global","webpack://cloudinary-video-player/webpack/runtime/hasOwnProperty shorthand","webpack://cloudinary-video-player/webpack/runtime/make namespace object","webpack://cloudinary-video-player/./index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cloudinary-video-player\"] = factory();\n\telse\n\t\troot[\"cloudinary-video-player\"] = factory();\n})(self, () => {\nreturn ","import { v4 as uuidv4 } from 'uuid';\nimport { sendBeaconRequest } from './send-beacon-request';\nimport { VIDEO_EVENT } from './events.consts';\n\nconst CLD_ANALYTICS_ENDPOINT_URL = 'https://video-analytics-api.cloudinary.com/video-analytics';\nconst CLD_ANALYTICS_USER_ID_KEY = 'cld-analytics-user-id';\n\nconst getUniqueUserId = () => {\n  const storageUserId = window.localStorage.getItem(CLD_ANALYTICS_USER_ID_KEY);\n\n  if (storageUserId) {\n    return storageUserId;\n  }\n\n  const userId = uuidv4();\n  window.localStorage.setItem(CLD_ANALYTICS_USER_ID_KEY, userId);\n  return userId;\n};\n\n// prepare events list for aggregation, for example\n// if video is being played and user wants to leave the page - add \"pause\" event to correctly calculate played time\nconst prepareEvents = (collectedEvents) => {\n  const events = [...collectedEvents];\n  const lastPlayItemIndex = events.findLastIndex((event) => event.type === VIDEO_EVENT.PLAY);\n  const lastPauseItemIndex = events.findLastIndex((event) => event.type === VIDEO_EVENT.PAUSE);\n\n  if (lastPlayItemIndex > lastPauseItemIndex) {\n    events.push({\n      type: VIDEO_EVENT.PAUSE,\n      time: Date.now()\n    });\n  }\n\n  return events;\n};\n\nconst aggregateEvents = (eventsList) => {\n  return eventsList.reduce((acc, event) => {\n    const lastItem = acc.watchedFrames[acc.watchedFrames.length - 1];\n\n    if (event.type === VIDEO_EVENT.PLAY) {\n      acc.watchedFrames.push([event.time]);\n    } else if (lastItem && lastItem.length === 1 && event.type === VIDEO_EVENT.PAUSE) {\n      lastItem.push(event.time);\n    }\n\n    return acc;\n  }, {\n    watchedFrames: []\n  });\n};\n\nconst getPlayedTimeSeconds = (watchedFrames) => {\n  return Math.round(watchedFrames.reduce((acc, [playTime, pauseTime]) => {\n    return acc + ((pauseTime - playTime) / 1000);\n  }, 0));\n};\n\nexport const trackVideoPlayer = (videoElement, metadataProps) => {\n  const collectedEvents = [];\n\n  window.addEventListener('beforeunload', () => {\n    const videoCurrentTime = videoElement.currentTime;\n    const events = prepareEvents(collectedEvents, videoCurrentTime);\n    const aggregatedEvents = aggregateEvents(events);\n    const playedTimeSeconds = getPlayedTimeSeconds(aggregatedEvents.watchedFrames);\n\n    // video public id is registered later in videojs so we need to postpone public id fetching\n    const metadata = typeof metadataProps === 'function' ? metadataProps() : metadataProps;\n    sendBeaconRequest(CLD_ANALYTICS_ENDPOINT_URL, {\n      ...metadata,\n      userId: getUniqueUserId(),\n      playedTimeSeconds\n    });\n  });\n\n  videoElement.addEventListener('play', () => {\n    collectedEvents.push({\n      type: VIDEO_EVENT.PLAY,\n      time: Date.now()\n    });\n  });\n\n  videoElement.addEventListener('pause', () => {\n    collectedEvents.push({\n      type: VIDEO_EVENT.PAUSE,\n      time: Date.now()\n    });\n  });\n\n  videoElement.addEventListener('emptied', () => {\n    // simulate \"pause\" event when source is changed\n    collectedEvents.push({\n      type: VIDEO_EVENT.PAUSE,\n      time: Date.now()\n    });\n  });\n};\n","export const VIDEO_EVENT = {\n  PLAY: 'play',\n  PAUSE: 'pause'\n};\n","export const sendBeaconRequest = (url, data) => {\n  const params = Object.keys(data).reduce((formData, key) => {\n    formData.append(key, data[key]);\n    return formData;\n  }, new FormData());\n\n  if (typeof window.navigator.sendBeacon !== 'function') {\n    return fetch(url, {\n      method: 'POST',\n      mode: 'no-cors',\n      body: params,\n      keepalive: true\n    });\n  }\n\n  return window.navigator.sendBeacon(url, params);\n};\n","const hide = (el) => {\n  el.style.display = 'none';\n};\n\nconst show = (el) => {\n  el.style.display = '';\n};\n\nconst setText = (el, text) => {\n  if (!text || text.length <= 0) {\n    el.innerText = '';\n    hide(el);\n    return;\n  }\n\n  el.innerText = text;\n  show(el);\n};\n\nmodule.exports = { hide, show, setText };\n","import JumpForwardButton from './jumpButtons/jump-10-plus';\nimport JumpBackButton from './jumpButtons/jump-10-minus';\nimport LogoButton from './logoButton/logo-button';\nimport PlaylistPanel from './playlist/panel/playlist-panel';\nimport ProgressControlEventsBlocker from './progress-control-events-blocker/progress-control-events-blocker';\nimport RecommendationsOverlay from './recommendations-overlay';\nimport ShoppablePanel from './shoppable-bar/panel/shoppable-panel';\nimport TitleBar from './title-bar/title-bar';\n\nimport 'assets/styles/components/triangle-volume-bar.scss';\n\nexport {\n  JumpForwardButton,\n  JumpBackButton,\n  LogoButton,\n  PlaylistPanel,\n  ProgressControlEventsBlocker,\n  RecommendationsOverlay,\n  ShoppablePanel,\n  TitleBar\n};\n","export const INTERACTION_AREA_LAYOUT_LOCAL_STORAGE_NAME = 'cld-ia-layout-state';\n\nexport const INTERACTION_AREAS_PREFIX = 'vp-ia';\n\nexport const INTERACTION_AREAS_CONTAINER_CLASS_NAME = 'interaction-areas-container';\n\nexport const INTERACTION_AREAS_TEMPLATE = {\n  PORTRAIT: 'portrait',\n  LANDSCAPE: 'landscape',\n  All: 'all',\n  CENTER: 'center'\n};\n\nexport const INTERACTION_AREAS_THEME = {\n  PULSING: 'pulsing',\n  SHADOWED: 'shadowed'\n};\n\nexport const TEMPLATE_INTERACTION_AREAS_VTT = {\n  [INTERACTION_AREAS_TEMPLATE.PORTRAIT]: 'https://res.cloudinary.com/prod/raw/upload/v1623772481/video-player/vtts/portrait.vtt',\n  [INTERACTION_AREAS_TEMPLATE.LANDSCAPE]: 'https://res.cloudinary.com/prod/raw/upload/v1623772303/video-player/vtts/landscape.vtt',\n  [INTERACTION_AREAS_TEMPLATE.All]: 'https://res.cloudinary.com/prod/raw/upload/v1623250266/video-player/vtts/all.vtt',\n  [INTERACTION_AREAS_TEMPLATE.CENTER]: 'https://res.cloudinary.com/prod/raw/upload/v1623250265/video-player/vtts/center.vtt'\n};\n\nexport const INTERACTION_AREA_HAND_ICON = 'https://res.cloudinary.com/prod/image/upload/v1626764643/video-player/interaction-area-hand.svg';\n\nexport const CLOSE_INTERACTION_AREA_LAYOUT_DELAY = 4500;\n\nexport const DEFAULT_INTERACTION_ARE_TRANSITION = 250;\n","import videojs from 'video.js';\n\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nclass JumpBackButton extends ClickableComponent {\n\n  handleClick(event) {\n    super.handleClick(event);\n    this.player().currentTime(this.player().currentTime() - 10);\n  }\n\n  createEl() {\n    return videojs.dom.createEl('button', {\n      className: 'vjs-control vjs-icon-skip-10-min vjs-button'\n    });\n  }\n}\n\nvideojs.registerComponent('JumpBackButton', JumpBackButton);\n\nexport default JumpBackButton;\n","import videojs from 'video.js';\n\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nclass JumpForwardButton extends ClickableComponent {\n  handleClick(event) {\n    super.handleClick(event);\n    this.player().currentTime(this.player().currentTime() + 10);\n  }\n\n  createEl() {\n    return videojs.dom.createEl('button', {\n      className: 'vjs-control vjs-icon-skip-10-plus vjs-button'\n    });\n  }\n}\n\nvideojs.registerComponent('JumpForwardButton', JumpForwardButton);\n\nexport default JumpForwardButton;\n","export const LIGHT_BG_ICON = 'https://res.cloudinary.com/cloudinary-marketing/image/upload/v1597164189/creative_source/Logo/Cloud%20Glyph/cloudinary_cloud_glyph_regular.svg';\n\nexport const DARK_BG_ICON = 'https://res.cloudinary.com/cloudinary-marketing/image/upload/v1597164191/creative_source/Logo/Cloud%20Glyph/cloudinary_cloud_glyph_white.svg';\n","import videojs from 'video.js';\nimport './logo-button.scss';\nimport { DARK_BG_ICON, LIGHT_BG_ICON } from './logo-button.const';\nimport { isLight } from '../../video-player.utils';\n\n// support VJS5 & VJS6 at the same time\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nclass LogoButton extends ClickableComponent {\n\n  createEl() {\n    const opts = this.options_.playerOptions;\n    const display = opts.showLogo ? 'block' : 'none';\n\n    const _isLight = isLight(opts) ? LIGHT_BG_ICON : DARK_BG_ICON;\n\n    const bgIcon = opts.logoImageUrl ? opts.logoImageUrl : _isLight;\n\n    return videojs.dom.createEl('a', {}, {\n      class: 'vjs-control vjs-cloudinary-button vjs-button',\n      href: opts.logoOnclickUrl,\n      target: '_blank',\n      style: `display: ${display}; background-image: url(${bgIcon})`\n    });\n  }\n}\n\nvideojs.registerComponent('logoButton', LogoButton);\n\nexport default LogoButton;\n","import videojs from 'video.js';\n\n// Get the ClickableComponent base class from Video.js\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\n// Create a common class for playlist buttons\nclass PlaylistButton extends ClickableComponent {\n\n  constructor(player, options) {\n    // It is important to invoke the superclass before anything else,\n    // to get all the features of components out of the box!\n    super(player, options);\n\n    const type = options.type;\n\n    if (!type && type !== 'previous' && type !== 'next') {\n      throw new Error('Type must be either \\'previous\\' or \\'next\\'');\n    }\n  }\n\n  // The `createEl` function of a component creates its DOM element.\n  createEl() {\n    const type = this.options_.type;\n    const typeCssClass = `vjs-icon-play-${type}`;\n\n    return videojs.dom.createEl('button', {\n      // Prefixing classes of elements within a player with \"vjs-\"\n      // is a convention used in Video.js.\n      className: `vjs-control vjs-playlist-button vjs-button ${typeCssClass}`\n    });\n  }\n}\n\nexport default PlaylistButton;\n","import PlaylistButton from './playlist-button';\nimport videojs from 'video.js';\n\nclass PlaylistNextButton extends PlaylistButton {\n\n  constructor(player) {\n    super(player, { type: 'next' });\n  }\n\n  handleClick(event) {\n    event.stopPropagation();\n    super.handleClick(event);\n    this.player().cloudinary.playlist().playNext();\n  }\n}\n\nvideojs.registerComponent('PlaylistNextButton', PlaylistNextButton);\n\nexport default PlaylistNextButton;\n","import PlaylistButton from './playlist-button';\nimport videojs from 'video.js';\n\nclass PlaylistPreviousButton extends PlaylistButton {\n\n  constructor(player) {\n    super(player, { type: 'previous' });\n  }\n\n  handleClick(event) {\n    super.handleClick(event);\n    this.player().cloudinary.playlist().playPrevious();\n  }\n}\n\nvideojs.registerComponent('PlaylistPreviousButton', PlaylistPreviousButton);\n\nexport default PlaylistPreviousButton;\n","import PlaylistNextButton from './playlist-next-button';\nimport PlaylistPreviousButton from './playlist-previous-button';\nimport './playlist.scss';\n\nexport { PlaylistNextButton, PlaylistPreviousButton };\n","import videojs from 'video.js';\nimport './upcoming-video-overlay.scss';\nimport { PLAYER_EVENT } from '../../../utils/consts';\n\n// support VJS5 & VJS6 at the same time\nconst dom = videojs.dom || videojs;\n\nconst Component = videojs.getComponent('Component');\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nclass UpcomingVideoOverlay extends ClickableComponent {\n\n  static DISABLE_TRANSITION_CLASS = 'disable-transition';\n  static VJS_UPCOMING_VIDEO_SHOW = 'vjs-upcoming-video-show';\n\n  constructor(player, ...args) {\n    super(player, ...args);\n\n    this._setEvents(player);\n  }\n\n  _setEvents(player) {\n    player.on(PLAYER_EVENT.UP_COMING_VIDEO_SHOW, this._show);\n    player.on(PLAYER_EVENT.UP_COMING_VIDEO_HIDE, this._hide);\n    player.on(PLAYER_EVENT.PLAYLIST_ITEM_CHANGED, this._onPlaylistItemChange);\n  }\n\n  _hide = () => {\n    this.removeClass(UpcomingVideoOverlay.VJS_UPCOMING_VIDEO_SHOW);\n  }\n\n  _disableTransition(block) {\n    this.addClass(UpcomingVideoOverlay.DISABLE_TRANSITION_CLASS);\n    block();\n    this.removeClass(UpcomingVideoOverlay.DISABLE_TRANSITION_CLASS);\n  }\n\n  _onPlaylistItemChange = (_, event) => {\n    this._hide();\n    this._disableTransition(() => {\n      if (event.next) {\n        this.setItem(event.next);\n      }\n    });\n  }\n\n  _show = () => {\n    const ima = this.player().ima;\n    const adsManager = ima === 'object' && ima.getAdsManager();\n\n    if (adsManager) {\n      if (!adsManager.getCurrentAd() || adsManager.getCurrentAd().isLinear()) {\n        this.addClass(UpcomingVideoOverlay.VJS_UPCOMING_VIDEO_SHOW);\n      }\n    } else {\n      this.addClass(UpcomingVideoOverlay.VJS_UPCOMING_VIDEO_SHOW);\n    }\n  }\n\n  setTitle(source) {\n    const title = this.getChild('upcomingVideoOverlayContent')\n      .getChild('upcomingVideoOverlayBar')\n      .getChild('upcomingVideoOverlayTitle');\n\n    title.setContent(source.info().title || source.publicId());\n  }\n\n  setItem(source) {\n    this._source = source;\n\n    const maxWidth = parseInt(window.getComputedStyle(this.el(), null).getPropertyValue('max-width'), 10);\n    const maxHeight = Math.round(maxWidth * (9 / 16.0));\n\n    const transformation = { crop: 'pad', background: 'auto:predominant', width: maxWidth, height: maxHeight };\n    const content = this.getChild('upcomingVideoOverlayContent');\n\n    this.setTitle(source);\n\n    content.el().style.backgroundImage = `url(${this._source.poster().url({ transformation })})`;\n  }\n\n  handleClick() {\n    super.handleClick(event);\n\n    this.player().cloudinary.playlist().playNext();\n  }\n\n  createEl() {\n    return super.createEl('div', {\n      className: 'vjs-upcoming-video'\n    });\n  }\n}\n\nclass UpcomingVideoOverlayContent extends Component {\n  createEl() {\n    // Content wraps image and bar\n    return super.createEl('div', {\n      className: 'upcoming-video-overlay aspect-ratio-content'\n    });\n  }\n}\n\nclass UpcomingVideoOverlayTitle extends Component {\n\n  setContent(title) {\n    this._contentSpan.innerText = title;\n  }\n\n  createEl() {\n    const el = super.createEl('div', {\n      className: 'vjs-control vjs-upcoming-video-title'\n    });\n\n    const container = dom.createEl('div', {\n      className: 'vjs-upcoming-video-title-display',\n      innerHTML: '<span class=\"vjs-control-text\">Next up</span>Next up: '\n    });\n\n    this._contentSpan = dom.createEl('span', {\n      className: 'vjs-upcoming-video-title-display-label'\n    });\n\n    container.appendChild(this._contentSpan);\n\n    el.appendChild(container);\n\n    return el;\n  }\n}\n\nclass UpcomingVideoOverlayBar extends Component {\n\n  createEl() {\n    return super.createEl('div', {\n      className: 'vjs-upcoming-video-bar'\n    });\n  }\n}\n\nUpcomingVideoOverlay.prototype.options_ = { children: ['upcomingVideoOverlayContent'] };\nvideojs.registerComponent('upcomingVideoOverlay', UpcomingVideoOverlay);\n\nUpcomingVideoOverlayContent.prototype.options_ = { children: ['upcomingVideoOverlayBar'] };\nvideojs.registerComponent('upcomingVideoOverlayContent', UpcomingVideoOverlayContent);\n\nUpcomingVideoOverlayBar.prototype.options_ = { children: ['upcomingVideoOverlayTitle', 'playlistNextButton'] };\nvideojs.registerComponent('upcomingVideoOverlayBar', UpcomingVideoOverlayBar);\n\nvideojs.registerComponent('upcomingVideoOverlayTitle', UpcomingVideoOverlayTitle);\n\nexport default UpcomingVideoOverlay;\n","import PlaylistLayout from './playlist-layout';\n\nclass PlaylistLayoutCustom extends PlaylistLayout {\n\n  getCls() {\n    let cls = super.getCls();\n    cls.push('cld-plw-custom');\n\n    return cls;\n  }\n\n  createEl() {\n    const el = super.createEl();\n    this.options_.renderTo.appendChild(el);\n\n    return el;\n  }\n}\n\n\nexport default PlaylistLayoutCustom;\n","import PlaylistLayout from './playlist-layout';\n\nclass PlaylistLayoutHorizontal extends PlaylistLayout {\n  constructor (player, options) {\n    options.wrap = true;\n    super(player, options);\n  }\n\n  getCls() {\n    const cls = super.getCls();\n    cls.push('cld-plw-horizontal');\n    return cls;\n  }\n}\n\nexport default PlaylistLayoutHorizontal;\n","import PlaylistLayout from './playlist-layout';\n\nclass PlaylistLayoutVertical extends PlaylistLayout {\n\n  constructor (player, options) {\n    options.wrap = true;\n    super(player, options);\n  }\n\n  getCls() {\n    const cls = super.getCls();\n    cls.push('cld-plw-vertical');\n\n    return cls;\n  }\n}\n\n\nexport default PlaylistLayoutVertical;\n","import videojs from 'video.js';\nimport { wrap } from '../../../utils/dom';\nimport {\n  skinClassPrefix,\n  playerClassPrefix\n} from '../../../utils/css-prefix';\nimport { PLAYER_EVENT } from '../../../utils/consts';\n\nconst dom = videojs.dom || videojs;\nconst Component = videojs.getComponent('Component');\n\nconst OPTIONS_DEFAULT = {\n  wrap: false\n};\n\nclass PlaylistLayout extends Component {\n  constructor(player, options) {\n    const layoutOptions = { ...OPTIONS_DEFAULT, ...options };\n    super(player, layoutOptions);\n    this.player_ = player;\n    this.setCls();\n\n    const fluidHandler = (e, fluid) => {\n      this.options_.fluid = fluid;\n      this.removeCls();\n      this.setCls();\n    };\n\n    const wrapVideoWithLayout = () => {\n      const el = this.el();\n\n      this.videoWrap_ = dom.createEl('div', { className: 'cld-plw-col-player' });\n      this.contentEl_ = this.contentEl_ = dom.createEl('div', { className: 'cld-plw-col-list' });\n\n      wrap(this.player().el(), el);\n\n      el.appendChild(this.videoWrap_);\n      el.appendChild(this.contentEl_);\n\n      wrap(this.player().el(), this.videoWrap_);\n    };\n\n    if (layoutOptions.wrap) {\n      wrapVideoWithLayout();\n    }\n\n    player.on(PLAYER_EVENT.FLUID, fluidHandler);\n\n    this.addChild(PLAYER_EVENT.PLAYLIST_PANEL, this.options_);\n\n    this.dispose = () => {\n      this.removeLayout();\n      super.dispose();\n      player.off(PLAYER_EVENT.FLUID, fluidHandler);\n    };\n  }\n\n  getCls() {\n    let cls = ['cld-video-player', 'cld-plw-layout'];\n\n    cls.push(skinClassPrefix(this.player()));\n    cls.push(playerClassPrefix(this.player()));\n\n    if (this.options_.fluid) {\n      cls.push('cld-plw-layout-fluid');\n    }\n\n    return cls;\n  }\n\n  setCls() {\n    this.removeClass(skinClassPrefix(this));\n    this.getCls().forEach((cls) => {\n      this.addClass(cls);\n    });\n  }\n\n  removeCls() {\n    this.getCls().forEach((cls) => {\n      this.removeClass(cls);\n    });\n  }\n\n  update(optionToChange, options) {\n    this.options(options);\n    this.removeChild('PlaylistPanel');\n    this.addChild('PlaylistPanel', this.options_);\n    this.trigger('playlistlayoutupdate');\n  }\n\n  removeLayout() {\n    const parentElem = this.el().parentElement;\n    if (parentElem) {\n      parentElem.appendChild(this.player().el());\n    }\n  }\n\n  createEl() {\n    const el = super.createEl('div');\n\n    // Apply font styles on wrapper div.\n    el.style.fontFamily = this.player().el().style.fontFamily;\n\n    return el;\n  }\n\n}\n\nvideojs.registerComponent('playlistLayout', PlaylistLayout);\n\nexport default PlaylistLayout;\n","import videojs from 'video.js';\nimport Thumbnail from '../thumbnail/thumbnail';\n\nconst dom = videojs.dom || videojs;\n\nconst DEFAULT_OPTIONS = {\n  source: null,\n  next: false\n};\n\nclass PlaylistPanelItem extends Thumbnail {\n\n  constructor(player, initOptions) {\n    const options = videojs.mergeOptions(DEFAULT_OPTIONS, initOptions);\n    super(player, options);\n  }\n\n  handleClick(event) {\n    super.handleClick(event);\n    this.play();\n  }\n\n  play() {\n    const item = this.getItem();\n    const list = this.player().cloudinary.playlist().list();\n    const index = list.indexOf(item);\n\n    if (index === -1) {\n      throw new Error('Invalid playlist item...');\n    }\n\n    this.player().cloudinary.playlist().playAtIndex(index);\n  }\n\n  isCurrent() {\n    return this.options_.current;\n  }\n\n  getTitle() {\n    return super.getTitle();\n  }\n\n  getDuration() {\n    return super.getDuration();\n  }\n\n  createEl() {\n    const el = super.createEl();\n\n    el.classList.add('cld-plw-panel-item');\n\n    const info = dom.createEl('div', { className: 'cld-plw-item-info-wrap' });\n    const titleWrap = dom.createEl('div', { className: 'cld-plw-item-title' });\n\n    if (this.isCurrent()) {\n      el.classList.add('cld-plw-panel-item-active');\n\n      const currEl = dom.createEl('span', {\n        className: 'cld-plw-item-title-curr'\n      }, {}, 'Now Playing: ');\n\n      titleWrap.appendChild(currEl);\n    }\n\n    const title = dom.createEl('span', { className: 'cld-plw-item-title' }, {}, this.getTitle());\n\n    titleWrap.appendChild(title);\n\n    const duration = dom.createEl('div', { className: 'cld-plw-item-duration' }, {}, this.getDuration());\n\n    info.appendChild(titleWrap);\n    info.appendChild(duration);\n\n    if (el) {\n      el.appendChild(info);\n    }\n\n    el.appendChild(info);\n\n    return el;\n  }\n}\n\nvideojs.registerComponent('playlistPanelItem', PlaylistPanelItem);\n\nexport default PlaylistPanelItem;\n","import videojs from 'video.js';\nimport 'assets/styles/components/playlist.scss';\nimport PlaylistPanelItem from './playlist-panel-item';\nimport { PLAYER_EVENT } from '../../../utils/consts';\n\n\nconst Component = videojs.getComponent('Component');\n\nclass PlaylistPanel extends Component {\n\n  constructor(player, options = {}) {\n    super(player, options);\n\n    const itemChangeHandler = () => {\n      this.render();\n    };\n\n    player.on(PLAYER_EVENT.PLAYLIST_ITEM_CHANGED, itemChangeHandler);\n\n    this.render();\n\n    this.dispose = () => {\n      super.dispose();\n      player.off(PLAYER_EVENT.PLAYLIST_ITEM_CHANGED, itemChangeHandler);\n    };\n  }\n\n  createEl() {\n    const el = super.createEl();\n    el.classList.add('cld-plw-panel');\n\n    return el;\n  }\n\n  removeAll() {\n    const children = this.children();\n    for (let i = children.length - 1; i >= 0; --i) {\n      this.removeChild(children[i]);\n    }\n  }\n\n  getItems() {\n    const playlist = this.player().cloudinary.playlist();\n    const repeat = playlist._repeat;\n\n    if (this.options_.showAll) {\n      return playlist.list();\n    }\n\n    const items = [];\n    const numOfItems = this.options_.total;\n    let index = playlist.currentIndex();\n    let source = playlist.list()[index];\n    items.push(source);\n\n    while (items.length < numOfItems) {\n      index = playlist.nextIndex(index);\n      if (index === -1) {\n        if (!repeat && items.length > 0) {\n          break;\n        }\n\n        index = 0;\n      }\n\n      source = playlist.list()[index];\n      items.push(source);\n    }\n\n    return items;\n  }\n\n  render() {\n    const items = this.getItems();\n\n    this.removeAll();\n\n    items.forEach((source, index) => {\n      const playlistItem = new PlaylistPanelItem(this.player(), videojs.mergeOptions(this.options_, {\n        item: source,\n        next: index === 1,\n        current: index === 0\n      }));\n\n      this.addChild(playlistItem);\n\n    });\n  }\n}\n\nvideojs.registerComponent('playlistPanel', PlaylistPanel);\n\nexport default PlaylistPanel;\n","import videojs from 'video.js';\nimport PlaylistLayoutHorizontal from './layout/playlist-layout-horizontal';\nimport PlaylistLayoutVertical from './layout/playlist-layout-vertical';\nimport PlaylistLayoutCustom from './layout/playlist-layout-custom';\nimport { PLAYLIST_DEFAULTS_OPTIONS } from './playlist.const';\nimport { PLAYER_EVENT } from '../../utils/consts';\n\n\nconst modifyOptions = (player, opt) => {\n  const options = { ...PLAYLIST_DEFAULTS_OPTIONS, ...opt };\n\n  if (options.show && typeof options.selector === 'string') {\n    options.useDefaultLayout = false;\n    options.useCustomLayout = true;\n    options.renderTo = document.querySelector(options.selector);\n    options.showAll = true;\n\n    if (!options.renderTo.length === 0) {\n      throw new Error(`Couldn't find element(s) by selector '${options.selector}' for playlist`);\n    }\n  }\n\n  if (options.show && !options.selector) {\n    options.useDefaultLayout = true;\n    options.useCustomLayout = false;\n  }\n\n  options.direction = options.direction.toLowerCase() === 'horizontal' ? 'horizontal' : 'vertical';\n\n  options.skin = player.options_.skin;\n\n  return options;\n};\n\n\nclass PlaylistWidget {\n  constructor(player, options = {}) {\n    options = modifyOptions(player, options);\n    this.options_ = options;\n    this.player_ = player;\n    this.render();\n\n    const fluidHandler = (e, fluid) => {\n      this.options_.fluid = fluid;\n    };\n\n    player.on(PLAYER_EVENT.FLUID, fluidHandler);\n\n    this.options = (options) => {\n      if (!options) {\n        return this.options_;\n      }\n\n      this.options_ = videojs.mergeOptions(this.options_, options);\n      player.trigger('playlistwidgetoption', this.options_.playlistWidget);\n      return this.options_;\n\n    };\n\n    this.dispose = () => {\n      this.layout_.dispose();\n      player.off(PLAYER_EVENT.FLUID, fluidHandler);\n    };\n  }\n\n  render() {\n    if (this.options_.useDefaultLayout) {\n      if (this.options_.direction === 'horizontal') {\n        this.layout_ = new PlaylistLayoutHorizontal(this.player_, this.options_);\n      } else {\n        this.layout_ = new PlaylistLayoutVertical(this.player_, this.options_);\n      }\n    }\n\n    if (this.options_.useCustomLayout) {\n      this.layout_ = new PlaylistLayoutCustom(this.player_, this.options_);\n    }\n  }\n\n  getLayout() {\n    return this.layout_;\n  }\n\n  update(optionName, optionValue) {\n    this.options(optionValue);\n\n    if (optionName === 'direction') {\n      this.layout_.removeLayout();\n      this.layout_.dispose();\n      this.render();\n    } else {\n      this.layout_.update(optionName, this.options_);\n    }\n  }\n\n  setSkin() {\n    this.layout_.setCls();\n  }\n\n  total(totalNumber = PLAYLIST_DEFAULTS_OPTIONS.total) {\n    const total = parseInt(totalNumber, 10);\n\n    if (total !== this.options_.total && typeof total === 'number' && total > 0) {\n      this.update('total', { total: total });\n    }\n\n    return this;\n  }\n\n  direction(direction = PLAYLIST_DEFAULTS_OPTIONS.direction) {\n    if (direction === 'horizontal' || direction === 'vertical') {\n      this.update('direction', { direction: direction });\n    }\n\n    return this;\n  }\n}\n\n\nexport default PlaylistWidget;\n","export const DEFAULT_AUTO_ADVANCE = 0;\n\nexport const DEFAULT_PRESENT_UPCOMING = 10;\n\nexport const UPCOMING_VIDEO_TRANSITION = 1;\n\nexport const PLAYLIST_DEFAULTS_OPTIONS = {\n  fluid: false,\n  show: true,\n  direction: 'vertical',\n  total: 4,\n  selector: false,\n  renderTo: []\n};\n","import VideoSource from 'plugins/cloudinary/models/video-source/video-source';\nimport { isInteger } from 'utils/type-inference';\n\nimport 'components/playlist/components/upcoming-video-overlay';\nimport 'components/playlist/components/playlist';\n\nimport {\n  DEFAULT_AUTO_ADVANCE,\n  DEFAULT_PRESENT_UPCOMING,\n  UPCOMING_VIDEO_TRANSITION\n} from './playlist.const';\n\nclass Playlist {\n\n  constructor(context, sources = [], { repeat = false, autoAdvance = false, presentUpcoming = false } = {}) {\n    this._context = context;\n    this._sources = [];\n    this._defaultRecResolverCache = {};\n    this._currentIndex = null;\n    this._recommendationsHandler = null;\n    this._autoAdvance = null;\n    this._presentUpcoming = null;\n\n    this.resetState = () => {\n      this.repeat(repeat);\n      this.autoAdvance(autoAdvance);\n      this.presentUpcoming(presentUpcoming);\n    };\n\n    sources.forEach((source) => this.enqueue(source));\n\n    this.resetState();\n  }\n\n  list() {\n    return this._sources;\n  }\n\n  player() {\n    return this._context.player;\n  }\n\n  presentUpcoming(delay) {\n    this._presentUpcoming = this._presentUpcoming || {};\n\n    if (delay === undefined) {\n      return this._presentUpcoming.delay;\n    }\n\n    if (delay === true) {\n      delay = DEFAULT_PRESENT_UPCOMING;\n    } else if (delay === false) {\n      delay = false;\n    } else if (!isInteger(delay) || delay < 0) {\n      throw new Error('presentUpcoming \\'delay\\' must be either a boolean or a positive integer.');\n    }\n\n    this._presentUpcoming.delay = delay;\n\n    this._setupPresentUpcoming();\n\n    return this._presentUpcoming.delay;\n  }\n\n  autoAdvance(delay) {\n    this._autoAdvance = this._autoAdvance || {};\n\n    if (delay === undefined) {\n      return this._autoAdvance.delay;\n    }\n\n    if (delay === true) {\n      delay = DEFAULT_AUTO_ADVANCE;\n    } else if (delay === false) {\n      delay = false;\n    } else if (!isInteger(delay) || delay < 0) {\n      throw new Error('Auto advance \\'delay\\' must be either a boolean or a positive integer.');\n    }\n\n    this._autoAdvance.delay = delay;\n\n    this._setupAutoAdvance();\n\n    return this._autoAdvance.delay;\n  }\n\n  _setupAutoAdvance() {\n    this._resetAutoAdvance();\n\n    const delay = this._autoAdvance.delay;\n\n    if (delay === false) {\n      return;\n    }\n\n    const trigger = () => {\n      if (this.player().ended()) {\n        this._autoAdvance.timeout = setTimeout(() => {\n          this.playNext();\n        }, delay * 1000);\n      }\n    };\n\n    this._autoAdvance = { delay, trigger };\n\n    this._context.on('ended', this._autoAdvance.trigger);\n  }\n\n  dispose() {\n    this._resetAutoAdvance();\n    this._resetPresentUpcoming();\n    this._resetRecommendations();\n  }\n\n  _resetPresentUpcoming() {\n    this.player().trigger('upcomingvideohide');\n\n    if (!this._presentUpcoming) {\n      this._presentUpcoming = {};\n    }\n\n    if (this._presentUpcoming.trigger) {\n      this._context.off('timeupdate', this._presentUpcoming.trigger);\n    }\n\n    this._presentUpcoming.trigger = null;\n    this._presentUpcoming.showTriggered = false;\n  }\n\n  _setupPresentUpcoming() {\n    this._resetPresentUpcoming();\n\n    const delay = this._presentUpcoming.delay;\n\n    if (delay === false) {\n      return;\n    }\n\n    this._presentUpcoming.trigger = () => {\n      const currentTime = this.player().currentTime();\n      const duration = this.player().duration();\n\n      const remainingTime = duration - currentTime;\n\n      if (remainingTime < UPCOMING_VIDEO_TRANSITION + 0.5) {\n        if (this._presentUpcoming.showTriggered) {\n          this.player().trigger('upcomingvideohide');\n          this._presentUpcoming.showTriggered = false;\n        }\n      } else if (remainingTime <= this._presentUpcoming.delay && !this._presentUpcoming.showTriggered && !this.player().loop()) {\n        this.player().trigger('upcomingvideoshow');\n        this._presentUpcoming.showTriggered = true;\n      } else if (this._presentUpcoming.showTriggered && (remainingTime > this._presentUpcoming.delay || this.player().loop())) {\n        this.player().trigger('upcomingvideohide');\n        this._presentUpcoming.showTriggered = false;\n      }\n    };\n\n    this._context.on('timeupdate', this._presentUpcoming.trigger);\n  }\n\n  _resetAutoAdvance() {\n    if (!this._autoAdvance) {\n      this._autoAdvance = {};\n    }\n\n    if (this._autoAdvance.timeout) {\n      clearTimeout(this._autoAdvance.timeout);\n    }\n\n    if (this._autoAdvance.trigger) {\n      this._context.off('ended', this._autoAdvance.trigger);\n    }\n\n    this._autoAdvance.timeout = null;\n    this._autoAdvance.trigger = null;\n  }\n\n  _resetRecommendations() {\n    if (this._recommendationsHandler) {\n      this._context.off('ended', this._recommendationsHandler);\n    }\n  }\n\n  _refreshRecommendations() {\n    this._resetRecommendations();\n\n    this._recommendationsHandler = () => {\n      if (this.autoAdvance() === false && this._context.autoShowRecommendations()) {\n        this.player().trigger('recommendationsshow');\n      }\n    };\n\n    this._context.on('ended', this._recommendationsHandler);\n  }\n\n\n  _refreshTextTracks () {\n    this.player().trigger('refreshTextTracks', this.currentSource().textTracks());\n  }\n\n  _recommendationItemBuilder(source) {\n    const defaultResolver = this._defaultRecResolverCache[source.objectId];\n    if (source.recommendations() && (!defaultResolver || source.recommendations() !== defaultResolver)) {\n      return;\n    }\n\n    return (source) => ({ source, action: () => this.playItem(source) });\n  }\n\n  currentIndex(index) {\n    if (index === undefined) {\n      return this._currentIndex;\n    }\n\n    if (index >= this.length() || index < 0) {\n      throw new Error('Invalid playlist index.');\n    }\n\n    this._currentIndex = index;\n\n    const current = this.currentSource();\n\n    const itemBuilder = this._recommendationItemBuilder(current);\n\n    if (!current.recommendations()) {\n      current.recommendations(this._defaultRecommendationsResolver(current));\n    }\n\n    this._context.source(current, { recommendationOptions: { disableAutoShow: true, itemBuilder } });\n\n    const eventData = { playlist: this, current, next: this.next() };\n\n    this.player().trigger('playlistitemchanged', eventData);\n\n    this._refreshRecommendations();\n\n    this._refreshTextTracks();\n\n    return current;\n  }\n\n  _defaultRecommendationsResolver(source) {\n    const defaultResolver = this._defaultRecResolverCache[source.objectId];\n    if (defaultResolver) {\n      return defaultResolver;\n    }\n\n    this._defaultRecResolverCache[source.objectId] = () => {\n      let index = this.list().indexOf(source);\n      const items = [];\n\n      const numOfItems = Math.min(4, this.length() - 1);\n\n      while (items.length < numOfItems) {\n        index = this.nextIndex(index);\n        if (index === -1) {\n          break;\n        }\n\n        const source = this.list()[index];\n        items.push(source);\n      }\n\n      return items;\n    };\n\n    return this._defaultRecResolverCache[source.objectId];\n  }\n\n  buildSource(source, options = {}) {\n    return this._context.buildSource(source, options);\n  }\n\n  enqueue(source, options = {}) {\n    const src = source instanceof VideoSource ? source : this.buildSource(source, options);\n\n    this._sources.push(src);\n\n    return src;\n  }\n\n\n  playItem(item) {\n    let index = this.list().indexOf(item);\n\n    if (index === -1) {\n      throw new Error('Invalid playlist item.');\n    }\n\n    this.playAtIndex(index);\n  }\n\n  playAtIndex(index) {\n    this.currentIndex(index);\n    this.player().play();\n\n    return this.currentSource();\n  }\n\n  currentSource() {\n    return this.list()[this.currentIndex()];\n  }\n\n  removeAt(index) {\n    if (index >= this.length() || index < 0) {\n      throw new Error('Invalid playlist index.');\n    }\n\n    this._sources.splice(index, 1);\n\n    return this;\n  }\n\n  repeat(repeat) {\n    if (repeat === undefined) {\n      return this._repeat;\n    }\n\n    this._repeat = !!repeat;\n\n    return this._repeat;\n  }\n\n  first() {\n    return this.list()[0];\n  }\n\n  last() {\n    return this.list()[this.length() - 1];\n  }\n\n  next() {\n    const nextIndex = this.nextIndex();\n\n    if (nextIndex === -1) {\n      return null;\n    }\n\n    return this.list()[nextIndex];\n  }\n\n  nextIndex(index) {\n    index = index !== undefined ? index : this.currentIndex();\n\n    if (index >= this.length() || index < 0) {\n      throw new Error('Invalid playlist index.');\n    }\n\n    const isLast = index === this.length() - 1;\n\n    let nextIndex = index + 1;\n\n    if (isLast) {\n      if (this.repeat()) {\n        nextIndex = 0;\n      } else {\n        return -1;\n      }\n    }\n\n    return nextIndex;\n  }\n\n  previousIndex() {\n    if (this.isFirst()) {\n      return -1;\n    }\n\n    return this.currentIndex() - 1;\n  }\n\n  playFirst() {\n    return this.playAtIndex(0);\n  }\n\n  playLast() {\n    const lastIndex = this.list().length - 1;\n    return this.playAtIndex(lastIndex);\n  }\n\n  isLast() {\n    return this.currentIndex() >= this.length() - 1;\n  }\n\n  isFirst() {\n    return this.currentIndex() === 0;\n  }\n\n  length() {\n    return this.list().length;\n  }\n\n  playNext() {\n    let nextIndex = this.nextIndex();\n\n    if (nextIndex === -1) {\n      return null;\n    }\n\n    return this.playAtIndex(nextIndex);\n  }\n\n  playPrevious() {\n    let previousIndex = this.previousIndex();\n\n    if (previousIndex === -1) {\n      return null;\n    }\n\n    return this.playAtIndex(previousIndex);\n  }\n}\n\nexport default Playlist;\n","import videojs from 'video.js';\nimport '../../../assets/styles/components/thumbnail.scss';\n\n// Get the ClickableComponent base class from Video.js\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nconst THUMB_DEFAULT_WIDTH = 300;\n\nconst DEFAULT_OPTIONS = {\n  item: null,\n  transformation: {\n    width: THUMB_DEFAULT_WIDTH,\n    aspect_ratio: '16:9',\n    crop: 'pad',\n    background: 'black'\n  }\n};\n\nclass Thumbnail extends ClickableComponent {\n\n  constructor(player, initOptions) {\n    const options = videojs.mergeOptions(DEFAULT_OPTIONS, initOptions);\n    super(player, options);\n  }\n\n  getItem() {\n    return this.options_.item;\n  }\n\n  getTitle() {\n    return this.getItem().info().title;\n  }\n\n  getDuration() {\n    return ' ';// this.getItem().info().title;\n  }\n\n  getThumbnail() {\n    return this.getItem().poster().url({ transformation: this.options_.transformation });\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n  }\n\n  createControlTextEl() {\n    return;\n  }\n\n  createEl(tag = 'a') {\n    const el = super.createEl(tag, {\n      className: 'cld-thumbnail',\n      href: '#'\n    });\n\n    const img = super.createEl('img', {\n      className: 'cld-thumbnail-img',\n      src: this.getThumbnail()\n    });\n\n    el.appendChild(img);\n\n    el.style.backgroundImage = `url('${this.getThumbnail()}')`;\n\n    return el;\n  }\n}\n\nexport default Thumbnail;\n","import videojs from 'video.js';\nconst Component = videojs.getComponent('Component');\n\nclass ProgressControlEventsBlocker extends Component {\n\n  constructor(player, options = {}) {\n    super(player, options);\n  }\n\n  createEl() {\n    return super.createEl('div', {\n      className: 'vjs-progress-control-events-blocker'\n    });\n  }\n}\n\nvideojs.registerComponent('progressControlEventsBlocker', ProgressControlEventsBlocker);\n\nexport default ProgressControlEventsBlocker;\n","import RecommendationsOverlay from './recommendations-overlay';\n\nexport default RecommendationsOverlay;\n","import videojs from 'video.js';\n\nimport RecommendationsOverlayPrimaryItem from './recommendations-overlay-primary-item';\nimport RecommendationsOverlaySecondaryItemsContainer from './recommendations-overlay-secondary-items-container';\n\nconst Component = videojs.getComponent('Component');\n\nclass RecommendationsOverlayContent extends Component {\n\n  constructor(player, ...args) {\n    super(player, ...args);\n\n    this._content = new AspectRatioContent(player);\n    this.addChild(this._content);\n  }\n\n  setItems(primary, ...secondary) {\n    this._content.setItems(primary, ...secondary);\n  }\n\n  clearItems() {\n    this._content._primary.clearItem();\n    this._content._secondaryContainer.clearItems();\n  }\n\n  createEl() {\n    return super.createEl('div', {\n      className: 'vjs-recommendations-overlay-content'\n    });\n  }\n}\n\nclass AspectRatioContent extends Component {\n\n  constructor(player, ...args) {\n    super(player, ...args);\n\n    this._primary = new RecommendationsOverlayPrimaryItem(player);\n    this._secondaryContainer = new RecommendationsOverlaySecondaryItemsContainer(player);\n\n    this.addChild(this._primary);\n    this.addChild(this._secondaryContainer);\n  }\n\n  setItems(primary, ...secondary) {\n    this._primary.setItem(primary);\n    this._secondaryContainer.setItems(...secondary);\n  }\n\n  createEl() {\n    return super.createEl('div', {\n      className: 'aspect-ratio-content'\n    });\n  }\n}\n\nexport default RecommendationsOverlayContent;\n","import videojs from 'video.js';\n\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nclass RecommendationOverlayHideButton extends ClickableComponent {\n\n  createEl() {\n    return super.createEl('span', {\n      className: 'vjs-recommendations-overlay-hide vjs-icon-close'\n    });\n  }\n\n  handleClick() {\n    this.options_.clickHandler();\n  }\n}\n\nexport default RecommendationOverlayHideButton;\n","import videojs from 'video.js';\n\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nclass RecommendationsOverlayItem extends ClickableComponent {\n\n  setItem(item) {\n    const { action, source } = item;\n    this.source = source;\n\n    const info = source.info();\n\n    this.setTitle(info.title || source.publicId());\n\n    this.setPoster(this.source.poster().url({ transformation: { aspect_ratio: '16:9', crop: 'pad', background: 'black' } }));\n\n    this.setAction(action);\n  }\n\n  setTitle(text) {\n    this.title.innerText = text;\n  }\n\n  setAction(action) {\n    this.action = action;\n  }\n\n  handleClick() {\n    super.handleClick();\n    this.player().trigger('recommendationshide');\n    this.action();\n  }\n}\n\nexport default RecommendationsOverlayItem;\n","import videojs from 'video.js';\nimport RecommendationsOverlayItem from './recommendations-overlay-item';\nimport componentUtils from '../component-utils';\n\n// support VJS5 & VJS6 at the same time\nconst dom = videojs.dom || videojs;\n\nclass RecommendationsOverlayPrimaryItem extends RecommendationsOverlayItem {\n\n  setItem(item) {\n    super.setItem(item);\n\n    const info = this.source.info();\n\n    this.setTitle(info.title);\n    this.setSubtitle(info.subtitle);\n\n    if (info.description) {\n      const descLength = 300;\n      const description = info.description.length > descLength ? info.description.substring(0, descLength) + '...' : info.description;\n      this.setDescription(description);\n    }\n  }\n\n  setPoster(url) {\n    this.poster.style.backgroundImage = `url('${url}')`;\n  }\n\n  setTitle(text) {\n    componentUtils.setText(this.title, text);\n  }\n\n  setSubtitle(text) {\n    componentUtils.setText(this.subtitle, text);\n  }\n\n  setDescription(text) {\n    componentUtils.setText(this.description, text);\n  }\n\n  clearItem() {\n    this.setTitle('');\n    this.setSubtitle('');\n    this.setDescription('');\n    this.poster.style.backgroundImage = null;\n  }\n\n  createEl() {\n    const el = super.createEl('div', {\n      className: 'vjs-recommendations-overlay-item vjs-recommendations-overlay-item-primary'\n    });\n\n    this.poster = dom.createEl('div', {\n      className: 'vjs-recommendations-overlay-item-primary-image'\n    });\n\n    this.title = dom.createEl('h2');\n    this.title.innerHTML = '';\n\n    this.subtitle = dom.createEl('h3');\n    this.subtitle.innerHTML = '';\n\n    this.description = dom.createEl('p');\n    this.description.innerHTML = '';\n\n    this.content = dom.createEl('div', {\n      className: 'vjs-recommendations-overlay-item-info vjs-recommendations-overlay-item-primary-content'\n    });\n\n    this.content.appendChild(this.title);\n    this.content.appendChild(this.subtitle);\n    this.content.appendChild(this.description);\n\n    el.appendChild(this.poster);\n    el.appendChild(this.content);\n\n    return el;\n  }\n}\n\nexport default RecommendationsOverlayPrimaryItem;\n","import videojs from 'video.js';\nimport RecommendationsOverlayItem from './recommendations-overlay-item';\n\n// support VJS5 & VJS6 at the same time\nconst dom = videojs.dom || videojs;\n\nclass RecommendationsOverlaySecondaryItem extends RecommendationsOverlayItem {\n\n  setItem(item) {\n    super.setItem(item);\n    this.setDuration('');\n  }\n\n  setPoster(url) {\n    this.el().style.backgroundImage = `url('${url}')`;\n  }\n\n  setDuration(text) {\n    this.duration.innerText = text;\n  }\n\n  createEl() {\n    const el = super.createEl('div', {\n      className: 'vjs-recommendations-overlay-item vjs-recommendations-overlay-item-secondary'\n    });\n\n    this.title = dom.createEl('span', { className: 'vjs-recommendations-overlay-item-secondary-title' });\n    this.title.innerHTML = '';\n\n    this.duration = dom.createEl('span', { className: 'vjs-recommendations-overlay-item-secondary-duration' });\n    this.duration.innerHTML = '';\n\n    const caption = dom.createEl('div', { className: 'vjs-recommendations-overlay-item-info' });\n    caption.appendChild(this.title);\n    caption.appendChild(this.duration);\n\n    el.appendChild(caption);\n\n    return el;\n  }\n\n  handleClick() {\n    super.handleClick();\n    this.action();\n  }\n}\n\nexport default RecommendationsOverlaySecondaryItem;\n","import videojs from 'video.js';\nimport RecommendationsOverlaySecondaryItem from './recommendations-overlay-secondary-item';\n\nconst Component = videojs.getComponent('Component');\n\nclass RecommendationsOverlaySecondaryItemsContainer extends Component {\n\n  setItems(...items) {\n    this.clearItems();\n\n    if (!items) {\n      return;\n    }\n\n    items.forEach((item) => {\n      const component = new RecommendationsOverlaySecondaryItem(this.player());\n      component.setItem(item);\n      this.addChild(component);\n    });\n  }\n\n  clearItems() {\n    this.children().forEach(() => {\n      this.removeChild(this.children()[0]);\n    });\n  }\n\n  createEl() {\n    return super.createEl('div', {\n      className: 'vjs-recommendations-overlay-item-secondary-container'\n    });\n  }\n}\n\nexport default RecommendationsOverlaySecondaryItemsContainer;\n","import videojs from 'video.js';\nimport RecommendationsOverlayContent from './recommendations-overlay-content';\nimport RecommendationsOverlayHideButton from './recommendations-overlay-hide-button';\nimport './recommendations-overlay.scss';\n\nconst MAXIMUM_ITEMS = 4;\nconst Component = videojs.getComponent('Component');\n\n// TODO: Use Video.js's ModalDialog instead. It handles clicking block logic.\nclass RecommendationsOverlay extends Component {\n\n  constructor(player, options, ...args) {\n    super(player, ...args);\n\n    this._content = new RecommendationsOverlayContent(player);\n\n    this.addChild(this._content);\n\n    this.addChild(new RecommendationsOverlayHideButton(player, { clickHandler: () => {\n      this.close();\n    } }, ...args));\n\n    this.setEvents(player);\n\n    this.doNotOpen = false;\n  }\n\n  setEvents(player) {\n    this.on(player, 'recommendationschanged', (_, eventData) => {\n      this.setItems(...eventData.items);\n    });\n\n    this.on(player, 'recommendationsnoshow', this.setDoNotOpen);\n    this.on(player, 'recommendationsshow', this.open);\n    this.on(player, 'recommendationshide', this.close);\n    this.on(player, 'cldsourcechanged', () => {\n      this.clearItems();\n      this.close();\n    });\n  }\n\n  setDoNotOpen() {\n    this.doNotOpen = true;\n  }\n\n  open() {\n    if (!this.doNotOpen) {\n      // Only show controls on close if they were visible from the first place\n      this._showControlsOnClose = this.player().controls();\n      this.player().controls(false);\n      this.el().style.visibility = 'visible';\n    }\n  }\n\n  clearItems() {\n    this._content.clearItems();\n  }\n\n  close() {\n    this.el().style.visibility = 'hidden';\n    if (this._showControlsOnClose) {\n      this.player().controls(true);\n    }\n  }\n\n  createEl() {\n    const recommendationsOverlayClass = 'vjs-recommendations-overlay';\n\n    const el = super.createEl('div', {\n      className: recommendationsOverlayClass\n    });\n    videojs.dom.addClass(el, recommendationsOverlayClass);\n\n    return el;\n  }\n\n  setItems(primary, ...secondary) {\n    this.doNotOpen = false;\n    secondary = secondary.slice(0, MAXIMUM_ITEMS - 1);\n    this._content.setItems(primary, ...secondary);\n  }\n\n  handleClick() {\n    this.stopPropagation();\n  }\n\n  dispose() {\n    super.dispose();\n  }\n}\n\nvideojs.registerComponent('recommendationsOverlay', RecommendationsOverlay);\n\nexport default RecommendationsOverlay;\n","import videojs from 'video.js';\nimport { elMatches } from 'utils/matches';\n\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\nconst dom = videojs.dom || videojs;\nimport ImageSource from '../../../plugins/cloudinary/models/image-source';\nimport {\n  CLD_SPBL_IMAGE,\n  CLD_SPBL_ITEM,\n  SHOPPABLE_CLICK_ACTIONS,\n  SHOPPABLE_HOVER_ACTIONS\n} from '../shoppable-widget.const';\n\nconst widthTransformation = { width: 132 };\n\nclass ShoppablePanelItem extends ClickableComponent {\n\n  constructor(player, initOptions) {\n    super(player, initOptions);\n    this.options_ = initOptions;\n    this.isDragged = false;\n  }\n\n  handleClick(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (!elMatches(this.el_, `.dragged .${CLD_SPBL_ITEM}`)) {\n      // Prevent click event if dragged\n      this.options_.clickHandler(event);\n    }\n    this.isDragged = false;\n  }\n\n  getTitle() {\n    return this.options_.conf.title;\n  }\n\n  createEl() {\n    const el = super.createEl('a', {\n      className: `${CLD_SPBL_ITEM} base-color-bg accent-color-text`,\n      href: '#'\n    });\n\n    el.setAttribute('data-product-id', this.options_.conf.productId || '');\n    el.setAttribute('data-product-name', this.options_.conf.productName || '');\n\n    if (this.options_.conf.onHover) {\n      addOnHover(el, this.options_.conf.onHover, this.options_.item.cloudinaryConfig());\n    }\n    if (this.options_.conf.onClick) {\n      addOnClick(el, this.options_.conf.onClick);\n    }\n\n    const img = super.createEl('img',\n      { className: CLD_SPBL_IMAGE },\n      { src: this.options_.item.url(widthTransformation) }\n    );\n\n    el.appendChild(img);\n\n    if (this.getTitle()) {\n      const info = dom.createEl('div', { className: 'cld-spbl-item-info base-color-semi-bg text-color-text' });\n      const title = dom.createEl('span', { className: 'cld-spbl-item-title' }, {}, this.getTitle());\n      info.appendChild(title);\n      el.appendChild(info);\n    }\n\n    return el;\n  }\n}\n\nconst addOnHover = (el, conf, cldConf) => {\n  el.setAttribute('data-hover-action', conf.action);\n  if (conf.action === SHOPPABLE_HOVER_ACTIONS.OVERLAY) {\n    const overlayText = dom.createEl('span', { className: 'cld-spbl-overlay-text base-color-text' }, {}, conf.args);\n    const overlay = dom.createEl('span', { className: 'cld-spbl-overlay text-color-semi-bg base-color-text' }, { title: conf.args }, overlayText);\n    el.appendChild(overlay);\n  } else {\n\n    const switchImgSource = new ImageSource(conf.args.publicId, {\n      cloudinaryConfig: cldConf,\n      transformation: conf.args.transformation\n    });\n\n    const hoverImg = dom.createEl('img',\n      { className: `${CLD_SPBL_IMAGE} cld-spbl-hover-img` },\n      { src: switchImgSource.url(widthTransformation) }\n    );\n\n    el.appendChild(hoverImg);\n  }\n};\n\nconst addOnClick = (el, conf) => {\n  el.setAttribute('data-click-action', conf.action);\n  el.setAttribute('data-pause', conf.pause);\n  if (conf.action === SHOPPABLE_CLICK_ACTIONS.SEEk) {\n    el.setAttribute('data-seek', conf.args.time);\n  } else if (conf.action === SHOPPABLE_CLICK_ACTIONS.GO_TO) {\n    el.setAttribute('data-goto-url', conf.args.url);\n  }\n};\n\nvideojs.registerComponent('shoppablePanelItem', ShoppablePanelItem);\n\nexport default ShoppablePanelItem;\n","import videojs from 'video.js';\nimport { assign } from 'utils/assign';\nimport { throttle } from 'utils/throttle';\nimport { parseTime } from 'utils/time';\nimport 'assets/styles/components/playlist.scss';\nimport ShoppablePanelItem from './shoppable-panel-item';\nimport ImageSource from '../../../plugins/cloudinary/models/image-source';\nimport {\n  CLD_SPBL_PANEL_CLASS,\n  SHOPPABLE_CLICK_ACTIONS,\n  SHOPPABLE_PANEL_HIDDEN_CLASS,\n  SHOPPABLE_PANEL_VISIBLE_CLASS,\n  SHOPPABLE_PRODUCTS_OVERLAY_CLASS\n} from '../shoppable-widget.const';\nimport { PLAYER_EVENT } from '../../../utils/consts';\n\nconst Component = videojs.getComponent('Component');\n\nclass ShoppablePanel extends Component {\n\n  constructor(player, options = {}) {\n    super(player, options);\n    this.options = options;\n\n    const itemChangeHandler = () => {\n      this.render();\n    };\n\n    player.on(PLAYER_EVENT.SHOPPABLE_ITEM_CHANGED, itemChangeHandler);\n\n    this.render();\n\n    this.dispose = () => {\n      super.dispose();\n      player.off(PLAYER_EVENT.SHOPPABLE_ITEM_CHANGED, itemChangeHandler);\n    };\n  }\n\n  createEl() {\n    const el = super.createEl();\n    [CLD_SPBL_PANEL_CLASS, 'base-color-bg'].map(cls => el.classList.add(cls));\n    return el;\n  }\n\n  removeAll() {\n    const childrens = this.children();\n    for (let i = childrens.length - 1; i >= 0; --i) {\n      this.removeChild(childrens[i]);\n    }\n  }\n\n  getItems() {\n    const cloudinaryConfig = this.player_.cloudinary.cloudinaryConfig();\n    return this.options.products.map(product => {\n      if (product.onHover && typeof product.onHover.args === 'object') {\n        product.onHover.args.transformation = assign({},\n          this.options.transformation,\n          product.onHover.args.transformation\n        );\n      }\n      const conf = {\n        productId: product.productId,\n        productName: product.productName,\n        title: product.title,\n        onHover: product.onHover,\n        onClick: product.onClick,\n        startTime: product.startTime,\n        endTime: product.endTime\n      };\n      const imageSource = new ImageSource(product.publicId, {\n        cloudinaryConfig: cloudinaryConfig,\n        transformation: assign({}, this.options.transformation, product.transformation)\n      });\n      return {\n        imageSrc: imageSource,\n        conf: conf\n      };\n    });\n  }\n\n  scrollToActiveItem() {\n    const activeItems = this.el_.getElementsByClassName('active');\n    if (activeItems.length > 0) {\n      const toScroll = activeItems[0].offsetTop - 12;\n      // Test for native scrollTo support (IE will fail)\n      if ('scrollBehavior' in document.documentElement.style) {\n        this.el_.scrollTo({\n          top: toScroll,\n          behavior: 'smooth'\n        });\n      } else {\n        this.el_.scrollTop = toScroll;\n      }\n    }\n  }\n\n  render() {\n    this.removeAll();\n\n    const items = this.getItems();\n\n    const throttledScrollToActiveItem = throttle(() => this.scrollToActiveItem(), 1000);\n\n    items.forEach((item, index) => {\n      const shoppablePanelItem = new ShoppablePanelItem(this.player(), {\n        item: item.imageSrc,\n        conf: item.conf,\n        next: index === 1,\n        current: index === 0,\n        clickHandler: (e) => {\n          let target = e.currentTarget || e.target;\n          let evName = this.player_.ended() ? 'productClickPost' : 'productClick';\n          this.player_.trigger(evName, { productId: target.dataset.productId, productName: target.dataset.productName });\n\n          // Go to URL, or seek video (set currentTime)\n          if (target.dataset.clickAction === SHOPPABLE_CLICK_ACTIONS.GO_TO) {\n            window.open(target.dataset.gotoUrl, '_blank');\n          } else if (target.dataset.clickAction === SHOPPABLE_CLICK_ACTIONS.SEEk) {\n            const gotoSecs = parseTime(target.dataset.seek);\n            if (gotoSecs !== null) {\n              this.player_.addClass('vjs-has-started'); // Hide the poster image\n              if (this.player_.postModal) {\n                this.player_.postModal.close();\n              }\n              this.player_.currentTime(gotoSecs);\n              // Close products side-panel\n              this.player_.removeClass(SHOPPABLE_PANEL_VISIBLE_CLASS);\n              this.player_.addClass(SHOPPABLE_PANEL_HIDDEN_CLASS);\n              this.player_.addClass(SHOPPABLE_PRODUCTS_OVERLAY_CLASS);\n              // Wait for the time update and show the tooltips\n              this.player_.one('seeked', () => this.player_.trigger('showProductsOverlay'));\n            }\n          }\n\n          // pause - true (default), false, or number of seconds\n          if (target.dataset.pause !== 'false') {\n            this.player_.pause();\n            if (parseTime(target.dataset.pause)) {\n              setTimeout(() => {\n                this.player_.play();\n              }, parseTime(target.dataset.pause) * 1000);\n            }\n          }\n        }\n      });\n\n      shoppablePanelItem.on('mouseover', e => {\n        let target = e.currentTarget || e.target;\n        let evName = this.player_.ended() ? 'productHoverPost' : 'productHover';\n        this.player_.trigger(evName, { productId: target.dataset.productId, productName: target.dataset.productName });\n      });\n\n      if (typeof item.conf.startTime !== 'undefined' && typeof item.conf.endTime !== 'undefined') {\n        this.player_.on(PLAYER_EVENT.TIME_UPDATE, () => {\n          const time = this.player_.currentTime();\n          if (time >= item.conf.startTime && time < item.conf.endTime) {\n            shoppablePanelItem.el_.classList.add('active');\n            throttledScrollToActiveItem();\n          } else if (shoppablePanelItem.el_.classList.contains('active')) {\n            shoppablePanelItem.el_.classList.remove('active');\n          }\n        });\n      }\n\n      this.addChild(shoppablePanelItem);\n\n    });\n\n  }\n}\n\nvideojs.registerComponent('shoppablePanel', ShoppablePanel);\n\nexport default ShoppablePanel;\n","export const SHOPPABLE_WIDGET_OPTIONS_DEFAULTS = {\n  location: 'right',\n  toggleIcon: '',\n  width: '20%',\n  startState: 'openOnPlay',\n  autoClose: 2,\n  transformation: {\n    quality: 'auto',\n    width: 'auto',\n    fetch_format: 'auto',\n    crop: 'scale'\n  },\n  products: [],\n  showPostPlayOverlay: false\n};\n\nexport const SHOPPABLE_CLICK_ACTIONS = {\n  GO_TO: 'goto',\n  SEEk: 'seek'\n};\n\nexport const SHOPPABLE_HOVER_ACTIONS = {\n  OVERLAY: 'overlay'\n};\n\nexport const SHOPPABLE_PANEL_VISIBLE_CLASS = 'shoppable-panel-visible';\n\nexport const SHOPPABLE_PANEL_HIDDEN_CLASS = 'shoppable-panel-hidden';\n\nexport const SHOPPABLE_PRODUCTS_OVERLAY_CLASS = 'shoppable-products-overlay';\n\nexport const CLD_SPBL_PANEL_CLASS = 'cld-spbl-panel';\n\nexport const CLD_SPBL_TOGGLE_CLASS = 'cld-spbl-toggle';\n\nexport const CLD_SPBL_TOGGLE_ICON_CLASS = 'cld-spbl-toggle-icon';\n\nexport const CLD_SPBL_INNER_BAR = 'cld-spbl-bar-inner';\n\nexport const CLD_SPBL_TOGGLE_CUSTOM_ICON_CLASS = 'cld-spbl-toggle-custom-icon';\n\nexport const ICON_CART_CLASS = 'vjs-icon-cart';\n\nexport const CLOSE_ICON_CLASS = 'vjs-icon-close';\n\nexport const SHOPPABLE_ANIMATION_CLASS = 'animate';\n\nexport const CLD_SPBL_ITEM = 'cld-spbl-item';\n\nexport const CLD_SPBL_IMAGE = 'cld-spbl-img';\n","import videojs from 'video.js';\nimport 'assets/styles/components/title-bar.scss';\nimport componentUtils from '../component-utils';\n\n// support VJS5 & VJS6 at the same time\nconst dom = videojs.dom || videojs;\n\nconst Component = videojs.getComponent('Component');\n\nclass TitleBar extends Component {\n\n  constructor(player, options = {}) {\n    super(player, options);\n\n    this.on(player, 'cldsourcechanged', (_, { source }) => this.setItem(source));\n  }\n\n  setItem(source) {\n    if (!source) {\n      this.setTitle('');\n      this.setSubtitle('');\n\n      return;\n    }\n\n    const info = source.info();\n\n    this.setTitle(info.title);\n    this.setSubtitle(info.subtitle);\n  }\n\n  setTitle(text) {\n    componentUtils.setText(this.titleEl, text);\n    this.refresh();\n    return text;\n  }\n\n  setSubtitle(text) {\n    componentUtils.setText(this.subtitleEl, text);\n    this.refresh();\n    return text;\n  }\n\n  refresh() {\n    const titleValue = () => this.titleEl.innerText;\n    const subtitleValue = () => this.subtitleEl.innerText;\n\n    if (!titleValue() && !subtitleValue()) {\n      this.hide();\n      return;\n    }\n\n    this.show();\n  }\n\n  createEl() {\n    this.titleEl = dom.createEl('div', {\n      className: 'vjs-title-bar-title'\n    });\n\n    this.subtitleEl = dom.createEl('div', {\n      className: 'vjs-title-bar-subtitle'\n    });\n\n    const el = super.createEl('div', {\n      append: this.titleEl,\n      className: 'vjs-title-bar'\n    });\n\n    el.appendChild(this.titleEl);\n    el.appendChild(this.subtitleEl);\n\n    return el;\n  }\n}\n\nvideojs.registerComponent('titleBar', TitleBar);\n\nexport default TitleBar;\n","import videojs from 'video.js';\nimport contextMenuContent from '../plugins/context-menu/contextMenuContent';\nimport { FLOATING_TO, PRELOAD } from '../video-player.const';\n\nexport default {\n  logoOnclickUrl: 'https://cloudinary.com/',\n  showLogo: true,\n  showJumpControls: false,\n  playsinline: videojs.browser.IS_IOS,\n  skin: 'dark',\n  controls: false,\n  controlBar: {\n    'pictureInPictureToggle': false\n  },\n  preload: PRELOAD.AUTO,\n  loop: false,\n  muted: false,\n  posterOptions: {},\n  sourceTypes: ['webm/vp9', 'mp4/h265', 'mp4'],\n  contextMenu: {\n    content: contextMenuContent\n  },\n  floatingWhenNotVisible: FLOATING_TO.NONE,\n  hideContextMenu: false,\n  analytics: false,\n  cloudinaryAnalytics: false,\n  playedEventPercents: [25, 50, 75, 100]\n};\n","import videojs from 'video.js';\nimport EventEmitter from 'events';\nimport { assign } from 'utils/assign';\nimport { isPlainObject } from 'utils/type-inference';\nimport { PLAYER_EVENT } from './utils/consts';\n\nconst EVENT_DEFAULTS = {\n  percentsplayed: {\n    percents: [25, 50, 75, 100]\n  }\n};\n\nconst DEFAULT_EVENTS = [\n  PLAYER_EVENT.PERCENTS_PLAYED,\n  PLAYER_EVENT.PAUSE_NO_SEEK,\n  PLAYER_EVENT.SEEK,\n  PLAYER_EVENT.MUTE,\n  PLAYER_EVENT.UNMUTE,\n  PLAYER_EVENT.QUALITY_CHANGED\n];\n\nconst DEFAULT_OPTIONS = {\n  events: DEFAULT_EVENTS\n};\n\n// Emits the following additional events:\n// percentsplayed, timeplayed, pausenoseek, seek, mute, unmute\nclass ExtendedEvents extends EventEmitter {\n\n  constructor(player, initOptions = {}) {\n    super();\n    this.player = player;\n    const options = videojs.mergeOptions(DEFAULT_OPTIONS, initOptions);\n\n    let _muteData = { lastState: undefined };\n    let _seekStart = 0;\n    let _seekEnd = 0;\n    let _seeking = false;\n    let _percentsTracked = [];\n    let _timesTracked = [];\n    let _currentSource = null;\n    let _ended = false;\n\n    const volumechange = (event) => {\n      if (this.player.muted() && _muteData.lastState !== 'muted') {\n        _muteData.lastState = 'muted';\n        this.emit(PLAYER_EVENT.MUTE, event);\n      } else if (!this.player.muted() && _muteData.lastState !== 'unmuted') {\n        _muteData.lastState = 'unmuted';\n        this.emit(PLAYER_EVENT.UNMUTE, event);\n      }\n    };\n\n    const timeupdate = (event) => {\n      const currentTime = this.player.currentTime();\n      const duration = this.player.duration();\n\n      const _emit = (type, data) => {\n        data.originalType = 'timeupdate';\n        this.emit(type, event, data);\n      };\n\n      if (this.events.percentsplayed) {\n        this.events.percentsplayed.percents.forEach((percent) => {\n          if (playedAtPercentage(currentTime, duration, percent) && _percentsTracked.indexOf(percent) === -1) {\n            _percentsTracked.push(percent);\n            _emit(PLAYER_EVENT.PERCENTS_PLAYED, { percent });\n          }\n        });\n      }\n\n      if (this.events.timeplayed) {\n        const timeplayed = this.events.timeplayed;\n        const times = timeplayed.interval ? [Math.floor(currentTime / timeplayed.interval) * timeplayed.interval] : timeplayed.times;\n\n        times.forEach((time) => {\n          if (playedAtTime(currentTime, time) && _timesTracked.indexOf(time) === -1) {\n            _timesTracked.push(time);\n            _emit(PLAYER_EVENT.TIME_PLAYED, { time });\n          }\n        });\n      }\n\n      if (this.events.seek) {\n        _seekStart = _seekEnd;\n        _seekEnd = currentTime;\n\n        if (Math.abs(_seekStart - _seekEnd) > 1) {\n          _seeking = true;\n\n          // should empty  _timesTracked array on seek, needed for 'timeplayed' event\n          resetPerVideoState();\n          _emit(PLAYER_EVENT.SEEK, { seekStart: _seekStart, seekEnd: _seekEnd });\n        }\n      }\n    };\n\n    const pause = (event) => {\n      const currentTime = Math.round(this.player.currentTime());\n      const duration = Math.round(this.player.duration());\n\n      if (currentTime !== duration && !_seeking) {\n        this.emit(PLAYER_EVENT.PAUSE_NO_SEEK, event);\n      }\n    };\n\n    const play = () => {\n      _seeking = false;\n    };\n    const replay = () => {\n      if (_ended) {\n        this.player.trigger('replay');\n        _ended = false;\n      }\n    };\n\n    const loadedmetadata = () => {\n      if (this.player.currentSource().src !== _currentSource) {\n        resetPerVideoState();\n        _currentSource = this.player.currentSource().src;\n      }\n    };\n\n    const adaptiveEvents = (event) => {\n      let ee = this;\n      let tracks = this.player.textTracks();\n      let segmentMetadataTrack = null;\n      for (let i = 0; i < tracks.length; i++) {\n        if (tracks[i].label === 'segment-metadata') {\n          segmentMetadataTrack = tracks[i];\n        }\n\n      }\n      let previousResolution = null;\n\n      if (segmentMetadataTrack) {\n        segmentMetadataTrack.on('cuechange', function() {\n          let activeCue = segmentMetadataTrack.activeCues[0];\n\n          if (activeCue) {\n            let currentRes = activeCue.value.resolution;\n            if (previousResolution !== currentRes) {\n              let data = {\n                from: previousResolution,\n                to: currentRes\n              };\n              ee.emit(PLAYER_EVENT.QUALITY_CHANGED, event, data);\n            }\n            previousResolution = currentRes;\n          }\n        });\n      }\n\n\n    };\n\n    const resetState = () => {\n      _muteData = { lastState: undefined };\n      _seekStart = _seekEnd = 0;\n      _seeking = false;\n      resetPerVideoState();\n    };\n\n    const resetPerVideoState = () => {\n      _percentsTracked = [];\n      _timesTracked = [];\n    };\n\n    const ended = () => {\n      _ended = true;\n    };\n\n    this.events = normalizeEventsParam(options.events, EVENT_DEFAULTS);\n    resetState();\n\n    this.player.on(PLAYER_EVENT.PLAY, replay.bind(this));\n    this.player.on(PLAYER_EVENT.ENDED, ended.bind(this));\n    if (this.events.percentsplayed || this.events.timeplayed ||\n      this.events.seek || this.events.totaltimeplayed) {\n\n      this.player.on(PLAYER_EVENT.TIME_UPDATE, timeupdate.bind(this));\n    }\n\n    if (this.events.mute || this.events.unmute) {\n      this.player.on(PLAYER_EVENT.VOLUME_CHANGE, volumechange.bind(this));\n    }\n\n    if (this.events.pausenoseek) {\n      this.player.on(PLAYER_EVENT.PAUSE, pause.bind(this));\n      this.player.on(PLAYER_EVENT.PLAY, play.bind(this));\n    }\n\n    this.player.on(PLAYER_EVENT.LOADED_METADATA, loadedmetadata.bind(this));\n    this.player.on(PLAYER_EVENT.LOADED_DATA, adaptiveEvents.bind(this));\n\n  }\n}\n\nconst normalizeEventsParam = (events, defaults) => {\n  let normalized = events;\n\n  if (events.constructor.name === 'Array') {\n    normalized = events.reduce((agg, item) => {\n      const eventDefaults = defaults[item] || {};\n\n      if (isPlainObject(item)) {\n        agg[item.type] = assign({}, eventDefaults, item);\n      } else {\n        agg[item] = eventDefaults;\n      }\n\n      return agg;\n    }, {});\n  }\n\n  return normalized;\n};\n\nconst playedAtPercentage = (currentTime, duration, percentageCheckpoint, graceRangeSeconds = 0.5) => {\n  const checkPoint = duration * percentageCheckpoint / 100;\n  return playedAtTime(currentTime, checkPoint, graceRangeSeconds);\n};\n\nconst playedAtTime = (currentTime, checkpoint, graceRangeSeconds = 0.5) =>\n  (currentTime <= checkpoint + graceRangeSeconds &&\n    currentTime >= checkpoint - graceRangeSeconds);\n\nexport { normalizeEventsParam };\nexport default ExtendedEvents;\n","const Eventable = (superclass) => class extends superclass {\n  constructor() {\n    super();\n\n    const eventable = { data: {}, handlers: {} };\n\n    this.on = (...args) => {\n      const lastIndex = args.length - 1;\n      const func = args[lastIndex];\n\n      eventable.handlers[func] = (event, ..._args) => {\n        event.Player = this;\n        func(event, ..._args);\n      };\n\n      args[lastIndex] = eventable.handlers[func];\n\n      return this.videojs.on(...args);\n    };\n\n    this.one = (...args) => {\n      const lastIndex = args.length - 1;\n      const func = args[lastIndex];\n\n      eventable.handlers[func] = (event, ..._args) => {\n        event.Player = this;\n        func(event, ..._args);\n        delete eventable.handlers[func];\n      };\n\n      args[lastIndex] = eventable.handlers[func];\n\n      return this.videojs.one(...args);\n    };\n\n    this.off = (...args) => {\n      const lastIndex = args.length - 1;\n      const func = args[lastIndex];\n\n      args[lastIndex] = eventable.handlers[func];\n\n      const res = this.videojs.off(...args);\n      delete eventable.handlers[func];\n\n      return res;\n    };\n\n    this.trigger = (...args) => {\n      this.videojs.trigger(...args);\n    };\n  }\n};\n\nexport default Eventable;\n","import Playlist from 'components/playlist/playlist';\nimport { sliceProperties } from 'utils/slicing';\nimport { normalizeJsonResponse } from 'utils/api';\nimport { assign } from 'utils/assign';\nimport { extendCloudinaryConfig, getCloudinaryUrl } from '../plugins/cloudinary/common';\n\n\nconst LIST_BY_TAG_PARAMS = { format: 'json', resource_type: 'video', type: 'list' };\n\nconst Playlistable = (superclass) => class extends superclass {\n\n  constructor(player, options = {}) {\n    super();\n\n    const _chainTarget = sliceProperties(options, 'chainTarget').chainTarget;\n    let _playlist = null;\n    let _playlistDisposer = null;\n\n    this.playlist = (sources, options = {}) => {\n      if (sources === undefined) {\n        return _playlist;\n      }\n\n      if (this.playlist()) {\n        this.disposePlaylist();\n      }\n\n      createPlaylist(sources, options);\n      player.trigger('playlistcreated');\n\n      return _chainTarget;\n    };\n\n    this.disposePlaylist = () => {\n      player.removeClass('vjs-playlist');\n      const playlist = this.playlist();\n      _playlist = undefined;\n      playlist.dispose();\n      this.off('cldsourcechanged', _playlistDisposer);\n    };\n\n    const createPlaylist = (sources, options) => {\n      if (sources instanceof Playlist) {\n        _playlist = sources;\n        _playlist.resetState();\n        _playlist.currentIndex(_playlist.currentIndex());\n      } else {\n        _playlist = new Playlist(this, sources, options);\n        _playlist.currentIndex(0);\n      }\n\n      _playlistDisposer = addSourceChangedListener();\n      player.addClass('vjs-playlist');\n    };\n\n    const addSourceChangedListener = () => {\n      const disposer = () => {\n        if (this.playlist() &&\n          !this.playlist().currentSource().contains(this.player.currentSource())) {\n          this.disposePlaylist();\n        }\n      };\n\n      this.on('cldsourcechanged', disposer);\n\n      return disposer;\n    };\n  }\n\n  playlistByTag(tag, options = {}) {\n    return this.sourcesByTag(tag, options)\n      .then((sources) => this.playlist(sources, options));\n  }\n\n  sourcesByTag(tag, options = {}) {\n    const url = getCloudinaryUrl(tag, extendCloudinaryConfig(this.cloudinaryConfig(), LIST_BY_TAG_PARAMS));\n\n    return fetch(url)\n      .then((result) => result.json())\n      .then((json) => {\n        const resources = normalizeJsonResponse(json.resources);\n\n        if (options.sorter) {\n          resources.sort(options.sorter);\n        }\n\n        const sources = resources.map((resource) => {\n          let sourceParams = options.sourceParams || {};\n\n          if (typeof sourceParams === 'function') {\n            sourceParams = sourceParams(resource);\n          }\n\n          const info = resource.context && resource.context.custom || {};\n\n          const source = assign({ info }, sourceParams, { publicId: resource.publicId });\n          return this.buildSource(source);\n        });\n\n        return sources;\n      });\n  }\n};\n\nexport default Playlistable;\n","import videojs from 'video.js';\nimport { sliceProperties } from 'utils/slicing';\nimport { normalizeEventsParam, default as ExtendedEvents } from 'extended-events';\nimport { PLAYER_EVENT } from '../../utils/consts';\n\nconst DEFAULT_EVENTS = [\n  PLAYER_EVENT.PLAY,\n  PLAYER_EVENT.PAUSE,\n  PLAYER_EVENT.ENDED,\n  PLAYER_EVENT.VOLUME_CHANGE,\n  PLAYER_EVENT.RESIZE,\n  PLAYER_EVENT.ERROR,\n  PLAYER_EVENT.FULL_SCREEN_CHANGE,\n  PLAYER_EVENT.START,\n  PLAYER_EVENT.VIDEO_LOAD,\n  PLAYER_EVENT.PERCENTS_PLAYED,\n  PLAYER_EVENT.SEEK,\n  PLAYER_EVENT.PLAYER_LOAD\n];\n\nconst EVENT_DEFAULTS = {\n  percentsplayed: {\n    percents: [25, 50, 75, 100]\n  }\n};\n\nconst DEFAULT_OPTIONS = {\n  events: DEFAULT_EVENTS,\n  category: 'Video',\n  defaultLabel: (player) =>\n    (player.cloudinary && player.cloudinary.currentPublicId()) || player.currentSource().src\n};\n\nclass AnalyticsPlugin {\n\n  constructor(player, initOptions = {}) {\n    this.player = player;\n    this.options = videojs.mergeOptions(DEFAULT_OPTIONS, initOptions);\n    this.events = normalizeEventsParam(this.options.events, EVENT_DEFAULTS);\n\n    const extendedEvents = sliceProperties(this.events, PLAYER_EVENT.PERCENTS_PLAYED, PLAYER_EVENT.TIME_PLAYED, PLAYER_EVENT.PAUSE, PLAYER_EVENT.SEEK);\n\n    if (extendedEvents.pause) {\n      delete extendedEvents.pause;\n      extendedEvents.pausenoseek = {};\n    }\n\n    this._extendedEvents = new ExtendedEvents(player, { events: extendedEvents });\n\n    this._currentSource = null;\n    this._startTracked = null;\n    this._endTracked = null;\n\n    this.resetState();\n  }\n\n  init() {\n    const playerLoad = () => {\n      this.track({ action: 'Player Load', label: window.location.href, nonInteraction: true });\n    };\n\n    const play = () => {\n      this.track({ action: 'Play' });\n    };\n\n    const start = () => {\n      if (this._startTracked) {\n        this.track({ action: 'Start' });\n        this._startTracked = true;\n      }\n    };\n\n    const pause = () => {\n      this.track({ action: 'Pause' });\n    };\n\n    const ended = () => {\n      if (!this._endTracked) {\n        this.track({ action: 'Ended', nonInteraction: true });\n        this._endTracked = true;\n      }\n    };\n\n    const error = () => {\n      this.track({ action: 'Error', nonInteraction: true });\n    };\n\n    const volumechange = () => {\n      const value = this.player.muted() ? 0 : this.player.volume();\n      this.track({ action: 'Volume Change', value });\n    };\n\n    const resize = () => {\n      const action = `Resize - ${this.player.width()}x${this.player.height()}}`;\n      this.track({ action });\n    };\n\n    const fullscreenchange = () => {\n      const action = this.player.isFullscreen() ? 'Enter Fullscreen' : 'Exit Fullscreen';\n      this.track({ action });\n    };\n\n    const percentsPlayed = (event, data) => {\n      const { percent } = data;\n      this.track({ action: `${percent} Percents Played`, nonInteraction: true });\n    };\n\n    const timePlayed = (event, data) => {\n      const { time } = data;\n      this.track({ action: `${time} Seconds Played`, value: time, nonInteraction: true });\n    };\n\n    const seek = (event, data) => {\n      const { seekStart, seekEnd } = data;\n      this.track({ action: 'Seek Start', value: seekStart });\n      this.track({ action: 'Seek End', value: seekEnd });\n    };\n\n    const shoppableProductHover = (event, data) => {\n      this.track({ action: 'productHover', label: data.productName });\n    };\n\n    const shoppableProductClick = (event, data) => {\n      this.track({ action: 'productClick', label: data.productName });\n    };\n\n    const shoppableBarMax = () => {\n      this.track({ action: 'shoppableBar', label: 'opened' });\n    };\n\n    const shoppableBarMin = () => {\n      this.track({ action: 'shoppableBar', label: 'closed' });\n    };\n\n    const shoppableReplay = () => {\n      this.track({ action: 'replay' });\n    };\n\n    const shoppableProductClickPost = (event, data) => {\n      this.track({ action: 'productClickPostPlay', label: data.productName });\n    };\n    const shoppableProductHoverPost = (event, data) => {\n      this.track({ action: 'productHoverPostPlay', label: data.productName });\n    };\n\n    if (this.events.shoppable) {\n      this.player.on('productHover', shoppableProductHover.bind(this));\n      this.player.on('productClick', shoppableProductClick.bind(this));\n      this.player.on('productHoverPost', shoppableProductHoverPost.bind(this));\n      this.player.on('productClickPost', shoppableProductClickPost.bind(this));\n      this.player.on('productBarMin', shoppableBarMin.bind(this));\n      this.player.on('productBarMax', shoppableBarMax.bind(this));\n      this.player.on('replay', shoppableReplay.bind(this));\n    }\n\n    if (this.events.play) {\n      this.player.on(PLAYER_EVENT.PLAY, play.bind(this));\n    }\n\n    if (this.events.ended) {\n      this.player.on(PLAYER_EVENT.ENDED, ended.bind(this));\n    }\n\n    if (this.events.volumechange) {\n      this.player.on(PLAYER_EVENT.VOLUME_CHANGE, volumechange.bind(this));\n    }\n\n    if (this.events.resize) {\n      this.player.on(PLAYER_EVENT.RESIZE, resize.bind(this));\n    }\n\n    if (this.events.error) {\n      this.player.on(PLAYER_EVENT.ERROR, error.bind(this));\n    }\n\n    if (this.events.start) {\n      this.player.on(PLAYER_EVENT.PLAYING, start.bind(this));\n    }\n\n    if (this.events.fullscreenchange) {\n      this.player.on(PLAYER_EVENT.FULL_SCREEN_CHANGE, fullscreenchange.bind(this));\n    }\n\n    if (this.events.percentsplayed) {\n      this._extendedEvents.on(PLAYER_EVENT.PERCENTS_PLAYED, percentsPlayed.bind(this));\n    }\n\n    if (this.events.timeplayed) {\n      this._extendedEvents.on(PLAYER_EVENT.TIME_PLAYED, timePlayed.bind(this));\n    }\n\n    if (this.events.pause) {\n      this._extendedEvents.on(PLAYER_EVENT.PAUSE_NO_SEEK, pause.bind(this));\n    }\n\n    if (this.events.seek) {\n      this._extendedEvents.on(PLAYER_EVENT.SEEK, seek.bind(this));\n    }\n\n    if (this.events.playerload) {\n      playerLoad();\n    }\n\n    this.player.on(PLAYER_EVENT.LOADED_METADATA, this.loadedmetadata.bind(this));\n  }\n\n  track({ action, label, value = null, nonInteraction = false }) {\n    const eventData = {\n      eventCategory: this.options.category,\n      eventAction: action,\n      eventLabel: label || this.options.defaultLabel(this.player),\n      eventValue: value || Math.round(this.player.currentTime()),\n      nonInteraction: nonInteraction\n    };\n\n    window.ga('send', 'event', eventData);\n  }\n\n  videoload() {\n    this.track({ action: 'Video Load', nonInteraction: true });\n  }\n\n  resetState() {\n    this._currentSource = '';\n    this._startTracked = false;\n    this._endTracked = false;\n  }\n\n  loadedmetadata() {\n    const src = this.player.currentSource().src;\n\n    if (src !== this._currentSource) {\n      this.resetState();\n      this._currentSource = src;\n\n      if (this.events.videoload) {\n        this.videoload();\n      }\n    }\n  }\n\n}\n\nexport default function(opts = {}) {\n  new AnalyticsPlugin(this, opts).init();\n}\n","import { isElementInViewport } from 'utils/positioning';\nimport { sliceProperties } from 'utils/slicing';\nimport { assign } from 'utils/assign';\n\nconst defaults = {\n  fraction: 0.5,\n  isMuted: true\n};\n\nclass AutoplayOnScrollPlugin {\n  constructor(player, opts = {}) {\n    opts = assign({}, defaults, opts);\n\n    this.player = player;\n    let _options = sliceProperties(opts, 'fraction');\n    let _pausedByScroll = false;\n    let _playedByScroll = false;\n    let _pauseHandler = null;\n    let _playHandler = null;\n\n    this.init = () => {\n      registerEventHandlers();\n      checkViewportState();\n    };\n\n    const clearEventHandlers = () => {\n      window.removeEventListener('DOMContentLoaded', checkViewportState, false);\n      window.removeEventListener('load', checkViewportState, false);\n      window.removeEventListener('scroll', checkViewportState, false);\n      window.removeEventListener('resize', checkViewportState, false);\n      this.player.off('pause', _pauseHandler);\n      this.player.off('play', _playHandler);\n    };\n\n    const pause = () => {\n      _pausedByScroll = true;\n      _playedByScroll = false;\n      this.player.pause();\n    };\n\n    const play = () => {\n      _pausedByScroll = false;\n      _playedByScroll = true;\n      this.player.play();\n    };\n\n    const checkViewportState = () => {\n      const visible = isElementInViewport(this.player.el(), { fraction: _options.fraction });\n\n      if (visible) {\n        if (this.player.paused()) {\n          play();\n        }\n      } else if (!this.player.paused() && !this.player.activePlugins_.floatingPlayer) {\n        pause();\n      }\n    };\n\n    const registerEventHandlers = () => {\n      // TODO: find a better replacement for 'pause' since it's being triggered\n      // by 'buffering' as well.\n      _pauseHandler = () => {\n        if (!this.player.waiting && !_pausedByScroll) {\n          clearEventHandlers();\n        }\n      };\n\n      _playHandler = () => {\n        if (!_playedByScroll) {\n          clearEventHandlers();\n        }\n      };\n\n      window.addEventListener('DOMContentLoaded', checkViewportState, false);\n      window.addEventListener('load', checkViewportState, false);\n      window.addEventListener('scroll', checkViewportState, false);\n      window.addEventListener('resize', checkViewportState, false);\n      this.player.on('pause', _pauseHandler);\n      this.player.on('play', _playHandler);\n    };\n  }\n}\n\nexport default function(opts = {}) {\n  new AutoplayOnScrollPlugin(this, opts).init();\n}\n","import { trackVideoPlayer } from '../../components/cld-analytics/cld-analytics';\n\nclass CloudinaryAnalytics {\n  constructor(player) {\n    this.player = player;\n  }\n\n  getMetadata = () => {\n    return {\n      cloudName: this.player.cloudinary.cloudinaryConfig().cloud_name,\n      videoPublicId: this.player.cloudinary.currentPublicId()\n    };\n  }\n\n  init() {\n    trackVideoPlayer(this.player.videoElement, this.getMetadata);\n  }\n}\n\nexport default function(opts = {}) {\n  new CloudinaryAnalytics(this, opts).init();\n}\n","import { assign } from 'utils/assign';\nimport { sliceAndUnsetProperties } from 'utils/slicing';\nimport { isString, isPlainObject } from 'utils/type-inference';\nimport { URL_PATTERN } from './models/video-source/video-source.const';\nimport { createCloudinaryLegacyURL } from '@cloudinary/url-gen/backwards/createCloudinaryLegacyURL';\nimport Transformation from '@cloudinary/url-gen/backwards/transformation';\nimport { omit } from '../../utils/object';\n\n\nconst normalizeOptions = (publicId, options, { tolerateMissingId = false } = {}) => {\n  if (isPlainObject(publicId)) {\n    const _options = assign({}, publicId);\n\n    publicId = sliceAndUnsetProperties(_options, 'publicId').publicId;\n\n    if (!isString(publicId) && !tolerateMissingId) {\n      throw new Error('Source is missing \\'publicId\\'.');\n    }\n\n    if (options) {\n      options = assign({}, _options, options);\n    }\n  }\n\n  return { publicId, options };\n};\n\nexport const isRawUrl = (publicId) => URL_PATTERN.test(publicId);\n\nconst isSrcEqual = (source1, source2) => {\n  let src1 = source1;\n  let src2 = source2;\n\n  if (typeof source1 === 'object') {\n    src1 = source1.src;\n  }\n\n  if (typeof source2 === 'object') {\n    src2 = source2.src;\n  }\n\n  if (/^\\/\\//.test(src1)) {\n    src2 = src2.slice(src2.indexOf('//'));\n  }\n  if (/^\\/\\//.test(src2)) {\n    src1 = src1.slice(src1.indexOf('//'));\n  }\n\n  return src1 === src2;\n};\n\nexport const extendCloudinaryConfig = (currentConfig, newConfig) => Object.assign(currentConfig, newConfig);\n\nexport const getCloudinaryUrl = (publicId, transformation) => createCloudinaryLegacyURL(publicId, omit(transformation, ['chainTarget']));\n\nconst isTransformationInstance = (transformation) => transformation.constructor.name === 'Transformation' && transformation.toOptions;\n\nconst mergeTransformations = (initTransformation1, transformation2) => {\n  const transformation1 = isTransformationInstance(initTransformation1) ? initTransformation1.toOptions() : initTransformation1;\n\n  return new Transformation(transformation1).fromOptions(transformation2).toOptions();\n};\n\nconst ERROR_CODE = {\n  NO_SUPPORTED_MEDIA: 6,\n  CUSTOM: 10,\n  UNKNOWN_CUSTOMER: 11,\n  RESOURCE_NOT_FOUND: 12,\n  PRIVATE_RESOURCE: 13,\n  UNAUTHENTICATED: 14\n};\n\nconst cloudinaryErrorsConverter = ({ errorMsg, publicId, cloudName, statusCode }) => {\n  const msg = 'Video cannot be played';\n  let error = { code: ERROR_CODE.CUSTOM, message: `${msg}${errorMsg ? '- ' + errorMsg : ''}`, statusCode: statusCode };\n  let err = errorMsg.toLowerCase();\n  if (err.startsWith('unknown customer')) {\n    error.code = ERROR_CODE.UNKNOWN_CUSTOMER;\n    error.message = `${msg} Unknown cloud-name ${cloudName}`;\n  }\n  if (err.startsWith('resource not found')) {\n    error.code = ERROR_CODE.RESOURCE_NOT_FOUND;\n    error.message = `${msg} Public ID ${publicId} not found`;\n  }\n  if (err.startsWith('private resource')) {\n    error.code = ERROR_CODE.PRIVATE_RESOURCE;\n    error.message = `${msg} Private video`;\n  }\n  if (err.startsWith('unauthenticated access')) {\n    error.message = `${msg} Requires authentication`;\n    error.code = ERROR_CODE.UNAUTHENTICATED;\n  }\n  return error;\n};\n\nconst codecShorthandTrans = (short) => {\n  const transTable = {\n    h265: 'hev1.1.6.L93.B0',\n    vp9: 'vp09.00.50.08',\n    h264: 'avc1.42E01E'\n  };\n  return transTable[short] ? transTable[short] : short;\n};\n\nconst ISOAVC_MAP = {\n  'avc1': 'h264',\n  'avc2': 'h264',\n  'svc1': 'Scalable Video Coding',\n  'mvc1': 'Multiview Video Coding',\n  'mvc2': 'Multiview Video Coding'\n};\n\n\nconst PROFILE = {\n  '0': 'No', //  0             - *** when profile=RCDO and level=0 - \"RCDO\"  - RCDO bitstream MUST obey to all the constraints of the Baseline profile\n  '42': 'baseline', // 66 in-decimal\n  '4d': 'main', // 77 in-decimal\n  '58': 'extended', // 88 in-decimal\n  '64': 'high', // 100 in-decimal\n  '6e': 'high 10', // 110 in-decimal\n  '7a': 'high 4:2:2', // 122 in-decimal\n  'f4': 'high 4:4:4', // 244 in-decimal\n  '2c': 'CAVLC 4:4:4', // 44 in-decimal\n\n  // profiles for SVC - Scalable Video Coding extension to H.264\n  '53': 'Scalable Baseline', // 83 in-decimal\n  '56': 'Scalable High', // 86 in-decimal\n\n  // profiles for MVC - Multiview Video Coding extension to H.264\n  '80': 'Stereo High', // 128 in-decimal\n  '76': 'Multiview High', // 118 in-decimal\n  '8a': 'Multiview Depth High' // 138 in-decimal\n};\n\n\nfunction avcotiToStr(s) {\n  let REGEX = /([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i;\n\n  if (REGEX.test(s) === false) {\n    throw new Error('error: please provide a 3-bytes hex-sequence for example: 42001e');\n  }\n  let matches = s.match(REGEX);\n  matches.shift(); // kills first one (regex matchs entire string)\n\n  let profile_idc = matches[0];\n  profile_idc = PROFILE[profile_idc];\n  profile_idc = typeof profile_idc === 'string' ? profile_idc : 'Unknown'; // explicit fix.\n\n  // constraint_set_flags  = matches[1]; //maybe some other time..\n\n  let level_idc = matches[2];\n  level_idc = parseInt(level_idc, 16); // will give something like 30  (integer thirty)\n  level_idc = String(level_idc).split('').join('.'); // will give something like \"3.0\"\n  return `${profile_idc}:${level_idc}`;\n}\n\n\nconst h264avcToString = (s) => {\n  let REGEX = /(avc1|avc2|svc1|mvc1|mvc2)\\.([0-9a-f]{6})/i;\n  if (REGEX.test('avc1.42001e') === false) {\n    throw new Error('Codec string is not formatted according to H.264/AVC standards for example avc1.42001e (maybe an iOS friendly version...)');\n  }\n  let matches = s.match(REGEX);\n  if (matches !== null) {\n    matches.shift(); // first one is the entire-string.\n\n    let vc_codec = ISOAVC_MAP[matches[0]];\n    let avc_codec = typeof avc_codec === 'string' ? avc_codec : 'Unknown'; // explicit fix\n\n    return vc_codec + ':' + avcotiToStr(matches[1]);\n  }\n  return s;\n};\n\nexport const VIDEO_CODEC = {\n  VP9: 'vp9',\n  HEV1: 'hev1',\n  H265: 'h265',\n  H264: 'h264'\n};\n\nconst codecToSrcTransformation = (codec) => {\n  if (!codec) {\n    return {};\n  }\n\n  switch (codec) {\n    case VIDEO_CODEC.VP9:\n      return { video_codec: VIDEO_CODEC.VP9 };\n    case VIDEO_CODEC.HEV1:\n      return { video_codec: VIDEO_CODEC.H265 };\n    case VIDEO_CODEC.H264:\n      return { video_codec: `${VIDEO_CODEC.H264}:baseline:3.0` };\n    default:\n      return { video_codec: h264avcToString(codec) };\n  }\n};\n\n\nexport {\n  normalizeOptions,\n  isSrcEqual,\n  mergeTransformations,\n  cloudinaryErrorsConverter,\n  codecShorthandTrans,\n  h264avcToString,\n  codecToSrcTransformation,\n  ERROR_CODE\n};\n","import { findIndex } from 'utils/find';\n\nclass EventHandlerRegistry {\n  constructor(emitter) {\n    this._emitter = emitter;\n    this._eventHandlers = [];\n  }\n\n  on(type, handler) {\n    this._eventHandlers.push({ type, handler });\n    this._emitter.on(type, handler);\n  }\n\n  one(type, handler) {\n    const wrapper = (...args) => {\n      handler(...args);\n      this.off(type, handler);\n    };\n\n    this._eventHandlers.push({ type, handler, wrapper });\n    this._emitter.one(type, handler);\n  }\n\n  off(type, handler) {\n    const index = findIndex(this._eventHandlers, (event) =>\n      event.type === type && event.handler === handler);\n\n    if (index === -1) {\n      return;\n    }\n\n    const event = this._eventHandlers[index];\n\n    this._emitter.off(type, event.wrapper || event.handler);\n\n    this._eventHandlers.splice(index, 1);\n  }\n\n  removeAllListeners() {\n    this._eventHandlers.forEach((event) => {\n      this.off(event);\n    });\n  }\n}\n\nexport default EventHandlerRegistry;\n","import { default as vjs } from 'video.js';\nimport { mixin } from 'utils/mixin';\nimport { applyWithProps } from 'utils/apply-with-props';\nimport { sliceAndUnsetProperties } from 'utils/slicing';\nimport { isKeyInTransformation } from 'utils/cloudinary';\nimport { assign } from 'utils/assign';\nimport {\n  normalizeOptions,\n  mergeTransformations,\n  codecShorthandTrans,\n  extendCloudinaryConfig\n} from './common';\nimport Playlistable from 'mixins/playlistable';\nimport VideoSource from './models/video-source/video-source';\nimport EventHandlerRegistry from './event-handler-registry';\nimport AudioSource from './models/audio-source/audio-source';\nimport { isFunction } from '../../utils/type-inference';\n\nconst DEFAULT_PARAMS = {\n  transformation: {},\n  sourceTypes: [],\n  sourceTransformation: [],\n  posterOptions: {}\n};\n\nexport const CONSTRUCTOR_PARAMS = ['cloudinaryConfig', 'transformation',\n  'sourceTypes', 'sourceTransformation', 'posterOptions', 'autoShowRecommendations'];\n\nclass CloudinaryContext extends mixin(Playlistable) {\n\n  constructor(player, options = {}) {\n    super(player, options);\n\n    this.player = player;\n    options = assign({}, DEFAULT_PARAMS, options);\n\n    let _source = null;\n    let _sources = null;\n    let _lastSource = null;\n    let _lastPlaylist = null;\n    let _posterOptions = null;\n    let _cloudinaryConfig = null;\n    let _transformation = null;\n    let _sourceTypes = null;\n    let _sourceTransformation = null;\n    let _chainTarget = options.chainTarget;\n    let _playerEvents = null;\n    let _recommendations = null;\n    let _autoShowRecommendations = false;\n\n    this.source = (source, options = {}) => {\n      options = assign({}, options);\n\n      if (!source) {\n        return _source;\n      }\n\n      let src = null;\n\n      if (source instanceof VideoSource) {\n        src = source;\n      } else {\n        let { publicId, options: _options } = normalizeOptions(source, options);\n        src = this.buildSource(publicId, _options);\n      }\n\n      if (src.recommendations()) {\n        const recommendations = src.recommendations();\n\n        let itemBuilder = null;\n        let disableAutoShow = false;\n\n        if (options.recommendationOptions) {\n          ({ disableAutoShow, itemBuilder } = sliceAndUnsetProperties(options.recommendationOptions, 'disableAutoShow', 'itemBuilder'));\n        }\n        setRecommendations(recommendations, { disableAutoShow, itemBuilder });\n      } else {\n        unsetRecommendations();\n      }\n\n      _source = src;\n      if (!options.skipRefresh) {\n        refresh();\n      }\n      this.player.trigger('cldsourcechanged', { source: src });\n\n      return _chainTarget;\n    };\n\n    this.buildSource = (publicId, options = {}) => {\n      let builtSrc = null;\n      ({ publicId, options } = normalizeOptions(publicId, options));\n\n      options.cloudinaryConfig = extendCloudinaryConfig(this.cloudinaryConfig(), options.cloudinaryConfig || {});\n      options.transformation = mergeTransformations(this.transformation(), options.transformation || {});\n      options.sourceTransformation = options.sourceTransformation || this.sourceTransformation();\n      options.sourceTypes = options.sourceTypes || this.sourceTypes();\n      options.poster = options.poster || posterOptionsForCurrent();\n      options.queryParams = Object.assign(options.queryParams || {}, options.usageReport ? { _s: `vp-${VERSION}` } : {});\n\n      if (options.sourceTypes.indexOf('audio') > -1) {\n        builtSrc = new AudioSource(publicId, options);\n      } else {\n        builtSrc = new VideoSource(publicId, options);\n      }\n\n      return builtSrc;\n    };\n\n    this.posterOptions = (options) => {\n      if (!options) {\n        return _posterOptions;\n      }\n\n      _posterOptions = options;\n\n      return _chainTarget;\n    };\n\n    this.disablePoster = (posterColor) => {\n      // https://docs.videojs.com/player.js.html#line3816\n      this.player.poster(' ');\n      this.player.posterImage.el().style.backgroundColor = posterColor;\n    };\n\n    this.cloudinaryConfig = (config) => {\n      if (!config) {\n        return _cloudinaryConfig;\n      }\n\n      _cloudinaryConfig = config;\n\n      return _chainTarget;\n    };\n\n    this.transformation = (trans) => {\n      if (!trans) {\n        return _transformation;\n      }\n\n      _transformation = trans;\n\n      return _chainTarget;\n    };\n\n    this.sourceTypes = (types) => {\n      if (!types) {\n        return _sourceTypes;\n      }\n\n      _sourceTypes = types;\n\n      return _chainTarget;\n    };\n\n    this.getCurrentSources = () => _sources;\n\n    this.sourceTransformation = (trans) => {\n      if (!trans) {\n        return _sourceTransformation;\n      }\n\n      _sourceTransformation = trans;\n\n      return _chainTarget;\n    };\n\n    this.on = (...args) => _playerEvents.on(...args);\n    this.one = (...args) => _playerEvents.one(...args);\n    this.off = (...args) => _playerEvents.off(...args);\n\n    this.autoShowRecommendations = (autoShow) => {\n      if (autoShow === undefined) {\n        return _autoShowRecommendations;\n      }\n\n      _autoShowRecommendations = autoShow;\n\n      return _chainTarget;\n    };\n\n    this.dispose = () => {\n      if (this.playlist()) {\n        this.disposePlaylist();\n      }\n      unsetRecommendations();\n      _source = undefined;\n      _playerEvents.removeAllListeners();\n    };\n\n    const setRecommendations = (recommendations, { disableAutoShow = false, itemBuilder = null }) => {\n      unsetRecommendations();\n\n      if (!Array.isArray(recommendations) && typeof recommendations !== 'function' && !recommendations.then) {\n        throw new Error('\"recommendations\" must be either an array or a function');\n      }\n\n      _recommendations = {};\n\n      itemBuilder = itemBuilder || ((source) => ({ source: source instanceof VideoSource ? source : this.buildSource(source), action: () => this.source(source) }));\n\n      _recommendations.sourceChangedHandler = () => {\n        const trigger = (sources) => {\n          if (typeof sources !== 'undefined' && sources.length > 0) {\n            const items = sources.map((_source) => itemBuilder(_source));\n            this.player.trigger('recommendationschanged', { items });\n          } else {\n            this.player.trigger('recommendationsnoshow');\n          }\n          _recommendations.sources = sources;\n        };\n\n        if (isFunction(recommendations)) {\n          trigger(recommendations());\n        } else if (recommendations.then) {\n          recommendations.then(trigger);\n        } else {\n          trigger(recommendations);\n        }\n      };\n\n      this.one('cldsourcechanged', _recommendations.sourceChangedHandler);\n\n      _recommendations.endedHandler = () => {\n        if (!disableAutoShow && this.autoShowRecommendations()) {\n          this.player.trigger('recommendationsshow');\n        }\n      };\n\n      this.on('ended', _recommendations.endedHandler);\n    };\n\n    const unsetRecommendations = () => {\n      if (_recommendations) {\n        this.off('cldsourcechanged', _recommendations.sourceChangedHandler);\n        this.off('ended', _recommendations.endedHandler);\n        delete _recommendations.endedHandler;\n        delete _recommendations.sourceChangedHandler;\n      }\n\n      _recommendations = null;\n    };\n\n    const refresh = () => {\n      const src = this.source();\n      const { posterColor } = this.player.cloudinary.posterOptions();\n      if (posterColor) {\n        this.disablePoster(posterColor);\n      } else if (src.poster()) {\n        this.player.poster(src.poster().url());\n      }\n\n      _sources = src.generateSources().reduce((srcs, src) => {\n        if (src.isAdaptive) {\n          let codec = src.type.split('; ')[1] || null;\n          if (codec && 'MediaSource' in window) {\n            const parts = src.type.split('; ');\n            let typeStr = `video/mp4; ${parts[1] || ''}`;\n            const canPlay = testCanPlayTypeAndTypeSupported(typeStr);\n            if (vjs.browser.IS_ANY_SAFARI) {\n              // work around safari saying it cant play h265\n              src.type = `${parts[0]}; ${codecShorthandTrans('h264')}`;\n            }\n            if (canPlay) {\n              srcs.push(src);\n            }\n          } else {\n            srcs.push(src);\n          }\n        } else {\n          srcs.push(src);\n        }\n        return srcs;\n      }, []);\n      this.player.src(_sources);\n\n      _lastSource = src;\n      _lastPlaylist = this.playlist();\n    };\n    const testCanPlayTypeAndTypeSupported = (codec) => {\n      const v = document.createElement('video');\n      return v.canPlayType(codec) || 'MediaSource' in window && MediaSource.isTypeSupported(codec);\n    };\n\n    const posterOptionsForCurrent = () => {\n      const opts = assign({}, this.posterOptions());\n      if (opts.transformation) {\n        if ((opts.transformation.width || opts.transformation.height) && !opts.transformation.crop) {\n          opts.transformation.crop = 'scale';\n        }\n      }\n\n      opts.transformation = opts.transformation || {};\n\n      // Set poster dimensions to player actual size.\n      // (unless they were explicitly set via `posterOptions`)\n      const playerEl = this.player.el();\n      if (playerEl && playerEl.clientWidth && playerEl.clientHeight && !isKeyInTransformation(opts.transformation, 'width') && !isKeyInTransformation(opts.transformation, 'height')) {\n        const roundUp100 = (val) => 100 * Math.ceil(val / 100);\n\n        opts.transformation = mergeTransformations(opts.transformation, {\n          width: roundUp100(playerEl.clientWidth),\n          height: roundUp100(playerEl.clientHeight),\n          crop: 'limit'\n        });\n      }\n\n      return opts;\n    };\n\n    // Handle external (non-cloudinary plugin) source changes (e.g. by ad plugins)\n    const syncState = (_, data) => {\n      let src = data.to;\n\n      // When source is cloudinary's\n      if (_lastSource && _lastSource.contains(src)) {\n        // If plugin state doesn't have an active VideoSource\n        if (!this.source()) {\n          // We might have been running a playlist, reset playlist's state.\n          if (_lastPlaylist) {\n            this.playlist(_lastPlaylist);\n          }\n          // Rebuild last source state without calling vjs's 'src' and 'poster'\n          this.source(_lastSource, { skipRefresh: true });\n        }\n      } else {\n        // Used by cloudinary-only components\n        this.player.trigger('cldsourcechanged', {});\n\n        // When source isn't cloudinary's - reset the plugin's state.\n        this.dispose();\n      }\n    };\n\n    _playerEvents = new EventHandlerRegistry(this.player);\n\n    const constructorParams = sliceAndUnsetProperties(options, ...CONSTRUCTOR_PARAMS);\n\n    applyWithProps(this, constructorParams);\n\n    this.on('sourcechanged', syncState);\n  }\n\n  currentSourceType() {\n    return this.source().getType();\n  }\n\n  currentPublicId() {\n    return this.source() && this.source().publicId();\n  }\n\n  currentPoster() {\n    return this.source() && this.source().poster();\n  }\n}\n\nexport default function(options = {}) {\n  options.chainTarget = options.chainTarget || this;\n  this.cloudinary = new CloudinaryContext(this, options);\n}\n","export const DEFAULT_POSTER_PARAMS = { format: 'jpg', resource_type: 'video', transformation: { flags: 'waveform' } };\n\nexport const COMMON_AUDIO_FORMATS = ['mp3', 'ogg', 'wav', 'mp4'];\n\nexport const AUDIO_SUFFIX_REMOVAL_PATTERN = RegExp(`\\\\.(${COMMON_AUDIO_FORMATS.join('|')})$$`);\n\nexport const DEFAULT_AUDIO_PARAMS = {\n  resource_type: 'video',\n  type: 'upload',\n  transformation: []\n};\n","import VideoSource from '../video-source/video-source';\nimport ImageSource from '../image-source';\nimport { normalizeOptions } from '../../common';\nimport { sliceAndUnsetProperties } from 'utils/slicing';\nimport { assign } from 'utils/assign';\nimport { objectToQuerystring } from 'utils/querystring';\nimport { AUDIO_SUFFIX_REMOVAL_PATTERN, DEFAULT_AUDIO_PARAMS, DEFAULT_POSTER_PARAMS } from './audio-source.const';\nimport { SOURCE_TYPE } from '../../../../utils/consts';\n\n\nclass AudioSource extends VideoSource {\n\n  constructor(publicId, options = {}) {\n    ({ publicId, options } = normalizeOptions(publicId, options));\n\n    publicId = publicId.replace(AUDIO_SUFFIX_REMOVAL_PATTERN, '');\n\n    options = assign({}, DEFAULT_AUDIO_PARAMS, options);\n    const { poster } = sliceAndUnsetProperties(options, 'poster');\n\n    super(publicId, options);\n    this._poster = null;\n    this._type = SOURCE_TYPE.AUDIO;\n    this.poster(poster);\n  }\n\n  getPoster () {\n    return this._poster;\n  }\n\n  poster(publicId, options = {}) {\n    if (!publicId) {\n      return this._poster;\n    }\n\n    if (publicId instanceof ImageSource) {\n      this._poster = publicId;\n      return this;\n    }\n\n    ({ publicId, options } = normalizeOptions(publicId, options, { tolerateMissingId: true }));\n\n    if (!publicId) {\n      publicId = this.publicId();\n      options = assign({}, options, DEFAULT_POSTER_PARAMS);\n    }\n\n    options.cloudinaryConfig = options.cloudinaryConfig || this.cloudinaryConfig();\n    this._poster = new ImageSource(publicId, options);\n\n    return this;\n  }\n\n  generateSources() {\n    return this.sourceTypes().map((sourceType) => {\n\n      if (sourceType === 'audio') {\n        const format = 'mp3';\n        const opts = {};\n        const srcTransformation = this.sourceTransformation()[sourceType] || [this.transformation()];\n\n        if (srcTransformation) {\n          opts.transformation = srcTransformation;\n        }\n\n        assign(opts, { resource_type: 'video', format });\n        const queryString = this.queryParams() ? objectToQuerystring(this.queryParams()) : '';\n\n        const src = `${this.config().url(this.publicId(), opts)}${queryString}`;\n        const type = 'video/mp4';\n        return { type, src, cldSrc: this, poster: this.getPoster().url() };\n      } else {\n        return null;\n      }\n    }, this);\n  }\n}\n\nexport default AudioSource;\n","import { getCloudinaryUrl, isRawUrl, mergeTransformations, normalizeOptions } from '../common';\nimport { sliceAndUnsetProperties } from 'utils/slicing';\nimport { objectToQuerystring } from 'utils/querystring';\n\n\nclass BaseSource {\n  _transformation = null;\n\n  constructor(initPublicId, initOptions = {}) {\n\n    const { publicId, options } = normalizeOptions(initPublicId, initOptions);\n    const { cloudinaryConfig } = sliceAndUnsetProperties(options, 'cloudinaryConfig');\n    const { transformation } = sliceAndUnsetProperties(options, 'transformation');\n    const { queryParams } = sliceAndUnsetProperties(options, 'queryParams');\n\n    if (!cloudinaryConfig) {\n      throw new Error('Source is missing \"cloudinaryConfig\".');\n    }\n\n    this.publicId = () => publicId;\n    this.cloudinaryConfig = () => cloudinaryConfig;\n    this.resourceConfig = () => options;\n    this.queryParams = () => queryParams;\n    this.getType = () => this._type;\n    this.transformation(transformation);\n  }\n\n  transformation(transformation) {\n    if (transformation) {\n      this._transformation = transformation;\n    }\n\n    return this._transformation;\n  }\n\n  config() {\n    const coreConfig = this.cloudinaryConfig();\n\n    return {\n      cloud_name: coreConfig.cloudName,\n      url: (publicId, initTransformation) => {\n        if (isRawUrl(publicId)) {\n          return publicId;\n        }\n\n        const transformation = mergeTransformations(this.resourceConfig(), initTransformation);\n\n        return getCloudinaryUrl(publicId, {\n          ...coreConfig,\n          ...transformation\n        });\n      }\n    };\n  }\n\n  url({ transformation } = {}) {\n    const url = this.config().url(this.publicId(), { transformation: transformation || this.transformation() });\n\n    const queryString = this.queryParams() ? objectToQuerystring(this.queryParams()) : '';\n    return `${url}${queryString}`;\n  }\n}\n\nexport default BaseSource;\n","import BaseSource from './base-source';\nimport { normalizeOptions } from '../common';\nimport { assign } from 'utils/assign';\n\nconst COMMON_IMAGE_FORMATS = ['jpg', 'png', 'gif', 'webp'];\nconst IMAGE_SUFFIX_REMOVAL_PATTERN = RegExp(`\\\\.(${COMMON_IMAGE_FORMATS.join('|')})$$`);\nconst DEFAULT_IMAGE_PARAMS = {\n  resource_type: 'image',\n  type: 'upload',\n  transformation: []\n};\n\nclass ImageSource extends BaseSource {\n  constructor(publicId, options = {}) {\n    ({ publicId, options } = normalizeOptions(publicId, options));\n\n    publicId = publicId.replace(IMAGE_SUFFIX_REMOVAL_PATTERN, '');\n\n    options = assign({}, DEFAULT_IMAGE_PARAMS, options);\n\n    super(publicId, options);\n    this._type = 'ImageSource';\n  }\n}\n\nexport default ImageSource;\n","export const DEFAULT_POSTER_PARAMS = { format: 'jpg', resource_type: 'video' };\n\nconst DEFAULT_VIDEO_SOURCE_TYPES = ['webm/vp9', 'mp4/h265', 'mp4'];\n\nexport const DEFAULT_VIDEO_PARAMS = {\n  resource_type: 'video',\n  type: 'upload',\n  transformation: [],\n  sourceTransformation: {},\n  sourceTypes: DEFAULT_VIDEO_SOURCE_TYPES,\n  recommendations: null,\n  info: {},\n  interactionAreas: {}\n};\n\nexport const VIDEO_SUFFIX_REMOVAL_PATTERN = RegExp(`\\\\.(${DEFAULT_VIDEO_SOURCE_TYPES.join('|')})$$`);\n\n// eslint-disable-next-line no-control-regex\nexport const URL_PATTERN = RegExp('https?:\\\\/\\\\/(www\\\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\\\.[a-zA-Z0-9()]{1,6}\\\\b([-a-zA-Z0-9()@:%_\\+.~#?&/=]*)');\n\n\nexport const CONTAINER_MIME_TYPES = {\n  dash: ['application/dash+xml'],\n  hls: ['application/x-mpegURL'],\n  mpd: ['application/dash+xml'],\n  m3u8: ['application/x-mpegURL']\n};\n\nexport const FORMAT_MAPPINGS = {\n  hls: 'm3u8',\n  dash: 'mpd'\n};\n","import BaseSource from '../base-source';\nimport ImageSource from '../image-source';\nimport { normalizeOptions, isSrcEqual, isRawUrl, mergeTransformations } from '../../common';\nimport { sliceAndUnsetProperties } from 'utils/slicing';\nimport { assign } from 'utils/assign';\nimport { objectToQuerystring } from 'utils/querystring';\nimport { default as vjs } from 'video.js';\nimport {\n  CONTAINER_MIME_TYPES,\n  DEFAULT_POSTER_PARAMS,\n  DEFAULT_VIDEO_PARAMS,\n  VIDEO_SUFFIX_REMOVAL_PATTERN\n} from './video-source.const';\nimport { formatToMimeTypeAndTransformation, isCodecAlreadyExist, normalizeFormat } from './video-source.utils';\nimport { castArray } from '../../../../utils/array';\nimport { SOURCE_TYPE } from '../../../../utils/consts';\n\nlet objectId = 0;\n\nconst generateId = () => objectId++;\n\nclass VideoSource extends BaseSource {\n\n  constructor(_publicId, initOptions = {}) {\n\n    const _isRawUrl = isRawUrl(_publicId);\n    let { publicId, options } = normalizeOptions(_publicId, initOptions);\n\n    if (!_isRawUrl) {\n      publicId = publicId.replace(VIDEO_SUFFIX_REMOVAL_PATTERN, '');\n    }\n\n    options = assign({}, DEFAULT_VIDEO_PARAMS, options);\n\n    if (!options.poster) {\n      options.poster = assign({ publicId }, DEFAULT_POSTER_PARAMS);\n    }\n\n    const {\n      poster,\n      sourceTypes,\n      sourceTransformation,\n      info,\n      recommendations,\n      textTracks,\n      withCredentials,\n      interactionAreas\n    } = sliceAndUnsetProperties(\n      options,\n      'poster',\n      'sourceTypes',\n      'sourceTransformation',\n      'info',\n      'recommendations',\n      'textTracks',\n      'withCredentials',\n      'interactionAreas'\n    );\n\n    super(publicId, options);\n\n    this._sourceTypes = null;\n    this._recommendations = null;\n    this._textTracks = null;\n    this._poster = null;\n    this._info = null;\n    this._sourceTransformation = null;\n    this._interactionAreas = null;\n    this._type = SOURCE_TYPE.VIDEO;\n    this.isRawUrl = _isRawUrl;\n    this._rawTransformation = options.raw_transformation;\n    this.withCredentials = !!withCredentials;\n    this.getInitOptions = () => initOptions;\n\n    this.poster(poster);\n    this.sourceTypes(sourceTypes);\n    this.sourceTransformation(sourceTransformation);\n    this.info(info);\n    this.interactionAreas(interactionAreas);\n    this.recommendations(recommendations);\n    this.textTracks(textTracks);\n    this.objectId = generateId();\n  }\n\n  textTracks(textTracks) {\n    if (textTracks === undefined) {\n      return this._textTracks;\n    }\n\n    this._textTracks = textTracks;\n\n    return this;\n  }\n\n  recommendations(recommends) {\n    if (recommends === undefined) {\n      return this._recommendations;\n    }\n\n    this._recommendations = recommends;\n\n    return this;\n  }\n\n  sourceTypes (types) {\n    if (!types) {\n      return this._sourceTypes;\n    }\n    this._sourceTypes = types;\n\n    return this;\n  }\n\n  info(info) {\n    if (!info) {\n      return this._info;\n    }\n\n    this._info = info;\n\n    return this;\n  }\n\n  interactionAreas(interactionAreas) {\n    if (!interactionAreas) {\n      return this._interactionAreas;\n    }\n\n    this._interactionAreas = interactionAreas;\n\n    return this;\n  }\n\n  sourceTransformation(trans) {\n    if (!trans) {\n      return this._sourceTransformation;\n    }\n\n    this._sourceTransformation = trans;\n\n    return this;\n  }\n\n  poster (publicId, options = {}) {\n    if (!publicId) {\n      return this._poster;\n    }\n\n    if (publicId instanceof ImageSource) {\n      this._poster = publicId;\n      return this;\n    }\n\n    ({ publicId, options } = normalizeOptions(publicId, options, { tolerateMissingId: true }));\n\n    if (!publicId) {\n      publicId = this.publicId();\n      options = assign({}, options, DEFAULT_POSTER_PARAMS);\n    }\n\n    options.cloudinaryConfig = options.cloudinaryConfig || this.cloudinaryConfig();\n    this._poster = new ImageSource(publicId, options);\n\n    return this;\n  }\n\n  contains(source) {\n    const sources = this.generateSources();\n    return sources.some((_source) => isSrcEqual(_source, source));\n  }\n\n  generateSources() {\n    if (this.isRawUrl) {\n      const type = this.sourceTypes().length > 1 ? null : this.sourceTypes()[0];\n      return [this.generateRawSource(this.publicId(), type)];\n    }\n\n    const srcs = this.sourceTypes().map((sourceType) => {\n      const srcTransformation = this.sourceTransformation()[sourceType] || this.transformation();\n      const format = normalizeFormat(sourceType);\n      const isAdaptive = (['mpd', 'm3u8'].indexOf(format) !== -1);\n      const opts = {};\n\n      if (srcTransformation) {\n        opts.transformation = castArray(srcTransformation);\n      }\n\n      assign(opts, { resource_type: 'video', format });\n\n      const [type, codecTrans] = formatToMimeTypeAndTransformation(sourceType);\n\n      // If user's transformation include video_codec then don't add another video codec to transformation\n      if (codecTrans && !isCodecAlreadyExist(opts.transformation, this._rawTransformation)) {\n        opts.transformation = mergeTransformations(opts.transformation, codecTrans);\n      }\n\n      if (opts.format === 'auto') {\n        delete opts.format;\n      }\n\n      const queryString = this.queryParams() ? objectToQuerystring(this.queryParams()) : '';\n\n      const src = this.config().url(this.publicId(), opts);\n      // if src is a url that already contains query params then replace '?' with '&'\n      const params = src.indexOf('?') > -1 ? queryString.replace('?', '&') : queryString;\n\n      return { type, src: src + params, cldSrc: this, isAdaptive: isAdaptive, withCredentials: this.withCredentials };\n    });\n\n    const isIe = typeof navigator !== 'undefined' && (/MSIE/.test(navigator.userAgent) || /Trident\\//.test(navigator.appVersion));\n\n    if (isIe) {\n      return srcs.filter(s => s.type !== 'video/mp4; codec=\"hev1.1.6.L93.B0\"');\n    } else if (vjs.browser.IS_ANY_SAFARI) {\n      // filter out dash on safari\n      return srcs.filter(s => s.type.indexOf('application/dash+xml') === -1);\n    } else {\n      return srcs;\n    }\n  }\n\n  generateRawSource(url, type) {\n    const t = type || url.split('.').pop();\n    const isAdaptive = !!CONTAINER_MIME_TYPES[t];\n    if (isAdaptive) {\n      type = CONTAINER_MIME_TYPES[t][0];\n    } else {\n      type = type ? `video/${type}` : null;\n    }\n\n    return { type, src: url, cldSrc: this, isAdaptive, withCredentials: this.withCredentials };\n  }\n\n  getInteractionAreas() {\n    return this._interactionAreas;\n  }\n}\n\nexport default VideoSource;\n","import { CONTAINER_MIME_TYPES, FORMAT_MAPPINGS } from './video-source.const';\nimport { codecShorthandTrans, codecToSrcTransformation, VIDEO_CODEC } from '../../common';\nimport { isPlainObject, isString } from '../../../../utils/type-inference';\nimport { isKeyInTransformation } from 'utils/cloudinary';\nimport { some } from '../../../../utils/array';\n\nexport function formatToMimeTypeAndTransformation(format) {\n  const [container, codec] = format.toLowerCase().split('\\/');\n  let result = CONTAINER_MIME_TYPES[container];\n  let transformation = null;\n\n  if (!result) {\n    result = [`video/${container}`, transformation];\n  }\n\n  if (codec) {\n    transformation = codecToSrcTransformation(codec);\n    result = [`${result[0]}; codecs=\"${codecShorthandTrans(codec)}\"`, transformation];\n  }\n\n  return result;\n}\n\nexport function normalizeFormat(format) {\n  format = format.toLowerCase().split('\\/').shift();\n\n  let res = FORMAT_MAPPINGS[format];\n  if (!res) {\n    res = format.split('\\/').shift();\n  }\n\n  return res;\n}\n\nconst isContainCodec = (value) => value && some(Object.values(VIDEO_CODEC), (codec) => value.includes(codec));\n\nconst hasCodecSrcTrans = (transformations) => some(['video_codec', 'streaming_profile'], (key) => isKeyInTransformation(transformations, key));\n\nexport const isCodecAlreadyExist = (transformations, rawTransformation) => {\n  if (!(transformations || rawTransformation)) {\n    return false;\n  }\n\n  if (hasCodecSrcTrans(transformations)) {\n    return true;\n  }\n\n  if (isString(rawTransformation)) {\n    return isContainCodec(rawTransformation);\n  }\n\n  return some(transformations, (transformation) => {\n    return some(transformation, (item) => isContainCodec(isPlainObject(item) ? item.video_codec : item));\n  });\n};\n","import { assign } from 'utils/assign';\nimport { playerClassPrefix } from 'utils/css-prefix';\nimport { isLight } from '../../video-player.utils';\n\nconst playerColors = `\n  .PLAYER-CLASS-PREFIX {\n    --color-accent: --accent-color;\n    --color-base: --base-color;\n    --color-text: --text-color;\n\n    color: --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-time-tooltip,\n  .PLAYER-CLASS-PREFIX .vjs-mouse-display:after,\n  .PLAYER-CLASS-PREFIX .vjs-play-progress:after {\n    color: --base-color;\n    background-color: --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-slider {\n    background-color: rgba(--accent-color, 0.3);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-load-progress,\n  .PLAYER-CLASS-PREFIX .vjs-load-progress div {\n    background: rgba(--accent-color, 0.2);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-volume-level,\n  .PLAYER-CLASS-PREFIX .vjs-play-progress {\n    background: --accent-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-volume-vertical {\n    background-color: rgba(--base-color, 0.7);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-volume-panel-horizontal .vjs-control:before {\n    border-color: transparent transparent rgba(--accent-color, 0.4) transparent;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-volume-panel-horizontal .vjs-volume-level:before {\n    border-color: transparent transparent --accent-color transparent;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-title-bar {\n    color: --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay {\n    color: --text-color;\n    background-color: rgba(--base-color, 0.4);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item {\n    box-shadow: 0 0.5em 1.2em 0px --base-color;\n    color: --text-color;\n    border: 1px solid --text-color !important;\n    position: relative;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item:active,\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item:hover {\n    border: 1px solid --accent-color !important;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-context-menu-ui .vjs-menu-content .vjs-menu-item:active,\n  .PLAYER-CLASS-PREFIX .vjs-context-menu-ui .vjs-menu-content .vjs-menu-item:hover {\n    color: --text-color;\n    background-color: --accent-color;\n  }\n\n  .PLAYER-CLASS-PREFIX.vjs-ad-playing .vjs-progress-control .vjs-play-progress {\n    background: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX.cld-plw-layout {\n    background-color: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .cld-plw-item-info-wrap {\n    color: --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .cld-plw-panel-item {\n    border-color: --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .cld-video-player-floater-close polygon {\n    fill: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .cld-spbl-product-hotspot:after {\n    background: --base-color;\n    box-shadow: 0 0 0 4px --accent-color, 0 0 0 8px rgba(--text-color, 0.24);\n  }\n\n  .PLAYER-CLASS-PREFIX .cld-spbl-product-tooltip {\n    color: --base-color;\n    background: --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .base-color-semi-bg {\n    background: rgba(--base-color, 0.7);\n  }\n\n  .PLAYER-CLASS-PREFIX .text-color-semi-bg {\n    background: rgba(--text-color, 0.7);\n  }\n\n  .PLAYER-CLASS-PREFIX .text-color-text {\n    color: --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .base-color-text {\n    color: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .accent-color-text {\n    color: --accent-color;\n  }\n`;\n\nconst darkOnlyColors = `\n\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-dark .base-color-bg,\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-dark .vjs-control-bar,\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-dark .vjs-big-play-button,\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-dark .vjs-menu-button\n  .vjs-menu-content {\n    background-color: rgba(--base-color, 0.6);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-title-bar {\n    background-image: linear-gradient(--base-color, rgba(255, 255, 255, 0) 100%);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-primary .vjs-recommendations-overlay-item-primary-content {\n    background-color: rgba(--base-color, 0.6);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-secondary div {\n    background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent 80%);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-upcoming-video {\n    border: 1px solid rgba(--text-color, 0.5);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-upcoming-video .vjs-upcoming-video-bar {\n    background-color: rgba(--base-color, 0.6);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-context-menu-ui .vjs-menu-content {\n    background-color: rgba(--base-color, 0.6);\n  }\n`;\n\nconst lightOnlyColors = `\n  .PLAYER-CLASS-PREFIX .vjs-title-bar {\n    flex-direction: row;\n    justify-content: left;\n    height: 3.6em;\n    background: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-title-bar div {\n    width: auto;\n    padding: 0 inherit;\n    margin: 0;\n  }\n\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-light .base-color-bg,\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-light .vjs-control-bar,\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-light .vjs-big-play-button,\n  .PLAYER-CLASS-PREFIX.cld-video-player-skin-light .vjs-menu-button .vjs-menu-content {\n    background-color: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-primary .vjs-recommendations-overlay-item-primary-content {\n    background-color: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-primary:active .vjs-recommendations-overlay-item-primary-content,\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-primary:hover .vjs-recommendations-overlay-item-primary-content {\n    color: --base-color;\n    background-color: rgba(--accent-color, 0.8);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-secondary:active div,\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-secondary:hover div {\n    color: --base-color;\n    background-color: rgba(--accent-color, 0.8);\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-recommendations-overlay .vjs-recommendations-overlay-item.vjs-recommendations-overlay-item-secondary div {\n    background: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-upcoming-video {\n    border: 1px solid --text-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-upcoming-video .vjs-upcoming-video-bar {\n    background-color: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .vjs-context-menu-ui .vjs-menu-content {\n    background-color: --base-color;\n  }\n\n  .PLAYER-CLASS-PREFIX .cld-plw-item-info-wrap {\n    color: --text-color;\n  }\n\n  @media only screen and (max-width: 768px) {\n    .PLAYER-CLASS-PREFIX.cld-plw-vertical .cld-plw-item-info-wrap {\n      color: --accent-color;\n    }\n  }\n`;\n\nconst defaults = {\n  colorsDark: {\n    'base': '#000000',\n    'accent': '#FF620C',\n    'text': '#FFFFFF'\n  },\n  colorsLight: {\n    'base': '#FFFFFF',\n    'accent': '#0078FF',\n    'text': '#0E2F5A'\n  }\n};\n\nexport const getDefaultPlayerColor = (options) => {\n  return isLight(options) ? defaults.colorsLight : defaults.colorsDark;\n};\n\nclass Colors {\n  constructor(player, opts = {}) {\n    this.player = player;\n\n    const skinDefaults = getDefaultPlayerColor(this.player.options_);\n\n    opts.colors = assign({}, skinDefaults, opts.colors);\n\n    this.init = () => {\n      injectCSS(parseStyles(playerColors));\n\n      if (this.player.options_.skin === 'light') {\n        injectCSS(parseStyles(lightOnlyColors));\n      } else {\n        injectCSS(parseStyles(darkOnlyColors));\n      }\n    };\n\n    const injectCSS = (css) => {\n      const style = document.createElement('style');\n      style.innerHTML = css;\n      this.player.el_.appendChild(style);\n    };\n\n    const hexToRgb = (hex) => {\n\n      // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n      const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n      hex = hex.replace(shorthandRegex, function(m, r, g, b) {\n        return r + r + g + g + b + b;\n      });\n\n      // '#0080C0' to '0, 128, 192'\n      const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n      return result\n        ? parseInt(result[1], 16) + ', ' +\n          parseInt(result[2], 16) + ', ' +\n          parseInt(result[3], 16)\n        : null;\n    };\n\n    const parseStyles = (styles) => {\n      const parsed = styles\n        // wrapper class\n        .replace(/PLAYER\\-CLASS\\-PREFIX/g, playerClassPrefix(this.player))\n        // rgba first\n        .replace(/rgba\\(\\-\\-base\\-color/g, 'rgba(' + hexToRgb(opts.colors.base))\n        .replace(/rgba\\(\\-\\-accent\\-color/g, 'rgba(' + hexToRgb(opts.colors.accent))\n        .replace(/rgba\\(\\-\\-text\\-color/g, 'rgba(' + hexToRgb(opts.colors.text))\n        // solid colors\n        .replace(/\\-\\-base\\-color/g, opts.colors.base)\n        .replace(/\\-\\-accent\\-color/g, opts.colors.accent)\n        .replace(/\\-\\-text\\-color/g, opts.colors.text);\n      return parsed;\n    };\n\n  }\n}\n\nexport default function(opts = {}) {\n  new Colors(this, opts).init();\n}\n","import videojs from 'video.js';\nimport { createElement } from 'utils/dom';\n\nconst MenuItem = videojs.getComponent('MenuItem');\n\nclass ContextMenuItem extends MenuItem {\n  handleClick() {\n    super.handleClick();\n    this.options_.listener();\n  }\n\n  createEl() {\n    const label = createElement('span', {\n      class: 'vjs-menu-item-text' + (this.options_.class ? ` ${this.options_.class}` : '')\n    });\n    label.appendChild(document.createTextNode(this.localize(this.options_.label)));\n\n    const el = createElement('li', {\n      class: 'vjs-menu-item',\n      tabIndex: -1\n    }, label);\n\n    return el;\n  }\n}\n\nexport default ContextMenuItem;\n","import videojs from 'video.js';\nimport ContextMenuItem from './context-menu-item';\nimport { setPosition } from 'utils/positioning';\nimport { isFunction } from 'utils/type-inference';\n\nconst Menu = videojs.getComponent('Menu');\n\nclass ContextMenu extends Menu {\n\n  constructor(player, options) {\n    super(player, options);\n\n    // Each menu component has its own `dispose` method that can be\n    // safely bound and unbound to events while maintaining its context.\n    this.dispose = videojs.bind(this, this.dispose);\n\n    options.content.forEach(c => {\n      let fn = null;\n\n      if (isFunction(c.listener)) {\n        fn = c.listener;\n      } else if (typeof c.href === 'string') {\n        fn = () => window.open(c.href);\n      } else {\n        fn = () => true;\n      }\n\n      const that = this;\n\n      this.addItem(new ContextMenuItem(player, {\n        label: c.label,\n        class: c.class,\n        listener: videojs.bind(player, function() {\n          fn(this);\n          window.setTimeout(() => {\n            that.dispose();\n          }, 1);\n        })\n      }));\n    });\n  }\n\n  setPosition(left, top) {\n    setPosition(this.el(), left, top);\n  }\n\n  createEl() {\n    const el = super.createEl();\n\n    videojs.dom.addClass(el, 'vjs-context-menu-ui');\n\n    if (this.options_.position) {\n      const { left, top } = this.options_.position;\n      this.setPosition(left, top);\n    }\n\n    return el;\n  }\n}\n\nexport default ContextMenu;\n","const contextMenuContent = (player) => {\n\n  const isLooping = player.loop();\n  const isPaused = player.paused();\n  const isMuted = player.muted();\n  const isFullscreen = player.isFullscreen();\n\n  const aboutMenuItem = {\n    class: 'player-version',\n    label: 'Cloudinary Player v' + VERSION\n  };\n\n  if (!player.controls()) {\n    return [aboutMenuItem];\n  }\n\n  return [\n    {\n      label: isLooping ? 'Unloop' : 'Loop',\n      listener: () => {\n        player.loop(!isLooping);\n      }\n    },\n    {\n      label: isPaused ? 'Play' : 'Pause',\n      listener: () => {\n        if (isPaused) {\n          player.play();\n        } else {\n          player.pause();\n        }\n      }\n    },\n    {\n      label: isMuted ? 'Unmute' : 'Mute',\n      listener: () => {\n        player.muted(!isMuted);\n      }\n    },\n    {\n      label: isFullscreen ? 'Exit Fullscreen' : 'Fullscreen',\n      listener: () => {\n        if (isFullscreen) {\n          player.exitFullscreen();\n        } else {\n          player.requestFullscreen();\n        }\n      }\n    },\n    aboutMenuItem\n  ];\n};\n\nexport default contextMenuContent;\n","import videojs from 'video.js';\nimport './videojs-contextmenu';\nimport './context-menu.scss';\nimport ContextMenu from './components/context-menu';\nimport { getPointerPosition } from 'utils/positioning';\nimport { sliceProperties } from 'utils/slicing';\nimport { assign } from 'utils/assign';\nimport { isFunction } from 'utils/type-inference';\n\nconst defaults = {\n  showNativeOnRecurringEvent: false\n};\n\nclass ContextMenuPlugin {\n\n  constructor(player, initOpts) {\n    if (!Array.isArray(initOpts.content) && !isFunction(initOpts.content)) {\n      throw new Error('\"content\" required');\n    }\n\n    const opts = assign({}, defaults, initOpts);\n\n    this.player = player;\n    const _options = sliceProperties(opts, 'content', 'showNativeOnRecurringEvent');\n\n    this.init = () => {\n      // If we are not already providing \"vjs-contextmenu\" events, do so.\n      this.player.contextmenu();\n      this.player.on('vjs-contextmenu', onContextMenu);\n      this.player.ready(() => this.player.addClass('vjs-context-menu'));\n    };\n\n    const getMenuPosition = (e) => {\n      // Calc menu size\n      const menuEl = this.menu.el();\n\n      // Must append to element to get bounding rect\n      menuEl.style.visibility = 'hidden';\n      this.player.el().appendChild(menuEl);\n      const menuSize = menuEl.getBoundingClientRect();\n      this.player.el().removeChild(menuEl);\n      menuEl.style.visibility = 'visible';\n\n      const ptrPosition = getPointerPosition(this.player.el(), e);\n      const playerSize = this.player.el().getBoundingClientRect();\n\n      let ptrTop = playerSize.height - (playerSize.height * ptrPosition.y) + 1;\n      let ptrLeft = Math.round(playerSize.width * ptrPosition.x) + 1;\n\n      let top = ptrTop;\n      let left = ptrLeft;\n\n      // Correct top when menu can't fit fully height-wise when pointer is at it's top left corner\n      if (ptrTop + menuSize.height > playerSize.height) {\n        let difference = ptrTop + menuSize.height - playerSize.height;\n        top = difference > menuSize.height / 2 ? ptrTop - menuSize.height - 1 : playerSize.height - menuSize.height;\n      }\n\n      // Correct left where menu can't fit fully width-wise when pointer is at it's top left corner\n      if (ptrLeft + menuSize.width > playerSize.width) {\n        let difference = ptrLeft + menuSize.width - playerSize.width;\n        left = difference > menuSize.width / 2 ? ptrLeft - menuSize.width - 1 : playerSize.width - menuSize.width;\n      }\n\n      // Correct top and left in cases that menu is positioned on the pointer\n      if (top < ptrTop && left < ptrLeft) {\n        top = ptrTop - menuSize.height - 1;\n        left = ptrLeft - menuSize.width - 1;\n      }\n\n      // Make sure that we're still in bounds after the corrections.\n      top = Math.max(0, top);\n      left = Math.max(0, left);\n\n      return { left, top };\n    };\n\n    const onContextMenu = (e) => {\n      if (this.menu) {\n        this.menu.dispose();\n        if (_options.showNativeOnRecurringEvent) {\n        // If this event happens while the custom menu is open, close it and do\n        // nothing else. This will cause native contextmenu events to be intercepted\n        // once again; so, the next time a contextmenu event is encountered, we'll\n        // open the custom menu.\n          return;\n        }\n      }\n\n      // Stop canceling the native contextmenu event until further notice.\n      if (_options.showNativeOnRecurringEvent) {\n        this.player.contextmenu.options.cancel = false;\n      }\n\n      e.preventDefault();\n\n      // Allow dynamically setting the menu labels based on player\n      let content = _options.content;\n\n      if (isFunction(content)) {\n        content = content(this.player);\n      }\n\n      this.menu = new ContextMenu(this.player, { content });\n\n      const { left, top } = getMenuPosition(e);\n      this.menu.setPosition(left, top);\n\n      // This is to handle a bug where firefox triggers both 'contextmenu' and 'click'\n      // events on rightclick, causing menu to open and then immediately close.\n      const clickHandler = (_e) => {\n        if (!(_e.type === 'click' && (_e.which === 3 || _e.button === 2))) {\n          this.menu.dispose();\n        }\n      };\n\n      this.menu.on('dispose', () => {\n        // Begin canceling contextmenu events again, so subsequent events will\n        // cause the custom menu to be displayed again.\n        this.player.contextmenu.options.cancel = true;\n        this.player.removeChild(this.menu);\n        videojs.off(document, ['click', 'tap'], clickHandler);\n        delete this.menu;\n      });\n\n      this.player.addChild(this.menu);\n      videojs.on(document, ['click', 'tap'], clickHandler);\n    };\n  }\n}\n\nexport default function(opts = {}) {\n  new ContextMenuPlugin(this, opts).init();\n}\n","/**\n * @module plugin\n */\nimport videojs from 'video.js';\n\nconst defaults = {\n  cancel: true,\n  sensitivity: 10,\n  wait: 500,\n  disabled: false\n};\n\nconst EVENT_NAME = 'vjs-contextmenu';\n\n/**\n * Abstracts a DOM standard event into a vjs-contextmenu event.\n *\n * @private\n * @param  {Player} player\n * @param  {Event} event\n *         A triggering, native event.\n * @return {Player}\n */\nfunction sendAbstractedEvent(player, event) {\n  if (player.contextmenu.options.disabled) {\n    // videojs-contextmenu is disabled\n    return player;\n  }\n  const abstracted = {\n    target: player,\n    type: EVENT_NAME\n  };\n\n  [\n    'clientX',\n    'clientY',\n    'pageX',\n    'pageY',\n    'screenX',\n    'screenY'\n  ].forEach(k => {\n    abstracted[k] = event[k];\n  });\n\n  return player.trigger(abstracted);\n}\n\n/**\n * Handles both touchcancel and touchend events.\n *\n * @private\n * @param  {Event} e\n */\nfunction handleTouchEnd(e) {\n  const current = this.contextmenu.current;\n\n  if (!current) {\n    return;\n  }\n\n  const wait = this.contextmenu.options.wait;\n\n  if (e.type === 'touchend' && new Date().getTime() - current.time >= wait) {\n    sendAbstractedEvent(this, e);\n  }\n\n  this.contextmenu.current = null;\n}\n\n/**\n * Handles touchmove events.\n *\n * @private\n * @param  {Event} e\n */\nfunction handleTouchMove(e) {\n  const current = this.contextmenu.current;\n\n  if (!current) {\n    return;\n  }\n\n  const touch = e.touches[0];\n  const sensitivity = this.contextmenu.options.sensitivity;\n\n  // Cancel the current touch if the pointer has moved in either direction\n  // more than the sensitivity number of pixels.\n  if (\n    touch.screenX - current.screenX > sensitivity ||\n    touch.screenY - current.screenY > sensitivity\n  ) {\n    this.contextmenu.current = null;\n  }\n}\n\n/**\n * Handles touchstart events.\n *\n * @private\n * @param  {Event} e\n */\nfunction handleTouchStart(e) {\n\n  // We only care about the first touch point.\n  if (this.contextmenu.current) {\n    return;\n  }\n\n  const touch = e.touches[0];\n\n  this.contextmenu.current = {\n    screenX: touch.screenX,\n    screenY: touch.screenY,\n    time: new Date().getTime()\n  };\n}\n\n/**\n * Handles contextmenu events.\n *\n * @private\n * @param  {Event} e\n */\nfunction handleContextMenu(e) {\n  if (this.contextmenu.options.cancel && !this.contextmenu.options.disabled) {\n    e.preventDefault();\n  }\n\n  sendAbstractedEvent(this, e);\n\n  // If we get a \"contextmenu\" event, we can rely on that going forward\n  // because this client supports it; so, we can stop listening for\n  // touch events.\n  this.off(['touchcancel', 'touchend'], handleTouchEnd);\n  this.off('touchmove', handleTouchMove);\n  this.off('touchstart', handleTouchStart);\n}\n\n/**\n * A cross-device context menu implementation for video.js players.\n *\n * @param    {Object}  [options={}]\n * @param    {Boolean} [cancel=true]\n *           Whether or not to cancel the native \"contextmenu\" event when\n *           it is seen.\n *\n * @param    {Number} [sensitivity=10]\n *           The maximum number of pixels a finger can move because a touch\n *           is no longer considered to be \"held\".\n *\n * @param    {Number} [wait=500]\n *           The minimum number of milliseconds a touch must be \"held\" before\n *           it registers.\n */\nfunction contextmenu(options) {\n  this.contextmenu.options = videojs.mergeOptions(defaults, options);\n\n  this.on('contextmenu', handleContextMenu);\n  this.on(['touchcancel', 'touchend'], handleTouchEnd);\n  this.on('touchmove', handleTouchMove);\n  this.on('touchstart', handleTouchStart);\n\n  this.ready(() => this.addClass(EVENT_NAME));\n}\n\nvideojs.registerPlugin('contextmenu', contextmenu);\n\nexport default contextmenu;","import { isElementInViewport } from 'utils/positioning';\nimport { sliceProperties } from 'utils/slicing';\nimport { assign } from 'utils/assign';\nimport './floating-player.scss';\nimport { FLOATING_TO } from '../../video-player.const';\n\nconst defaults = {\n  fraction: 0.5,\n  collapsedWidth: 300,\n  floatTo: 'right'\n};\n\nclass FloatingPlayer {\n\n  constructor(player, opts = {}) {\n    opts = assign({}, defaults, opts);\n    // Handle non left-right values.\n    if (opts.floatTo && opts.floatTo !== FLOATING_TO.LEFT && opts.floatTo !== FLOATING_TO.RIGHT) {\n      opts.floatTo = defaults.floatTo;\n    }\n\n    this.player = player;\n    const el = this.player.el();\n    let _options = sliceProperties(opts, 'fraction');\n    let _floater = null;\n    let _isFloated = false;\n    let _isFloaterPositioned = false;\n\n    this.init = () => {\n      registerEventHandlers();\n\n      if (typeof this.player.ima === 'object') {\n        creatFloaterElement();\n      }\n    };\n\n    const wrapInner = (parent) => {\n      const wrapper = document.createElement('div');\n      parent.appendChild(wrapper);\n      while (parent.firstChild !== wrapper) {\n        wrapper.appendChild(parent.firstChild);\n      }\n      return wrapper;\n    };\n\n    const removeWindowEventHandlers = () => {\n      window.removeEventListener('DOMContentLoaded', checkViewportState, false);\n      window.removeEventListener('load', checkViewportState, false);\n      window.removeEventListener('scroll', checkViewportState, false);\n      window.removeEventListener('resize', checkViewportState, false);\n    };\n\n    const addWindowEventHandlers = () => {\n      window.addEventListener('DOMContentLoaded', checkViewportState, false);\n      window.addEventListener('load', checkViewportState, false);\n      window.addEventListener('scroll', checkViewportState, false);\n      window.addEventListener('resize', checkViewportState, false);\n    };\n\n    const registerEventHandlers = () => {\n      this.player.on('play', checkViewportState);\n      this.player.on('play', addWindowEventHandlers);\n      this.player.on('dispose', removeWindowEventHandlers);\n    };\n\n    const positionFloater = () => {\n      const elRect = el.getBoundingClientRect();\n      _floater.setAttribute('class', `cld-video-player-floater cld-video-player-floater-bottom-${opts.floatTo}`);\n\n      _floater.setAttribute('style', [\n        'width: ' + opts.collapsedWidth + 'px;',\n        'top: ' + elRect.top + 'px;',\n        'left: ' + elRect.left + 'px;',\n        'right: ' + (document.documentElement.clientWidth - elRect.right) + 'px;',\n        'bottom: ' + (document.documentElement.clientHeight - elRect.bottom) + 'px;'\n      ].join(''));\n\n      _isFloaterPositioned = true;\n    };\n\n    const creatFloaterElement = () => {\n      const elRect = el.getBoundingClientRect();\n      _floater = wrapInner(el);\n\n      const inner = wrapInner(_floater);\n      inner.setAttribute('class', 'cld-video-player-floater-inner');\n      inner.setAttribute('style', 'padding-bottom: ' + (100 * elRect.height / elRect.width) + '%;');\n\n      const close = document.createElement('button');\n      close.setAttribute('class', 'cld-video-player-floater-close');\n      close.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\"><polygon fill-rule=\"evenodd\" points=\"370 7.41 368.59 6 364 10.59 359.41 6 358 7.41 362.59 12 358 16.59 359.41 18 364 13.41 368.59 18 370 16.59 365.41 12\" transform=\"translate(-358 -6)\"/></svg>';\n      close.onclick = () => {\n        unFloat();\n        disable();\n      };\n\n      _floater.appendChild(close);\n    };\n\n    const setAdSize = () => {\n      const { ima } = this.player;\n      if (ima && ima.adsActive) {\n        const adsManager = ima.getAdsManager();\n\n        adsManager.resize(\n          _isFloated ? _floater.clientWidth : el.clientWidth,\n          _isFloated ? _floater.clientHeight : el.clientHeight\n        );\n      }\n    };\n\n    const float = () => {\n\n      if (!_floater) {\n        creatFloaterElement();\n      }\n\n      if (!_isFloaterPositioned) {\n        positionFloater();\n      }\n\n      _isFloated = true;\n\n      setTimeout(() => {\n        _floater.classList.add('cld-video-player-floating');\n        setAdSize();\n      });\n    };\n\n    const unFloat = () => {\n      _floater.classList.remove('cld-video-player-floating');\n      _isFloated = false;\n      setAdSize();\n    };\n\n    const disable = () => {\n      removeWindowEventHandlers();\n      this.player.off('play', checkViewportState);\n      this.player.off('play', addWindowEventHandlers);\n    };\n\n    const checkViewportState = () => {\n      const visible = isElementInViewport(this.player.el(), { fraction: _options.fraction });\n      if (visible) {\n        if (_isFloated) {\n          unFloat();\n        }\n      } else if (!_isFloated) {\n        float();\n      }\n    };\n  }\n}\n\nexport default function(opts = {}) {\n  new FloatingPlayer(this, opts).init();\n}\n","// #if (!process.env.WEBPACK_BUILD_LIGHT)\n// import 'videojs-contrib-ads';\n// import './ima';\n// import dashPlugin from './dash';\n// import interactive from './interactive-plugin';\n// import './videojs-http-source-selector/plugin';\n// #endif\n\nimport autoplayOnScroll from './autoplay-on-scroll';\nimport floatingPlayer from './floating-player';\nimport colors from './colors';\nimport contextMenu from './context-menu';\nimport cloudinary from './cloudinary';\nimport analytics from './analytics';\nimport cloudinaryAnalytics from './cloudinary-analytics';\nimport vttThumbnails from './vtt-thumbnails';\n\nconst plugins = {\n  autoplayOnScroll,\n  floatingPlayer,\n  colors,\n  contextMenu,\n  cloudinary,\n  analytics,\n  cloudinaryAnalytics,\n  vttThumbnails,\n  // #if (!process.env.WEBPACK_BUILD_LIGHT)\n//   interactive,\n//   dashPlugin\n  // #endif\n};\n\nexport default plugins;\n","import videojs from 'video.js';\n\nimport './vtt-thumbnails.scss';\n\n// Default options for the plugin.\nlet defaults = {};\n\n// Cache for image elements\nlet cache = {};\n\n/**\n * Function to invoke when the player is ready.\n *\n * This is a great place for your plugin to initialize itself. When this\n * function is called, the player will have its DOM and child components\n * in place.\n *\n * @function onPlayerReady\n * @param    {Player} player\n *           A Video.js player object.\n *\n * @param    {Object} [options={}]\n *           A plain object containing options for the plugin.\n */\nconst onPlayerReady = function onPlayerReady(player, options) {\n  player.addClass('vjs-vtt-thumbnails');\n  player.vttThumbnails = new VttThumbnailsPlugin(player, options);\n};\n\n/**\n * A video.js plugin.\n *\n * In the plugin function, the value of `this` is a video.js `Player`\n * instance. You cannot rely on the player being in a \"ready\" state here,\n * depending on how the plugin is invoked. This may or may not be important\n * to you; if not, remove the wait for \"ready\"!\n *\n * @function vttThumbnails\n * @param    {Object} [options={}]\n *           An object of options left to the plugin author to define.\n */\nconst vttThumbnails = function vttThumbnails(options) {\n  let _this = this;\n\n  this.ready(function () {\n    onPlayerReady(_this, videojs.mergeOptions(defaults, options));\n  });\n};\n\n/**\n * VTT Thumbnails class.\n *\n * This class performs all functions related to displaying the vtt\n * thumbnails.\n */\nconst VttThumbnailsPlugin = (function () {\n\n  /**\n   * Plugin class constructor, called by videojs on\n   * ready event.\n   *\n   * @function  constructor\n   * @param    {Player} player\n   *           A Video.js player object.\n   *\n   * @param    {Object} [options={}]\n   *           A plain object containing options for the plugin.\n   */\n  function VttThumbnailsPlugin(player, options) {\n    this.player = player;\n    this.options = options;\n    this.listenForDurationChange();\n    this.initializeThumbnails();\n    this.registeredEvents = {};\n    return this;\n  }\n\n  VttThumbnailsPlugin.prototype.src = function src(source) {\n    this.resetPlugin();\n    this.options.src = source;\n    this.initializeThumbnails();\n  };\n\n  VttThumbnailsPlugin.prototype.detach = function detach() {\n    this.resetPlugin();\n  };\n\n  VttThumbnailsPlugin.prototype.resetPlugin = function resetPlugin() {\n    if (this.thumbnailHolder) {\n      this.thumbnailHolder.parentNode.removeChild(this.thumbnailHolder);\n    }\n    if (this.progressBar) {\n      this.progressBar.removeEventListener(\n        'mouseenter',\n        this.registeredEvents.progressBarMouseEnter\n      );\n      this.progressBar.removeEventListener(\n        'mouseleave',\n        this.registeredEvents.progressBarMouseLeave\n      );\n      this.progressBar.removeEventListener(\n        'mousemove',\n        this.registeredEvents.progressBarMouseMove\n      );\n    }\n    delete this.registeredEvents.progressBarMouseEnter;\n    delete this.registeredEvents.progressBarMouseLeave;\n    delete this.registeredEvents.progressBarMouseMove;\n    delete this.progressBar;\n    delete this.vttData;\n    delete this.thumbnailHolder;\n    delete this.lastStyle;\n  };\n\n  VttThumbnailsPlugin.prototype.listenForDurationChange = function listenForDurationChange() {\n    this.player.on('durationchange', function () {\n      // ToDo\n    });\n  };\n\n  /**\n   * Bootstrap the plugin.\n   */\n\n  VttThumbnailsPlugin.prototype.initializeThumbnails = function initializeThumbnails() {\n    let _this2 = this;\n\n    if (!this.options.src) {\n      return;\n    }\n    let baseUrl = this.getBaseUrl();\n    let url = this.getFullyQualifiedUrl(this.options.src, baseUrl);\n\n    this.getVttFile(url).then(function (data) {\n      _this2.vttData = _this2.processVtt(data);\n      _this2.setupThumbnailElement();\n    });\n  };\n\n  /**\n   * Builds a base URL should we require one.\n   *\n   * @returns {string}\n   */\n\n  VttThumbnailsPlugin.prototype.getBaseUrl = function getBaseUrl() {\n    return [\n      window.location.protocol,\n      '//',\n      window.location.hostname,\n      window.location.port ? ':' + window.location.port : '',\n      window.location.pathname\n    ]\n      .join('')\n      .split(/([^\\/]*)$/gi)\n      .shift();\n  };\n\n  /**\n   * Grabs the contents of the VTT file.\n   *\n   * @param url\n   * @returns {Promise}\n   */\n\n  VttThumbnailsPlugin.prototype.getVttFile = function getVttFile(url) {\n    let _this3 = this;\n\n    return new Promise(function (resolve) {\n      let req = new XMLHttpRequest();\n      req.data = {\n        resolve: resolve\n      };\n      req.addEventListener('load', _this3.vttFileLoaded);\n      req.open('GET', url);\n      req.send();\n    });\n  };\n\n  /**\n   * Callback for loaded VTT file.\n   */\n\n  VttThumbnailsPlugin.prototype.vttFileLoaded = function vttFileLoaded() {\n    this.data.resolve(this.responseText);\n  };\n\n  VttThumbnailsPlugin.prototype.setupThumbnailElement = function setupThumbnailElement() {\n    let _this4 = this;\n\n    let mouseDisplay = this.player.$('.vjs-mouse-display');\n    this.progressBar = this.player.$('.vjs-progress-control');\n    let thumbHolder = document.createElement('div');\n    thumbHolder.setAttribute('class', 'vjs-vtt-thumbnail-display');\n    this.progressBar.appendChild(thumbHolder);\n    this.thumbnailHolder = thumbHolder;\n    let timeHolder = document.createElement('div');\n    timeHolder.setAttribute('class', 'vjs-vtt-time-display');\n    this.thumbnailHolder.appendChild(timeHolder);\n    this.timeHolder = timeHolder;\n    if (mouseDisplay) {\n      mouseDisplay.classList.add('vjs-hidden');\n    }\n    this.registeredEvents.progressBarMouseEnter = function () {\n      return _this4.onBarMouseenter();\n    };\n    this.registeredEvents.progressBarMouseLeave = function () {\n      return _this4.onBarMouseleave();\n    };\n    this.progressBar.addEventListener(\n      'mouseenter',\n      this.registeredEvents.progressBarMouseEnter\n    );\n    this.progressBar.addEventListener(\n      'mouseleave',\n      this.registeredEvents.progressBarMouseLeave\n    );\n  };\n\n  VttThumbnailsPlugin.prototype.onBarMouseenter = function onBarMouseenter() {\n    let _this5 = this;\n\n    if (this.progressBar.offsetWidth < 400) {\n      // Don't show in small players\n      return;\n    }\n\n    this.mouseMoveCallback = function (e) {\n      _this5.onBarMousemove(e);\n    };\n    this.registeredEvents.progressBarMouseMove = this.mouseMoveCallback;\n    this.progressBar.addEventListener(\n      'mousemove',\n      this.registeredEvents.progressBarMouseMove\n    );\n    this.showThumbnailHolder();\n  };\n\n  VttThumbnailsPlugin.prototype.onBarMouseleave = function onBarMouseleave() {\n    if (this.registeredEvents.progressBarMouseMove) {\n      this.progressBar.removeEventListener(\n        'mousemove',\n        this.registeredEvents.progressBarMouseMove\n      );\n    }\n    this.hideThumbnailHolder();\n  };\n\n  VttThumbnailsPlugin.prototype.getXCoord = function getXCoord(bar, mouseX) {\n    let rect = bar.getBoundingClientRect();\n    let docEl = document.documentElement;\n    return (\n      mouseX - (rect.left + (window.pageXOffset || docEl.scrollLeft || 0))\n    );\n  };\n\n  VttThumbnailsPlugin.prototype.onBarMousemove = function onBarMousemove(\n    event\n  ) {\n    this.updateThumbnailStyle(\n      videojs.dom.getPointerPosition(this.progressBar, event).x,\n      this.progressBar.offsetWidth\n    );\n  };\n\n  VttThumbnailsPlugin.prototype.getStyleForTime = function getStyleForTime(\n    time\n  ) {\n    for (let i = 0; i < this.vttData.length; ++i) {\n      let item = this.vttData[i];\n      if (time >= item.start && time < item.end) {\n        // Cache miss\n        if (item.css.url && !cache[item.css.url]) {\n          let image = new Image();\n          image.src = item.css.url;\n          cache[item.css.url] = image;\n        }\n\n        return item.css;\n      }\n    }\n  };\n\n  VttThumbnailsPlugin.prototype.showThumbnailHolder = function showThumbnailHolder() {\n    this.thumbnailHolder.style.opacity = '1';\n  };\n\n  VttThumbnailsPlugin.prototype.hideThumbnailHolder = function hideThumbnailHolder() {\n    this.thumbnailHolder.style.opacity = '0';\n  };\n\n  VttThumbnailsPlugin.prototype.updateThumbnailStyle = function updateThumbnailStyle(\n    percent,\n    width\n  ) {\n    let duration = this.player.duration();\n    let time = percent * duration;\n    let currentStyle = this.getStyleForTime(time);\n\n    if (!currentStyle) {\n      return this.hideThumbnailHolder();\n    }\n\n    let xPos = percent * width;\n    let thumbnailWidth = parseInt(currentStyle.width, 10);\n    let halfthumbnailWidth = thumbnailWidth / 2;\n    let marginRight = width - (xPos + halfthumbnailWidth);\n    let marginLeft = xPos - halfthumbnailWidth;\n    if (marginLeft > 0 && marginRight > 0) {\n      this.thumbnailHolder.style.transform =\n        'translateX(' + (xPos - halfthumbnailWidth) + 'px)';\n    } else if (marginLeft <= 0) {\n      this.thumbnailHolder.style.transform = 'translateX(' + 0 + 'px)';\n    } else if (marginRight <= 0) {\n      this.thumbnailHolder.style.transform =\n        'translateX(' + (width - thumbnailWidth) + 'px)';\n    }\n\n    this.timeHolder.innerHTML = this.getTimestampFromSeconds(time);\n\n    if (this.lastStyle && this.lastStyle === currentStyle) {\n      return;\n    }\n    this.lastStyle = currentStyle;\n\n    for (let style in currentStyle) {\n      if (Object.prototype.hasOwnProperty.call(currentStyle, style)) {\n        this.thumbnailHolder.style[style] = currentStyle[style];\n      }\n    }\n  };\n\n  VttThumbnailsPlugin.prototype.processVtt = function processVtt(data) {\n    let _this6 = this;\n\n    let processedVtts = [];\n    let vttDefinitions = data.split(/[\\r\\n][\\r\\n]/i);\n    vttDefinitions.forEach(function (vttDef) {\n      if (\n        vttDef.match(\n          /([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?( ?--> ?)([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?[\\r\\n]{1}.*/gi\n        )\n      ) {\n        let vttDefSplit = vttDef.split(/[\\r\\n]/i);\n        let vttTiming = vttDefSplit[0];\n        let vttTimingSplit = vttTiming.split(/ ?--> ?/i);\n        let vttTimeStart = vttTimingSplit[0];\n        let vttTimeEnd = vttTimingSplit[1];\n\n        let vttImageFullPath = vttDefSplit[1];\n        let vttImageDef = vttImageFullPath.split('\\/').pop();\n        let vttCssDef = _this6.getVttCss(vttImageDef);\n\n        processedVtts.push({\n          start: _this6.getSecondsFromTimestamp(vttTimeStart),\n          end: _this6.getSecondsFromTimestamp(vttTimeEnd),\n          css: vttCssDef\n        });\n      }\n    });\n    return processedVtts;\n  };\n\n  VttThumbnailsPlugin.prototype.getFullyQualifiedUrl = function getFullyQualifiedUrl(\n    path,\n    base\n  ) {\n    // ToDo: remove this? also remove trim?\n    if (path.indexOf('//') >= 0) {\n      // We have a fully qualified path.\n      return path;\n    } else if (base.indexOf('//') === 0) {\n      // We don't have a fully qualified path, but need to\n      // be careful with trimming.\n      return [base.replace(/\\/$/gi, ''), this.trim(path, '/')].join('/');\n    } else if (base.indexOf('//') > 0) {\n      // We don't have a fully qualified path, and should\n      // trim both sides of base and path.\n      return [this.trim(base, '/'), this.trim(path, '/')].join('/');\n    }\n\n    // If all else fails.\n    return path;\n  };\n\n  VttThumbnailsPlugin.prototype.getPropsFromDef = function getPropsFromDef(\n    def\n  ) {\n    let imageDefSplit = def.split(/#xywh=/i);\n    let imageUrl = imageDefSplit[0];\n    let imageCoords = imageDefSplit[1];\n    let splitCoords = imageCoords.match(/[0-9]+/gi);\n    return {\n      x: splitCoords[0],\n      y: splitCoords[1],\n      w: splitCoords[2],\n      h: splitCoords[3],\n      image: imageUrl\n    };\n  };\n\n  VttThumbnailsPlugin.prototype.getVttCss = function getVttCss(vttImageDef) {\n    let cssObj = {};\n\n    // If there isn't a protocol, use the VTT source URL.\n    let baseSplit = '';\n    if (this.options.src.indexOf('//') >= 0) {\n      baseSplit = this.options.src.split(/([^\\/]*)$/gi).shift();\n    } else {\n      baseSplit =\n        this.getBaseUrl() + this.options.src.split(/([^\\/]*)$/gi).shift();\n    }\n\n    vttImageDef = this.getFullyQualifiedUrl(vttImageDef, baseSplit);\n\n    if (!vttImageDef.match(/#xywh=/i)) {\n      cssObj.background = 'url(\"' + vttImageDef + '\")';\n      return cssObj;\n    }\n\n    let imageProps = this.getPropsFromDef(vttImageDef);\n    cssObj.background =\n      'url(\"' +\n      imageProps.image +\n      '\") no-repeat -' +\n      imageProps.x +\n      'px -' +\n      imageProps.y +\n      'px';\n    cssObj.width = imageProps.w + 'px';\n    cssObj.height = imageProps.h + 'px';\n    cssObj.url = imageProps.image;\n\n    return cssObj;\n  };\n\n  VttThumbnailsPlugin.prototype.doconstructTimestamp = function doconstructTimestamp(\n    timestamp\n  ) {\n    let splitStampMilliseconds = timestamp.split('.');\n    let timeParts = splitStampMilliseconds[0];\n    let timePartsSplit = timeParts.split(':');\n    return {\n      milliseconds: parseInt(splitStampMilliseconds[1], 10) || 0,\n      seconds: parseInt(timePartsSplit.pop(), 10) || 0,\n      minutes: parseInt(timePartsSplit.pop(), 10) || 0,\n      hours: parseInt(timePartsSplit.pop(), 10) || 0\n    };\n  };\n\n  VttThumbnailsPlugin.prototype.getSecondsFromTimestamp = function getSecondsFromTimestamp(\n    timestamp\n  ) {\n    let timestampParts = this.doconstructTimestamp(timestamp);\n    return parseInt(\n      timestampParts.hours * (60 * 60) +\n      timestampParts.minutes * 60 +\n      timestampParts.seconds +\n      timestampParts.milliseconds / 1000\n      , 10);\n  };\n\n  VttThumbnailsPlugin.prototype.getTimestampFromSeconds = function getTimestampFromSeconds(\n    totalSeconds\n  ) {\n    let minutes = Math.floor(totalSeconds / 60);\n    let seconds = Math.floor(totalSeconds % 60);\n    if (seconds < 10) {\n      seconds = '0' + seconds;\n    }\n    return minutes + ':' + seconds;\n  };\n\n  VttThumbnailsPlugin.prototype.trim = function trim(str, charlist) {\n    let whitespace = [\n      ' ',\n      '\\n',\n      '\\r',\n      '\\t',\n      '\\f',\n      '\\x0b',\n      '\\xa0',\n      '\\u2000',\n      '\\u2001',\n      '\\u2002',\n      '\\u2003',\n      '\\u2004',\n      '\\u2005',\n      '\\u2006',\n      '\\u2007',\n      '\\u2008',\n      '\\u2009',\n      '\\u200A',\n      '\\u200B',\n      '\\u2028',\n      '\\u2029',\n      '\\u3000'\n    ].join('');\n    let l = 0;\n    let i = 0;\n    str += '';\n    if (charlist) {\n      whitespace = (charlist + '').replace(/([[\\]().?/*{}+$^:])/g, '$1');\n    }\n    l = str.length;\n    for (i = 0; i < l; i++) {\n      if (whitespace.indexOf(str.charAt(i)) === -1) {\n        str = str.substring(i);\n        break;\n      }\n    }\n    l = str.length;\n    for (i = l - 1; i >= 0; i--) {\n      if (whitespace.indexOf(str.charAt(i)) === -1) {\n        str = str.substring(0, i + 1);\n        break;\n      }\n    }\n    return whitespace.indexOf(str.charAt(0)) === -1 ? str : '';\n  };\n\n  return VttThumbnailsPlugin;\n}());\n\nexport default vttThumbnails;\n","import { isPlainObject } from 'utils/type-inference';\nimport { camelize } from 'utils/string';\nimport { parseISO8601 } from 'utils/time';\n\nconst TIME_FIELDS = ['created_at', 'updated_at'];\n\nconst normalizeJsonResponse = (obj) => {\n  const agg = {};\n\n  if (isPlainObject(obj)) {\n    Object.keys(obj).reduce((agg, key) => {\n      const newKey = camelize(key);\n\n      if (TIME_FIELDS.indexOf(key) !== -1) {\n        agg[newKey] = new Date(parseISO8601(obj[key]));\n      } else {\n        agg[newKey] = normalizeJsonResponse(obj[key]);\n      }\n\n      return agg;\n    }, agg);\n\n    return agg;\n  } else if (Array.isArray(obj)) {\n    return obj.map((item) => normalizeJsonResponse(item));\n  } else {\n    return obj;\n  }\n};\n\n\nexport { normalizeJsonResponse };\n","import { assign } from './assign';\nimport { isFunction } from './type-inference';\n\nfunction applyWithProps(context, obj, { order = null } = {}) {\n  let _obj = obj;\n\n  const apply = (key) => {\n    const value = obj[key];\n    if (value === undefined) {\n      return;\n    }\n\n    if (context[key] && isFunction(context[key])) {\n      context[key](value);\n    }\n  };\n\n  if (order) {\n    _obj = assign({}, obj);\n\n    order.forEach((key) => {\n      apply(key);\n      delete _obj[key];\n    });\n  }\n\n  Object.keys(_obj).forEach((key => {\n    apply(key);\n  }));\n}\n\nexport { applyWithProps };\n","\nexport const castArray = (value) => Array.isArray(value) ? value : [value];\n\nexport const forEach = (value, callback) => {\n  if (Array.isArray(value) && value.length) {\n    value.forEach(callback);\n  }\n};\n\nexport const some = (value, callback) => {\n  if (Array.isArray(value) && value.length) {\n    return value.some(callback);\n  }\n\n  return false;\n};\n\nexport const map = (value, callback) => {\n  if (Array.isArray(value) && value.length) {\n    return value.map(callback);\n  }\n};\n","/**\n * Object.assign-style object shallow merge/extend.\n *\n * @param  {Object} target\n * @param  {Object} ...sources\n * @return {Object}\n */\nfunction assign(target, ...sources) {\n  if (Object.assign) {\n    return Object.assign(target, ...sources);\n  }\n\n  sources.forEach(source => {\n    if (!source) {\n      return;\n    }\n\n    Object.keys(source).forEach((key) => {\n      const value = source[key];\n      target[key] = value;\n    });\n  });\n\n  return target;\n}\n\nexport { assign };\n","import { camelize } from './string';\n\nconst CLD_ATTR_REGEX = /^(data-cld-)(\\w+)/;\n\nconst normalizers = {};\n\nfunction coerce(string) {\n  let val = null;\n\n  // Boolean\n  if (string === '') {\n    return true;\n  }\n\n  // Complex object\n  try {\n    val = JSON.parse(string);\n  } catch (e) {\n    // Continue execution in case str is not parsable\n  }\n  if (val) {\n    return val;\n  }\n\n  // Number\n  val = Number(string);\n  if (val) {\n    return val;\n  }\n\n  // TODO: Parse date?\n  //\n  return string;\n}\n\nconst normalizeDefault = (value) => coerce(value);\n\nconst normalizeAttributes = (elem) => {\n  const obj = {};\n\n  if (elem && elem.attributes && elem.attributes.length > 0) {\n    const attrs = elem.attributes;\n\n    for (let i = attrs.length - 1; i >= 0; i--) {\n      let attrName = attrs[i].name;\n      let attrVal = attrs[i].value;\n\n      if (attrName.match(CLD_ATTR_REGEX)) {\n        attrName = camelize(attrName.replace(CLD_ATTR_REGEX, '$2'));\n      }\n\n      // check for known booleans\n      // the matching element property will return a value for typeof\n      // if (typeof elem[attrName] === 'boolean' || KNOWN_BOOLEANS[attrName]) {\n      if (typeof elem[attrName] === 'boolean') {\n        // the value of an included boolean attribute is typically an empty\n        // string ('') which would equal false if we just check for a false value.\n        // we also don't want support bad code like autoplay='false'\n        attrVal = (attrVal !== null);\n      } else {\n        const normalizer = normalizers[attrName] || normalizeDefault;\n        attrVal = normalizer(attrVal);\n      }\n\n      obj[attrName] = attrVal;\n    }\n  }\n\n  return obj;\n};\n\nexport { normalizeAttributes };\n","import { cloudinaryErrorsConverter, ERROR_CODE } from '../plugins/cloudinary/common';\nimport { find } from 'utils/find';\n\nconst GET_ERROR_DEFAULT_REQUEST = { method: 'head' };\nconst ERROR_WITH_GET_REQUEST = { method: 'get', credentials: 'include', headers: { 'Content-Range': 'bytes=0-0' } };\n\n\nconst getGoodSrcs = (srcs, parsedUris) => {\n  return srcs.filter((s) => {\n    const origUrl = parseUri(s.src);\n    return parsedUris.indexOf(origUrl.host + origUrl.path) !== -1 && s.try !== true;\n  });\n};\n\nconst getParsedUris = (res) => {\n  return res.reduce((acc, r) => {\n    if (r.status >= 200 && r.status < 399 && r.url !== '') {\n      const parsedUri = parseUri(r.url);\n      acc.push(parsedUri.host + parsedUri.path);\n    }\n\n    return acc;\n  }, []);\n};\n\nconst setError = (that, res) => {\n  that.videojs.error(cloudinaryErrorsConverter({\n    errorMsg: res.headers.get('x-cld-error') || '',\n    publicId: that.currentPublicId(),\n    cloudName: that.cloudinaryConfig().cloud_name,\n    error: res,\n    statusCode: res.status\n  }));\n};\n\nconst setVideoSrc = (that, srcs) => {\n  console.log('Trying urls: ' + JSON.stringify(srcs));\n  srcs.forEach(s => {\n    s.try = true;\n  });\n  that.videojs.autoplay(that.videojs.autoplay() || that.playWasCalled);\n  that.videojs.src(srcs);\n};\n\nconst handleCldError = (that, options) => {\n  const opts = options.fetchErrorUsingGet ? ERROR_WITH_GET_REQUEST : GET_ERROR_DEFAULT_REQUEST;\n  const srcs = that.videojs.cloudinary.getCurrentSources();\n\n  if (srcs.length > 0) {\n    Promise.all(srcs.map((s) => fetch(s.src, opts))).then((res) => {\n      const parsedUris = getParsedUris(res);\n      const firstRes = res[0];\n      if (!parsedUris.length) {\n        setError(that, firstRes);\n      } else {\n        const goodSrcs = getGoodSrcs(srcs, parsedUris);\n\n        if (goodSrcs && goodSrcs.length) {\n          setVideoSrc(that, goodSrcs);\n        } else {\n          console.log('No urls left to try so stopping');\n          that.videojs.error({ code: ERROR_CODE.NO_SUPPORTED_MEDIA, message: 'No supported media sources', statusCode: res.status });\n        }\n      }\n    })\n      .catch(error => {\n        that.videojs.error({\n          code: 7,\n          message: error && error.message ? error.message : 'Failed to test sources'\n        });\n      });\n  } else {\n    that.videojs.error({ code: ERROR_CODE.NO_SUPPORTED_MEDIA, message: 'No supported media sources' });\n  }\n};\n\n// for IE 11\nfunction parseUri(str) {\n  const o = {\n    strictMode: false,\n    key: ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'],\n    q: {\n      name: 'queryKey',\n      parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n    },\n    parser: {\n      strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n      loose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n    }\n  };\n  const m = o.parser[o.strictMode ? 'strict' : 'loose'].exec(str);\n  const uri = {};\n  let i = 14;\n\n  while (i--) {\n    uri[o.key[i]] = m[i] || '';\n  }\n\n  uri[o.q.name] = {};\n  uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n    if ($1) {\n      uri[o.q.name][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\n/**\n * Check if key exist in transformation\n * @param transformation\n * @param key\n * @returns true if key exists in transformation, false otherwise\n */\nconst isKeyInTransformation = (transformation, key) => {\n  if (!transformation || !key) {\n    return false;\n  }\n\n  // transformation is an array so run this function for each item\n  if (Array.isArray(transformation)) {\n    return !!find(transformation, (t) => isKeyInTransformation(t, key));\n  }\n\n  // transformation is a Transformation object so use getValue() to check key\n  if (transformation.getValue) {\n    return !!transformation.getValue(key);\n  }\n\n  // transformation is an Object so just check for key existence in object\n  return !!transformation[key];\n};\n\nconst filterAndAddTextTracks = (tracks, videojs) => {\n  tracks.forEach(track => {\n    fetch(track.src, GET_ERROR_DEFAULT_REQUEST).then(r => {\n      if (r.status >= 200 && r.status <= 399) {\n        videojs.addRemoteTextTrack(track, true);\n      }\n    });\n  });\n};\n\nexport {\n  handleCldError,\n  isKeyInTransformation,\n  filterAndAddTextTracks\n};\n","export const PLAYER_EVENT = {\n  PLAY: 'play',\n  PLAYING: 'playing',\n  PAUSE: 'pause',\n  SEEK: 'seek',\n  SEEKING: 'seeking',\n  MUTE: 'mute',\n  UNMUTE: 'unmute',\n  PAUSE_NO_SEEK: 'pausenoseek',\n  ERROR: 'error',\n  TIME_UPDATE: 'timeupdate',\n  RETRY_PLAYLIST: 'retryplaylist',\n  CAN_PLAY_THROUGH: 'canplaythrough',\n  CLD_SOURCE_CHANGED: 'cldsourcechanged',\n  SOURCE_CHANGED: 'sourcechanged',\n  LOADED_METADATA: 'loadedmetadata',\n  LOADED_DATA: 'loadeddata',\n  REFRESH_TEXT_TRACKS: 'refreshTextTracks',\n  PLAYLIST_CREATED: 'playlistcreated',\n  UP_COMING_VIDEO_SHOW: 'upcomingvideoshow',\n  UP_COMING_VIDEO_HIDE: 'upcomingvideohide',\n  PLAYLIST_ITEM_CHANGED: 'playlistitemchanged',\n  VOLUME_CHANGE: 'volumechange',\n  FLUID: 'fluid',\n  PLAYLIST_PANEL: 'PlaylistPanel',\n  ENDED: 'ended',\n  RESIZE: 'resize',\n  START: 'start',\n  VIDEO_LOAD: 'videoload',\n  PRODUCT_BAR_MIN: 'productBarMin',\n  SHOW_PRODUCTS_OVERLAY: 'showProductsOverlay',\n  SHOPPABLE_ITEM_CHANGED: 'shoppableitemchanged',\n  FULL_SCREEN_CHANGE: 'fullscreenchange',\n  PERCENTS_PLAYED: 'percentsplayed',\n  TIME_PLAYED: 'timeplayed',\n  PLAYER_LOAD: 'playerload',\n  DISPOSE: 'dispose',\n  QUALITY_CHANGED: 'qualitychanged'\n};\n\nexport const SOURCE_TYPE = {\n  AUDIO: 'AudioSource',\n  VIDEO: 'VideoSource'\n};\n","import { startsWith } from './string';\nimport defaults from '../config/defaults';\nimport { find } from './find';\n\nconst CLASS_PREFIX = 'cld-video-player';\nconst SKIN_CLASS_PREFIX = `${CLASS_PREFIX}-skin-`;\n\nconst playerClassPrefix = (componentInstance) => `${CLASS_PREFIX}-${componentInstance.id_}`;\n\nconst skinClass = (skin) => `${SKIN_CLASS_PREFIX}${skin}`;\n\nconst skinClassPrefix = (componentInstance) => find(componentInstance.el().classList, (cls) => startsWith(cls, SKIN_CLASS_PREFIX));\n\nconst setSkinClassPrefix = (componentInstance, name) => {\n  const currentSkinPrefix = skinClassPrefix(componentInstance);\n  const skinName = name ? name.replace(SKIN_CLASS_PREFIX, '') : false;\n\n  let newSkinPrefix = '';\n  if (skinName) {\n    // From html class\n    newSkinPrefix = skinClass(skinName);\n  } else if (componentInstance.options_.skin) {\n    // From JS config\n    newSkinPrefix = skinClass(componentInstance.options_.skin);\n  } else {\n    // Defult\n    newSkinPrefix = skinClass(defaults.skin);\n  }\n\n  if (newSkinPrefix !== currentSkinPrefix) {\n    if (currentSkinPrefix) {\n      componentInstance.removeClass(currentSkinPrefix);\n    }\n    componentInstance.addClass(newSkinPrefix);\n  }\n\n  if (skinName && componentInstance.options_.skin !== skinName) {\n    componentInstance.options_.skin = skinName;\n  }\n\n};\n\nexport { CLASS_PREFIX, playerClassPrefix, skinClassPrefix, skinClass, setSkinClassPrefix };\n","import { castArray } from './array';\nimport { isElement } from './type-inference';\n\nconst wrap = (el, wrapper) => {\n  el.parentNode.insertBefore(wrapper, el);\n  wrapper.appendChild(el);\n\n  return wrapper;\n};\n\nconst createElement = (elementName, attributes = {}, children) => {\n  const element = document.createElement(elementName);\n\n  for (let key in attributes) {\n    if (Object.prototype.hasOwnProperty.call(attributes, key)) {\n      element.setAttribute(key, attributes[key]);\n    }\n  }\n\n  castArray(children).forEach(child => appendChild(child, element));\n\n  return element;\n};\n\nconst appendChild = (child, element) => {\n  if (isElement(child)) {\n    element.appendChild(child);\n  } else if (child && typeof child !== 'object') {\n    const text = document.createTextNode(child);\n    element.appendChild(text);\n  }\n};\n\nexport const styleElement = (element, style) => {\n  for (let key in style) {\n    if (Object.prototype.hasOwnProperty.call(style, key)) {\n      element.style[key] = style[key];\n    }\n  }\n\n  return element;\n};\n\nconst elementsCreator = (item) => {\n  const children = Array.isArray(item.children) ? item.children.map(elementsCreator) : item.children;\n\n  const element = isElement(item) ? item : createElement(item.tag, item.attr, children);\n\n  if (item.onClick) {\n    item.event = { name: 'click', callback: item.onClick };\n  }\n\n  if (item.event) {\n    element.addEventListener(item.event.name, item.event.callback, false);\n  }\n\n  if (item.style) {\n    styleElement(element, item.style);\n  }\n\n  return element;\n};\n\n\nconst addEventListener = (element, name, cb) => {\n  element.addEventListener(name, cb, false);\n\n  return () => {\n    element.removeEventListener(name, cb, false);\n  };\n};\n\n\nexport { wrap, createElement, elementsCreator, addEventListener };\n","function find(list, callback) {\n  if (Array.prototype.find && Array.isArray(list)) {\n    return list.find(callback);\n  }\n\n  return findElementAndIndex(list, callback)[0];\n}\n\nfunction findIndex(list, callback) {\n  if (Array.prototype.findIndex) {\n    return list.findIndex(callback);\n  }\n\n  return findElementAndIndex(list, callback)[1];\n}\n\nfunction findElementAndIndex(list, callback) {\n  for (let i = 0; i < list.length; i++) {\n    const element = list[i];\n    if (callback(element, i, list)) {\n      return [element, i];\n    }\n  }\n\n  return [undefined, -1];\n}\n\nexport { find, findIndex, findElementAndIndex };\n","import WebFont from 'webfontloader';\n\nconst FONT_FAMILY = 'Fira Sans';\n\nconst fontFace = (elem, options) => {\n  let fontFace = options.cloudinary.fontFace;\n\n  // Default font-face is \"Fira sans\"\n  if (typeof fontFace === 'undefined') {\n    fontFace = FONT_FAMILY;\n  }\n\n  if (fontFace && fontFace !== 'inherit') {\n    WebFont.load({\n      google: {\n        families: [fontFace]\n      }\n    });\n    elem.style.fontFamily = fontFace;\n  } else if (fontFace === 'inherit') {\n    elem.style.fontFamily = 'inherit';\n  }\n};\n\nexport { fontFace };\n","\nconst groupBy = (collection, iteratee) => collection.reduce((result, value, key) => {\n  key = iteratee(value);\n  if (Object.prototype.hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    result[key] = [value];\n  }\n  return result;\n}, {});\n\nexport { groupBy };\n","import * as assign from './assign';\nimport * as slicing from './slicing';\nimport * as positioning from './positioning';\nimport * as string from './string';\nimport * as cloudinaryUtils from './cloudinary';\nimport * as applyWithProps from './apply-with-props';\nimport * as groupBy from './groupBy';\nimport * as mixin from './mixin';\nimport * as fontFace from './fontFace';\nimport * as playButton from './playButton';\nimport * as cssPrefix from './css-prefix';\nimport * as normalizeAttributes from './attributes-normalizer';\n\nconst Utils = assign.assign({},\n  assign,\n  slicing,\n  positioning,\n  string,\n  cloudinaryUtils,\n  fontFace,\n  playButton,\n  groupBy,\n  applyWithProps,\n  mixin,\n  cssPrefix,\n  normalizeAttributes\n);\n\nexport default Utils;\n","\n// Test for matches()/\nconst elMatches = (el, selector) => {\n  let p = Element.prototype;\n  let f = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || function (s) {\n    return [].indexOf.call(document.querySelectorAll(s), this) !== -1;\n  };\n  return f.call(el, selector);\n};\n\nexport { elMatches };\n","function mixin(...mixins) {\n  return mixins.reduce((c, mixin) => mixin(c), class Blank {});\n}\n\nexport { mixin };\n","\n/**\n * a nested value from an object\n * @param  {object} value -  a object you want to get a nested value from\n * @param  {string} path - path to the nested value, key separated by . (dots)\n * @param  {any} defaultValue - a default Value in case the value is not defined\n * @returns a nested value from an object / array\n */\nexport const get = (value, path, defaultValue) => {\n  if (value && typeof value === 'object') {\n    const keysArray = path.split('.');\n    let getValue = value;\n\n    for (let objectValue of keysArray) {\n      if (Object.prototype.hasOwnProperty.call(getValue, objectValue) && getValue[objectValue] !== undefined) {\n        getValue = getValue[objectValue];\n      } else {\n        return defaultValue;\n      }\n    }\n\n    return getValue;\n  }\n\n  return defaultValue;\n};\n\n\nexport const pick = (obj, keys) => {\n  return keys.reduce((acc, key) => {\n    const value = obj[key];\n\n    if (value !== undefined) {\n      acc[key] = value;\n    }\n\n    return acc;\n  }, {});\n};\n\nexport const omit = (obj, keys) => {\n  return Object.keys(obj).reduce((acc, key) => {\n    const value = obj[key];\n\n    if (!keys.includes(key)) {\n      acc[key] = value;\n    }\n\n    return acc;\n  }, {});\n};\n","\nconst playButton = (elem, options) => {\n  if (options.bigPlayButton === 'init') {\n    elem.classList.add('vjs-big-play-button-init-only');\n    options.bigPlayButton = true;\n  }\n};\n\nexport { playButton };\n","function getElementPosition(el) {\n  const box = el.getBoundingClientRect();\n\n  const body = document.body;\n  const docEl = document.documentElement;\n\n  const scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n  const scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n\n  const clientTop = docEl.clientTop || body.clientTop || 0;\n  const clientLeft = docEl.clientLeft || body.clientLeft || 0;\n\n  const top = box.top + scrollTop - clientTop;\n  const left = box.left + scrollLeft - clientLeft;\n\n  return {\n    top: Math.round(top),\n    left: Math.round(left)\n  };\n}\n\n/**\n * Get pointer position in element\n * Returns an object with x and y coordinates.\n * The base on the coordinates are the bottom left of the element.\n *\n * @function getPointerPosition\n * @param {Element} el Element on which to get the pointer position on\n * @param {Event} event Event object\n * @return {Object}\n *         This object will have x and y coordinates corresponding to the\n *         mouse position\n */\nfunction getPointerPosition(el, event) {\n  const position = {};\n  const box = getElementPosition(el);\n  const boxW = el.offsetWidth;\n  const boxH = el.offsetHeight;\n  const boxY = box.top;\n  const boxX = box.left;\n  let pageY = event.pageY;\n  let pageX = event.pageX;\n\n  if (event.changedTouches) {\n    pageX = event.changedTouches[0].pageX;\n    pageY = event.changedTouches[0].pageY;\n  }\n\n  position.y = Math.max(0, Math.min(1, ((boxY - pageY) + boxH) / boxH));\n  position.x = Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n\n  return position;\n}\n\nfunction isElementInViewport(el, { fraction }) {\n  const topLeft = getElementPosition(el);\n  const x = topLeft.left;\n  const y = topLeft.top;\n  const h = el.offsetHeight;\n  const w = el.offsetWidth;\n  const r = x + w;\n  const b = y + h;\n  const visibleX = Math.max(0, Math.min(w, window.pageXOffset + window.innerWidth - x,\n    r - window.pageXOffset));\n  const visibleY = Math.max(0, Math.min(w, window.pageYOffset + window.innerHeight - y,\n    b - window.pageYOffset));\n\n  const visible = visibleX * visibleY / (w * h);\n\n  return visible > fraction;\n}\n\nfunction setPosition(el, left, top) {\n  el.style.left = `${left}px`;\n  el.style.top = `${top}px`;\n}\n\nexport { getElementPosition, getPointerPosition, isElementInViewport, setPosition };\n","const objectToQuerystring = (obj) => {\n  const keys = Object.keys(obj);\n\n  if (!keys.length) {\n    return '';\n  }\n\n  const query = keys.map((key) => `${key}=${obj[key]}`).join('&');\n  return `?${query}`;\n};\n\nexport { objectToQuerystring };\n","function _sliceProperties(obj, isUnset, ...props) {\n  return props.reduce((acc, prop) => {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n      acc[prop] = obj[prop];\n      if (isUnset) {\n        delete obj[prop];\n      }\n    }\n    return acc;\n  }, {});\n}\n\nfunction sliceProperties(obj, ...props) {\n  return _sliceProperties(obj, false, ...props);\n}\n\nfunction sliceAndUnsetProperties(obj, ...props) {\n  return _sliceProperties(obj, true, ...props);\n}\n\nexport { sliceProperties, sliceAndUnsetProperties };\n","\nfunction camelize(str) {\n  return str.replace(/[_.-](\\w|$)/g, (_, x) => x.toUpperCase());\n}\n\nfunction startsWith(str, searchStr, position) {\n  if (String.prototype.startsWith) {\n    return str.startsWith(searchStr, position);\n  } else {\n    let position = position || 0;\n    return str.indexOf(searchStr, position) === position;\n  }\n}\n\nexport { camelize, startsWith };\n","/**\n * Wraps the given function, `fn`, with a new function that only invokes `fn`\n * at most once per every `wait` milliseconds.\n *\n * @function\n * @param    {Function} fn\n *           The function to be throttled.\n *\n * @param    {number}   wait\n *           The number of milliseconds by which to throttle.\n *\n * @return   {Function}\n */\n\nfunction throttle(fn, wait) {\n  let last = window.performance.now();\n\n  const throttled = function(...args) {\n    const now = window.performance.now();\n\n    if (now - last >= wait) {\n      fn(...args);\n      last = now;\n    }\n  };\n\n  return throttled;\n}\n\nexport { throttle };\n","// https://github.com/csnover/js-iso8601/blob/master/iso8601.js\nconst numericKeys = [1, 4, 5, 6, 7, 10, 11];\n\nconst parseISO8601 = function (date) {\n  let timestamp = 0;\n  let struct = 0;\n  let minutesOffset = 0;\n\n  // ES5 15.9.4.2 states that the string should attempt to be parsed as a Date Time String Format string\n  // before falling back to any implementation-specific date parsing, so thats what we do, even if native\n  // implementations could be faster\n  //              1 YYYY                2 MM       3 DD           4 HH    5 mm       6 ss        7 msec        8 Z 9     10 tzHH    11 tzmm\n  if ((struct = /^(\\d{4}|[+\\-]\\d{6})(?:-(\\d{2})(?:-(\\d{2}))?)?(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:(Z)|([+\\-])(\\d{2})(?::(\\d{2}))?)?)?$/.exec(date))) {\n    // avoid NaN timestamps caused by undefined values being passed to Date.UTC\n    for (let i = 0, k; (k = numericKeys[i]); ++i) {\n      struct[k] = +struct[k] || 0;\n    }\n\n    // allow undefined days and months\n    struct[2] = (+struct[2] || 1) - 1;\n    struct[3] = +struct[3] || 1;\n\n    if (struct[8] !== 'Z' && struct[9] !== undefined) {\n      minutesOffset = struct[10] * 60 + struct[11];\n\n      if (struct[9] === '+') {\n        minutesOffset = 0 - minutesOffset;\n      }\n    }\n\n    timestamp = Date.UTC(struct[1], struct[2], struct[3], struct[4], struct[5] + minutesOffset, struct[6], struct[7]);\n  } else {\n    timestamp = NaN;\n  }\n\n  return timestamp;\n};\n\n// Convert time string i.e. '2:40' to seconds number (160)\n// Also allows h:m:s format and mm:ss, m:s etc.\nconst parseTime = function (hms) {\n  const [seconds, minutes, hours] = hms.split(':').reverse();\n  let sum = null;\n  if (!isNaN(seconds)) {\n    sum = (+hours || 0) * 60 * 60 + (+minutes || 0) * 60 + (+seconds);\n  }\n  return sum;\n};\n\nexport { parseISO8601, parseTime };\n","function isPlainObject(obj) {\n  return obj !== null &&\n    typeof obj === 'object' &&\n    Object.prototype.toString.call(obj) === '[object Object]';\n}\n\nfunction isString(obj) {\n  return obj instanceof String || typeof obj === 'string';\n}\n\nfunction isNumber(data) {\n  return data instanceof Number || typeof data === 'number';\n}\n\nfunction isInteger(data) {\n  return typeof data === 'number' && (data % 1) === 0;\n}\n\nfunction isBoolean(data) {\n  return typeof data === 'boolean';\n}\n\nfunction isElement(value) {\n  return value instanceof Element;\n}\n\nfunction isFunction(data) {\n  return typeof data === 'function';\n}\n\nfunction noop() {\n  return null;\n}\n\nexport { isPlainObject, isString, isInteger, isNumber, isElement, noop, isFunction, isBoolean };\n","import { isFunction, isPlainObject } from '../utils/type-inference';\n\n\nexport const getValidatorItem = (validator) => isFunction(validator) ? validator() : validator;\n\n/**\n * check if a value is valid or not\n * @param  {object | function} validator -  a config object\n * @param  {any} value\n * @param  {key} string\n * @returns boolean - using the validators to check if the value is a valid value or not\n */\nexport const isValueValid = (validator, value, configPropertyName) => {\n  const validatorItem = getValidatorItem(validator);\n  const isValid = validatorItem.value(value);\n\n  if (!isValid) {\n    console.error(`cloudinary video player: ${validatorItem.message(configPropertyName)}`);\n  }\n\n  return isValid;\n};\n\n/**\n * check if a configuration object is valid or not\n * @param  {object} config -  a config object\n * @param  {object} validators\n * @returns boolean - true is the configuration object is valid and false if it is not\n */\nexport const isValidConfig = (config, validators) => {\n  if (isPlainObject(validators)) {\n    for (let key in config) {\n      if (Object.prototype.hasOwnProperty.call(validators, key)) {\n        const configValue = config[key];\n        const validatorValue = validators[key];\n        const isObject = isPlainObject(configValue);\n\n        if (isObject && !isValidConfig(configValue, validatorValue)) {\n          return false;\n        } else if (!isObject && !isValueValid(validatorValue, configValue, key)) {\n          return false;\n        }\n      }\n    }\n  }\n\n  return true;\n};\n","import { isBoolean, isFunction, isNumber, isPlainObject, isString } from '../utils/type-inference';\nimport { getValidatorItem, isValueValid } from './validators-functions';\nimport { some, map } from '../utils/array';\n\nconst getOptionsString = (options) => isPlainObject(options) ? `:(${Object.values(options).join('/')})` : '';\n\nconst arrayOfStringsValidator = () => ({\n  value: (arr) => Array.isArray(arr) && arr.every(isString),\n  message: (key) => `'${key}' should be an array of strings`\n});\n\nconst arrayOfNumbersValidator = () => ({\n  value: (arr) => Array.isArray(arr) && arr.every(isNumber),\n  message: (key) => `'${key}' should be an array of numbers`\n});\n\nconst arrayOfObjectsValidator = (options) => ({\n  value: (arr) => {\n    return arr.every((item) => {\n      for (let key in item) {\n        if (Object.prototype.hasOwnProperty.call(item, key)) {\n          const value = item[key];\n          const validator = options[key];\n          const isValid = validator && isValueValid(validator(value), value, key);\n\n          if (!isValid) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    });\n  },\n  message: () => 'invalid array'\n});\n\nconst orValidator = (...validators) => {\n  return () => ({\n    value: (value) => some(validators, (validator) => getValidatorItem(validator).value(value)),\n    message: (configPropertyName) => map(validators, (validator) => getValidatorItem(validator).message(configPropertyName)).join(' or ')\n  });\n};\n\nexport const validator = {\n  isString: (options) => ({\n    value: isString,\n    message: (key) => `'${key}' should be a string${getOptionsString(options)}`\n  }),\n  isNumber: (options) => ({\n    value: isNumber,\n    message: (key) => `'${key}' should be a number${getOptionsString(options)}`\n  }),\n  isBoolean: () => ({\n    value: isBoolean,\n    message: (key) => `'${key}' should be a boolean`\n  }),\n  isFunction: () => ({\n    value: isFunction,\n    message: (key) => `'${key}' should be a function`\n  }),\n  isPlainObject: () => ({\n    value: isPlainObject,\n    message: (key) => `'${key}' should be an object`\n  }),\n  isObject: () => ({\n    value: (value) => value && typeof value === 'object',\n    message: (key) => `'${key}' should be an object`\n  }),\n  isArray: () => ({\n    value: Array.isArray,\n    message: (key) => `'${key}' should be an array`\n  }),\n  isArrayOfNumbers: arrayOfNumbersValidator,\n  isArrayOfStrings: arrayOfStringsValidator,\n  isArrayOfObjects: arrayOfObjectsValidator,\n  or: orValidator\n};\n","import { ADS_IN_PLAYLIST, AUTO_PLAY_MODE, FLOATING_TO } from '../video-player.const';\nimport {\n  INTERACTION_AREAS_TEMPLATE,\n  INTERACTION_AREAS_THEME\n} from '../components/interaction-area/interaction-area.const';\nimport { validator } from './validators-types';\n\nexport const playerValidators = {\n  videojsOptions: {\n    loop: validator.isBoolean,\n    controls: validator.isBoolean,\n    autoplay: validator.isBoolean,\n    autoplayMode: validator.isString(AUTO_PLAY_MODE),\n    bigPlayButton: validator.isBoolean,\n    playbackRates: validator.isArray,\n    showLogo: validator.isBoolean,\n    logoImageUrl: validator.isString,\n    logoOnclickUrl: validator.isString,\n    videoJS: validator.isPlainObject,\n    maxTries: validator.isNumber,\n    muted: validator.isBoolean,\n    playsinline: validator.isBoolean,\n    videoTimeout: validator.isNumber,\n    preload: validator.isString,\n    sourceTransformation: validator.isPlainObject,\n    allowUsageReport: validator.isBoolean,\n    interactionAreas: {\n      theme: {\n        template: validator.isString(INTERACTION_AREAS_THEME)\n      },\n      layout: {\n        enable: validator.isBoolean,\n        showAgain: validator.isBoolean\n      }\n    }\n  },\n  playerOptions: {\n    queryParams: validator.isPlainObject,\n    publicId: validator.isString,\n    fluid: validator.isBoolean,\n    analytics: validator.isBoolean,\n    cloudinaryAnalytics: validator.isBoolean,\n    hideContextMenu: validator.isBoolean,\n    playedEventPercents: validator.isArrayOfNumbers,\n    showJumpControls: validator.isBoolean,\n    seekThumbnails: validator.isBoolean,\n    floatingWhenNotVisible: validator.isString(FLOATING_TO),\n    playedEventTimes: validator.isArray,\n    playlistWidget: {\n      direction: validator.isString,\n      total: validator.isNumber\n    },\n    colors: {\n      base: validator.isString,\n      accent: validator.isString,\n      text: validator.isString\n    },\n    ads: {\n      adTagUrl: validator.isString,\n      showCountdown: validator.isBoolean,\n      adLabel: validator.isString,\n      locale: validator.isString,\n      prerollTimeout: validator.isNumber,\n      postrollTimeout: validator.isNumber,\n      adsInPlaylist: validator.isString(ADS_IN_PLAYLIST)\n    },\n    cloudinary: {\n      autoShowRecommendations: validator.isBoolean,\n      sourceTypes: validator.isArrayOfStrings,\n      transformation: validator.isObject,\n      fontFace: validator.isString,\n      posterOptions: {\n        publicId: validator.isString,\n        transformation: validator.isObject\n      }\n    }\n  }\n};\n\nexport const sourceValidators = {\n  raw_transformation: validator.isString,\n  shoppable: validator.isPlainObject,\n  withCredentials: validator.isBoolean,\n  interactionAreas: {\n    enable: validator.isBoolean,\n    template: validator.or(validator.isString(INTERACTION_AREAS_TEMPLATE), validator.isArray),\n    vttUrl: validator.isString,\n    onClick: validator.isFunction\n  },\n  textTracks: {\n    captions: {\n      label: validator.isString,\n      language: validator.isString,\n      default: validator.isBoolean,\n      url: validator.isString\n    },\n    subtitles: validator.isArrayOfObjects({\n      label: validator.isString,\n      language: validator.isString,\n      url: validator.isString\n    })\n  },\n  info: {\n    title: validator.isString,\n    subtitle: validator.isString,\n    description: validator.isString\n  },\n  cloudinary: {\n    sourceTypes: validator.isArrayOfStrings,\n    transformation: validator.isObject\n  }\n};\n","import videojs from 'video.js';\n\nexport const CLOUDINARY_PARAMS = [\n  'cloudinaryConfig',\n  'transformation',\n  'sourceTypes',\n  'sourceTransformation',\n  'posterOptions',\n  'autoShowRecommendations',\n  'fontFace',\n  'secure'\n];\n\nexport const PLAYER_PARAMS = CLOUDINARY_PARAMS.concat([\n  'publicId',\n  'source',\n  'autoplayMode',\n  'playedEventPercents',\n  'playedEventTimes',\n  'analytics',\n  'cloudinaryAnalytics',\n  'fluid',\n  'ima',\n  'playlistWidget',\n  'hideContextMenu',\n  'colors',\n  'floatingWhenNotVisible',\n  'ads',\n  'showJumpControls',\n  'textTracks',\n  'qualitySelector',\n  'fetchErrorUsingGet',\n  'withCredentials',\n  'seekThumbnails',\n  'queryParams'\n]);\n\nexport const CLOUDINARY_CONFIG_PARAM = [\n  'cloud_name',\n  'secure',\n  'private_cdn',\n  'secure_distribution',\n  'cdn_subdomain',\n  'secure_cdn_subdomain',\n  'cname',\n  'shorten',\n  'sign_url',\n  'api_secret',\n  'url_suffix',\n  'use_root_path',\n  'auth_token'\n];\n\nexport const DEFAULT_HLS_OPTIONS = {\n  html5: {\n    handlePartialData: false,\n    vhs: {\n      overrideNative: videojs && videojs.browser ? !videojs.browser.IS_IOS && !videojs.browser.IS_SAFARI : true\n    }\n  }\n};\n\nexport const FLUID_CLASS_NAME = 'cld-fluid';\n\nexport const AUTO_PLAY_MODE = {\n  ALWAYS: 'always',\n  ON_SCROLL: 'on-scroll',\n  NEVER: 'never'\n};\n\nexport const FLOATING_TO = {\n  LEFT: 'left',\n  RIGHT: 'right',\n  NONE: 'none'\n};\n\nexport const ADS_IN_PLAYLIST = {\n  FIRST_VIDEO: 'first-video',\n  EVERY_VIDEO: 'every-video'\n};\n\nexport const PRELOAD = {\n  AUTO: 'auto',\n  METADATA: 'metadata',\n  NONE: 'none'\n};\n","import videojs from 'video.js';\nimport './components';\nimport plugins from './plugins';\nimport Utils from './utils';\nimport defaults from './config/defaults';\nimport Eventable from './mixins/eventable';\nimport ExtendedEvents from './extended-events';\nimport PlaylistWidget from './components/playlist/playlist-widget';\n// #if (!process.env.WEBPACK_BUILD_LIGHT)\n// import qualitySelector from './components/qualitySelector/qualitySelector.js';\n// #endif\nimport VideoSource from './plugins/cloudinary/models/video-source/video-source';\nimport { isFunction, isString, isPlainObject } from './utils/type-inference';\nimport {\n  extractOptions,\n  getResolveVideoElement,\n  overrideDefaultVideojsComponents\n} from './video-player.utils';\nimport { FLOATING_TO, FLUID_CLASS_NAME } from './video-player.const';\n// #if (!process.env.WEBPACK_BUILD_LIGHT)\n// import { interactionAreaService } from './components/interaction-area/interaction-area.service';\n// #endif\nimport { isValidConfig } from './validators/validators-functions';\nimport { playerValidators, sourceValidators } from './validators/validators';\nimport { get } from './utils/object';\nimport { PLAYER_EVENT, SOURCE_TYPE } from './utils/consts';\nimport { extendCloudinaryConfig } from './plugins/cloudinary/common';\n\n// Register all plugins\nObject.keys(plugins).forEach((key) => {\n  videojs.registerPlugin(key, plugins[key]);\n});\n\noverrideDefaultVideojsComponents();\n\nlet _allowUsageReport = true;\n\nclass VideoPlayer extends Utils.mixin(Eventable) {\n\n  static all(selector, ...args) {\n    const nodeList = document.querySelectorAll(selector);\n    return [...nodeList].map((node) => new VideoPlayer(node, ...args));\n  }\n\n  static allowUsageReport(bool) {\n    if (bool === undefined) {\n      return _allowUsageReport;\n    }\n\n    _allowUsageReport = !!bool;\n    return _allowUsageReport;\n  }\n\n  static buildTextTrackObj (type, conf) {\n    return {\n      kind: type,\n      label: conf.label,\n      srclang: conf.language,\n      default: !!(conf.default),\n      src: conf.url\n    };\n  }\n\n  constructor(elem, initOptions, ready) {\n    super();\n\n    this._playlistWidget = null;\n    this.nbCalls = 0;\n\n    this.videoElement = getResolveVideoElement(elem);\n\n    this.options = extractOptions(this.videoElement, initOptions);\n\n    this._videojsOptions = this.options.videojsOptions;\n\n    // Make sure to add 'video-js' class before creating videojs instance\n    this.videoElement.classList.add('video-js');\n\n    // Handle WebFont loading\n    Utils.fontFace(this.videoElement, this.playerOptions);\n\n    // Handle play button options\n    Utils.playButton(this.videoElement, this._videojsOptions);\n\n    this.videojs = videojs(this.videoElement, this._videojsOptions);\n\n    // to do, should be change by isValidConfig\n    this._isPlayerConfigValid = true;\n\n    isValidConfig(this.options, playerValidators);\n\n    if (!this._isPlayerConfigValid) {\n      this.videojs.error('invalid player configuration');\n      return;\n    }\n\n    if (this._videojsOptions.muted) {\n      this.videojs.volume(0.4);\n    }\n\n    if (this.playerOptions.fluid) {\n      this.fluid(this.playerOptions.fluid);\n    }\n\n    /* global google */\n    const loaded = {\n      contribAdsLoaded: isFunction(this.videojs.ads),\n      imaAdsLoaded: (typeof google === 'object' && typeof google.ima === 'object')\n    };\n\n    // #if (!process.env.WEBPACK_BUILD_LIGHT)\n//     this.interactionArea = interactionAreaService(this, this.playerOptions, this._videojsOptions);\n    // #endif\n\n    this._setCssClasses();\n    this._initPlugins(loaded);\n    this._initPlaylistWidget();\n    this._initJumpButtons();\n    this._setVideoJsListeners(ready);\n  }\n\n  _clearTimeOut = () => {\n    this.videojs.clearTimeout(this.reTryId);\n  };\n\n  _setVideoJsListeners(ready) {\n\n    // Prevent flash of error message while lazy-loading plugins.\n    videojs.hook('beforeerror', (player, err) => {\n      if (err && err.code === 3 && this.loadingLazyPlugins) {\n        err = null;\n      }\n      return err;\n    });\n\n\n    this.videojs.on(PLAYER_EVENT.ERROR, () => {\n      const error = this.videojs.error();\n      if (error) {\n        const type = this._isPlayerConfigValid && this.videojs.cloudinary.currentSourceType();\n\n        /*\n         error codes :\n           3 - media playback was aborted due to a corruption problem\n           4 - media error, media source not supported\n         */\n        const isCorrupted = error.code === 3 && videojs.browser.IS_SAFARI;\n\n        if ([isCorrupted, error.code === 4].includes(true) && [SOURCE_TYPE.AUDIO, SOURCE_TYPE.VIDEO].includes(type)) {\n          this.videojs.error(null);\n          Utils.handleCldError(this, this.playerOptions);\n        } else {\n          this._clearTimeOut();\n        }\n      }\n    });\n\n    this.videojs.tech_.on(PLAYER_EVENT.RETRY_PLAYLIST, () => {\n      const mediaRequestsErrored = get(this.videojs, 'hls.stats.mediaRequestsErrored', 0);\n      if (mediaRequestsErrored > 0) {\n        this._clearTimeOut();\n        Utils.handleCldError(this, this.playerOptions);\n      }\n    });\n\n    this.videojs.on(PLAYER_EVENT.PLAY, this._clearTimeOut);\n    this.videojs.on(PLAYER_EVENT.CAN_PLAY_THROUGH, this._clearTimeOut);\n\n    this.videojs.ready(() => {\n      this._onReady();\n\n      if (ready) {\n        ready(this);\n      }\n\n      // #if (!process.env.WEBPACK_BUILD_LIGHT)\n//       this.interactionArea.init();\n      // #endif\n    });\n\n    if (this.adsEnabled && Object.keys(this.playerOptions.ads).length > 0 && typeof this.videojs.ima === 'object') {\n      if (this.playerOptions.ads.adsInPlaylist === 'first-video') {\n        this.videojs.one(PLAYER_EVENT.SOURCE_CHANGED, () => {\n          this.videojs.ima.playAd();\n        });\n\n      } else {\n        this.videojs.on(PLAYER_EVENT.SOURCE_CHANGED, () => {\n          this.videojs.ima.playAd();\n        });\n      }\n    }\n\n  }\n\n  _initPlugins (loaded) {\n    // #if (!process.env.WEBPACK_BUILD_LIGHT)\n//     this.adsEnabled = this._initIma(loaded);\n    // #endif\n    this._initAutoplay();\n    this._initContextMenu();\n    this._initPerSrcBehaviors();\n    this._initCloudinary();\n    this._initAnalytics();\n    this._initCloudinaryAnalytics();\n    this._initFloatingPlayer();\n    this._initColors();\n    this._initTextTracks();\n    this._initSeekThumbs();\n  }\n\n  async _initLazyPlugins(options) {\n    this.loadingLazyPlugins = true;\n\n    await this._initDash(options);\n\n    this.loadingLazyPlugins = false;\n  }\n\n  async _initDash(options) {\n    const isDashRequired = options.sourceTypes && options.sourceTypes.some(s => s.includes('dash'));\n    if (plugins.dashPlugin && isDashRequired) {\n      await plugins.dashPlugin();\n    }\n  }\n\n  _isFullScreen() {\n    return this.videojs.player().isFullscreen();\n  }\n\n  _initIma (loaded) {\n    if (!loaded.contribAdsLoaded || !loaded.imaAdsLoaded) {\n      if (this.playerOptions.ads) {\n        if (!loaded.contribAdsLoaded) {\n          console.log('contribAds is not loaded');\n        }\n        if (!loaded.imaAdsLoaded) {\n          console.log('imaSdk is not loaded');\n        }\n      }\n\n      return false;\n    }\n\n    if (!this.playerOptions.ads) {\n      this.playerOptions.ads = {};\n    }\n\n    const opts = this.playerOptions.ads;\n\n    if (Object.keys(opts).length === 0) {\n      return false;\n    }\n\n    this.videojs.ima({\n      id: this.el().id,\n      adTagUrl: opts.adTagUrl,\n      disableFlashAds: true,\n      prerollTimeout: opts.prerollTimeout || 5000,\n      postrollTimeout: opts.postrollTimeout || 5000,\n      showCountdown: (opts.showCountdown !== false),\n      adLabel: opts.adLabel || 'Advertisement',\n      locale: opts.locale || 'en',\n      autoPlayAdBreaks: (opts.autoPlayAdBreaks !== false),\n      debug: true\n    });\n\n    return true;\n  }\n\n  setTextTracks (conf) {\n    // remove current text tracks\n    const currentTracks = this.videojs.remoteTextTracks();\n    if (currentTracks) {\n      for (let i = currentTracks.tracks_.length - 1; i >= 0; i--) {\n        this.videojs.removeRemoteTextTrack(currentTracks.tracks_[i]);\n      }\n    }\n    if (conf) {\n      const tracks = Object.keys(conf);\n      const allTracks = [];\n      for (const track of tracks) {\n        if (Array.isArray(conf[track])) {\n          const trks = conf[track];\n          for (let i = 0; i < trks.length; i++) {\n            allTracks.push(VideoPlayer.buildTextTrackObj(track, trks[i]));\n          }\n        } else {\n          allTracks.push(VideoPlayer.buildTextTrackObj(track, conf[track]));\n        }\n      }\n\n      Utils.filterAndAddTextTracks(allTracks, this.videojs);\n    }\n  }\n\n  _initSeekThumbs() {\n    if (this.playerOptions.seekThumbnails) {\n\n      this.videojs.on(PLAYER_EVENT.CLD_SOURCE_CHANGED, (e, { source }) => {\n        if (!source || source.getType() === SOURCE_TYPE.AUDIO ||\n          (this.videojs && this.videojs.activePlugins_ && this.videojs.activePlugins_.vr) // It's a VR (i.e. 360) video\n        ) {\n          return;\n        }\n\n        const publicId = source.publicId();\n\n        const transformations = source.transformation();\n\n        if (transformations && transformations.streaming_profile) {\n          delete transformations.streaming_profile;\n        }\n\n        transformations.flags = transformations.flags || [];\n        transformations.flags.push('sprite');\n\n        const vttSrc = source.config().url(`${publicId}.vtt`, { transformation: transformations });\n        // vttThumbnails must be called differently on init and on source update.\n        isFunction(this.videojs.vttThumbnails)\n          ? this.videojs.vttThumbnails({ src: vttSrc })\n          : this.videojs.vttThumbnails.src(vttSrc);\n      });\n    }\n  }\n\n  _initColors () {\n    this.videojs.colors(this.playerOptions.colors ? { colors: this.playerOptions.colors } : {});\n  }\n\n  // #if (!process.env.WEBPACK_BUILD_LIGHT)\n//   _initQualitySelector() {\n//     if (this._videojsOptions.controlBar && this.playerOptions.qualitySelector !== false) {\n//       this.videojs.httpSourceSelector({ default: 'auto' });\n// \n//       this.videojs.on(PLAYER_EVENT.LOADED_METADATA, () => {\n//         qualitySelector.init(this.videojs);\n//       });\n// \n//       // Show only if more than one option available\n//       this.videojs.on(PLAYER_EVENT.LOADED_DATA, () => {\n//         qualitySelector.setVisibility(this.videojs);\n//       });\n//     }\n//   }\n  // #endif\n\n  _initTextTracks () {\n    this.videojs.on(PLAYER_EVENT.REFRESH_TEXT_TRACKS, (e, tracks) => {\n      this.setTextTracks(tracks);\n    });\n  }\n\n  _initPerSrcBehaviors() {\n    if (this.videojs.perSourceBehaviors) {\n      this.videojs.perSourceBehaviors();\n    }\n  }\n\n  _initJumpButtons() {\n    if (!this.playerOptions.showJumpControls && this.videojs.controlBar) {\n      this.videojs.controlBar.removeChild('JumpForwardButton');\n      this.videojs.controlBar.removeChild('JumpBackButton');\n    }\n  }\n\n  _initCloudinary() {\n    const { cloudinaryConfig } = this.playerOptions.cloudinary;\n    cloudinaryConfig.chainTarget = this;\n\n    if (cloudinaryConfig.secure !== false) {\n      extendCloudinaryConfig(cloudinaryConfig, { secure: true });\n    }\n\n    this.videojs.cloudinary(this.playerOptions.cloudinary);\n  }\n\n  _initAnalytics() {\n    const analyticsOpts = this.playerOptions.analytics;\n\n    if (!window.ga && analyticsOpts) {\n      console.error('Google Analytics script is missing');\n      return;\n    }\n\n    if (analyticsOpts) {\n      const opts = typeof analyticsOpts === 'object' ? analyticsOpts : {};\n      this.videojs.analytics(opts);\n    }\n  }\n\n  _initCloudinaryAnalytics() {\n    const cloudinaryAnalyticsOptionEnabled = this.playerOptions.cloudinaryAnalytics;\n\n    if (cloudinaryAnalyticsOptionEnabled) {\n      this.videojs.videoElement = this.videoElement;\n      this.videojs.cloudinaryAnalytics();\n    }\n  }\n\n  reTryVideo(maxNumberOfCalls, timeout) {\n    if (!this.isVideoReady()) {\n      if (this.nbCalls < maxNumberOfCalls) {\n        this.nbCalls++;\n        this.reTryId = this.videojs.setTimeout(() => this.reTryVideo(maxNumberOfCalls, timeout), timeout);\n      } else {\n        let e = new Error('Video is not ready please try later');\n        this.videojs.trigger('error', e);\n      }\n    }\n  }\n\n  isVideoReady() {\n    const s = this.videojs.readyState();\n    if (s >= (/iPad|iPhone|iPod/.test(navigator.userAgent) ? 1 : 4)) {\n      this.nbCalls = 0;\n      return true;\n    }\n\n    return false;\n  }\n\n  _initPlaylistWidget () {\n    this.videojs.on(PLAYER_EVENT.PLAYLIST_CREATED, () => {\n\n      if (this._playlistWidget) {\n        this._playlistWidget.dispose();\n      }\n      const plwOptions = this.playerOptions.playlistWidget;\n\n      if (isPlainObject(plwOptions)) {\n        if (this.playerOptions.fluid) {\n          plwOptions.fluid = true;\n        }\n\n        if (this.playerOptions.cloudinary.fontFace) {\n          plwOptions.fontFace = this.playerOptions.cloudinary.fontFace;\n        }\n\n        this._playlistWidget = new PlaylistWidget(this.videojs, plwOptions);\n      }\n    });\n  }\n\n  playlistWidget(options) {\n    if (!options && !this._playlistWidget) {\n      return false;\n    }\n\n    if (!options && this._playlistWidget) {\n      return this._playlistWidget;\n    }\n\n    if (isPlainObject(options)) {\n      this._playlistWidget.options(options);\n    }\n\n    return this._playlistWidget;\n  }\n\n  _initAutoplay() {\n    const autoplayMode = this.playerOptions.autoplayMode;\n\n    if (autoplayMode === 'on-scroll') {\n      this.videojs.autoplayOnScroll();\n    }\n  }\n\n  _initContextMenu() {\n    if (!this.playerOptions.hideContextMenu) {\n      this.videojs.contextMenu(defaults.contextMenu);\n    }\n  }\n\n  _initFloatingPlayer() {\n    if (this.playerOptions.floatingWhenNotVisible !== FLOATING_TO.NONE) {\n      this.videojs.floatingPlayer({ floatTo: this.playerOptions.floatingWhenNotVisible });\n    }\n  }\n\n  _setCssClasses() {\n    this.videojs.addClass(Utils.CLASS_PREFIX);\n    this.videojs.addClass(Utils.playerClassPrefix(this.videojs));\n\n    Utils.setSkinClassPrefix(this.videojs, Utils.skinClassPrefix(this.videojs));\n  }\n\n  _onReady() {\n    this._setExtendedEvents();\n\n    // Load first video (mainly to support video tag 'source' and 'public-id' attributes)\n    const source = this.playerOptions.source || this.playerOptions.publicId;\n\n    if (source) {\n      this.source(source, this.playerOptions);\n    }\n  }\n\n  _setExtendedEvents() {\n    const events = [];\n    if (this.playerOptions.playedEventPercents) {\n      events.push({\n        type: PLAYER_EVENT.PERCENTS_PLAYED,\n        percents: this.playerOptions.playedEventPercents\n      });\n    }\n\n    if (this.playerOptions.playedEventTimes) {\n      events.push({\n        type: PLAYER_EVENT.TIME_PLAYED,\n        times: this.playerOptions.playedEventTimes\n      });\n    }\n\n    events.push(...[PLAYER_EVENT.SEEK, PLAYER_EVENT.MUTE, PLAYER_EVENT.UNMUTE, PLAYER_EVENT.QUALITY_CHANGED]);\n\n    const extendedEvents = new ExtendedEvents(this.videojs, { events });\n\n    Object.keys(extendedEvents.events).forEach((_event) => {\n      const handler = (event, data) => {\n        this.videojs.trigger({ type: _event, eventData: data });\n      };\n      extendedEvents.on(_event, handler);\n    });\n  }\n\n  cloudinaryConfig(config) {\n    return this.videojs.cloudinary.cloudinaryConfig(config);\n  }\n\n  get playerOptions() {\n    return this.options.playerOptions;\n  }\n\n  currentPublicId() {\n    return this.videojs.cloudinary.currentPublicId();\n  }\n\n  currentSourceUrl() {\n    return this.videojs.currentSource().src;\n  }\n\n  currentPoster() {\n    return this.videojs.cloudinary.currentPoster();\n  }\n\n  source(publicId, options = {}) {\n    if (!this._isPlayerConfigValid) {\n      return;\n    }\n\n    const isSourceConfigValid = isValidConfig(options, sourceValidators);\n\n    if (!isSourceConfigValid) {\n      this.videojs.error('invalid source configuration');\n      return;\n    }\n\n    if (publicId instanceof VideoSource) {\n      return this.videojs.cloudinary.source(publicId, options);\n    }\n\n    // Interactive plugin - available in full (not light) build only\n    if (this.videojs.interactive) {\n      this.videojs.interactive(this.videojs, options);\n    }\n\n    if (VideoPlayer.allowUsageReport()) {\n      options.usageReport = true;\n    }\n\n    this.setTextTracks(options.textTracks);\n    // #if (!process.env.WEBPACK_BUILD_LIGHT)\n//     this._initQualitySelector();\n    // #endif\n    clearTimeout(this.reTryId);\n    this.nbCalls = 0;\n    const maxTries = this.videojs.options_.maxTries || 3;\n    const videoReadyTimeout = this.videojs.options_.videoTimeout || 55000;\n    this.reTryVideo(maxTries, videoReadyTimeout);\n\n    // Lazy loaded plugins\n    this._initLazyPlugins(options).then(() => {\n      return this.videojs.cloudinary.source(publicId, options);\n    });\n\n    return this.videojs.cloudinary.source(publicId, options);\n  }\n\n  posterOptions(options) {\n    return this.videojs.cloudinary.posterOptions(options);\n  }\n\n  skin(name) {\n    if (name !== undefined && isString(name)) {\n      Utils.setSkinClassPrefix(this.videojs, name);\n\n      const playlistWidget = this.playlistWidget();\n\n      if (playlistWidget) {\n        playlistWidget.setSkin();\n      }\n    }\n\n    return Utils.skinClassPrefix(this.videojs);\n  }\n\n  playlist(sources, options = {}) {\n    this._initQualitySelector();\n    return this.videojs.cloudinary.playlist(sources, options);\n  }\n\n  playlistByTag(tag, options = {}) {\n    return this.videojs.cloudinary.playlistByTag(tag, options);\n  }\n\n  sourcesByTag(tag, options = {}) {\n    return this.videojs.cloudinary.sourcesByTag(tag, options);\n  }\n\n  fluid(bool) {\n    if (bool === undefined) {\n      return this.videojs.fluid();\n    }\n\n    if (bool) {\n      this.videojs.addClass(FLUID_CLASS_NAME);\n    } else {\n      this.videojs.removeClass(FLUID_CLASS_NAME);\n    }\n\n    this.videojs.fluid(bool);\n    this.videojs.trigger(PLAYER_EVENT.FLUID, bool);\n    return this;\n  }\n\n  play() {\n    this.playWasCalled = true;\n    this.videojs.play();\n    return this;\n  }\n\n  stop() {\n    this.pause();\n    this.currentTime(0);\n    return this;\n  }\n\n  playPrevious() {\n    this.playlist().playPrevious();\n    return this;\n  }\n\n  playNext() {\n    this.playlist().playNext();\n    return this;\n  }\n\n  transformation(trans) {\n    return this.videojs.cloudinary.transformation(trans);\n  }\n\n  sourceTypes(types) {\n    return this.videojs.cloudinary.sourceTypes(types);\n  }\n\n  sourceTransformation(trans) {\n    return this.videojs.cloudinary.sourceTransformation(trans);\n  }\n\n  autoShowRecommendations(autoShow) {\n    return this.videojs.cloudinary.autoShowRecommendations(autoShow);\n  }\n\n  duration() {\n    return this.videojs.duration();\n  }\n\n  height(dimension) {\n    if (!dimension) {\n      return this.videojs.height();\n    }\n\n    this.videojs.height(dimension);\n\n    return this;\n  }\n\n  width(dimension) {\n    if (!dimension) {\n      return this.videojs.width();\n    }\n\n    this.videojs.width(dimension);\n\n    return this;\n  }\n\n  volume(volume) {\n    if (!volume) {\n      return this.videojs.volume();\n    }\n\n    this.videojs.volume(volume);\n\n    return this;\n  }\n\n  mute() {\n    if (!this.isMuted()) {\n      this.videojs.muted(true);\n    }\n\n    return this;\n  }\n\n  unmute() {\n    if (this.isMuted()) {\n      this.videojs.muted(false);\n    }\n\n    return this;\n  }\n\n  isMuted() {\n    return this.videojs.muted();\n  }\n\n  pause() {\n    this.videojs.pause();\n\n    return this;\n  }\n\n  currentTime(offsetSeconds) {\n    if (!offsetSeconds && offsetSeconds !== 0) {\n      return this.videojs.currentTime();\n    }\n\n    this.videojs.currentTime(offsetSeconds);\n\n    return this;\n  }\n\n  maximize() {\n    if (!this.isMaximized()) {\n      this.videojs.requestFullscreen();\n    }\n\n    return this;\n  }\n\n  exitMaximize() {\n    if (this.isMaximized()) {\n      this.videojs.exitFullscreen();\n    }\n\n    return this;\n  }\n\n  isMaximized() {\n    return this.videojs.isFullscreen();\n  }\n\n  dispose() {\n    this.videojs.dispose();\n  }\n\n  controls(bool) {\n    if (bool === undefined) {\n      return this.videojs.controls();\n    }\n\n    this.videojs.controls(bool);\n\n    return this;\n  }\n\n  ima() {\n    return {\n      playAd: this.videojs.ima.playAd\n    };\n  }\n\n  loop(bool) {\n    if (bool === undefined) {\n      return this.videojs.loop();\n    }\n\n    this.videojs.loop(bool);\n\n    return this;\n  }\n\n  el() {\n    return this.videojs.el();\n  }\n}\n\nexport default VideoPlayer;\n","import videojs from 'video.js';\nimport Utils from './utils';\nimport defaults from './config/defaults';\nimport {\n  CLOUDINARY_PARAMS,\n  DEFAULT_HLS_OPTIONS,\n  PLAYER_PARAMS,\n  FLUID_CLASS_NAME,\n  AUTO_PLAY_MODE\n} from './video-player.const';\nimport { isString } from './utils/type-inference';\n\n/*\n* Used to escape element identifiers that begin with certain\n* characters such as digits.\n* https://www.w3.org/International/questions/qa-escapes#css_identifiers\n*/\nimport cssEscape from 'css.escape';\n\nexport const addMetadataTrack = (videoJs, vttSource) => {\n  return videoJs.addRemoteTextTrack({\n    kind: 'metadata',\n    srclang: 'en',\n    src: vttSource,\n    default: true\n  }, true).track;\n};\n\nexport const isLight = (opts) => {\n  return opts.class.indexOf('cld-video-player-skin-light') > -1 || opts.skin === 'light';\n};\n\nexport const getResolveVideoElement = (elem) => {\n  if (isString(elem)) {\n    let id = elem;\n\n    // Adjust for jQuery ID syntax\n    if (id.indexOf('#') === 0) {\n      id = id.slice(1);\n    }\n\n    try {\n      elem = document.querySelector(`#${cssEscape(id)}`) || videojs.getPlayer(id);\n    } catch (e) {\n      elem = null;\n    }\n\n    if (!elem) {\n      throw new Error(`Could not find element with id ${id}`);\n    }\n  }\n\n  if (!elem.tagName) {\n    throw new Error('Must specify either an element or an element id.');\n  } else if (elem.tagName !== 'VIDEO') {\n    throw new Error('Element is not a video tag.');\n  }\n\n  return elem;\n};\n\n\nexport const normalizeAutoplay = (options) => {\n  const autoplayMode = options.autoplayMode;\n  if (autoplayMode) {\n    switch (autoplayMode) {\n      case AUTO_PLAY_MODE.ALWAYS:\n        options.autoplay = true;\n        break;\n      case AUTO_PLAY_MODE.ON_SCROLL:\n      case AUTO_PLAY_MODE.NEVER:\n      default:\n        options.autoplay = false;\n    }\n  }\n};\n\nexport const extractOptions = (elem, options) => {\n  const elemOptions = Utils.normalizeAttributes(elem);\n\n  if (videojs.dom.hasClass(elem, FLUID_CLASS_NAME) || videojs.dom.hasClass(elem, 'vjs-fluid')) {\n    options.fluid = true;\n  }\n  // Default HLS options < Default options < Markup options < Player options\n  options = Utils.assign({}, DEFAULT_HLS_OPTIONS, defaults, elemOptions, options);\n\n  // In case of 'autoplay on scroll', we need to make sure normal HTML5 autoplay is off\n  normalizeAutoplay(options);\n\n  // VideoPlayer specific options\n  const playerOptions = Utils.sliceAndUnsetProperties(options, ...PLAYER_PARAMS);\n\n  // Cloudinary plugin specific options\n  playerOptions.cloudinary = Utils.sliceAndUnsetProperties(playerOptions, ...CLOUDINARY_PARAMS);\n\n  // Allow explicitly passing options to videojs using the `videojs` namespace, in order\n  // to avoid param name conflicts:\n  // VideoPlayer.new({ controls: true, videojs: { controls: false })\n  if (options.videojs) {\n    Utils.assign(options, options.videojs);\n    delete options.videojs;\n  }\n\n  return { playerOptions, videojsOptions: options };\n};\n\nexport const overrideDefaultVideojsComponents = () => {\n  const Player = videojs.getComponent('Player');\n  let children = Player.prototype.options_.children;\n\n  // Add TitleBar as default\n  children.push('titleBar');\n  children.push('upcomingVideoOverlay');\n  children.push('recommendationsOverlay');\n\n  const ControlBar = videojs.getComponent('ControlBar');\n\n  if (ControlBar) {\n    children = ControlBar.prototype.options_.children;\n    // Add space instead of the progress control (which we deattached from the controlBar, and absolutely positioned it above it)\n    // Also add a blank div underneath the progress control to stop bubbling up pointer events.\n    children.splice(children.indexOf('progressControl'), 0, 'spacer', 'progressControlEventsBlocker');\n\n    // Add 'play-previous' and 'play-next' buttons around the 'play-toggle'\n    children.splice(children.indexOf('playToggle'), 1, 'playlistPreviousButton', 'JumpBackButton', 'playToggle', 'JumpForwardButton', 'playlistNextButton');\n\n    // Position the 'logo-button' button right next to 'fullscreenToggle'\n    children.splice(children.indexOf('fullscreenToggle'), 1, 'logoButton', 'fullscreenToggle');\n  }\n};\n","/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */\n;(function(root, factory) {\n\t// https://github.com/umdjs/umd/blob/master/returnExports.js\n\tif (typeof exports == 'object') {\n\t\t// For Node.js.\n\t\tmodule.exports = factory(root);\n\t} else if (typeof define == 'function' && define.amd) {\n\t\t// For AMD. Register as an anonymous module.\n\t\tdefine([], factory.bind(root, root));\n\t} else {\n\t\t// For browser globals (not exposing the function separately).\n\t\tfactory(root);\n\t}\n}(typeof global != 'undefined' ? global : this, function(root) {\n\n\tif (root.CSS && root.CSS.escape) {\n\t\treturn root.CSS.escape;\n\t}\n\n\t// https://drafts.csswg.org/cssom/#serialize-an-identifier\n\tvar cssEscape = function(value) {\n\t\tif (arguments.length == 0) {\n\t\t\tthrow new TypeError('`CSS.escape` requires an argument.');\n\t\t}\n\t\tvar string = String(value);\n\t\tvar length = string.length;\n\t\tvar index = -1;\n\t\tvar codeUnit;\n\t\tvar result = '';\n\t\tvar firstCodeUnit = string.charCodeAt(0);\n\t\twhile (++index < length) {\n\t\t\tcodeUnit = string.charCodeAt(index);\n\t\t\t// Note: theres no need to special-case astral symbols, surrogate\n\t\t\t// pairs, or lone surrogates.\n\n\t\t\t// If the character is NULL (U+0000), then the REPLACEMENT CHARACTER\n\t\t\t// (U+FFFD).\n\t\t\tif (codeUnit == 0x0000) {\n\t\t\t\tresult += '\\uFFFD';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n\t\t\t\t// U+007F, []\n\t\t\t\t(codeUnit >= 0x0001 && codeUnit <= 0x001F) || codeUnit == 0x007F ||\n\t\t\t\t// If the character is the first character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039), []\n\t\t\t\t(index == 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039) ||\n\t\t\t\t// If the character is the second character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039) and the first character is a `-` (U+002D), []\n\t\t\t\t(\n\t\t\t\t\tindex == 1 &&\n\t\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 &&\n\t\t\t\t\tfirstCodeUnit == 0x002D\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character-as-code-point\n\t\t\t\tresult += '\\\\' + codeUnit.toString(16) + ' ';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is the first character and is a `-` (U+002D), and\n\t\t\t\t// there is no second character, []\n\t\t\t\tindex == 0 &&\n\t\t\t\tlength == 1 &&\n\t\t\t\tcodeUnit == 0x002D\n\t\t\t) {\n\t\t\t\tresult += '\\\\' + string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If the character is not handled by one of the above rules and is\n\t\t\t// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n\t\t\t// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n\t\t\t// U+005A), or [a-z] (U+0061 to U+007A), []\n\t\t\tif (\n\t\t\t\tcodeUnit >= 0x0080 ||\n\t\t\t\tcodeUnit == 0x002D ||\n\t\t\t\tcodeUnit == 0x005F ||\n\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 ||\n\t\t\t\tcodeUnit >= 0x0041 && codeUnit <= 0x005A ||\n\t\t\t\tcodeUnit >= 0x0061 && codeUnit <= 0x007A\n\t\t\t) {\n\t\t\t\t// the character itself\n\t\t\t\tresult += string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Otherwise, the escaped character.\n\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character\n\t\t\tresult += '\\\\' + string.charAt(index);\n\n\t\t}\n\t\treturn result;\n\t};\n\n\tif (!root.CSS) {\n\t\troot.CSS = {};\n\t}\n\n\troot.CSS.escape = cssEscape;\n\treturn cssEscape;\n\n}));\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","var ___EXPOSE_LOADER_IMPORT___ = require(\"-!./video.core.js\");\nvar ___EXPOSE_LOADER_GET_GLOBAL_THIS___ = require(\"../../../expose-loader/dist/runtime/getGlobalThis.js\");\nvar ___EXPOSE_LOADER_GLOBAL_THIS___ = ___EXPOSE_LOADER_GET_GLOBAL_THIS___;\n___EXPOSE_LOADER_GLOBAL_THIS___[\"videojs\"] = ___EXPOSE_LOADER_IMPORT___;\nmodule.exports = ___EXPOSE_LOADER_IMPORT___;\n","\"use strict\";\n\n// eslint-disable-next-line func-names\nmodule.exports = function () {\n  if (typeof globalThis === \"object\") {\n    return globalThis;\n  }\n\n  var g;\n\n  try {\n    // This works if eval is allowed (see CSP)\n    // eslint-disable-next-line no-new-func\n    g = this || new Function(\"return this\")();\n  } catch (e) {\n    // This works if the window reference is available\n    if (typeof window === \"object\") {\n      return window;\n    } // This works if the self reference is available\n\n\n    if (typeof self === \"object\") {\n      return self;\n    } // This works if the global reference is available\n\n\n    if (typeof global !== \"undefined\") {\n      return global;\n    }\n  }\n\n  return g;\n}();","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","/**\n * @license\n * Video.js 7.20.3 <http://videojs.com/>\n * Copyright Brightcove, Inc. <https://www.brightcove.com/>\n * Available under Apache License Version 2.0\n * <https://github.com/videojs/video.js/blob/main/LICENSE>\n *\n * Includes vtt.js <https://github.com/mozilla/vtt.js>\n * Available under Apache License Version 2.0\n * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.videojs = factory());\n}(this, (function () { 'use strict';\n\n  var version = \"7.20.3\";\n\n  /**\n   * An Object that contains lifecycle hooks as keys which point to an array\n   * of functions that are run when a lifecycle is triggered\n   *\n   * @private\n   */\n  var hooks_ = {};\n  /**\n   * Get a list of hooks for a specific lifecycle\n   *\n   * @param  {string} type\n   *         the lifecyle to get hooks from\n   *\n   * @param  {Function|Function[]} [fn]\n   *         Optionally add a hook (or hooks) to the lifecycle that your are getting.\n   *\n   * @return {Array}\n   *         an array of hooks, or an empty array if there are none.\n   */\n\n  var hooks = function hooks(type, fn) {\n    hooks_[type] = hooks_[type] || [];\n\n    if (fn) {\n      hooks_[type] = hooks_[type].concat(fn);\n    }\n\n    return hooks_[type];\n  };\n  /**\n   * Add a function hook to a specific videojs lifecycle.\n   *\n   * @param {string} type\n   *        the lifecycle to hook the function to.\n   *\n   * @param {Function|Function[]}\n   *        The function or array of functions to attach.\n   */\n\n\n  var hook = function hook(type, fn) {\n    hooks(type, fn);\n  };\n  /**\n   * Remove a hook from a specific videojs lifecycle.\n   *\n   * @param  {string} type\n   *         the lifecycle that the function hooked to\n   *\n   * @param  {Function} fn\n   *         The hooked function to remove\n   *\n   * @return {boolean}\n   *         The function that was removed or undef\n   */\n\n\n  var removeHook = function removeHook(type, fn) {\n    var index = hooks(type).indexOf(fn);\n\n    if (index <= -1) {\n      return false;\n    }\n\n    hooks_[type] = hooks_[type].slice();\n    hooks_[type].splice(index, 1);\n    return true;\n  };\n  /**\n   * Add a function hook that will only run once to a specific videojs lifecycle.\n   *\n   * @param {string} type\n   *        the lifecycle to hook the function to.\n   *\n   * @param {Function|Function[]}\n   *        The function or array of functions to attach.\n   */\n\n\n  var hookOnce = function hookOnce(type, fn) {\n    hooks(type, [].concat(fn).map(function (original) {\n      var wrapper = function wrapper() {\n        removeHook(type, wrapper);\n        return original.apply(void 0, arguments);\n      };\n\n      return wrapper;\n    }));\n  };\n\n  /**\n   * @file fullscreen-api.js\n   * @module fullscreen-api\n   * @private\n   */\n\n  /**\n   * Store the browser-specific methods for the fullscreen API.\n   *\n   * @type {Object}\n   * @see [Specification]{@link https://fullscreen.spec.whatwg.org}\n   * @see [Map Approach From Screenfull.js]{@link https://github.com/sindresorhus/screenfull.js}\n   */\n  var FullscreenApi = {\n    prefixed: true\n  }; // browser API methods\n\n  var apiMap = [['requestFullscreen', 'exitFullscreen', 'fullscreenElement', 'fullscreenEnabled', 'fullscreenchange', 'fullscreenerror', 'fullscreen'], // WebKit\n  ['webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitFullscreenElement', 'webkitFullscreenEnabled', 'webkitfullscreenchange', 'webkitfullscreenerror', '-webkit-full-screen'], // Mozilla\n  ['mozRequestFullScreen', 'mozCancelFullScreen', 'mozFullScreenElement', 'mozFullScreenEnabled', 'mozfullscreenchange', 'mozfullscreenerror', '-moz-full-screen'], // Microsoft\n  ['msRequestFullscreen', 'msExitFullscreen', 'msFullscreenElement', 'msFullscreenEnabled', 'MSFullscreenChange', 'MSFullscreenError', '-ms-fullscreen']];\n  var specApi = apiMap[0];\n  var browserApi; // determine the supported set of functions\n\n  for (var i = 0; i < apiMap.length; i++) {\n    // check for exitFullscreen function\n    if (apiMap[i][1] in document) {\n      browserApi = apiMap[i];\n      break;\n    }\n  } // map the browser API names to the spec API names\n\n\n  if (browserApi) {\n    for (var _i = 0; _i < browserApi.length; _i++) {\n      FullscreenApi[specApi[_i]] = browserApi[_i];\n    }\n\n    FullscreenApi.prefixed = browserApi[0] !== specApi[0];\n  }\n\n  /**\n   * @file create-logger.js\n   * @module create-logger\n   */\n  // This is the private tracking variable for the logging history.\n  var history = [];\n  /**\n   * Log messages to the console and history based on the type of message\n   *\n   * @private\n   * @param  {string} type\n   *         The name of the console method to use.\n   *\n   * @param  {Array} args\n   *         The arguments to be passed to the matching console method.\n   */\n\n  var LogByTypeFactory = function LogByTypeFactory(name, log) {\n    return function (type, level, args) {\n      var lvl = log.levels[level];\n      var lvlRegExp = new RegExp(\"^(\" + lvl + \")$\");\n\n      if (type !== 'log') {\n        // Add the type to the front of the message when it's not \"log\".\n        args.unshift(type.toUpperCase() + ':');\n      } // Add console prefix after adding to history.\n\n\n      args.unshift(name + ':'); // Add a clone of the args at this point to history.\n\n      if (history) {\n        history.push([].concat(args)); // only store 1000 history entries\n\n        var splice = history.length - 1000;\n        history.splice(0, splice > 0 ? splice : 0);\n      } // If there's no console then don't try to output messages, but they will\n      // still be stored in history.\n\n\n      if (!window.console) {\n        return;\n      } // Was setting these once outside of this function, but containing them\n      // in the function makes it easier to test cases where console doesn't exist\n      // when the module is executed.\n\n\n      var fn = window.console[type];\n\n      if (!fn && type === 'debug') {\n        // Certain browsers don't have support for console.debug. For those, we\n        // should default to the closest comparable log.\n        fn = window.console.info || window.console.log;\n      } // Bail out if there's no console or if this type is not allowed by the\n      // current logging level.\n\n\n      if (!fn || !lvl || !lvlRegExp.test(type)) {\n        return;\n      }\n\n      fn[Array.isArray(args) ? 'apply' : 'call'](window.console, args);\n    };\n  };\n\n  function createLogger$1(name) {\n    // This is the private tracking variable for logging level.\n    var level = 'info'; // the curried logByType bound to the specific log and history\n\n    var logByType;\n    /**\n     * Logs plain debug messages. Similar to `console.log`.\n     *\n     * Due to [limitations](https://github.com/jsdoc3/jsdoc/issues/955#issuecomment-313829149)\n     * of our JSDoc template, we cannot properly document this as both a function\n     * and a namespace, so its function signature is documented here.\n     *\n     * #### Arguments\n     * ##### *args\n     * Mixed[]\n     *\n     * Any combination of values that could be passed to `console.log()`.\n     *\n     * #### Return Value\n     *\n     * `undefined`\n     *\n     * @namespace\n     * @param    {Mixed[]} args\n     *           One or more messages or objects that should be logged.\n     */\n\n    var log = function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      logByType('log', level, args);\n    }; // This is the logByType helper that the logging methods below use\n\n\n    logByType = LogByTypeFactory(name, log);\n    /**\n     * Create a new sublogger which chains the old name to the new name.\n     *\n     * For example, doing `videojs.log.createLogger('player')` and then using that logger will log the following:\n     * ```js\n     *  mylogger('foo');\n     *  // > VIDEOJS: player: foo\n     * ```\n     *\n     * @param {string} name\n     *        The name to add call the new logger\n     * @return {Object}\n     */\n\n    log.createLogger = function (subname) {\n      return createLogger$1(name + ': ' + subname);\n    };\n    /**\n     * Enumeration of available logging levels, where the keys are the level names\n     * and the values are `|`-separated strings containing logging methods allowed\n     * in that logging level. These strings are used to create a regular expression\n     * matching the function name being called.\n     *\n     * Levels provided by Video.js are:\n     *\n     * - `off`: Matches no calls. Any value that can be cast to `false` will have\n     *   this effect. The most restrictive.\n     * - `all`: Matches only Video.js-provided functions (`debug`, `log`,\n     *   `log.warn`, and `log.error`).\n     * - `debug`: Matches `log.debug`, `log`, `log.warn`, and `log.error` calls.\n     * - `info` (default): Matches `log`, `log.warn`, and `log.error` calls.\n     * - `warn`: Matches `log.warn` and `log.error` calls.\n     * - `error`: Matches only `log.error` calls.\n     *\n     * @type {Object}\n     */\n\n\n    log.levels = {\n      all: 'debug|log|warn|error',\n      off: '',\n      debug: 'debug|log|warn|error',\n      info: 'log|warn|error',\n      warn: 'warn|error',\n      error: 'error',\n      DEFAULT: level\n    };\n    /**\n     * Get or set the current logging level.\n     *\n     * If a string matching a key from {@link module:log.levels} is provided, acts\n     * as a setter.\n     *\n     * @param  {string} [lvl]\n     *         Pass a valid level to set a new logging level.\n     *\n     * @return {string}\n     *         The current logging level.\n     */\n\n    log.level = function (lvl) {\n      if (typeof lvl === 'string') {\n        if (!log.levels.hasOwnProperty(lvl)) {\n          throw new Error(\"\\\"\" + lvl + \"\\\" in not a valid log level\");\n        }\n\n        level = lvl;\n      }\n\n      return level;\n    };\n    /**\n     * Returns an array containing everything that has been logged to the history.\n     *\n     * This array is a shallow clone of the internal history record. However, its\n     * contents are _not_ cloned; so, mutating objects inside this array will\n     * mutate them in history.\n     *\n     * @return {Array}\n     */\n\n\n    log.history = function () {\n      return history ? [].concat(history) : [];\n    };\n    /**\n     * Allows you to filter the history by the given logger name\n     *\n     * @param {string} fname\n     *        The name to filter by\n     *\n     * @return {Array}\n     *         The filtered list to return\n     */\n\n\n    log.history.filter = function (fname) {\n      return (history || []).filter(function (historyItem) {\n        // if the first item in each historyItem includes `fname`, then it's a match\n        return new RegExp(\".*\" + fname + \".*\").test(historyItem[0]);\n      });\n    };\n    /**\n     * Clears the internal history tracking, but does not prevent further history\n     * tracking.\n     */\n\n\n    log.history.clear = function () {\n      if (history) {\n        history.length = 0;\n      }\n    };\n    /**\n     * Disable history tracking if it is currently enabled.\n     */\n\n\n    log.history.disable = function () {\n      if (history !== null) {\n        history.length = 0;\n        history = null;\n      }\n    };\n    /**\n     * Enable history tracking if it is currently disabled.\n     */\n\n\n    log.history.enable = function () {\n      if (history === null) {\n        history = [];\n      }\n    };\n    /**\n     * Logs error messages. Similar to `console.error`.\n     *\n     * @param {Mixed[]} args\n     *        One or more messages or objects that should be logged as an error\n     */\n\n\n    log.error = function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return logByType('error', level, args);\n    };\n    /**\n     * Logs warning messages. Similar to `console.warn`.\n     *\n     * @param {Mixed[]} args\n     *        One or more messages or objects that should be logged as a warning.\n     */\n\n\n    log.warn = function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return logByType('warn', level, args);\n    };\n    /**\n     * Logs debug messages. Similar to `console.debug`, but may also act as a comparable\n     * log if `console.debug` is not available\n     *\n     * @param {Mixed[]} args\n     *        One or more messages or objects that should be logged as debug.\n     */\n\n\n    log.debug = function () {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return logByType('debug', level, args);\n    };\n\n    return log;\n  }\n\n  /**\n   * @file log.js\n   * @module log\n   */\n  var log = createLogger$1('VIDEOJS');\n  var createLogger = log.createLogger;\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var _extends_1 = createCommonjsModule(function (module) {\n    function _extends() {\n      module.exports = _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];\n\n          for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n\n        return target;\n      };\n\n      return _extends.apply(this, arguments);\n    }\n\n    module.exports = _extends;\n  });\n\n  /**\n   * @file obj.js\n   * @module obj\n   */\n\n  /**\n   * @callback obj:EachCallback\n   *\n   * @param {Mixed} value\n   *        The current key for the object that is being iterated over.\n   *\n   * @param {string} key\n   *        The current key-value for object that is being iterated over\n   */\n\n  /**\n   * @callback obj:ReduceCallback\n   *\n   * @param {Mixed} accum\n   *        The value that is accumulating over the reduce loop.\n   *\n   * @param {Mixed} value\n   *        The current key for the object that is being iterated over.\n   *\n   * @param {string} key\n   *        The current key-value for object that is being iterated over\n   *\n   * @return {Mixed}\n   *         The new accumulated value.\n   */\n  var toString$1 = Object.prototype.toString;\n  /**\n   * Get the keys of an Object\n   *\n   * @param {Object}\n   *        The Object to get the keys from\n   *\n   * @return {string[]}\n   *         An array of the keys from the object. Returns an empty array if the\n   *         object passed in was invalid or had no keys.\n   *\n   * @private\n   */\n\n  var keys = function keys(object) {\n    return isObject(object) ? Object.keys(object) : [];\n  };\n  /**\n   * Array-like iteration for objects.\n   *\n   * @param {Object} object\n   *        The object to iterate over\n   *\n   * @param {obj:EachCallback} fn\n   *        The callback function which is called for each key in the object.\n   */\n\n\n  function each(object, fn) {\n    keys(object).forEach(function (key) {\n      return fn(object[key], key);\n    });\n  }\n  /**\n   * Array-like reduce for objects.\n   *\n   * @param {Object} object\n   *        The Object that you want to reduce.\n   *\n   * @param {Function} fn\n   *         A callback function which is called for each key in the object. It\n   *         receives the accumulated value and the per-iteration value and key\n   *         as arguments.\n   *\n   * @param {Mixed} [initial = 0]\n   *        Starting value\n   *\n   * @return {Mixed}\n   *         The final accumulated value.\n   */\n\n  function reduce(object, fn, initial) {\n    if (initial === void 0) {\n      initial = 0;\n    }\n\n    return keys(object).reduce(function (accum, key) {\n      return fn(accum, object[key], key);\n    }, initial);\n  }\n  /**\n   * Object.assign-style object shallow merge/extend.\n   *\n   * @param  {Object} target\n   * @param  {Object} ...sources\n   * @return {Object}\n   */\n\n  function assign(target) {\n    for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      sources[_key - 1] = arguments[_key];\n    }\n\n    if (Object.assign) {\n      return _extends_1.apply(void 0, [target].concat(sources));\n    }\n\n    sources.forEach(function (source) {\n      if (!source) {\n        return;\n      }\n\n      each(source, function (value, key) {\n        target[key] = value;\n      });\n    });\n    return target;\n  }\n  /**\n   * Returns whether a value is an object of any kind - including DOM nodes,\n   * arrays, regular expressions, etc. Not functions, though.\n   *\n   * This avoids the gotcha where using `typeof` on a `null` value\n   * results in `'object'`.\n   *\n   * @param  {Object} value\n   * @return {boolean}\n   */\n\n  function isObject(value) {\n    return !!value && typeof value === 'object';\n  }\n  /**\n   * Returns whether an object appears to be a \"plain\" object - that is, a\n   * direct instance of `Object`.\n   *\n   * @param  {Object} value\n   * @return {boolean}\n   */\n\n  function isPlain(value) {\n    return isObject(value) && toString$1.call(value) === '[object Object]' && value.constructor === Object;\n  }\n\n  /**\n   * @file computed-style.js\n   * @module computed-style\n   */\n\n  /**\n   * A safe getComputedStyle.\n   *\n   * This is needed because in Firefox, if the player is loaded in an iframe with\n   * `display:none`, then `getComputedStyle` returns `null`, so, we do a\n   * null-check to make sure that the player doesn't break in these cases.\n   *\n   * @function\n   * @param    {Element} el\n   *           The element you want the computed style of\n   *\n   * @param    {string} prop\n   *           The property name you want\n   *\n   * @see      https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n   */\n  function computedStyle(el, prop) {\n    if (!el || !prop) {\n      return '';\n    }\n\n    if (typeof window.getComputedStyle === 'function') {\n      var computedStyleValue;\n\n      try {\n        computedStyleValue = window.getComputedStyle(el);\n      } catch (e) {\n        return '';\n      }\n\n      return computedStyleValue ? computedStyleValue.getPropertyValue(prop) || computedStyleValue[prop] : '';\n    }\n\n    return '';\n  }\n\n  /**\n   * @file browser.js\n   * @module browser\n   */\n  var USER_AGENT = window.navigator && window.navigator.userAgent || '';\n  var webkitVersionMap = /AppleWebKit\\/([\\d.]+)/i.exec(USER_AGENT);\n  var appleWebkitVersion = webkitVersionMap ? parseFloat(webkitVersionMap.pop()) : null;\n  /**\n   * Whether or not this device is an iPod.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_IPOD = /iPod/i.test(USER_AGENT);\n  /**\n   * The detected iOS version - or `null`.\n   *\n   * @static\n   * @const\n   * @type {string|null}\n   */\n\n  var IOS_VERSION = function () {\n    var match = USER_AGENT.match(/OS (\\d+)_/i);\n\n    if (match && match[1]) {\n      return match[1];\n    }\n\n    return null;\n  }();\n  /**\n   * Whether or not this is an Android device.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_ANDROID = /Android/i.test(USER_AGENT);\n  /**\n   * The detected Android version - or `null`.\n   *\n   * @static\n   * @const\n   * @type {number|string|null}\n   */\n\n  var ANDROID_VERSION = function () {\n    // This matches Android Major.Minor.Patch versions\n    // ANDROID_VERSION is Major.Minor as a Number, if Minor isn't available, then only Major is returned\n    var match = USER_AGENT.match(/Android (\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))*/i);\n\n    if (!match) {\n      return null;\n    }\n\n    var major = match[1] && parseFloat(match[1]);\n    var minor = match[2] && parseFloat(match[2]);\n\n    if (major && minor) {\n      return parseFloat(match[1] + '.' + match[2]);\n    } else if (major) {\n      return major;\n    }\n\n    return null;\n  }();\n  /**\n   * Whether or not this is a native Android browser.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_NATIVE_ANDROID = IS_ANDROID && ANDROID_VERSION < 5 && appleWebkitVersion < 537;\n  /**\n   * Whether or not this is Mozilla Firefox.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_FIREFOX = /Firefox/i.test(USER_AGENT);\n  /**\n   * Whether or not this is Microsoft Edge.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_EDGE = /Edg/i.test(USER_AGENT);\n  /**\n   * Whether or not this is Google Chrome.\n   *\n   * This will also be `true` for Chrome on iOS, which will have different support\n   * as it is actually Safari under the hood.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_CHROME = !IS_EDGE && (/Chrome/i.test(USER_AGENT) || /CriOS/i.test(USER_AGENT));\n  /**\n   * The detected Google Chrome version - or `null`.\n   *\n   * @static\n   * @const\n   * @type {number|null}\n   */\n\n  var CHROME_VERSION = function () {\n    var match = USER_AGENT.match(/(Chrome|CriOS)\\/(\\d+)/);\n\n    if (match && match[2]) {\n      return parseFloat(match[2]);\n    }\n\n    return null;\n  }();\n  /**\n   * The detected Internet Explorer version - or `null`.\n   *\n   * @static\n   * @const\n   * @type {number|null}\n   */\n\n  var IE_VERSION = function () {\n    var result = /MSIE\\s(\\d+)\\.\\d/.exec(USER_AGENT);\n    var version = result && parseFloat(result[1]);\n\n    if (!version && /Trident\\/7.0/i.test(USER_AGENT) && /rv:11.0/.test(USER_AGENT)) {\n      // IE 11 has a different user agent string than other IE versions\n      version = 11.0;\n    }\n\n    return version;\n  }();\n  /**\n   * Whether or not this is desktop Safari.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_SAFARI = /Safari/i.test(USER_AGENT) && !IS_CHROME && !IS_ANDROID && !IS_EDGE;\n  /**\n   * Whether or not this is a Windows machine.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_WINDOWS = /Windows/i.test(USER_AGENT);\n  /**\n   * Whether or not this device is touch-enabled.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var TOUCH_ENABLED = Boolean(isReal() && ('ontouchstart' in window || window.navigator.maxTouchPoints || window.DocumentTouch && window.document instanceof window.DocumentTouch));\n  /**\n   * Whether or not this device is an iPad.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_IPAD = /iPad/i.test(USER_AGENT) || IS_SAFARI && TOUCH_ENABLED && !/iPhone/i.test(USER_AGENT);\n  /**\n   * Whether or not this device is an iPhone.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n  // The Facebook app's UIWebView identifies as both an iPhone and iPad, so\n  // to identify iPhones, we need to exclude iPads.\n  // http://artsy.github.io/blog/2012/10/18/the-perils-of-ios-user-agent-sniffing/\n\n  var IS_IPHONE = /iPhone/i.test(USER_AGENT) && !IS_IPAD;\n  /**\n   * Whether or not this is an iOS device.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_IOS = IS_IPHONE || IS_IPAD || IS_IPOD;\n  /**\n   * Whether or not this is any flavor of Safari - including iOS.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_ANY_SAFARI = (IS_SAFARI || IS_IOS) && !IS_CHROME;\n\n  var browser = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    IS_IPOD: IS_IPOD,\n    IOS_VERSION: IOS_VERSION,\n    IS_ANDROID: IS_ANDROID,\n    ANDROID_VERSION: ANDROID_VERSION,\n    IS_NATIVE_ANDROID: IS_NATIVE_ANDROID,\n    IS_FIREFOX: IS_FIREFOX,\n    IS_EDGE: IS_EDGE,\n    IS_CHROME: IS_CHROME,\n    CHROME_VERSION: CHROME_VERSION,\n    IE_VERSION: IE_VERSION,\n    IS_SAFARI: IS_SAFARI,\n    IS_WINDOWS: IS_WINDOWS,\n    TOUCH_ENABLED: TOUCH_ENABLED,\n    IS_IPAD: IS_IPAD,\n    IS_IPHONE: IS_IPHONE,\n    IS_IOS: IS_IOS,\n    IS_ANY_SAFARI: IS_ANY_SAFARI\n  });\n\n  /**\n   * @file dom.js\n   * @module dom\n   */\n  /**\n   * Detect if a value is a string with any non-whitespace characters.\n   *\n   * @private\n   * @param  {string} str\n   *         The string to check\n   *\n   * @return {boolean}\n   *         Will be `true` if the string is non-blank, `false` otherwise.\n   *\n   */\n\n  function isNonBlankString(str) {\n    // we use str.trim as it will trim any whitespace characters\n    // from the front or back of non-whitespace characters. aka\n    // Any string that contains non-whitespace characters will\n    // still contain them after `trim` but whitespace only strings\n    // will have a length of 0, failing this check.\n    return typeof str === 'string' && Boolean(str.trim());\n  }\n  /**\n   * Throws an error if the passed string has whitespace. This is used by\n   * class methods to be relatively consistent with the classList API.\n   *\n   * @private\n   * @param  {string} str\n   *         The string to check for whitespace.\n   *\n   * @throws {Error}\n   *         Throws an error if there is whitespace in the string.\n   */\n\n\n  function throwIfWhitespace(str) {\n    // str.indexOf instead of regex because str.indexOf is faster performance wise.\n    if (str.indexOf(' ') >= 0) {\n      throw new Error('class has illegal whitespace characters');\n    }\n  }\n  /**\n   * Produce a regular expression for matching a className within an elements className.\n   *\n   * @private\n   * @param  {string} className\n   *         The className to generate the RegExp for.\n   *\n   * @return {RegExp}\n   *         The RegExp that will check for a specific `className` in an elements\n   *         className.\n   */\n\n\n  function classRegExp(className) {\n    return new RegExp('(^|\\\\s)' + className + '($|\\\\s)');\n  }\n  /**\n   * Whether the current DOM interface appears to be real (i.e. not simulated).\n   *\n   * @return {boolean}\n   *         Will be `true` if the DOM appears to be real, `false` otherwise.\n   */\n\n\n  function isReal() {\n    // Both document and window will never be undefined thanks to `global`.\n    return document === window.document;\n  }\n  /**\n   * Determines, via duck typing, whether or not a value is a DOM element.\n   *\n   * @param  {Mixed} value\n   *         The value to check.\n   *\n   * @return {boolean}\n   *         Will be `true` if the value is a DOM element, `false` otherwise.\n   */\n\n  function isEl(value) {\n    return isObject(value) && value.nodeType === 1;\n  }\n  /**\n   * Determines if the current DOM is embedded in an iframe.\n   *\n   * @return {boolean}\n   *         Will be `true` if the DOM is embedded in an iframe, `false`\n   *         otherwise.\n   */\n\n  function isInFrame() {\n    // We need a try/catch here because Safari will throw errors when attempting\n    // to get either `parent` or `self`\n    try {\n      return window.parent !== window.self;\n    } catch (x) {\n      return true;\n    }\n  }\n  /**\n   * Creates functions to query the DOM using a given method.\n   *\n   * @private\n   * @param   {string} method\n   *          The method to create the query with.\n   *\n   * @return  {Function}\n   *          The query method\n   */\n\n  function createQuerier(method) {\n    return function (selector, context) {\n      if (!isNonBlankString(selector)) {\n        return document[method](null);\n      }\n\n      if (isNonBlankString(context)) {\n        context = document.querySelector(context);\n      }\n\n      var ctx = isEl(context) ? context : document;\n      return ctx[method] && ctx[method](selector);\n    };\n  }\n  /**\n   * Creates an element and applies properties, attributes, and inserts content.\n   *\n   * @param  {string} [tagName='div']\n   *         Name of tag to be created.\n   *\n   * @param  {Object} [properties={}]\n   *         Element properties to be applied.\n   *\n   * @param  {Object} [attributes={}]\n   *         Element attributes to be applied.\n   *\n   * @param {module:dom~ContentDescriptor} content\n   *        A content descriptor object.\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  function createEl(tagName, properties, attributes, content) {\n    if (tagName === void 0) {\n      tagName = 'div';\n    }\n\n    if (properties === void 0) {\n      properties = {};\n    }\n\n    if (attributes === void 0) {\n      attributes = {};\n    }\n\n    var el = document.createElement(tagName);\n    Object.getOwnPropertyNames(properties).forEach(function (propName) {\n      var val = properties[propName]; // See #2176\n      // We originally were accepting both properties and attributes in the\n      // same object, but that doesn't work so well.\n\n      if (propName.indexOf('aria-') !== -1 || propName === 'role' || propName === 'type') {\n        log.warn('Setting attributes in the second argument of createEl()\\n' + 'has been deprecated. Use the third argument instead.\\n' + (\"createEl(type, properties, attributes). Attempting to set \" + propName + \" to \" + val + \".\"));\n        el.setAttribute(propName, val); // Handle textContent since it's not supported everywhere and we have a\n        // method for it.\n      } else if (propName === 'textContent') {\n        textContent(el, val);\n      } else if (el[propName] !== val || propName === 'tabIndex') {\n        el[propName] = val;\n      }\n    });\n    Object.getOwnPropertyNames(attributes).forEach(function (attrName) {\n      el.setAttribute(attrName, attributes[attrName]);\n    });\n\n    if (content) {\n      appendContent(el, content);\n    }\n\n    return el;\n  }\n  /**\n   * Injects text into an element, replacing any existing contents entirely.\n   *\n   * @param  {Element} el\n   *         The element to add text content into\n   *\n   * @param  {string} text\n   *         The text content to add.\n   *\n   * @return {Element}\n   *         The element with added text content.\n   */\n\n  function textContent(el, text) {\n    if (typeof el.textContent === 'undefined') {\n      el.innerText = text;\n    } else {\n      el.textContent = text;\n    }\n\n    return el;\n  }\n  /**\n   * Insert an element as the first child node of another\n   *\n   * @param {Element} child\n   *        Element to insert\n   *\n   * @param {Element} parent\n   *        Element to insert child into\n   */\n\n  function prependTo(child, parent) {\n    if (parent.firstChild) {\n      parent.insertBefore(child, parent.firstChild);\n    } else {\n      parent.appendChild(child);\n    }\n  }\n  /**\n   * Check if an element has a class name.\n   *\n   * @param  {Element} element\n   *         Element to check\n   *\n   * @param  {string} classToCheck\n   *         Class name to check for\n   *\n   * @return {boolean}\n   *         Will be `true` if the element has a class, `false` otherwise.\n   *\n   * @throws {Error}\n   *         Throws an error if `classToCheck` has white space.\n   */\n\n  function hasClass(element, classToCheck) {\n    throwIfWhitespace(classToCheck);\n\n    if (element.classList) {\n      return element.classList.contains(classToCheck);\n    }\n\n    return classRegExp(classToCheck).test(element.className);\n  }\n  /**\n   * Add a class name to an element.\n   *\n   * @param  {Element} element\n   *         Element to add class name to.\n   *\n   * @param  {string} classToAdd\n   *         Class name to add.\n   *\n   * @return {Element}\n   *         The DOM element with the added class name.\n   */\n\n  function addClass(element, classToAdd) {\n    if (element.classList) {\n      element.classList.add(classToAdd); // Don't need to `throwIfWhitespace` here because `hasElClass` will do it\n      // in the case of classList not being supported.\n    } else if (!hasClass(element, classToAdd)) {\n      element.className = (element.className + ' ' + classToAdd).trim();\n    }\n\n    return element;\n  }\n  /**\n   * Remove a class name from an element.\n   *\n   * @param  {Element} element\n   *         Element to remove a class name from.\n   *\n   * @param  {string} classToRemove\n   *         Class name to remove\n   *\n   * @return {Element}\n   *         The DOM element with class name removed.\n   */\n\n  function removeClass(element, classToRemove) {\n    // Protect in case the player gets disposed\n    if (!element) {\n      log.warn(\"removeClass was called with an element that doesn't exist\");\n      return null;\n    }\n\n    if (element.classList) {\n      element.classList.remove(classToRemove);\n    } else {\n      throwIfWhitespace(classToRemove);\n      element.className = element.className.split(/\\s+/).filter(function (c) {\n        return c !== classToRemove;\n      }).join(' ');\n    }\n\n    return element;\n  }\n  /**\n   * The callback definition for toggleClass.\n   *\n   * @callback module:dom~PredicateCallback\n   * @param    {Element} element\n   *           The DOM element of the Component.\n   *\n   * @param    {string} classToToggle\n   *           The `className` that wants to be toggled\n   *\n   * @return   {boolean|undefined}\n   *           If `true` is returned, the `classToToggle` will be added to the\n   *           `element`. If `false`, the `classToToggle` will be removed from\n   *           the `element`. If `undefined`, the callback will be ignored.\n   */\n\n  /**\n   * Adds or removes a class name to/from an element depending on an optional\n   * condition or the presence/absence of the class name.\n   *\n   * @param  {Element} element\n   *         The element to toggle a class name on.\n   *\n   * @param  {string} classToToggle\n   *         The class that should be toggled.\n   *\n   * @param  {boolean|module:dom~PredicateCallback} [predicate]\n   *         See the return value for {@link module:dom~PredicateCallback}\n   *\n   * @return {Element}\n   *         The element with a class that has been toggled.\n   */\n\n  function toggleClass(element, classToToggle, predicate) {\n    // This CANNOT use `classList` internally because IE11 does not support the\n    // second parameter to the `classList.toggle()` method! Which is fine because\n    // `classList` will be used by the add/remove functions.\n    var has = hasClass(element, classToToggle);\n\n    if (typeof predicate === 'function') {\n      predicate = predicate(element, classToToggle);\n    }\n\n    if (typeof predicate !== 'boolean') {\n      predicate = !has;\n    } // If the necessary class operation matches the current state of the\n    // element, no action is required.\n\n\n    if (predicate === has) {\n      return;\n    }\n\n    if (predicate) {\n      addClass(element, classToToggle);\n    } else {\n      removeClass(element, classToToggle);\n    }\n\n    return element;\n  }\n  /**\n   * Apply attributes to an HTML element.\n   *\n   * @param {Element} el\n   *        Element to add attributes to.\n   *\n   * @param {Object} [attributes]\n   *        Attributes to be applied.\n   */\n\n  function setAttributes(el, attributes) {\n    Object.getOwnPropertyNames(attributes).forEach(function (attrName) {\n      var attrValue = attributes[attrName];\n\n      if (attrValue === null || typeof attrValue === 'undefined' || attrValue === false) {\n        el.removeAttribute(attrName);\n      } else {\n        el.setAttribute(attrName, attrValue === true ? '' : attrValue);\n      }\n    });\n  }\n  /**\n   * Get an element's attribute values, as defined on the HTML tag.\n   *\n   * Attributes are not the same as properties. They're defined on the tag\n   * or with setAttribute.\n   *\n   * @param  {Element} tag\n   *         Element from which to get tag attributes.\n   *\n   * @return {Object}\n   *         All attributes of the element. Boolean attributes will be `true` or\n   *         `false`, others will be strings.\n   */\n\n  function getAttributes(tag) {\n    var obj = {}; // known boolean attributes\n    // we can check for matching boolean properties, but not all browsers\n    // and not all tags know about these attributes, so, we still want to check them manually\n\n    var knownBooleans = ',' + 'autoplay,controls,playsinline,loop,muted,default,defaultMuted' + ',';\n\n    if (tag && tag.attributes && tag.attributes.length > 0) {\n      var attrs = tag.attributes;\n\n      for (var i = attrs.length - 1; i >= 0; i--) {\n        var attrName = attrs[i].name;\n        var attrVal = attrs[i].value; // check for known booleans\n        // the matching element property will return a value for typeof\n\n        if (typeof tag[attrName] === 'boolean' || knownBooleans.indexOf(',' + attrName + ',') !== -1) {\n          // the value of an included boolean attribute is typically an empty\n          // string ('') which would equal false if we just check for a false value.\n          // we also don't want support bad code like autoplay='false'\n          attrVal = attrVal !== null ? true : false;\n        }\n\n        obj[attrName] = attrVal;\n      }\n    }\n\n    return obj;\n  }\n  /**\n   * Get the value of an element's attribute.\n   *\n   * @param {Element} el\n   *        A DOM element.\n   *\n   * @param {string} attribute\n   *        Attribute to get the value of.\n   *\n   * @return {string}\n   *         The value of the attribute.\n   */\n\n  function getAttribute(el, attribute) {\n    return el.getAttribute(attribute);\n  }\n  /**\n   * Set the value of an element's attribute.\n   *\n   * @param {Element} el\n   *        A DOM element.\n   *\n   * @param {string} attribute\n   *        Attribute to set.\n   *\n   * @param {string} value\n   *        Value to set the attribute to.\n   */\n\n  function setAttribute(el, attribute, value) {\n    el.setAttribute(attribute, value);\n  }\n  /**\n   * Remove an element's attribute.\n   *\n   * @param {Element} el\n   *        A DOM element.\n   *\n   * @param {string} attribute\n   *        Attribute to remove.\n   */\n\n  function removeAttribute(el, attribute) {\n    el.removeAttribute(attribute);\n  }\n  /**\n   * Attempt to block the ability to select text.\n   */\n\n  function blockTextSelection() {\n    document.body.focus();\n\n    document.onselectstart = function () {\n      return false;\n    };\n  }\n  /**\n   * Turn off text selection blocking.\n   */\n\n  function unblockTextSelection() {\n    document.onselectstart = function () {\n      return true;\n    };\n  }\n  /**\n   * Identical to the native `getBoundingClientRect` function, but ensures that\n   * the method is supported at all (it is in all browsers we claim to support)\n   * and that the element is in the DOM before continuing.\n   *\n   * This wrapper function also shims properties which are not provided by some\n   * older browsers (namely, IE8).\n   *\n   * Additionally, some browsers do not support adding properties to a\n   * `ClientRect`/`DOMRect` object; so, we shallow-copy it with the standard\n   * properties (except `x` and `y` which are not widely supported). This helps\n   * avoid implementations where keys are non-enumerable.\n   *\n   * @param  {Element} el\n   *         Element whose `ClientRect` we want to calculate.\n   *\n   * @return {Object|undefined}\n   *         Always returns a plain object - or `undefined` if it cannot.\n   */\n\n  function getBoundingClientRect(el) {\n    if (el && el.getBoundingClientRect && el.parentNode) {\n      var rect = el.getBoundingClientRect();\n      var result = {};\n      ['bottom', 'height', 'left', 'right', 'top', 'width'].forEach(function (k) {\n        if (rect[k] !== undefined) {\n          result[k] = rect[k];\n        }\n      });\n\n      if (!result.height) {\n        result.height = parseFloat(computedStyle(el, 'height'));\n      }\n\n      if (!result.width) {\n        result.width = parseFloat(computedStyle(el, 'width'));\n      }\n\n      return result;\n    }\n  }\n  /**\n   * Represents the position of a DOM element on the page.\n   *\n   * @typedef  {Object} module:dom~Position\n   *\n   * @property {number} left\n   *           Pixels to the left.\n   *\n   * @property {number} top\n   *           Pixels from the top.\n   */\n\n  /**\n   * Get the position of an element in the DOM.\n   *\n   * Uses `getBoundingClientRect` technique from John Resig.\n   *\n   * @see http://ejohn.org/blog/getboundingclientrect-is-awesome/\n   *\n   * @param  {Element} el\n   *         Element from which to get offset.\n   *\n   * @return {module:dom~Position}\n   *         The position of the element that was passed in.\n   */\n\n  function findPosition(el) {\n    if (!el || el && !el.offsetParent) {\n      return {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0\n      };\n    }\n\n    var width = el.offsetWidth;\n    var height = el.offsetHeight;\n    var left = 0;\n    var top = 0;\n\n    while (el.offsetParent && el !== document[FullscreenApi.fullscreenElement]) {\n      left += el.offsetLeft;\n      top += el.offsetTop;\n      el = el.offsetParent;\n    }\n\n    return {\n      left: left,\n      top: top,\n      width: width,\n      height: height\n    };\n  }\n  /**\n   * Represents x and y coordinates for a DOM element or mouse pointer.\n   *\n   * @typedef  {Object} module:dom~Coordinates\n   *\n   * @property {number} x\n   *           x coordinate in pixels\n   *\n   * @property {number} y\n   *           y coordinate in pixels\n   */\n\n  /**\n   * Get the pointer position within an element.\n   *\n   * The base on the coordinates are the bottom left of the element.\n   *\n   * @param  {Element} el\n   *         Element on which to get the pointer position on.\n   *\n   * @param  {EventTarget~Event} event\n   *         Event object.\n   *\n   * @return {module:dom~Coordinates}\n   *         A coordinates object corresponding to the mouse position.\n   *\n   */\n\n  function getPointerPosition(el, event) {\n    var translated = {\n      x: 0,\n      y: 0\n    };\n\n    if (IS_IOS) {\n      var item = el;\n\n      while (item && item.nodeName.toLowerCase() !== 'html') {\n        var transform = computedStyle(item, 'transform');\n\n        if (/^matrix/.test(transform)) {\n          var values = transform.slice(7, -1).split(/,\\s/).map(Number);\n          translated.x += values[4];\n          translated.y += values[5];\n        } else if (/^matrix3d/.test(transform)) {\n          var _values = transform.slice(9, -1).split(/,\\s/).map(Number);\n\n          translated.x += _values[12];\n          translated.y += _values[13];\n        }\n\n        item = item.parentNode;\n      }\n    }\n\n    var position = {};\n    var boxTarget = findPosition(event.target);\n    var box = findPosition(el);\n    var boxW = box.width;\n    var boxH = box.height;\n    var offsetY = event.offsetY - (box.top - boxTarget.top);\n    var offsetX = event.offsetX - (box.left - boxTarget.left);\n\n    if (event.changedTouches) {\n      offsetX = event.changedTouches[0].pageX - box.left;\n      offsetY = event.changedTouches[0].pageY + box.top;\n\n      if (IS_IOS) {\n        offsetX -= translated.x;\n        offsetY -= translated.y;\n      }\n    }\n\n    position.y = 1 - Math.max(0, Math.min(1, offsetY / boxH));\n    position.x = Math.max(0, Math.min(1, offsetX / boxW));\n    return position;\n  }\n  /**\n   * Determines, via duck typing, whether or not a value is a text node.\n   *\n   * @param  {Mixed} value\n   *         Check if this value is a text node.\n   *\n   * @return {boolean}\n   *         Will be `true` if the value is a text node, `false` otherwise.\n   */\n\n  function isTextNode(value) {\n    return isObject(value) && value.nodeType === 3;\n  }\n  /**\n   * Empties the contents of an element.\n   *\n   * @param  {Element} el\n   *         The element to empty children from\n   *\n   * @return {Element}\n   *         The element with no children\n   */\n\n  function emptyEl(el) {\n    while (el.firstChild) {\n      el.removeChild(el.firstChild);\n    }\n\n    return el;\n  }\n  /**\n   * This is a mixed value that describes content to be injected into the DOM\n   * via some method. It can be of the following types:\n   *\n   * Type       | Description\n   * -----------|-------------\n   * `string`   | The value will be normalized into a text node.\n   * `Element`  | The value will be accepted as-is.\n   * `TextNode` | The value will be accepted as-is.\n   * `Array`    | A one-dimensional array of strings, elements, text nodes, or functions. These functions should return a string, element, or text node (any other return value, like an array, will be ignored).\n   * `Function` | A function, which is expected to return a string, element, text node, or array - any of the other possible values described above. This means that a content descriptor could be a function that returns an array of functions, but those second-level functions must return strings, elements, or text nodes.\n   *\n   * @typedef {string|Element|TextNode|Array|Function} module:dom~ContentDescriptor\n   */\n\n  /**\n   * Normalizes content for eventual insertion into the DOM.\n   *\n   * This allows a wide range of content definition methods, but helps protect\n   * from falling into the trap of simply writing to `innerHTML`, which could\n   * be an XSS concern.\n   *\n   * The content for an element can be passed in multiple types and\n   * combinations, whose behavior is as follows:\n   *\n   * @param {module:dom~ContentDescriptor} content\n   *        A content descriptor value.\n   *\n   * @return {Array}\n   *         All of the content that was passed in, normalized to an array of\n   *         elements or text nodes.\n   */\n\n  function normalizeContent(content) {\n    // First, invoke content if it is a function. If it produces an array,\n    // that needs to happen before normalization.\n    if (typeof content === 'function') {\n      content = content();\n    } // Next up, normalize to an array, so one or many items can be normalized,\n    // filtered, and returned.\n\n\n    return (Array.isArray(content) ? content : [content]).map(function (value) {\n      // First, invoke value if it is a function to produce a new value,\n      // which will be subsequently normalized to a Node of some kind.\n      if (typeof value === 'function') {\n        value = value();\n      }\n\n      if (isEl(value) || isTextNode(value)) {\n        return value;\n      }\n\n      if (typeof value === 'string' && /\\S/.test(value)) {\n        return document.createTextNode(value);\n      }\n    }).filter(function (value) {\n      return value;\n    });\n  }\n  /**\n   * Normalizes and appends content to an element.\n   *\n   * @param  {Element} el\n   *         Element to append normalized content to.\n   *\n   * @param {module:dom~ContentDescriptor} content\n   *        A content descriptor value.\n   *\n   * @return {Element}\n   *         The element with appended normalized content.\n   */\n\n  function appendContent(el, content) {\n    normalizeContent(content).forEach(function (node) {\n      return el.appendChild(node);\n    });\n    return el;\n  }\n  /**\n   * Normalizes and inserts content into an element; this is identical to\n   * `appendContent()`, except it empties the element first.\n   *\n   * @param {Element} el\n   *        Element to insert normalized content into.\n   *\n   * @param {module:dom~ContentDescriptor} content\n   *        A content descriptor value.\n   *\n   * @return {Element}\n   *         The element with inserted normalized content.\n   */\n\n  function insertContent(el, content) {\n    return appendContent(emptyEl(el), content);\n  }\n  /**\n   * Check if an event was a single left click.\n   *\n   * @param  {EventTarget~Event} event\n   *         Event object.\n   *\n   * @return {boolean}\n   *         Will be `true` if a single left click, `false` otherwise.\n   */\n\n  function isSingleLeftClick(event) {\n    // Note: if you create something draggable, be sure to\n    // call it on both `mousedown` and `mousemove` event,\n    // otherwise `mousedown` should be enough for a button\n    if (event.button === undefined && event.buttons === undefined) {\n      // Why do we need `buttons` ?\n      // Because, middle mouse sometimes have this:\n      // e.button === 0 and e.buttons === 4\n      // Furthermore, we want to prevent combination click, something like\n      // HOLD middlemouse then left click, that would be\n      // e.button === 0, e.buttons === 5\n      // just `button` is not gonna work\n      // Alright, then what this block does ?\n      // this is for chrome `simulate mobile devices`\n      // I want to support this as well\n      return true;\n    }\n\n    if (event.button === 0 && event.buttons === undefined) {\n      // Touch screen, sometimes on some specific device, `buttons`\n      // doesn't have anything (safari on ios, blackberry...)\n      return true;\n    } // `mouseup` event on a single left click has\n    // `button` and `buttons` equal to 0\n\n\n    if (event.type === 'mouseup' && event.button === 0 && event.buttons === 0) {\n      return true;\n    }\n\n    if (event.button !== 0 || event.buttons !== 1) {\n      // This is the reason we have those if else block above\n      // if any special case we can catch and let it slide\n      // we do it above, when get to here, this definitely\n      // is-not-left-click\n      return false;\n    }\n\n    return true;\n  }\n  /**\n   * Finds a single DOM element matching `selector` within the optional\n   * `context` of another DOM element (defaulting to `document`).\n   *\n   * @param  {string} selector\n   *         A valid CSS selector, which will be passed to `querySelector`.\n   *\n   * @param  {Element|String} [context=document]\n   *         A DOM element within which to query. Can also be a selector\n   *         string in which case the first matching element will be used\n   *         as context. If missing (or no element matches selector), falls\n   *         back to `document`.\n   *\n   * @return {Element|null}\n   *         The element that was found or null.\n   */\n\n  var $ = createQuerier('querySelector');\n  /**\n   * Finds a all DOM elements matching `selector` within the optional\n   * `context` of another DOM element (defaulting to `document`).\n   *\n   * @param  {string} selector\n   *         A valid CSS selector, which will be passed to `querySelectorAll`.\n   *\n   * @param  {Element|String} [context=document]\n   *         A DOM element within which to query. Can also be a selector\n   *         string in which case the first matching element will be used\n   *         as context. If missing (or no element matches selector), falls\n   *         back to `document`.\n   *\n   * @return {NodeList}\n   *         A element list of elements that were found. Will be empty if none\n   *         were found.\n   *\n   */\n\n  var $$ = createQuerier('querySelectorAll');\n\n  var Dom = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    isReal: isReal,\n    isEl: isEl,\n    isInFrame: isInFrame,\n    createEl: createEl,\n    textContent: textContent,\n    prependTo: prependTo,\n    hasClass: hasClass,\n    addClass: addClass,\n    removeClass: removeClass,\n    toggleClass: toggleClass,\n    setAttributes: setAttributes,\n    getAttributes: getAttributes,\n    getAttribute: getAttribute,\n    setAttribute: setAttribute,\n    removeAttribute: removeAttribute,\n    blockTextSelection: blockTextSelection,\n    unblockTextSelection: unblockTextSelection,\n    getBoundingClientRect: getBoundingClientRect,\n    findPosition: findPosition,\n    getPointerPosition: getPointerPosition,\n    isTextNode: isTextNode,\n    emptyEl: emptyEl,\n    normalizeContent: normalizeContent,\n    appendContent: appendContent,\n    insertContent: insertContent,\n    isSingleLeftClick: isSingleLeftClick,\n    $: $,\n    $$: $$\n  });\n\n  /**\n   * @file setup.js - Functions for setting up a player without\n   * user interaction based on the data-setup `attribute` of the video tag.\n   *\n   * @module setup\n   */\n  var _windowLoaded = false;\n  var videojs$1;\n  /**\n   * Set up any tags that have a data-setup `attribute` when the player is started.\n   */\n\n  var autoSetup = function autoSetup() {\n    if (videojs$1.options.autoSetup === false) {\n      return;\n    }\n\n    var vids = Array.prototype.slice.call(document.getElementsByTagName('video'));\n    var audios = Array.prototype.slice.call(document.getElementsByTagName('audio'));\n    var divs = Array.prototype.slice.call(document.getElementsByTagName('video-js'));\n    var mediaEls = vids.concat(audios, divs); // Check if any media elements exist\n\n    if (mediaEls && mediaEls.length > 0) {\n      for (var i = 0, e = mediaEls.length; i < e; i++) {\n        var mediaEl = mediaEls[i]; // Check if element exists, has getAttribute func.\n\n        if (mediaEl && mediaEl.getAttribute) {\n          // Make sure this player hasn't already been set up.\n          if (mediaEl.player === undefined) {\n            var options = mediaEl.getAttribute('data-setup'); // Check if data-setup attr exists.\n            // We only auto-setup if they've added the data-setup attr.\n\n            if (options !== null) {\n              // Create new video.js instance.\n              videojs$1(mediaEl);\n            }\n          } // If getAttribute isn't defined, we need to wait for the DOM.\n\n        } else {\n          autoSetupTimeout(1);\n          break;\n        }\n      } // No videos were found, so keep looping unless page is finished loading.\n\n    } else if (!_windowLoaded) {\n      autoSetupTimeout(1);\n    }\n  };\n  /**\n   * Wait until the page is loaded before running autoSetup. This will be called in\n   * autoSetup if `hasLoaded` returns false.\n   *\n   * @param {number} wait\n   *        How long to wait in ms\n   *\n   * @param {module:videojs} [vjs]\n   *        The videojs library function\n   */\n\n\n  function autoSetupTimeout(wait, vjs) {\n    // Protect against breakage in non-browser environments\n    if (!isReal()) {\n      return;\n    }\n\n    if (vjs) {\n      videojs$1 = vjs;\n    }\n\n    window.setTimeout(autoSetup, wait);\n  }\n  /**\n   * Used to set the internal tracking of window loaded state to true.\n   *\n   * @private\n   */\n\n\n  function setWindowLoaded() {\n    _windowLoaded = true;\n    window.removeEventListener('load', setWindowLoaded);\n  }\n\n  if (isReal()) {\n    if (document.readyState === 'complete') {\n      setWindowLoaded();\n    } else {\n      /**\n       * Listen for the load event on window, and set _windowLoaded to true.\n       *\n       * We use a standard event listener here to avoid incrementing the GUID\n       * before any players are created.\n       *\n       * @listens load\n       */\n      window.addEventListener('load', setWindowLoaded);\n    }\n  }\n\n  /**\n   * @file stylesheet.js\n   * @module stylesheet\n   */\n\n  /**\n   * Create a DOM syle element given a className for it.\n   *\n   * @param {string} className\n   *        The className to add to the created style element.\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  var createStyleElement = function createStyleElement(className) {\n    var style = document.createElement('style');\n    style.className = className;\n    return style;\n  };\n  /**\n   * Add text to a DOM element.\n   *\n   * @param {Element} el\n   *        The Element to add text content to.\n   *\n   * @param {string} content\n   *        The text to add to the element.\n   */\n\n  var setTextContent = function setTextContent(el, content) {\n    if (el.styleSheet) {\n      el.styleSheet.cssText = content;\n    } else {\n      el.textContent = content;\n    }\n  };\n\n  /**\n   * @file guid.js\n   * @module guid\n   */\n  // Default value for GUIDs. This allows us to reset the GUID counter in tests.\n  //\n  // The initial GUID is 3 because some users have come to rely on the first\n  // default player ID ending up as `vjs_video_3`.\n  //\n  // See: https://github.com/videojs/video.js/pull/6216\n  var _initialGuid = 3;\n  /**\n   * Unique ID for an element or function\n   *\n   * @type {Number}\n   */\n\n  var _guid = _initialGuid;\n  /**\n   * Get a unique auto-incrementing ID by number that has not been returned before.\n   *\n   * @return {number}\n   *         A new unique ID.\n   */\n\n  function newGUID() {\n    return _guid++;\n  }\n\n  /**\n   * @file dom-data.js\n   * @module dom-data\n   */\n  var FakeWeakMap;\n\n  if (!window.WeakMap) {\n    FakeWeakMap = /*#__PURE__*/function () {\n      function FakeWeakMap() {\n        this.vdata = 'vdata' + Math.floor(window.performance && window.performance.now() || Date.now());\n        this.data = {};\n      }\n\n      var _proto = FakeWeakMap.prototype;\n\n      _proto.set = function set(key, value) {\n        var access = key[this.vdata] || newGUID();\n\n        if (!key[this.vdata]) {\n          key[this.vdata] = access;\n        }\n\n        this.data[access] = value;\n        return this;\n      };\n\n      _proto.get = function get(key) {\n        var access = key[this.vdata]; // we have data, return it\n\n        if (access) {\n          return this.data[access];\n        } // we don't have data, return nothing.\n        // return undefined explicitly as that's the contract for this method\n\n\n        log('We have no data for this element', key);\n        return undefined;\n      };\n\n      _proto.has = function has(key) {\n        var access = key[this.vdata];\n        return access in this.data;\n      };\n\n      _proto[\"delete\"] = function _delete(key) {\n        var access = key[this.vdata];\n\n        if (access) {\n          delete this.data[access];\n          delete key[this.vdata];\n        }\n      };\n\n      return FakeWeakMap;\n    }();\n  }\n  /**\n   * Element Data Store.\n   *\n   * Allows for binding data to an element without putting it directly on the\n   * element. Ex. Event listeners are stored here.\n   * (also from jsninja.com, slightly modified and updated for closure compiler)\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  var DomData = window.WeakMap ? new WeakMap() : new FakeWeakMap();\n\n  /**\n   * @file events.js. An Event System (John Resig - Secrets of a JS Ninja http://jsninja.com/)\n   * (Original book version wasn't completely usable, so fixed some things and made Closure Compiler compatible)\n   * This should work very similarly to jQuery's events, however it's based off the book version which isn't as\n   * robust as jquery's, so there's probably some differences.\n   *\n   * @file events.js\n   * @module events\n   */\n  /**\n   * Clean up the listener cache and dispatchers\n   *\n   * @param {Element|Object} elem\n   *        Element to clean up\n   *\n   * @param {string} type\n   *        Type of event to clean up\n   */\n\n  function _cleanUpEvents(elem, type) {\n    if (!DomData.has(elem)) {\n      return;\n    }\n\n    var data = DomData.get(elem); // Remove the events of a particular type if there are none left\n\n    if (data.handlers[type].length === 0) {\n      delete data.handlers[type]; // data.handlers[type] = null;\n      // Setting to null was causing an error with data.handlers\n      // Remove the meta-handler from the element\n\n      if (elem.removeEventListener) {\n        elem.removeEventListener(type, data.dispatcher, false);\n      } else if (elem.detachEvent) {\n        elem.detachEvent('on' + type, data.dispatcher);\n      }\n    } // Remove the events object if there are no types left\n\n\n    if (Object.getOwnPropertyNames(data.handlers).length <= 0) {\n      delete data.handlers;\n      delete data.dispatcher;\n      delete data.disabled;\n    } // Finally remove the element data if there is no data left\n\n\n    if (Object.getOwnPropertyNames(data).length === 0) {\n      DomData[\"delete\"](elem);\n    }\n  }\n  /**\n   * Loops through an array of event types and calls the requested method for each type.\n   *\n   * @param {Function} fn\n   *        The event method we want to use.\n   *\n   * @param {Element|Object} elem\n   *        Element or object to bind listeners to\n   *\n   * @param {string} type\n   *        Type of event to bind to.\n   *\n   * @param {EventTarget~EventListener} callback\n   *        Event listener.\n   */\n\n\n  function _handleMultipleEvents(fn, elem, types, callback) {\n    types.forEach(function (type) {\n      // Call the event method for each one of the types\n      fn(elem, type, callback);\n    });\n  }\n  /**\n   * Fix a native event to have standard property values\n   *\n   * @param {Object} event\n   *        Event object to fix.\n   *\n   * @return {Object}\n   *         Fixed event object.\n   */\n\n\n  function fixEvent(event) {\n    if (event.fixed_) {\n      return event;\n    }\n\n    function returnTrue() {\n      return true;\n    }\n\n    function returnFalse() {\n      return false;\n    } // Test if fixing up is needed\n    // Used to check if !event.stopPropagation instead of isPropagationStopped\n    // But native events return true for stopPropagation, but don't have\n    // other expected methods like isPropagationStopped. Seems to be a problem\n    // with the Javascript Ninja code. So we're just overriding all events now.\n\n\n    if (!event || !event.isPropagationStopped || !event.isImmediatePropagationStopped) {\n      var old = event || window.event;\n      event = {}; // Clone the old object so that we can modify the values event = {};\n      // IE8 Doesn't like when you mess with native event properties\n      // Firefox returns false for event.hasOwnProperty('type') and other props\n      //  which makes copying more difficult.\n      // TODO: Probably best to create a whitelist of event props\n\n      for (var key in old) {\n        // Safari 6.0.3 warns you if you try to copy deprecated layerX/Y\n        // Chrome warns you if you try to copy deprecated keyboardEvent.keyLocation\n        // and webkitMovementX/Y\n        // Lighthouse complains if Event.path is copied\n        if (key !== 'layerX' && key !== 'layerY' && key !== 'keyLocation' && key !== 'webkitMovementX' && key !== 'webkitMovementY' && key !== 'path') {\n          // Chrome 32+ warns if you try to copy deprecated returnValue, but\n          // we still want to if preventDefault isn't supported (IE8).\n          if (!(key === 'returnValue' && old.preventDefault)) {\n            event[key] = old[key];\n          }\n        }\n      } // The event occurred on this element\n\n\n      if (!event.target) {\n        event.target = event.srcElement || document;\n      } // Handle which other element the event is related to\n\n\n      if (!event.relatedTarget) {\n        event.relatedTarget = event.fromElement === event.target ? event.toElement : event.fromElement;\n      } // Stop the default browser action\n\n\n      event.preventDefault = function () {\n        if (old.preventDefault) {\n          old.preventDefault();\n        }\n\n        event.returnValue = false;\n        old.returnValue = false;\n        event.defaultPrevented = true;\n      };\n\n      event.defaultPrevented = false; // Stop the event from bubbling\n\n      event.stopPropagation = function () {\n        if (old.stopPropagation) {\n          old.stopPropagation();\n        }\n\n        event.cancelBubble = true;\n        old.cancelBubble = true;\n        event.isPropagationStopped = returnTrue;\n      };\n\n      event.isPropagationStopped = returnFalse; // Stop the event from bubbling and executing other handlers\n\n      event.stopImmediatePropagation = function () {\n        if (old.stopImmediatePropagation) {\n          old.stopImmediatePropagation();\n        }\n\n        event.isImmediatePropagationStopped = returnTrue;\n        event.stopPropagation();\n      };\n\n      event.isImmediatePropagationStopped = returnFalse; // Handle mouse position\n\n      if (event.clientX !== null && event.clientX !== undefined) {\n        var doc = document.documentElement;\n        var body = document.body;\n        event.pageX = event.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n        event.pageY = event.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n      } // Handle key presses\n\n\n      event.which = event.charCode || event.keyCode; // Fix button for mouse clicks:\n      // 0 == left; 1 == middle; 2 == right\n\n      if (event.button !== null && event.button !== undefined) {\n        // The following is disabled because it does not pass videojs-standard\n        // and... yikes.\n\n        /* eslint-disable */\n        event.button = event.button & 1 ? 0 : event.button & 4 ? 1 : event.button & 2 ? 2 : 0;\n        /* eslint-enable */\n      }\n    }\n\n    event.fixed_ = true; // Returns fixed-up instance\n\n    return event;\n  }\n  /**\n   * Whether passive event listeners are supported\n   */\n\n  var _supportsPassive;\n\n  var supportsPassive = function supportsPassive() {\n    if (typeof _supportsPassive !== 'boolean') {\n      _supportsPassive = false;\n\n      try {\n        var opts = Object.defineProperty({}, 'passive', {\n          get: function get() {\n            _supportsPassive = true;\n          }\n        });\n        window.addEventListener('test', null, opts);\n        window.removeEventListener('test', null, opts);\n      } catch (e) {// disregard\n      }\n    }\n\n    return _supportsPassive;\n  };\n  /**\n   * Touch events Chrome expects to be passive\n   */\n\n\n  var passiveEvents = ['touchstart', 'touchmove'];\n  /**\n   * Add an event listener to element\n   * It stores the handler function in a separate cache object\n   * and adds a generic handler to the element's event,\n   * along with a unique id (guid) to the element.\n   *\n   * @param {Element|Object} elem\n   *        Element or object to bind listeners to\n   *\n   * @param {string|string[]} type\n   *        Type of event to bind to.\n   *\n   * @param {EventTarget~EventListener} fn\n   *        Event listener.\n   */\n\n  function on(elem, type, fn) {\n    if (Array.isArray(type)) {\n      return _handleMultipleEvents(on, elem, type, fn);\n    }\n\n    if (!DomData.has(elem)) {\n      DomData.set(elem, {});\n    }\n\n    var data = DomData.get(elem); // We need a place to store all our handler data\n\n    if (!data.handlers) {\n      data.handlers = {};\n    }\n\n    if (!data.handlers[type]) {\n      data.handlers[type] = [];\n    }\n\n    if (!fn.guid) {\n      fn.guid = newGUID();\n    }\n\n    data.handlers[type].push(fn);\n\n    if (!data.dispatcher) {\n      data.disabled = false;\n\n      data.dispatcher = function (event, hash) {\n        if (data.disabled) {\n          return;\n        }\n\n        event = fixEvent(event);\n        var handlers = data.handlers[event.type];\n\n        if (handlers) {\n          // Copy handlers so if handlers are added/removed during the process it doesn't throw everything off.\n          var handlersCopy = handlers.slice(0);\n\n          for (var m = 0, n = handlersCopy.length; m < n; m++) {\n            if (event.isImmediatePropagationStopped()) {\n              break;\n            } else {\n              try {\n                handlersCopy[m].call(elem, event, hash);\n              } catch (e) {\n                log.error(e);\n              }\n            }\n          }\n        }\n      };\n    }\n\n    if (data.handlers[type].length === 1) {\n      if (elem.addEventListener) {\n        var options = false;\n\n        if (supportsPassive() && passiveEvents.indexOf(type) > -1) {\n          options = {\n            passive: true\n          };\n        }\n\n        elem.addEventListener(type, data.dispatcher, options);\n      } else if (elem.attachEvent) {\n        elem.attachEvent('on' + type, data.dispatcher);\n      }\n    }\n  }\n  /**\n   * Removes event listeners from an element\n   *\n   * @param {Element|Object} elem\n   *        Object to remove listeners from.\n   *\n   * @param {string|string[]} [type]\n   *        Type of listener to remove. Don't include to remove all events from element.\n   *\n   * @param {EventTarget~EventListener} [fn]\n   *        Specific listener to remove. Don't include to remove listeners for an event\n   *        type.\n   */\n\n  function off(elem, type, fn) {\n    // Don't want to add a cache object through getElData if not needed\n    if (!DomData.has(elem)) {\n      return;\n    }\n\n    var data = DomData.get(elem); // If no events exist, nothing to unbind\n\n    if (!data.handlers) {\n      return;\n    }\n\n    if (Array.isArray(type)) {\n      return _handleMultipleEvents(off, elem, type, fn);\n    } // Utility function\n\n\n    var removeType = function removeType(el, t) {\n      data.handlers[t] = [];\n\n      _cleanUpEvents(el, t);\n    }; // Are we removing all bound events?\n\n\n    if (type === undefined) {\n      for (var t in data.handlers) {\n        if (Object.prototype.hasOwnProperty.call(data.handlers || {}, t)) {\n          removeType(elem, t);\n        }\n      }\n\n      return;\n    }\n\n    var handlers = data.handlers[type]; // If no handlers exist, nothing to unbind\n\n    if (!handlers) {\n      return;\n    } // If no listener was provided, remove all listeners for type\n\n\n    if (!fn) {\n      removeType(elem, type);\n      return;\n    } // We're only removing a single handler\n\n\n    if (fn.guid) {\n      for (var n = 0; n < handlers.length; n++) {\n        if (handlers[n].guid === fn.guid) {\n          handlers.splice(n--, 1);\n        }\n      }\n    }\n\n    _cleanUpEvents(elem, type);\n  }\n  /**\n   * Trigger an event for an element\n   *\n   * @param {Element|Object} elem\n   *        Element to trigger an event on\n   *\n   * @param {EventTarget~Event|string} event\n   *        A string (the type) or an event object with a type attribute\n   *\n   * @param {Object} [hash]\n   *        data hash to pass along with the event\n   *\n   * @return {boolean|undefined}\n   *         Returns the opposite of `defaultPrevented` if default was\n   *         prevented. Otherwise, returns `undefined`\n   */\n\n  function trigger(elem, event, hash) {\n    // Fetches element data and a reference to the parent (for bubbling).\n    // Don't want to add a data object to cache for every parent,\n    // so checking hasElData first.\n    var elemData = DomData.has(elem) ? DomData.get(elem) : {};\n    var parent = elem.parentNode || elem.ownerDocument; // type = event.type || event,\n    // handler;\n    // If an event name was passed as a string, creates an event out of it\n\n    if (typeof event === 'string') {\n      event = {\n        type: event,\n        target: elem\n      };\n    } else if (!event.target) {\n      event.target = elem;\n    } // Normalizes the event properties.\n\n\n    event = fixEvent(event); // If the passed element has a dispatcher, executes the established handlers.\n\n    if (elemData.dispatcher) {\n      elemData.dispatcher.call(elem, event, hash);\n    } // Unless explicitly stopped or the event does not bubble (e.g. media events)\n    // recursively calls this function to bubble the event up the DOM.\n\n\n    if (parent && !event.isPropagationStopped() && event.bubbles === true) {\n      trigger.call(null, parent, event, hash); // If at the top of the DOM, triggers the default action unless disabled.\n    } else if (!parent && !event.defaultPrevented && event.target && event.target[event.type]) {\n      if (!DomData.has(event.target)) {\n        DomData.set(event.target, {});\n      }\n\n      var targetData = DomData.get(event.target); // Checks if the target has a default action for this event.\n\n      if (event.target[event.type]) {\n        // Temporarily disables event dispatching on the target as we have already executed the handler.\n        targetData.disabled = true; // Executes the default action.\n\n        if (typeof event.target[event.type] === 'function') {\n          event.target[event.type]();\n        } // Re-enables event dispatching.\n\n\n        targetData.disabled = false;\n      }\n    } // Inform the triggerer if the default was prevented by returning false\n\n\n    return !event.defaultPrevented;\n  }\n  /**\n   * Trigger a listener only once for an event.\n   *\n   * @param {Element|Object} elem\n   *        Element or object to bind to.\n   *\n   * @param {string|string[]} type\n   *        Name/type of event\n   *\n   * @param {Event~EventListener} fn\n   *        Event listener function\n   */\n\n  function one(elem, type, fn) {\n    if (Array.isArray(type)) {\n      return _handleMultipleEvents(one, elem, type, fn);\n    }\n\n    var func = function func() {\n      off(elem, type, func);\n      fn.apply(this, arguments);\n    }; // copy the guid to the new function so it can removed using the original function's ID\n\n\n    func.guid = fn.guid = fn.guid || newGUID();\n    on(elem, type, func);\n  }\n  /**\n   * Trigger a listener only once and then turn if off for all\n   * configured events\n   *\n   * @param {Element|Object} elem\n   *        Element or object to bind to.\n   *\n   * @param {string|string[]} type\n   *        Name/type of event\n   *\n   * @param {Event~EventListener} fn\n   *        Event listener function\n   */\n\n  function any(elem, type, fn) {\n    var func = function func() {\n      off(elem, type, func);\n      fn.apply(this, arguments);\n    }; // copy the guid to the new function so it can removed using the original function's ID\n\n\n    func.guid = fn.guid = fn.guid || newGUID(); // multiple ons, but one off for everything\n\n    on(elem, type, func);\n  }\n\n  var Events = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    fixEvent: fixEvent,\n    on: on,\n    off: off,\n    trigger: trigger,\n    one: one,\n    any: any\n  });\n\n  /**\n   * @file fn.js\n   * @module fn\n   */\n  var UPDATE_REFRESH_INTERVAL = 30;\n  /**\n   * Bind (a.k.a proxy or context). A simple method for changing the context of\n   * a function.\n   *\n   * It also stores a unique id on the function so it can be easily removed from\n   * events.\n   *\n   * @function\n   * @param    {Mixed} context\n   *           The object to bind as scope.\n   *\n   * @param    {Function} fn\n   *           The function to be bound to a scope.\n   *\n   * @param    {number} [uid]\n   *           An optional unique ID for the function to be set\n   *\n   * @return   {Function}\n   *           The new function that will be bound into the context given\n   */\n\n  var bind = function bind(context, fn, uid) {\n    // Make sure the function has a unique ID\n    if (!fn.guid) {\n      fn.guid = newGUID();\n    } // Create the new function that changes the context\n\n\n    var bound = fn.bind(context); // Allow for the ability to individualize this function\n    // Needed in the case where multiple objects might share the same prototype\n    // IF both items add an event listener with the same function, then you try to remove just one\n    // it will remove both because they both have the same guid.\n    // when using this, you need to use the bind method when you remove the listener as well.\n    // currently used in text tracks\n\n    bound.guid = uid ? uid + '_' + fn.guid : fn.guid;\n    return bound;\n  };\n  /**\n   * Wraps the given function, `fn`, with a new function that only invokes `fn`\n   * at most once per every `wait` milliseconds.\n   *\n   * @function\n   * @param    {Function} fn\n   *           The function to be throttled.\n   *\n   * @param    {number}   wait\n   *           The number of milliseconds by which to throttle.\n   *\n   * @return   {Function}\n   */\n\n  var throttle = function throttle(fn, wait) {\n    var last = window.performance.now();\n\n    var throttled = function throttled() {\n      var now = window.performance.now();\n\n      if (now - last >= wait) {\n        fn.apply(void 0, arguments);\n        last = now;\n      }\n    };\n\n    return throttled;\n  };\n  /**\n   * Creates a debounced function that delays invoking `func` until after `wait`\n   * milliseconds have elapsed since the last time the debounced function was\n   * invoked.\n   *\n   * Inspired by lodash and underscore implementations.\n   *\n   * @function\n   * @param    {Function} func\n   *           The function to wrap with debounce behavior.\n   *\n   * @param    {number} wait\n   *           The number of milliseconds to wait after the last invocation.\n   *\n   * @param    {boolean} [immediate]\n   *           Whether or not to invoke the function immediately upon creation.\n   *\n   * @param    {Object} [context=window]\n   *           The \"context\" in which the debounced function should debounce. For\n   *           example, if this function should be tied to a Video.js player,\n   *           the player can be passed here. Alternatively, defaults to the\n   *           global `window` object.\n   *\n   * @return   {Function}\n   *           A debounced function.\n   */\n\n  var debounce = function debounce(func, wait, immediate, context) {\n    if (context === void 0) {\n      context = window;\n    }\n\n    var timeout;\n\n    var cancel = function cancel() {\n      context.clearTimeout(timeout);\n      timeout = null;\n    };\n    /* eslint-disable consistent-this */\n\n\n    var debounced = function debounced() {\n      var self = this;\n      var args = arguments;\n\n      var _later = function later() {\n        timeout = null;\n        _later = null;\n\n        if (!immediate) {\n          func.apply(self, args);\n        }\n      };\n\n      if (!timeout && immediate) {\n        func.apply(self, args);\n      }\n\n      context.clearTimeout(timeout);\n      timeout = context.setTimeout(_later, wait);\n    };\n    /* eslint-enable consistent-this */\n\n\n    debounced.cancel = cancel;\n    return debounced;\n  };\n\n  /**\n   * @file src/js/event-target.js\n   */\n  /**\n   * `EventTarget` is a class that can have the same API as the DOM `EventTarget`. It\n   * adds shorthand functions that wrap around lengthy functions. For example:\n   * the `on` function is a wrapper around `addEventListener`.\n   *\n   * @see [EventTarget Spec]{@link https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget}\n   * @class EventTarget\n   */\n\n  var EventTarget = function EventTarget() {};\n  /**\n   * A Custom DOM event.\n   *\n   * @typedef {Object} EventTarget~Event\n   * @see [Properties]{@link https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent}\n   */\n\n  /**\n   * All event listeners should follow the following format.\n   *\n   * @callback EventTarget~EventListener\n   * @this {EventTarget}\n   *\n   * @param {EventTarget~Event} event\n   *        the event that triggered this function\n   *\n   * @param {Object} [hash]\n   *        hash of data sent during the event\n   */\n\n  /**\n   * An object containing event names as keys and booleans as values.\n   *\n   * > NOTE: If an event name is set to a true value here {@link EventTarget#trigger}\n   *         will have extra functionality. See that function for more information.\n   *\n   * @property EventTarget.prototype.allowedEvents_\n   * @private\n   */\n\n\n  EventTarget.prototype.allowedEvents_ = {};\n  /**\n   * Adds an `event listener` to an instance of an `EventTarget`. An `event listener` is a\n   * function that will get called when an event with a certain name gets triggered.\n   *\n   * @param {string|string[]} type\n   *        An event name or an array of event names.\n   *\n   * @param {EventTarget~EventListener} fn\n   *        The function to call with `EventTarget`s\n   */\n\n  EventTarget.prototype.on = function (type, fn) {\n    // Remove the addEventListener alias before calling Events.on\n    // so we don't get into an infinite type loop\n    var ael = this.addEventListener;\n\n    this.addEventListener = function () {};\n\n    on(this, type, fn);\n    this.addEventListener = ael;\n  };\n  /**\n   * An alias of {@link EventTarget#on}. Allows `EventTarget` to mimic\n   * the standard DOM API.\n   *\n   * @function\n   * @see {@link EventTarget#on}\n   */\n\n\n  EventTarget.prototype.addEventListener = EventTarget.prototype.on;\n  /**\n   * Removes an `event listener` for a specific event from an instance of `EventTarget`.\n   * This makes it so that the `event listener` will no longer get called when the\n   * named event happens.\n   *\n   * @param {string|string[]} type\n   *        An event name or an array of event names.\n   *\n   * @param {EventTarget~EventListener} fn\n   *        The function to remove.\n   */\n\n  EventTarget.prototype.off = function (type, fn) {\n    off(this, type, fn);\n  };\n  /**\n   * An alias of {@link EventTarget#off}. Allows `EventTarget` to mimic\n   * the standard DOM API.\n   *\n   * @function\n   * @see {@link EventTarget#off}\n   */\n\n\n  EventTarget.prototype.removeEventListener = EventTarget.prototype.off;\n  /**\n   * This function will add an `event listener` that gets triggered only once. After the\n   * first trigger it will get removed. This is like adding an `event listener`\n   * with {@link EventTarget#on} that calls {@link EventTarget#off} on itself.\n   *\n   * @param {string|string[]} type\n   *        An event name or an array of event names.\n   *\n   * @param {EventTarget~EventListener} fn\n   *        The function to be called once for each event name.\n   */\n\n  EventTarget.prototype.one = function (type, fn) {\n    // Remove the addEventListener aliasing Events.on\n    // so we don't get into an infinite type loop\n    var ael = this.addEventListener;\n\n    this.addEventListener = function () {};\n\n    one(this, type, fn);\n    this.addEventListener = ael;\n  };\n\n  EventTarget.prototype.any = function (type, fn) {\n    // Remove the addEventListener aliasing Events.on\n    // so we don't get into an infinite type loop\n    var ael = this.addEventListener;\n\n    this.addEventListener = function () {};\n\n    any(this, type, fn);\n    this.addEventListener = ael;\n  };\n  /**\n   * This function causes an event to happen. This will then cause any `event listeners`\n   * that are waiting for that event, to get called. If there are no `event listeners`\n   * for an event then nothing will happen.\n   *\n   * If the name of the `Event` that is being triggered is in `EventTarget.allowedEvents_`.\n   * Trigger will also call the `on` + `uppercaseEventName` function.\n   *\n   * Example:\n   * 'click' is in `EventTarget.allowedEvents_`, so, trigger will attempt to call\n   * `onClick` if it exists.\n   *\n   * @param {string|EventTarget~Event|Object} event\n   *        The name of the event, an `Event`, or an object with a key of type set to\n   *        an event name.\n   */\n\n\n  EventTarget.prototype.trigger = function (event) {\n    var type = event.type || event; // deprecation\n    // In a future version we should default target to `this`\n    // similar to how we default the target to `elem` in\n    // `Events.trigger`. Right now the default `target` will be\n    // `document` due to the `Event.fixEvent` call.\n\n    if (typeof event === 'string') {\n      event = {\n        type: type\n      };\n    }\n\n    event = fixEvent(event);\n\n    if (this.allowedEvents_[type] && this['on' + type]) {\n      this['on' + type](event);\n    }\n\n    trigger(this, event);\n  };\n  /**\n   * An alias of {@link EventTarget#trigger}. Allows `EventTarget` to mimic\n   * the standard DOM API.\n   *\n   * @function\n   * @see {@link EventTarget#trigger}\n   */\n\n\n  EventTarget.prototype.dispatchEvent = EventTarget.prototype.trigger;\n  var EVENT_MAP;\n\n  EventTarget.prototype.queueTrigger = function (event) {\n    var _this = this;\n\n    // only set up EVENT_MAP if it'll be used\n    if (!EVENT_MAP) {\n      EVENT_MAP = new Map();\n    }\n\n    var type = event.type || event;\n    var map = EVENT_MAP.get(this);\n\n    if (!map) {\n      map = new Map();\n      EVENT_MAP.set(this, map);\n    }\n\n    var oldTimeout = map.get(type);\n    map[\"delete\"](type);\n    window.clearTimeout(oldTimeout);\n    var timeout = window.setTimeout(function () {\n      // if we cleared out all timeouts for the current target, delete its map\n      if (map.size === 0) {\n        map = null;\n        EVENT_MAP[\"delete\"](_this);\n      }\n\n      _this.trigger(event);\n    }, 0);\n    map.set(type, timeout);\n  };\n\n  /**\n   * @file mixins/evented.js\n   * @module evented\n   */\n\n  var objName = function objName(obj) {\n    if (typeof obj.name === 'function') {\n      return obj.name();\n    }\n\n    if (typeof obj.name === 'string') {\n      return obj.name;\n    }\n\n    if (obj.name_) {\n      return obj.name_;\n    }\n\n    if (obj.constructor && obj.constructor.name) {\n      return obj.constructor.name;\n    }\n\n    return typeof obj;\n  };\n  /**\n   * Returns whether or not an object has had the evented mixin applied.\n   *\n   * @param  {Object} object\n   *         An object to test.\n   *\n   * @return {boolean}\n   *         Whether or not the object appears to be evented.\n   */\n\n\n  var isEvented = function isEvented(object) {\n    return object instanceof EventTarget || !!object.eventBusEl_ && ['on', 'one', 'off', 'trigger'].every(function (k) {\n      return typeof object[k] === 'function';\n    });\n  };\n  /**\n   * Adds a callback to run after the evented mixin applied.\n   *\n   * @param  {Object} object\n   *         An object to Add\n   * @param  {Function} callback\n   *         The callback to run.\n   */\n\n\n  var addEventedCallback = function addEventedCallback(target, callback) {\n    if (isEvented(target)) {\n      callback();\n    } else {\n      if (!target.eventedCallbacks) {\n        target.eventedCallbacks = [];\n      }\n\n      target.eventedCallbacks.push(callback);\n    }\n  };\n  /**\n   * Whether a value is a valid event type - non-empty string or array.\n   *\n   * @private\n   * @param  {string|Array} type\n   *         The type value to test.\n   *\n   * @return {boolean}\n   *         Whether or not the type is a valid event type.\n   */\n\n\n  var isValidEventType = function isValidEventType(type) {\n    return (// The regex here verifies that the `type` contains at least one non-\n      // whitespace character.\n      typeof type === 'string' && /\\S/.test(type) || Array.isArray(type) && !!type.length\n    );\n  };\n  /**\n   * Validates a value to determine if it is a valid event target. Throws if not.\n   *\n   * @private\n   * @throws {Error}\n   *         If the target does not appear to be a valid event target.\n   *\n   * @param  {Object} target\n   *         The object to test.\n   *\n   * @param  {Object} obj\n   *         The evented object we are validating for\n   *\n   * @param  {string} fnName\n   *         The name of the evented mixin function that called this.\n   */\n\n\n  var validateTarget = function validateTarget(target, obj, fnName) {\n    if (!target || !target.nodeName && !isEvented(target)) {\n      throw new Error(\"Invalid target for \" + objName(obj) + \"#\" + fnName + \"; must be a DOM node or evented object.\");\n    }\n  };\n  /**\n   * Validates a value to determine if it is a valid event target. Throws if not.\n   *\n   * @private\n   * @throws {Error}\n   *         If the type does not appear to be a valid event type.\n   *\n   * @param  {string|Array} type\n   *         The type to test.\n   *\n   * @param  {Object} obj\n  *         The evented object we are validating for\n   *\n   * @param  {string} fnName\n   *         The name of the evented mixin function that called this.\n   */\n\n\n  var validateEventType = function validateEventType(type, obj, fnName) {\n    if (!isValidEventType(type)) {\n      throw new Error(\"Invalid event type for \" + objName(obj) + \"#\" + fnName + \"; must be a non-empty string or array.\");\n    }\n  };\n  /**\n   * Validates a value to determine if it is a valid listener. Throws if not.\n   *\n   * @private\n   * @throws {Error}\n   *         If the listener is not a function.\n   *\n   * @param  {Function} listener\n   *         The listener to test.\n   *\n   * @param  {Object} obj\n   *         The evented object we are validating for\n   *\n   * @param  {string} fnName\n   *         The name of the evented mixin function that called this.\n   */\n\n\n  var validateListener = function validateListener(listener, obj, fnName) {\n    if (typeof listener !== 'function') {\n      throw new Error(\"Invalid listener for \" + objName(obj) + \"#\" + fnName + \"; must be a function.\");\n    }\n  };\n  /**\n   * Takes an array of arguments given to `on()` or `one()`, validates them, and\n   * normalizes them into an object.\n   *\n   * @private\n   * @param  {Object} self\n   *         The evented object on which `on()` or `one()` was called. This\n   *         object will be bound as the `this` value for the listener.\n   *\n   * @param  {Array} args\n   *         An array of arguments passed to `on()` or `one()`.\n   *\n   * @param  {string} fnName\n   *         The name of the evented mixin function that called this.\n   *\n   * @return {Object}\n   *         An object containing useful values for `on()` or `one()` calls.\n   */\n\n\n  var normalizeListenArgs = function normalizeListenArgs(self, args, fnName) {\n    // If the number of arguments is less than 3, the target is always the\n    // evented object itself.\n    var isTargetingSelf = args.length < 3 || args[0] === self || args[0] === self.eventBusEl_;\n    var target;\n    var type;\n    var listener;\n\n    if (isTargetingSelf) {\n      target = self.eventBusEl_; // Deal with cases where we got 3 arguments, but we are still listening to\n      // the evented object itself.\n\n      if (args.length >= 3) {\n        args.shift();\n      }\n\n      type = args[0];\n      listener = args[1];\n    } else {\n      target = args[0];\n      type = args[1];\n      listener = args[2];\n    }\n\n    validateTarget(target, self, fnName);\n    validateEventType(type, self, fnName);\n    validateListener(listener, self, fnName);\n    listener = bind(self, listener);\n    return {\n      isTargetingSelf: isTargetingSelf,\n      target: target,\n      type: type,\n      listener: listener\n    };\n  };\n  /**\n   * Adds the listener to the event type(s) on the target, normalizing for\n   * the type of target.\n   *\n   * @private\n   * @param  {Element|Object} target\n   *         A DOM node or evented object.\n   *\n   * @param  {string} method\n   *         The event binding method to use (\"on\" or \"one\").\n   *\n   * @param  {string|Array} type\n   *         One or more event type(s).\n   *\n   * @param  {Function} listener\n   *         A listener function.\n   */\n\n\n  var listen = function listen(target, method, type, listener) {\n    validateTarget(target, target, method);\n\n    if (target.nodeName) {\n      Events[method](target, type, listener);\n    } else {\n      target[method](type, listener);\n    }\n  };\n  /**\n   * Contains methods that provide event capabilities to an object which is passed\n   * to {@link module:evented|evented}.\n   *\n   * @mixin EventedMixin\n   */\n\n\n  var EventedMixin = {\n    /**\n     * Add a listener to an event (or events) on this object or another evented\n     * object.\n     *\n     * @param  {string|Array|Element|Object} targetOrType\n     *         If this is a string or array, it represents the event type(s)\n     *         that will trigger the listener.\n     *\n     *         Another evented object can be passed here instead, which will\n     *         cause the listener to listen for events on _that_ object.\n     *\n     *         In either case, the listener's `this` value will be bound to\n     *         this object.\n     *\n     * @param  {string|Array|Function} typeOrListener\n     *         If the first argument was a string or array, this should be the\n     *         listener function. Otherwise, this is a string or array of event\n     *         type(s).\n     *\n     * @param  {Function} [listener]\n     *         If the first argument was another evented object, this will be\n     *         the listener function.\n     */\n    on: function on() {\n      var _this = this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var _normalizeListenArgs = normalizeListenArgs(this, args, 'on'),\n          isTargetingSelf = _normalizeListenArgs.isTargetingSelf,\n          target = _normalizeListenArgs.target,\n          type = _normalizeListenArgs.type,\n          listener = _normalizeListenArgs.listener;\n\n      listen(target, 'on', type, listener); // If this object is listening to another evented object.\n\n      if (!isTargetingSelf) {\n        // If this object is disposed, remove the listener.\n        var removeListenerOnDispose = function removeListenerOnDispose() {\n          return _this.off(target, type, listener);\n        }; // Use the same function ID as the listener so we can remove it later it\n        // using the ID of the original listener.\n\n\n        removeListenerOnDispose.guid = listener.guid; // Add a listener to the target's dispose event as well. This ensures\n        // that if the target is disposed BEFORE this object, we remove the\n        // removal listener that was just added. Otherwise, we create a memory leak.\n\n        var removeRemoverOnTargetDispose = function removeRemoverOnTargetDispose() {\n          return _this.off('dispose', removeListenerOnDispose);\n        }; // Use the same function ID as the listener so we can remove it later\n        // it using the ID of the original listener.\n\n\n        removeRemoverOnTargetDispose.guid = listener.guid;\n        listen(this, 'on', 'dispose', removeListenerOnDispose);\n        listen(target, 'on', 'dispose', removeRemoverOnTargetDispose);\n      }\n    },\n\n    /**\n     * Add a listener to an event (or events) on this object or another evented\n     * object. The listener will be called once per event and then removed.\n     *\n     * @param  {string|Array|Element|Object} targetOrType\n     *         If this is a string or array, it represents the event type(s)\n     *         that will trigger the listener.\n     *\n     *         Another evented object can be passed here instead, which will\n     *         cause the listener to listen for events on _that_ object.\n     *\n     *         In either case, the listener's `this` value will be bound to\n     *         this object.\n     *\n     * @param  {string|Array|Function} typeOrListener\n     *         If the first argument was a string or array, this should be the\n     *         listener function. Otherwise, this is a string or array of event\n     *         type(s).\n     *\n     * @param  {Function} [listener]\n     *         If the first argument was another evented object, this will be\n     *         the listener function.\n     */\n    one: function one() {\n      var _this2 = this;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var _normalizeListenArgs2 = normalizeListenArgs(this, args, 'one'),\n          isTargetingSelf = _normalizeListenArgs2.isTargetingSelf,\n          target = _normalizeListenArgs2.target,\n          type = _normalizeListenArgs2.type,\n          listener = _normalizeListenArgs2.listener; // Targeting this evented object.\n\n\n      if (isTargetingSelf) {\n        listen(target, 'one', type, listener); // Targeting another evented object.\n      } else {\n        // TODO: This wrapper is incorrect! It should only\n        //       remove the wrapper for the event type that called it.\n        //       Instead all listners are removed on the first trigger!\n        //       see https://github.com/videojs/video.js/issues/5962\n        var wrapper = function wrapper() {\n          _this2.off(target, type, wrapper);\n\n          for (var _len3 = arguments.length, largs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            largs[_key3] = arguments[_key3];\n          }\n\n          listener.apply(null, largs);\n        }; // Use the same function ID as the listener so we can remove it later\n        // it using the ID of the original listener.\n\n\n        wrapper.guid = listener.guid;\n        listen(target, 'one', type, wrapper);\n      }\n    },\n\n    /**\n     * Add a listener to an event (or events) on this object or another evented\n     * object. The listener will only be called once for the first event that is triggered\n     * then removed.\n     *\n     * @param  {string|Array|Element|Object} targetOrType\n     *         If this is a string or array, it represents the event type(s)\n     *         that will trigger the listener.\n     *\n     *         Another evented object can be passed here instead, which will\n     *         cause the listener to listen for events on _that_ object.\n     *\n     *         In either case, the listener's `this` value will be bound to\n     *         this object.\n     *\n     * @param  {string|Array|Function} typeOrListener\n     *         If the first argument was a string or array, this should be the\n     *         listener function. Otherwise, this is a string or array of event\n     *         type(s).\n     *\n     * @param  {Function} [listener]\n     *         If the first argument was another evented object, this will be\n     *         the listener function.\n     */\n    any: function any() {\n      var _this3 = this;\n\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      var _normalizeListenArgs3 = normalizeListenArgs(this, args, 'any'),\n          isTargetingSelf = _normalizeListenArgs3.isTargetingSelf,\n          target = _normalizeListenArgs3.target,\n          type = _normalizeListenArgs3.type,\n          listener = _normalizeListenArgs3.listener; // Targeting this evented object.\n\n\n      if (isTargetingSelf) {\n        listen(target, 'any', type, listener); // Targeting another evented object.\n      } else {\n        var wrapper = function wrapper() {\n          _this3.off(target, type, wrapper);\n\n          for (var _len5 = arguments.length, largs = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n            largs[_key5] = arguments[_key5];\n          }\n\n          listener.apply(null, largs);\n        }; // Use the same function ID as the listener so we can remove it later\n        // it using the ID of the original listener.\n\n\n        wrapper.guid = listener.guid;\n        listen(target, 'any', type, wrapper);\n      }\n    },\n\n    /**\n     * Removes listener(s) from event(s) on an evented object.\n     *\n     * @param  {string|Array|Element|Object} [targetOrType]\n     *         If this is a string or array, it represents the event type(s).\n     *\n     *         Another evented object can be passed here instead, in which case\n     *         ALL 3 arguments are _required_.\n     *\n     * @param  {string|Array|Function} [typeOrListener]\n     *         If the first argument was a string or array, this may be the\n     *         listener function. Otherwise, this is a string or array of event\n     *         type(s).\n     *\n     * @param  {Function} [listener]\n     *         If the first argument was another evented object, this will be\n     *         the listener function; otherwise, _all_ listeners bound to the\n     *         event type(s) will be removed.\n     */\n    off: function off$1(targetOrType, typeOrListener, listener) {\n      // Targeting this evented object.\n      if (!targetOrType || isValidEventType(targetOrType)) {\n        off(this.eventBusEl_, targetOrType, typeOrListener); // Targeting another evented object.\n      } else {\n        var target = targetOrType;\n        var type = typeOrListener; // Fail fast and in a meaningful way!\n\n        validateTarget(target, this, 'off');\n        validateEventType(type, this, 'off');\n        validateListener(listener, this, 'off'); // Ensure there's at least a guid, even if the function hasn't been used\n\n        listener = bind(this, listener); // Remove the dispose listener on this evented object, which was given\n        // the same guid as the event listener in on().\n\n        this.off('dispose', listener);\n\n        if (target.nodeName) {\n          off(target, type, listener);\n          off(target, 'dispose', listener);\n        } else if (isEvented(target)) {\n          target.off(type, listener);\n          target.off('dispose', listener);\n        }\n      }\n    },\n\n    /**\n     * Fire an event on this evented object, causing its listeners to be called.\n     *\n     * @param   {string|Object} event\n     *          An event type or an object with a type property.\n     *\n     * @param   {Object} [hash]\n     *          An additional object to pass along to listeners.\n     *\n     * @return {boolean}\n     *          Whether or not the default behavior was prevented.\n     */\n    trigger: function trigger$1(event, hash) {\n      validateTarget(this.eventBusEl_, this, 'trigger');\n      var type = event && typeof event !== 'string' ? event.type : event;\n\n      if (!isValidEventType(type)) {\n        var error = \"Invalid event type for \" + objName(this) + \"#trigger; \" + 'must be a non-empty string or object with a type key that has a non-empty value.';\n\n        if (event) {\n          (this.log || log).error(error);\n        } else {\n          throw new Error(error);\n        }\n      }\n\n      return trigger(this.eventBusEl_, event, hash);\n    }\n  };\n  /**\n   * Applies {@link module:evented~EventedMixin|EventedMixin} to a target object.\n   *\n   * @param  {Object} target\n   *         The object to which to add event methods.\n   *\n   * @param  {Object} [options={}]\n   *         Options for customizing the mixin behavior.\n   *\n   * @param  {string} [options.eventBusKey]\n   *         By default, adds a `eventBusEl_` DOM element to the target object,\n   *         which is used as an event bus. If the target object already has a\n   *         DOM element that should be used, pass its key here.\n   *\n   * @return {Object}\n   *         The target object.\n   */\n\n  function evented(target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _options = options,\n        eventBusKey = _options.eventBusKey; // Set or create the eventBusEl_.\n\n    if (eventBusKey) {\n      if (!target[eventBusKey].nodeName) {\n        throw new Error(\"The eventBusKey \\\"\" + eventBusKey + \"\\\" does not refer to an element.\");\n      }\n\n      target.eventBusEl_ = target[eventBusKey];\n    } else {\n      target.eventBusEl_ = createEl('span', {\n        className: 'vjs-event-bus'\n      });\n    }\n\n    assign(target, EventedMixin);\n\n    if (target.eventedCallbacks) {\n      target.eventedCallbacks.forEach(function (callback) {\n        callback();\n      });\n    } // When any evented object is disposed, it removes all its listeners.\n\n\n    target.on('dispose', function () {\n      target.off();\n      [target, target.el_, target.eventBusEl_].forEach(function (val) {\n        if (val && DomData.has(val)) {\n          DomData[\"delete\"](val);\n        }\n      });\n      window.setTimeout(function () {\n        target.eventBusEl_ = null;\n      }, 0);\n    });\n    return target;\n  }\n\n  /**\n   * @file mixins/stateful.js\n   * @module stateful\n   */\n  /**\n   * Contains methods that provide statefulness to an object which is passed\n   * to {@link module:stateful}.\n   *\n   * @mixin StatefulMixin\n   */\n\n  var StatefulMixin = {\n    /**\n     * A hash containing arbitrary keys and values representing the state of\n     * the object.\n     *\n     * @type {Object}\n     */\n    state: {},\n\n    /**\n     * Set the state of an object by mutating its\n     * {@link module:stateful~StatefulMixin.state|state} object in place.\n     *\n     * @fires   module:stateful~StatefulMixin#statechanged\n     * @param   {Object|Function} stateUpdates\n     *          A new set of properties to shallow-merge into the plugin state.\n     *          Can be a plain object or a function returning a plain object.\n     *\n     * @return {Object|undefined}\n     *          An object containing changes that occurred. If no changes\n     *          occurred, returns `undefined`.\n     */\n    setState: function setState(stateUpdates) {\n      var _this = this;\n\n      // Support providing the `stateUpdates` state as a function.\n      if (typeof stateUpdates === 'function') {\n        stateUpdates = stateUpdates();\n      }\n\n      var changes;\n      each(stateUpdates, function (value, key) {\n        // Record the change if the value is different from what's in the\n        // current state.\n        if (_this.state[key] !== value) {\n          changes = changes || {};\n          changes[key] = {\n            from: _this.state[key],\n            to: value\n          };\n        }\n\n        _this.state[key] = value;\n      }); // Only trigger \"statechange\" if there were changes AND we have a trigger\n      // function. This allows us to not require that the target object be an\n      // evented object.\n\n      if (changes && isEvented(this)) {\n        /**\n         * An event triggered on an object that is both\n         * {@link module:stateful|stateful} and {@link module:evented|evented}\n         * indicating that its state has changed.\n         *\n         * @event    module:stateful~StatefulMixin#statechanged\n         * @type     {Object}\n         * @property {Object} changes\n         *           A hash containing the properties that were changed and\n         *           the values they were changed `from` and `to`.\n         */\n        this.trigger({\n          changes: changes,\n          type: 'statechanged'\n        });\n      }\n\n      return changes;\n    }\n  };\n  /**\n   * Applies {@link module:stateful~StatefulMixin|StatefulMixin} to a target\n   * object.\n   *\n   * If the target object is {@link module:evented|evented} and has a\n   * `handleStateChanged` method, that method will be automatically bound to the\n   * `statechanged` event on itself.\n   *\n   * @param   {Object} target\n   *          The object to be made stateful.\n   *\n   * @param   {Object} [defaultState]\n   *          A default set of properties to populate the newly-stateful object's\n   *          `state` property.\n   *\n   * @return {Object}\n   *          Returns the `target`.\n   */\n\n  function stateful(target, defaultState) {\n    assign(target, StatefulMixin); // This happens after the mixing-in because we need to replace the `state`\n    // added in that step.\n\n    target.state = assign({}, target.state, defaultState); // Auto-bind the `handleStateChanged` method of the target object if it exists.\n\n    if (typeof target.handleStateChanged === 'function' && isEvented(target)) {\n      target.on('statechanged', target.handleStateChanged);\n    }\n\n    return target;\n  }\n\n  /**\n   * @file string-cases.js\n   * @module to-lower-case\n   */\n\n  /**\n   * Lowercase the first letter of a string.\n   *\n   * @param {string} string\n   *        String to be lowercased\n   *\n   * @return {string}\n   *         The string with a lowercased first letter\n   */\n  var toLowerCase = function toLowerCase(string) {\n    if (typeof string !== 'string') {\n      return string;\n    }\n\n    return string.replace(/./, function (w) {\n      return w.toLowerCase();\n    });\n  };\n  /**\n   * Uppercase the first letter of a string.\n   *\n   * @param {string} string\n   *        String to be uppercased\n   *\n   * @return {string}\n   *         The string with an uppercased first letter\n   */\n\n  var toTitleCase = function toTitleCase(string) {\n    if (typeof string !== 'string') {\n      return string;\n    }\n\n    return string.replace(/./, function (w) {\n      return w.toUpperCase();\n    });\n  };\n  /**\n   * Compares the TitleCase versions of the two strings for equality.\n   *\n   * @param {string} str1\n   *        The first string to compare\n   *\n   * @param {string} str2\n   *        The second string to compare\n   *\n   * @return {boolean}\n   *         Whether the TitleCase versions of the strings are equal\n   */\n\n  var titleCaseEquals = function titleCaseEquals(str1, str2) {\n    return toTitleCase(str1) === toTitleCase(str2);\n  };\n\n  /**\n   * @file merge-options.js\n   * @module merge-options\n   */\n  /**\n   * Merge two objects recursively.\n   *\n   * Performs a deep merge like\n   * {@link https://lodash.com/docs/4.17.10#merge|lodash.merge}, but only merges\n   * plain objects (not arrays, elements, or anything else).\n   *\n   * Non-plain object values will be copied directly from the right-most\n   * argument.\n   *\n   * @static\n   * @param   {Object[]} sources\n   *          One or more objects to merge into a new object.\n   *\n   * @return {Object}\n   *          A new object that is the merged result of all sources.\n   */\n\n  function mergeOptions() {\n    var result = {};\n\n    for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n      sources[_key] = arguments[_key];\n    }\n\n    sources.forEach(function (source) {\n      if (!source) {\n        return;\n      }\n\n      each(source, function (value, key) {\n        if (!isPlain(value)) {\n          result[key] = value;\n          return;\n        }\n\n        if (!isPlain(result[key])) {\n          result[key] = {};\n        }\n\n        result[key] = mergeOptions(result[key], value);\n      });\n    });\n    return result;\n  }\n\n  var MapSham = /*#__PURE__*/function () {\n    function MapSham() {\n      this.map_ = {};\n    }\n\n    var _proto = MapSham.prototype;\n\n    _proto.has = function has(key) {\n      return key in this.map_;\n    };\n\n    _proto[\"delete\"] = function _delete(key) {\n      var has = this.has(key);\n      delete this.map_[key];\n      return has;\n    };\n\n    _proto.set = function set(key, value) {\n      this.map_[key] = value;\n      return this;\n    };\n\n    _proto.forEach = function forEach(callback, thisArg) {\n      for (var key in this.map_) {\n        callback.call(thisArg, this.map_[key], key, this);\n      }\n    };\n\n    return MapSham;\n  }();\n\n  var Map$1 = window.Map ? window.Map : MapSham;\n\n  var SetSham = /*#__PURE__*/function () {\n    function SetSham() {\n      this.set_ = {};\n    }\n\n    var _proto = SetSham.prototype;\n\n    _proto.has = function has(key) {\n      return key in this.set_;\n    };\n\n    _proto[\"delete\"] = function _delete(key) {\n      var has = this.has(key);\n      delete this.set_[key];\n      return has;\n    };\n\n    _proto.add = function add(key) {\n      this.set_[key] = 1;\n      return this;\n    };\n\n    _proto.forEach = function forEach(callback, thisArg) {\n      for (var key in this.set_) {\n        callback.call(thisArg, key, key, this);\n      }\n    };\n\n    return SetSham;\n  }();\n\n  var Set$1 = window.Set ? window.Set : SetSham;\n\n  var keycode = createCommonjsModule(function (module, exports) {\n    // Source: http://jsfiddle.net/vWx8V/\n    // http://stackoverflow.com/questions/5603195/full-list-of-javascript-keycodes\n\n    /**\n     * Conenience method returns corresponding value for given keyName or keyCode.\n     *\n     * @param {Mixed} keyCode {Number} or keyName {String}\n     * @return {Mixed}\n     * @api public\n     */\n    function keyCode(searchInput) {\n      // Keyboard Events\n      if (searchInput && 'object' === typeof searchInput) {\n        var hasKeyCode = searchInput.which || searchInput.keyCode || searchInput.charCode;\n        if (hasKeyCode) searchInput = hasKeyCode;\n      } // Numbers\n\n\n      if ('number' === typeof searchInput) return names[searchInput]; // Everything else (cast to string)\n\n      var search = String(searchInput); // check codes\n\n      var foundNamedKey = codes[search.toLowerCase()];\n      if (foundNamedKey) return foundNamedKey; // check aliases\n\n      var foundNamedKey = aliases[search.toLowerCase()];\n      if (foundNamedKey) return foundNamedKey; // weird character?\n\n      if (search.length === 1) return search.charCodeAt(0);\n      return undefined;\n    }\n    /**\n     * Compares a keyboard event with a given keyCode or keyName.\n     *\n     * @param {Event} event Keyboard event that should be tested\n     * @param {Mixed} keyCode {Number} or keyName {String}\n     * @return {Boolean}\n     * @api public\n     */\n\n\n    keyCode.isEventKey = function isEventKey(event, nameOrCode) {\n      if (event && 'object' === typeof event) {\n        var keyCode = event.which || event.keyCode || event.charCode;\n\n        if (keyCode === null || keyCode === undefined) {\n          return false;\n        }\n\n        if (typeof nameOrCode === 'string') {\n          // check codes\n          var foundNamedKey = codes[nameOrCode.toLowerCase()];\n\n          if (foundNamedKey) {\n            return foundNamedKey === keyCode;\n          } // check aliases\n\n\n          var foundNamedKey = aliases[nameOrCode.toLowerCase()];\n\n          if (foundNamedKey) {\n            return foundNamedKey === keyCode;\n          }\n        } else if (typeof nameOrCode === 'number') {\n          return nameOrCode === keyCode;\n        }\n\n        return false;\n      }\n    };\n\n    exports = module.exports = keyCode;\n    /**\n     * Get by name\n     *\n     *   exports.code['enter'] // => 13\n     */\n\n    var codes = exports.code = exports.codes = {\n      'backspace': 8,\n      'tab': 9,\n      'enter': 13,\n      'shift': 16,\n      'ctrl': 17,\n      'alt': 18,\n      'pause/break': 19,\n      'caps lock': 20,\n      'esc': 27,\n      'space': 32,\n      'page up': 33,\n      'page down': 34,\n      'end': 35,\n      'home': 36,\n      'left': 37,\n      'up': 38,\n      'right': 39,\n      'down': 40,\n      'insert': 45,\n      'delete': 46,\n      'command': 91,\n      'left command': 91,\n      'right command': 93,\n      'numpad *': 106,\n      'numpad +': 107,\n      'numpad -': 109,\n      'numpad .': 110,\n      'numpad /': 111,\n      'num lock': 144,\n      'scroll lock': 145,\n      'my computer': 182,\n      'my calculator': 183,\n      ';': 186,\n      '=': 187,\n      ',': 188,\n      '-': 189,\n      '.': 190,\n      '/': 191,\n      '`': 192,\n      '[': 219,\n      '\\\\': 220,\n      ']': 221,\n      \"'\": 222\n    }; // Helper aliases\n\n    var aliases = exports.aliases = {\n      'windows': 91,\n      '': 16,\n      '': 18,\n      '': 17,\n      '': 91,\n      'ctl': 17,\n      'control': 17,\n      'option': 18,\n      'pause': 19,\n      'break': 19,\n      'caps': 20,\n      'return': 13,\n      'escape': 27,\n      'spc': 32,\n      'spacebar': 32,\n      'pgup': 33,\n      'pgdn': 34,\n      'ins': 45,\n      'del': 46,\n      'cmd': 91\n    };\n    /*!\n     * Programatically add the following\n     */\n    // lower case chars\n\n    for (i = 97; i < 123; i++) {\n      codes[String.fromCharCode(i)] = i - 32;\n    } // numbers\n\n\n    for (var i = 48; i < 58; i++) {\n      codes[i - 48] = i;\n    } // function keys\n\n\n    for (i = 1; i < 13; i++) {\n      codes['f' + i] = i + 111;\n    } // numpad keys\n\n\n    for (i = 0; i < 10; i++) {\n      codes['numpad ' + i] = i + 96;\n    }\n    /**\n     * Get by code\n     *\n     *   exports.name[13] // => 'Enter'\n     */\n\n\n    var names = exports.names = exports.title = {}; // title for backward compat\n    // Create reverse mapping\n\n    for (i in codes) {\n      names[codes[i]] = i;\n    } // Add aliases\n\n\n    for (var alias in aliases) {\n      codes[alias] = aliases[alias];\n    }\n  });\n  keycode.code;\n  keycode.codes;\n  keycode.aliases;\n  keycode.names;\n  keycode.title;\n\n  /**\n   * Player Component - Base class for all UI objects\n   *\n   * @file component.js\n   */\n  /**\n   * Base class for all UI Components.\n   * Components are UI objects which represent both a javascript object and an element\n   * in the DOM. They can be children of other components, and can have\n   * children themselves.\n   *\n   * Components can also use methods from {@link EventTarget}\n   */\n\n  var Component = /*#__PURE__*/function () {\n    /**\n     * A callback that is called when a component is ready. Does not have any\n     * paramters and any callback value will be ignored.\n     *\n     * @callback Component~ReadyCallback\n     * @this Component\n     */\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of component options.\n     *\n     * @param {Object[]} [options.children]\n     *        An array of children objects to intialize this component with. Children objects have\n     *        a name property that will be used if more than one component of the same type needs to be\n     *        added.\n     *\n     * @param  {string} [options.className]\n     *         A class or space separated list of classes to add the component\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        Function that gets called when the `Component` is ready.\n     */\n    function Component(player, options, ready) {\n      var _this = this;\n\n      // The component might be the player itself and we can't pass `this` to super\n      if (!player && this.play) {\n        this.player_ = player = this; // eslint-disable-line\n      } else {\n        this.player_ = player;\n      }\n\n      this.isDisposed_ = false; // Hold the reference to the parent component via `addChild` method\n\n      this.parentComponent_ = null; // Make a copy of prototype.options_ to protect against overriding defaults\n\n      this.options_ = mergeOptions({}, this.options_); // Updated options with supplied options\n\n      options = this.options_ = mergeOptions(this.options_, options); // Get ID from options or options element if one is supplied\n\n      this.id_ = options.id || options.el && options.el.id; // If there was no ID from the options, generate one\n\n      if (!this.id_) {\n        // Don't require the player ID function in the case of mock players\n        var id = player && player.id && player.id() || 'no_player';\n        this.id_ = id + \"_component_\" + newGUID();\n      }\n\n      this.name_ = options.name || null; // Create element if one wasn't provided in options\n\n      if (options.el) {\n        this.el_ = options.el;\n      } else if (options.createEl !== false) {\n        this.el_ = this.createEl();\n      }\n\n      if (options.className && this.el_) {\n        options.className.split(' ').forEach(function (c) {\n          return _this.addClass(c);\n        });\n      } // if evented is anything except false, we want to mixin in evented\n\n\n      if (options.evented !== false) {\n        // Make this an evented object and use `el_`, if available, as its event bus\n        evented(this, {\n          eventBusKey: this.el_ ? 'el_' : null\n        });\n        this.handleLanguagechange = this.handleLanguagechange.bind(this);\n        this.on(this.player_, 'languagechange', this.handleLanguagechange);\n      }\n\n      stateful(this, this.constructor.defaultState);\n      this.children_ = [];\n      this.childIndex_ = {};\n      this.childNameIndex_ = {};\n      this.setTimeoutIds_ = new Set$1();\n      this.setIntervalIds_ = new Set$1();\n      this.rafIds_ = new Set$1();\n      this.namedRafs_ = new Map$1();\n      this.clearingTimersOnDispose_ = false; // Add any child components in options\n\n      if (options.initChildren !== false) {\n        this.initChildren();\n      } // Don't want to trigger ready here or it will go before init is actually\n      // finished for all children that run this constructor\n\n\n      this.ready(ready);\n\n      if (options.reportTouchActivity !== false) {\n        this.enableTouchActivity();\n      }\n    }\n    /**\n     * Dispose of the `Component` and all child components.\n     *\n     * @fires Component#dispose\n     *\n     * @param {Object} options\n     * @param {Element} options.originalEl element with which to replace player element\n     */\n\n\n    var _proto = Component.prototype;\n\n    _proto.dispose = function dispose(options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      // Bail out if the component has already been disposed.\n      if (this.isDisposed_) {\n        return;\n      }\n\n      if (this.readyQueue_) {\n        this.readyQueue_.length = 0;\n      }\n      /**\n       * Triggered when a `Component` is disposed.\n       *\n       * @event Component#dispose\n       * @type {EventTarget~Event}\n       *\n       * @property {boolean} [bubbles=false]\n       *           set to false so that the dispose event does not\n       *           bubble up\n       */\n\n\n      this.trigger({\n        type: 'dispose',\n        bubbles: false\n      });\n      this.isDisposed_ = true; // Dispose all children.\n\n      if (this.children_) {\n        for (var i = this.children_.length - 1; i >= 0; i--) {\n          if (this.children_[i].dispose) {\n            this.children_[i].dispose();\n          }\n        }\n      } // Delete child references\n\n\n      this.children_ = null;\n      this.childIndex_ = null;\n      this.childNameIndex_ = null;\n      this.parentComponent_ = null;\n\n      if (this.el_) {\n        // Remove element from DOM\n        if (this.el_.parentNode) {\n          if (options.restoreEl) {\n            this.el_.parentNode.replaceChild(options.restoreEl, this.el_);\n          } else {\n            this.el_.parentNode.removeChild(this.el_);\n          }\n        }\n\n        this.el_ = null;\n      } // remove reference to the player after disposing of the element\n\n\n      this.player_ = null;\n    }\n    /**\n     * Determine whether or not this component has been disposed.\n     *\n     * @return {boolean}\n     *         If the component has been disposed, will be `true`. Otherwise, `false`.\n     */\n    ;\n\n    _proto.isDisposed = function isDisposed() {\n      return Boolean(this.isDisposed_);\n    }\n    /**\n     * Return the {@link Player} that the `Component` has attached to.\n     *\n     * @return {Player}\n     *         The player that this `Component` has attached to.\n     */\n    ;\n\n    _proto.player = function player() {\n      return this.player_;\n    }\n    /**\n     * Deep merge of options objects with new options.\n     * > Note: When both `obj` and `options` contain properties whose values are objects.\n     *         The two properties get merged using {@link module:mergeOptions}\n     *\n     * @param {Object} obj\n     *        The object that contains new options.\n     *\n     * @return {Object}\n     *         A new object of `this.options_` and `obj` merged together.\n     */\n    ;\n\n    _proto.options = function options(obj) {\n      if (!obj) {\n        return this.options_;\n      }\n\n      this.options_ = mergeOptions(this.options_, obj);\n      return this.options_;\n    }\n    /**\n     * Get the `Component`s DOM element\n     *\n     * @return {Element}\n     *         The DOM element for this `Component`.\n     */\n    ;\n\n    _proto.el = function el() {\n      return this.el_;\n    }\n    /**\n     * Create the `Component`s DOM element.\n     *\n     * @param {string} [tagName]\n     *        Element's DOM node type. e.g. 'div'\n     *\n     * @param {Object} [properties]\n     *        An object of properties that should be set.\n     *\n     * @param {Object} [attributes]\n     *        An object of attributes that should be set.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl$1(tagName, properties, attributes) {\n      return createEl(tagName, properties, attributes);\n    }\n    /**\n     * Localize a string given the string in english.\n     *\n     * If tokens are provided, it'll try and run a simple token replacement on the provided string.\n     * The tokens it looks for look like `{1}` with the index being 1-indexed into the tokens array.\n     *\n     * If a `defaultValue` is provided, it'll use that over `string`,\n     * if a value isn't found in provided language files.\n     * This is useful if you want to have a descriptive key for token replacement\n     * but have a succinct localized string and not require `en.json` to be included.\n     *\n     * Currently, it is used for the progress bar timing.\n     * ```js\n     * {\n     *   \"progress bar timing: currentTime={1} duration={2}\": \"{1} of {2}\"\n     * }\n     * ```\n     * It is then used like so:\n     * ```js\n     * this.localize('progress bar timing: currentTime={1} duration{2}',\n     *               [this.player_.currentTime(), this.player_.duration()],\n     *               '{1} of {2}');\n     * ```\n     *\n     * Which outputs something like: `01:23 of 24:56`.\n     *\n     *\n     * @param {string} string\n     *        The string to localize and the key to lookup in the language files.\n     * @param {string[]} [tokens]\n     *        If the current item has token replacements, provide the tokens here.\n     * @param {string} [defaultValue]\n     *        Defaults to `string`. Can be a default value to use for token replacement\n     *        if the lookup key is needed to be separate.\n     *\n     * @return {string}\n     *         The localized string or if no localization exists the english string.\n     */\n    ;\n\n    _proto.localize = function localize(string, tokens, defaultValue) {\n      if (defaultValue === void 0) {\n        defaultValue = string;\n      }\n\n      var code = this.player_.language && this.player_.language();\n      var languages = this.player_.languages && this.player_.languages();\n      var language = languages && languages[code];\n      var primaryCode = code && code.split('-')[0];\n      var primaryLang = languages && languages[primaryCode];\n      var localizedString = defaultValue;\n\n      if (language && language[string]) {\n        localizedString = language[string];\n      } else if (primaryLang && primaryLang[string]) {\n        localizedString = primaryLang[string];\n      }\n\n      if (tokens) {\n        localizedString = localizedString.replace(/\\{(\\d+)\\}/g, function (match, index) {\n          var value = tokens[index - 1];\n          var ret = value;\n\n          if (typeof value === 'undefined') {\n            ret = match;\n          }\n\n          return ret;\n        });\n      }\n\n      return localizedString;\n    }\n    /**\n     * Handles language change for the player in components. Should be overriden by sub-components.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.handleLanguagechange = function handleLanguagechange() {}\n    /**\n     * Return the `Component`s DOM element. This is where children get inserted.\n     * This will usually be the the same as the element returned in {@link Component#el}.\n     *\n     * @return {Element}\n     *         The content element for this `Component`.\n     */\n    ;\n\n    _proto.contentEl = function contentEl() {\n      return this.contentEl_ || this.el_;\n    }\n    /**\n     * Get this `Component`s ID\n     *\n     * @return {string}\n     *         The id of this `Component`\n     */\n    ;\n\n    _proto.id = function id() {\n      return this.id_;\n    }\n    /**\n     * Get the `Component`s name. The name gets used to reference the `Component`\n     * and is set during registration.\n     *\n     * @return {string}\n     *         The name of this `Component`.\n     */\n    ;\n\n    _proto.name = function name() {\n      return this.name_;\n    }\n    /**\n     * Get an array of all child components\n     *\n     * @return {Array}\n     *         The children\n     */\n    ;\n\n    _proto.children = function children() {\n      return this.children_;\n    }\n    /**\n     * Returns the child `Component` with the given `id`.\n     *\n     * @param {string} id\n     *        The id of the child `Component` to get.\n     *\n     * @return {Component|undefined}\n     *         The child `Component` with the given `id` or undefined.\n     */\n    ;\n\n    _proto.getChildById = function getChildById(id) {\n      return this.childIndex_[id];\n    }\n    /**\n     * Returns the child `Component` with the given `name`.\n     *\n     * @param {string} name\n     *        The name of the child `Component` to get.\n     *\n     * @return {Component|undefined}\n     *         The child `Component` with the given `name` or undefined.\n     */\n    ;\n\n    _proto.getChild = function getChild(name) {\n      if (!name) {\n        return;\n      }\n\n      return this.childNameIndex_[name];\n    }\n    /**\n     * Returns the descendant `Component` following the givent\n     * descendant `names`. For instance ['foo', 'bar', 'baz'] would\n     * try to get 'foo' on the current component, 'bar' on the 'foo'\n     * component and 'baz' on the 'bar' component and return undefined\n     * if any of those don't exist.\n     *\n     * @param {...string[]|...string} names\n     *        The name of the child `Component` to get.\n     *\n     * @return {Component|undefined}\n     *         The descendant `Component` following the given descendant\n     *         `names` or undefined.\n     */\n    ;\n\n    _proto.getDescendant = function getDescendant() {\n      for (var _len = arguments.length, names = new Array(_len), _key = 0; _key < _len; _key++) {\n        names[_key] = arguments[_key];\n      }\n\n      // flatten array argument into the main array\n      names = names.reduce(function (acc, n) {\n        return acc.concat(n);\n      }, []);\n      var currentChild = this;\n\n      for (var i = 0; i < names.length; i++) {\n        currentChild = currentChild.getChild(names[i]);\n\n        if (!currentChild || !currentChild.getChild) {\n          return;\n        }\n      }\n\n      return currentChild;\n    }\n    /**\n     * Add a child `Component` inside the current `Component`.\n     *\n     *\n     * @param {string|Component} child\n     *        The name or instance of a child to add.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of options that will get passed to children of\n     *        the child.\n     *\n     * @param {number} [index=this.children_.length]\n     *        The index to attempt to add a child into.\n     *\n     * @return {Component}\n     *         The `Component` that gets added as a child. When using a string the\n     *         `Component` will get created by this process.\n     */\n    ;\n\n    _proto.addChild = function addChild(child, options, index) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (index === void 0) {\n        index = this.children_.length;\n      }\n\n      var component;\n      var componentName; // If child is a string, create component with options\n\n      if (typeof child === 'string') {\n        componentName = toTitleCase(child);\n        var componentClassName = options.componentClass || componentName; // Set name through options\n\n        options.name = componentName; // Create a new object & element for this controls set\n        // If there's no .player_, this is a player\n\n        var ComponentClass = Component.getComponent(componentClassName);\n\n        if (!ComponentClass) {\n          throw new Error(\"Component \" + componentClassName + \" does not exist\");\n        } // data stored directly on the videojs object may be\n        // misidentified as a component to retain\n        // backwards-compatibility with 4.x. check to make sure the\n        // component class can be instantiated.\n\n\n        if (typeof ComponentClass !== 'function') {\n          return null;\n        }\n\n        component = new ComponentClass(this.player_ || this, options); // child is a component instance\n      } else {\n        component = child;\n      }\n\n      if (component.parentComponent_) {\n        component.parentComponent_.removeChild(component);\n      }\n\n      this.children_.splice(index, 0, component);\n      component.parentComponent_ = this;\n\n      if (typeof component.id === 'function') {\n        this.childIndex_[component.id()] = component;\n      } // If a name wasn't used to create the component, check if we can use the\n      // name function of the component\n\n\n      componentName = componentName || component.name && toTitleCase(component.name());\n\n      if (componentName) {\n        this.childNameIndex_[componentName] = component;\n        this.childNameIndex_[toLowerCase(componentName)] = component;\n      } // Add the UI object's element to the container div (box)\n      // Having an element is not required\n\n\n      if (typeof component.el === 'function' && component.el()) {\n        // If inserting before a component, insert before that component's element\n        var refNode = null;\n\n        if (this.children_[index + 1]) {\n          // Most children are components, but the video tech is an HTML element\n          if (this.children_[index + 1].el_) {\n            refNode = this.children_[index + 1].el_;\n          } else if (isEl(this.children_[index + 1])) {\n            refNode = this.children_[index + 1];\n          }\n        }\n\n        this.contentEl().insertBefore(component.el(), refNode);\n      } // Return so it can stored on parent object if desired.\n\n\n      return component;\n    }\n    /**\n     * Remove a child `Component` from this `Component`s list of children. Also removes\n     * the child `Component`s element from this `Component`s element.\n     *\n     * @param {Component} component\n     *        The child `Component` to remove.\n     */\n    ;\n\n    _proto.removeChild = function removeChild(component) {\n      if (typeof component === 'string') {\n        component = this.getChild(component);\n      }\n\n      if (!component || !this.children_) {\n        return;\n      }\n\n      var childFound = false;\n\n      for (var i = this.children_.length - 1; i >= 0; i--) {\n        if (this.children_[i] === component) {\n          childFound = true;\n          this.children_.splice(i, 1);\n          break;\n        }\n      }\n\n      if (!childFound) {\n        return;\n      }\n\n      component.parentComponent_ = null;\n      this.childIndex_[component.id()] = null;\n      this.childNameIndex_[toTitleCase(component.name())] = null;\n      this.childNameIndex_[toLowerCase(component.name())] = null;\n      var compEl = component.el();\n\n      if (compEl && compEl.parentNode === this.contentEl()) {\n        this.contentEl().removeChild(component.el());\n      }\n    }\n    /**\n     * Add and initialize default child `Component`s based upon options.\n     */\n    ;\n\n    _proto.initChildren = function initChildren() {\n      var _this2 = this;\n\n      var children = this.options_.children;\n\n      if (children) {\n        // `this` is `parent`\n        var parentOptions = this.options_;\n\n        var handleAdd = function handleAdd(child) {\n          var name = child.name;\n          var opts = child.opts; // Allow options for children to be set at the parent options\n          // e.g. videojs(id, { controlBar: false });\n          // instead of videojs(id, { children: { controlBar: false });\n\n          if (parentOptions[name] !== undefined) {\n            opts = parentOptions[name];\n          } // Allow for disabling default components\n          // e.g. options['children']['posterImage'] = false\n\n\n          if (opts === false) {\n            return;\n          } // Allow options to be passed as a simple boolean if no configuration\n          // is necessary.\n\n\n          if (opts === true) {\n            opts = {};\n          } // We also want to pass the original player options\n          // to each component as well so they don't need to\n          // reach back into the player for options later.\n\n\n          opts.playerOptions = _this2.options_.playerOptions; // Create and add the child component.\n          // Add a direct reference to the child by name on the parent instance.\n          // If two of the same component are used, different names should be supplied\n          // for each\n\n          var newChild = _this2.addChild(name, opts);\n\n          if (newChild) {\n            _this2[name] = newChild;\n          }\n        }; // Allow for an array of children details to passed in the options\n\n\n        var workingChildren;\n        var Tech = Component.getComponent('Tech');\n\n        if (Array.isArray(children)) {\n          workingChildren = children;\n        } else {\n          workingChildren = Object.keys(children);\n        }\n\n        workingChildren // children that are in this.options_ but also in workingChildren  would\n        // give us extra children we do not want. So, we want to filter them out.\n        .concat(Object.keys(this.options_).filter(function (child) {\n          return !workingChildren.some(function (wchild) {\n            if (typeof wchild === 'string') {\n              return child === wchild;\n            }\n\n            return child === wchild.name;\n          });\n        })).map(function (child) {\n          var name;\n          var opts;\n\n          if (typeof child === 'string') {\n            name = child;\n            opts = children[name] || _this2.options_[name] || {};\n          } else {\n            name = child.name;\n            opts = child;\n          }\n\n          return {\n            name: name,\n            opts: opts\n          };\n        }).filter(function (child) {\n          // we have to make sure that child.name isn't in the techOrder since\n          // techs are registerd as Components but can't aren't compatible\n          // See https://github.com/videojs/video.js/issues/2772\n          var c = Component.getComponent(child.opts.componentClass || toTitleCase(child.name));\n          return c && !Tech.isTech(c);\n        }).forEach(handleAdd);\n      }\n    }\n    /**\n     * Builds the default DOM class name. Should be overriden by sub-components.\n     *\n     * @return {string}\n     *         The DOM class name for this object.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      // Child classes can include a function that does:\n      // return 'CLASS NAME' + this._super();\n      return '';\n    }\n    /**\n     * Bind a listener to the component's ready state.\n     * Different from event listeners in that if the ready event has already happened\n     * it will trigger the function immediately.\n     *\n     * @return {Component}\n     *         Returns itself; method can be chained.\n     */\n    ;\n\n    _proto.ready = function ready(fn, sync) {\n      if (sync === void 0) {\n        sync = false;\n      }\n\n      if (!fn) {\n        return;\n      }\n\n      if (!this.isReady_) {\n        this.readyQueue_ = this.readyQueue_ || [];\n        this.readyQueue_.push(fn);\n        return;\n      }\n\n      if (sync) {\n        fn.call(this);\n      } else {\n        // Call the function asynchronously by default for consistency\n        this.setTimeout(fn, 1);\n      }\n    }\n    /**\n     * Trigger all the ready listeners for this `Component`.\n     *\n     * @fires Component#ready\n     */\n    ;\n\n    _proto.triggerReady = function triggerReady() {\n      this.isReady_ = true; // Ensure ready is triggered asynchronously\n\n      this.setTimeout(function () {\n        var readyQueue = this.readyQueue_; // Reset Ready Queue\n\n        this.readyQueue_ = [];\n\n        if (readyQueue && readyQueue.length > 0) {\n          readyQueue.forEach(function (fn) {\n            fn.call(this);\n          }, this);\n        } // Allow for using event listeners also\n\n        /**\n         * Triggered when a `Component` is ready.\n         *\n         * @event Component#ready\n         * @type {EventTarget~Event}\n         */\n\n\n        this.trigger('ready');\n      }, 1);\n    }\n    /**\n     * Find a single DOM element matching a `selector`. This can be within the `Component`s\n     * `contentEl()` or another custom context.\n     *\n     * @param {string} selector\n     *        A valid CSS selector, which will be passed to `querySelector`.\n     *\n     * @param {Element|string} [context=this.contentEl()]\n     *        A DOM element within which to query. Can also be a selector string in\n     *        which case the first matching element will get used as context. If\n     *        missing `this.contentEl()` gets used. If  `this.contentEl()` returns\n     *        nothing it falls back to `document`.\n     *\n     * @return {Element|null}\n     *         the dom element that was found, or null\n     *\n     * @see [Information on CSS Selectors](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors)\n     */\n    ;\n\n    _proto.$ = function $$1(selector, context) {\n      return $(selector, context || this.contentEl());\n    }\n    /**\n     * Finds all DOM element matching a `selector`. This can be within the `Component`s\n     * `contentEl()` or another custom context.\n     *\n     * @param {string} selector\n     *        A valid CSS selector, which will be passed to `querySelectorAll`.\n     *\n     * @param {Element|string} [context=this.contentEl()]\n     *        A DOM element within which to query. Can also be a selector string in\n     *        which case the first matching element will get used as context. If\n     *        missing `this.contentEl()` gets used. If  `this.contentEl()` returns\n     *        nothing it falls back to `document`.\n     *\n     * @return {NodeList}\n     *         a list of dom elements that were found\n     *\n     * @see [Information on CSS Selectors](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors)\n     */\n    ;\n\n    _proto.$$ = function $$$1(selector, context) {\n      return $$(selector, context || this.contentEl());\n    }\n    /**\n     * Check if a component's element has a CSS class name.\n     *\n     * @param {string} classToCheck\n     *        CSS class name to check.\n     *\n     * @return {boolean}\n     *         - True if the `Component` has the class.\n     *         - False if the `Component` does not have the class`\n     */\n    ;\n\n    _proto.hasClass = function hasClass$1(classToCheck) {\n      return hasClass(this.el_, classToCheck);\n    }\n    /**\n     * Add a CSS class name to the `Component`s element.\n     *\n     * @param {string} classToAdd\n     *        CSS class name to add\n     */\n    ;\n\n    _proto.addClass = function addClass$1(classToAdd) {\n      addClass(this.el_, classToAdd);\n    }\n    /**\n     * Remove a CSS class name from the `Component`s element.\n     *\n     * @param {string} classToRemove\n     *        CSS class name to remove\n     */\n    ;\n\n    _proto.removeClass = function removeClass$1(classToRemove) {\n      removeClass(this.el_, classToRemove);\n    }\n    /**\n     * Add or remove a CSS class name from the component's element.\n     * - `classToToggle` gets added when {@link Component#hasClass} would return false.\n     * - `classToToggle` gets removed when {@link Component#hasClass} would return true.\n     *\n     * @param  {string} classToToggle\n     *         The class to add or remove based on (@link Component#hasClass}\n     *\n     * @param  {boolean|Dom~predicate} [predicate]\n     *         An {@link Dom~predicate} function or a boolean\n     */\n    ;\n\n    _proto.toggleClass = function toggleClass$1(classToToggle, predicate) {\n      toggleClass(this.el_, classToToggle, predicate);\n    }\n    /**\n     * Show the `Component`s element if it is hidden by removing the\n     * 'vjs-hidden' class name from it.\n     */\n    ;\n\n    _proto.show = function show() {\n      this.removeClass('vjs-hidden');\n    }\n    /**\n     * Hide the `Component`s element if it is currently showing by adding the\n     * 'vjs-hidden` class name to it.\n     */\n    ;\n\n    _proto.hide = function hide() {\n      this.addClass('vjs-hidden');\n    }\n    /**\n     * Lock a `Component`s element in its visible state by adding the 'vjs-lock-showing'\n     * class name to it. Used during fadeIn/fadeOut.\n     *\n     * @private\n     */\n    ;\n\n    _proto.lockShowing = function lockShowing() {\n      this.addClass('vjs-lock-showing');\n    }\n    /**\n     * Unlock a `Component`s element from its visible state by removing the 'vjs-lock-showing'\n     * class name from it. Used during fadeIn/fadeOut.\n     *\n     * @private\n     */\n    ;\n\n    _proto.unlockShowing = function unlockShowing() {\n      this.removeClass('vjs-lock-showing');\n    }\n    /**\n     * Get the value of an attribute on the `Component`s element.\n     *\n     * @param {string} attribute\n     *        Name of the attribute to get the value from.\n     *\n     * @return {string|null}\n     *         - The value of the attribute that was asked for.\n     *         - Can be an empty string on some browsers if the attribute does not exist\n     *           or has no value\n     *         - Most browsers will return null if the attibute does not exist or has\n     *           no value.\n     *\n     * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute}\n     */\n    ;\n\n    _proto.getAttribute = function getAttribute$1(attribute) {\n      return getAttribute(this.el_, attribute);\n    }\n    /**\n     * Set the value of an attribute on the `Component`'s element\n     *\n     * @param {string} attribute\n     *        Name of the attribute to set.\n     *\n     * @param {string} value\n     *        Value to set the attribute to.\n     *\n     * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute}\n     */\n    ;\n\n    _proto.setAttribute = function setAttribute$1(attribute, value) {\n      setAttribute(this.el_, attribute, value);\n    }\n    /**\n     * Remove an attribute from the `Component`s element.\n     *\n     * @param {string} attribute\n     *        Name of the attribute to remove.\n     *\n     * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute}\n     */\n    ;\n\n    _proto.removeAttribute = function removeAttribute$1(attribute) {\n      removeAttribute(this.el_, attribute);\n    }\n    /**\n     * Get or set the width of the component based upon the CSS styles.\n     * See {@link Component#dimension} for more detailed information.\n     *\n     * @param {number|string} [num]\n     *        The width that you want to set postfixed with '%', 'px' or nothing.\n     *\n     * @param {boolean} [skipListeners]\n     *        Skip the componentresize event trigger\n     *\n     * @return {number|string}\n     *         The width when getting, zero if there is no width. Can be a string\n     *           postpixed with '%' or 'px'.\n     */\n    ;\n\n    _proto.width = function width(num, skipListeners) {\n      return this.dimension('width', num, skipListeners);\n    }\n    /**\n     * Get or set the height of the component based upon the CSS styles.\n     * See {@link Component#dimension} for more detailed information.\n     *\n     * @param {number|string} [num]\n     *        The height that you want to set postfixed with '%', 'px' or nothing.\n     *\n     * @param {boolean} [skipListeners]\n     *        Skip the componentresize event trigger\n     *\n     * @return {number|string}\n     *         The width when getting, zero if there is no width. Can be a string\n     *         postpixed with '%' or 'px'.\n     */\n    ;\n\n    _proto.height = function height(num, skipListeners) {\n      return this.dimension('height', num, skipListeners);\n    }\n    /**\n     * Set both the width and height of the `Component` element at the same time.\n     *\n     * @param  {number|string} width\n     *         Width to set the `Component`s element to.\n     *\n     * @param  {number|string} height\n     *         Height to set the `Component`s element to.\n     */\n    ;\n\n    _proto.dimensions = function dimensions(width, height) {\n      // Skip componentresize listeners on width for optimization\n      this.width(width, true);\n      this.height(height);\n    }\n    /**\n     * Get or set width or height of the `Component` element. This is the shared code\n     * for the {@link Component#width} and {@link Component#height}.\n     *\n     * Things to know:\n     * - If the width or height in an number this will return the number postfixed with 'px'.\n     * - If the width/height is a percent this will return the percent postfixed with '%'\n     * - Hidden elements have a width of 0 with `window.getComputedStyle`. This function\n     *   defaults to the `Component`s `style.width` and falls back to `window.getComputedStyle`.\n     *   See [this]{@link http://www.foliotek.com/devblog/getting-the-width-of-a-hidden-element-with-jquery-using-width/}\n     *   for more information\n     * - If you want the computed style of the component, use {@link Component#currentWidth}\n     *   and {@link {Component#currentHeight}\n     *\n     * @fires Component#componentresize\n     *\n     * @param {string} widthOrHeight\n     8        'width' or 'height'\n     *\n     * @param  {number|string} [num]\n     8         New dimension\n     *\n     * @param  {boolean} [skipListeners]\n     *         Skip componentresize event trigger\n     *\n     * @return {number}\n     *         The dimension when getting or 0 if unset\n     */\n    ;\n\n    _proto.dimension = function dimension(widthOrHeight, num, skipListeners) {\n      if (num !== undefined) {\n        // Set to zero if null or literally NaN (NaN !== NaN)\n        if (num === null || num !== num) {\n          num = 0;\n        } // Check if using css width/height (% or px) and adjust\n\n\n        if (('' + num).indexOf('%') !== -1 || ('' + num).indexOf('px') !== -1) {\n          this.el_.style[widthOrHeight] = num;\n        } else if (num === 'auto') {\n          this.el_.style[widthOrHeight] = '';\n        } else {\n          this.el_.style[widthOrHeight] = num + 'px';\n        } // skipListeners allows us to avoid triggering the resize event when setting both width and height\n\n\n        if (!skipListeners) {\n          /**\n           * Triggered when a component is resized.\n           *\n           * @event Component#componentresize\n           * @type {EventTarget~Event}\n           */\n          this.trigger('componentresize');\n        }\n\n        return;\n      } // Not setting a value, so getting it\n      // Make sure element exists\n\n\n      if (!this.el_) {\n        return 0;\n      } // Get dimension value from style\n\n\n      var val = this.el_.style[widthOrHeight];\n      var pxIndex = val.indexOf('px');\n\n      if (pxIndex !== -1) {\n        // Return the pixel value with no 'px'\n        return parseInt(val.slice(0, pxIndex), 10);\n      } // No px so using % or no style was set, so falling back to offsetWidth/height\n      // If component has display:none, offset will return 0\n      // TODO: handle display:none and no dimension style using px\n\n\n      return parseInt(this.el_['offset' + toTitleCase(widthOrHeight)], 10);\n    }\n    /**\n     * Get the computed width or the height of the component's element.\n     *\n     * Uses `window.getComputedStyle`.\n     *\n     * @param {string} widthOrHeight\n     *        A string containing 'width' or 'height'. Whichever one you want to get.\n     *\n     * @return {number}\n     *         The dimension that gets asked for or 0 if nothing was set\n     *         for that dimension.\n     */\n    ;\n\n    _proto.currentDimension = function currentDimension(widthOrHeight) {\n      var computedWidthOrHeight = 0;\n\n      if (widthOrHeight !== 'width' && widthOrHeight !== 'height') {\n        throw new Error('currentDimension only accepts width or height value');\n      }\n\n      computedWidthOrHeight = computedStyle(this.el_, widthOrHeight); // remove 'px' from variable and parse as integer\n\n      computedWidthOrHeight = parseFloat(computedWidthOrHeight); // if the computed value is still 0, it's possible that the browser is lying\n      // and we want to check the offset values.\n      // This code also runs wherever getComputedStyle doesn't exist.\n\n      if (computedWidthOrHeight === 0 || isNaN(computedWidthOrHeight)) {\n        var rule = \"offset\" + toTitleCase(widthOrHeight);\n        computedWidthOrHeight = this.el_[rule];\n      }\n\n      return computedWidthOrHeight;\n    }\n    /**\n     * An object that contains width and height values of the `Component`s\n     * computed style. Uses `window.getComputedStyle`.\n     *\n     * @typedef {Object} Component~DimensionObject\n     *\n     * @property {number} width\n     *           The width of the `Component`s computed style.\n     *\n     * @property {number} height\n     *           The height of the `Component`s computed style.\n     */\n\n    /**\n     * Get an object that contains computed width and height values of the\n     * component's element.\n     *\n     * Uses `window.getComputedStyle`.\n     *\n     * @return {Component~DimensionObject}\n     *         The computed dimensions of the component's element.\n     */\n    ;\n\n    _proto.currentDimensions = function currentDimensions() {\n      return {\n        width: this.currentDimension('width'),\n        height: this.currentDimension('height')\n      };\n    }\n    /**\n     * Get the computed width of the component's element.\n     *\n     * Uses `window.getComputedStyle`.\n     *\n     * @return {number}\n     *         The computed width of the component's element.\n     */\n    ;\n\n    _proto.currentWidth = function currentWidth() {\n      return this.currentDimension('width');\n    }\n    /**\n     * Get the computed height of the component's element.\n     *\n     * Uses `window.getComputedStyle`.\n     *\n     * @return {number}\n     *         The computed height of the component's element.\n     */\n    ;\n\n    _proto.currentHeight = function currentHeight() {\n      return this.currentDimension('height');\n    }\n    /**\n     * Set the focus to this component\n     */\n    ;\n\n    _proto.focus = function focus() {\n      this.el_.focus();\n    }\n    /**\n     * Remove the focus from this component\n     */\n    ;\n\n    _proto.blur = function blur() {\n      this.el_.blur();\n    }\n    /**\n     * When this Component receives a `keydown` event which it does not process,\n     *  it passes the event to the Player for handling.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      if (this.player_) {\n        // We only stop propagation here because we want unhandled events to fall\n        // back to the browser. Exclude Tab for focus trapping.\n        if (!keycode.isEventKey(event, 'Tab')) {\n          event.stopPropagation();\n        }\n\n        this.player_.handleKeyDown(event);\n      }\n    }\n    /**\n     * Many components used to have a `handleKeyPress` method, which was poorly\n     * named because it listened to a `keydown` event. This method name now\n     * delegates to `handleKeyDown`. This means anyone calling `handleKeyPress`\n     * will not see their method calls stop working.\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleKeyPress = function handleKeyPress(event) {\n      this.handleKeyDown(event);\n    }\n    /**\n     * Emit a 'tap' events when touch event support gets detected. This gets used to\n     * support toggling the controls through a tap on the video. They get enabled\n     * because every sub-component would have extra overhead otherwise.\n     *\n     * @private\n     * @fires Component#tap\n     * @listens Component#touchstart\n     * @listens Component#touchmove\n     * @listens Component#touchleave\n     * @listens Component#touchcancel\n     * @listens Component#touchend\n      */\n    ;\n\n    _proto.emitTapEvents = function emitTapEvents() {\n      // Track the start time so we can determine how long the touch lasted\n      var touchStart = 0;\n      var firstTouch = null; // Maximum movement allowed during a touch event to still be considered a tap\n      // Other popular libs use anywhere from 2 (hammer.js) to 15,\n      // so 10 seems like a nice, round number.\n\n      var tapMovementThreshold = 10; // The maximum length a touch can be while still being considered a tap\n\n      var touchTimeThreshold = 200;\n      var couldBeTap;\n      this.on('touchstart', function (event) {\n        // If more than one finger, don't consider treating this as a click\n        if (event.touches.length === 1) {\n          // Copy pageX/pageY from the object\n          firstTouch = {\n            pageX: event.touches[0].pageX,\n            pageY: event.touches[0].pageY\n          }; // Record start time so we can detect a tap vs. \"touch and hold\"\n\n          touchStart = window.performance.now(); // Reset couldBeTap tracking\n\n          couldBeTap = true;\n        }\n      });\n      this.on('touchmove', function (event) {\n        // If more than one finger, don't consider treating this as a click\n        if (event.touches.length > 1) {\n          couldBeTap = false;\n        } else if (firstTouch) {\n          // Some devices will throw touchmoves for all but the slightest of taps.\n          // So, if we moved only a small distance, this could still be a tap\n          var xdiff = event.touches[0].pageX - firstTouch.pageX;\n          var ydiff = event.touches[0].pageY - firstTouch.pageY;\n          var touchDistance = Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n\n          if (touchDistance > tapMovementThreshold) {\n            couldBeTap = false;\n          }\n        }\n      });\n\n      var noTap = function noTap() {\n        couldBeTap = false;\n      }; // TODO: Listen to the original target. http://youtu.be/DujfpXOKUp8?t=13m8s\n\n\n      this.on('touchleave', noTap);\n      this.on('touchcancel', noTap); // When the touch ends, measure how long it took and trigger the appropriate\n      // event\n\n      this.on('touchend', function (event) {\n        firstTouch = null; // Proceed only if the touchmove/leave/cancel event didn't happen\n\n        if (couldBeTap === true) {\n          // Measure how long the touch lasted\n          var touchTime = window.performance.now() - touchStart; // Make sure the touch was less than the threshold to be considered a tap\n\n          if (touchTime < touchTimeThreshold) {\n            // Don't let browser turn this into a click\n            event.preventDefault();\n            /**\n             * Triggered when a `Component` is tapped.\n             *\n             * @event Component#tap\n             * @type {EventTarget~Event}\n             */\n\n            this.trigger('tap'); // It may be good to copy the touchend event object and change the\n            // type to tap, if the other event properties aren't exact after\n            // Events.fixEvent runs (e.g. event.target)\n          }\n        }\n      });\n    }\n    /**\n     * This function reports user activity whenever touch events happen. This can get\n     * turned off by any sub-components that wants touch events to act another way.\n     *\n     * Report user touch activity when touch events occur. User activity gets used to\n     * determine when controls should show/hide. It is simple when it comes to mouse\n     * events, because any mouse event should show the controls. So we capture mouse\n     * events that bubble up to the player and report activity when that happens.\n     * With touch events it isn't as easy as `touchstart` and `touchend` toggle player\n     * controls. So touch events can't help us at the player level either.\n     *\n     * User activity gets checked asynchronously. So what could happen is a tap event\n     * on the video turns the controls off. Then the `touchend` event bubbles up to\n     * the player. Which, if it reported user activity, would turn the controls right\n     * back on. We also don't want to completely block touch events from bubbling up.\n     * Furthermore a `touchmove` event and anything other than a tap, should not turn\n     * controls back on.\n     *\n     * @listens Component#touchstart\n     * @listens Component#touchmove\n     * @listens Component#touchend\n     * @listens Component#touchcancel\n     */\n    ;\n\n    _proto.enableTouchActivity = function enableTouchActivity() {\n      // Don't continue if the root player doesn't support reporting user activity\n      if (!this.player() || !this.player().reportUserActivity) {\n        return;\n      } // listener for reporting that the user is active\n\n\n      var report = bind(this.player(), this.player().reportUserActivity);\n      var touchHolding;\n      this.on('touchstart', function () {\n        report(); // For as long as the they are touching the device or have their mouse down,\n        // we consider them active even if they're not moving their finger or mouse.\n        // So we want to continue to update that they are active\n\n        this.clearInterval(touchHolding); // report at the same interval as activityCheck\n\n        touchHolding = this.setInterval(report, 250);\n      });\n\n      var touchEnd = function touchEnd(event) {\n        report(); // stop the interval that maintains activity if the touch is holding\n\n        this.clearInterval(touchHolding);\n      };\n\n      this.on('touchmove', report);\n      this.on('touchend', touchEnd);\n      this.on('touchcancel', touchEnd);\n    }\n    /**\n     * A callback that has no parameters and is bound into `Component`s context.\n     *\n     * @callback Component~GenericCallback\n     * @this Component\n     */\n\n    /**\n     * Creates a function that runs after an `x` millisecond timeout. This function is a\n     * wrapper around `window.setTimeout`. There are a few reasons to use this one\n     * instead though:\n     * 1. It gets cleared via  {@link Component#clearTimeout} when\n     *    {@link Component#dispose} gets called.\n     * 2. The function callback will gets turned into a {@link Component~GenericCallback}\n     *\n     * > Note: You can't use `window.clearTimeout` on the id returned by this function. This\n     *         will cause its dispose listener not to get cleaned up! Please use\n     *         {@link Component#clearTimeout} or {@link Component#dispose} instead.\n     *\n     * @param {Component~GenericCallback} fn\n     *        The function that will be run after `timeout`.\n     *\n     * @param {number} timeout\n     *        Timeout in milliseconds to delay before executing the specified function.\n     *\n     * @return {number}\n     *         Returns a timeout ID that gets used to identify the timeout. It can also\n     *         get used in {@link Component#clearTimeout} to clear the timeout that\n     *         was set.\n     *\n     * @listens Component#dispose\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setTimeout}\n     */\n    ;\n\n    _proto.setTimeout = function setTimeout(fn, timeout) {\n      var _this3 = this;\n\n      // declare as variables so they are properly available in timeout function\n      // eslint-disable-next-line\n      var timeoutId;\n      fn = bind(this, fn);\n      this.clearTimersOnDispose_();\n      timeoutId = window.setTimeout(function () {\n        if (_this3.setTimeoutIds_.has(timeoutId)) {\n          _this3.setTimeoutIds_[\"delete\"](timeoutId);\n        }\n\n        fn();\n      }, timeout);\n      this.setTimeoutIds_.add(timeoutId);\n      return timeoutId;\n    }\n    /**\n     * Clears a timeout that gets created via `window.setTimeout` or\n     * {@link Component#setTimeout}. If you set a timeout via {@link Component#setTimeout}\n     * use this function instead of `window.clearTimout`. If you don't your dispose\n     * listener will not get cleaned up until {@link Component#dispose}!\n     *\n     * @param {number} timeoutId\n     *        The id of the timeout to clear. The return value of\n     *        {@link Component#setTimeout} or `window.setTimeout`.\n     *\n     * @return {number}\n     *         Returns the timeout id that was cleared.\n     *\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearTimeout}\n     */\n    ;\n\n    _proto.clearTimeout = function clearTimeout(timeoutId) {\n      if (this.setTimeoutIds_.has(timeoutId)) {\n        this.setTimeoutIds_[\"delete\"](timeoutId);\n        window.clearTimeout(timeoutId);\n      }\n\n      return timeoutId;\n    }\n    /**\n     * Creates a function that gets run every `x` milliseconds. This function is a wrapper\n     * around `window.setInterval`. There are a few reasons to use this one instead though.\n     * 1. It gets cleared via  {@link Component#clearInterval} when\n     *    {@link Component#dispose} gets called.\n     * 2. The function callback will be a {@link Component~GenericCallback}\n     *\n     * @param {Component~GenericCallback} fn\n     *        The function to run every `x` seconds.\n     *\n     * @param {number} interval\n     *        Execute the specified function every `x` milliseconds.\n     *\n     * @return {number}\n     *         Returns an id that can be used to identify the interval. It can also be be used in\n     *         {@link Component#clearInterval} to clear the interval.\n     *\n     * @listens Component#dispose\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setInterval}\n     */\n    ;\n\n    _proto.setInterval = function setInterval(fn, interval) {\n      fn = bind(this, fn);\n      this.clearTimersOnDispose_();\n      var intervalId = window.setInterval(fn, interval);\n      this.setIntervalIds_.add(intervalId);\n      return intervalId;\n    }\n    /**\n     * Clears an interval that gets created via `window.setInterval` or\n     * {@link Component#setInterval}. If you set an inteval via {@link Component#setInterval}\n     * use this function instead of `window.clearInterval`. If you don't your dispose\n     * listener will not get cleaned up until {@link Component#dispose}!\n     *\n     * @param {number} intervalId\n     *        The id of the interval to clear. The return value of\n     *        {@link Component#setInterval} or `window.setInterval`.\n     *\n     * @return {number}\n     *         Returns the interval id that was cleared.\n     *\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearInterval}\n     */\n    ;\n\n    _proto.clearInterval = function clearInterval(intervalId) {\n      if (this.setIntervalIds_.has(intervalId)) {\n        this.setIntervalIds_[\"delete\"](intervalId);\n        window.clearInterval(intervalId);\n      }\n\n      return intervalId;\n    }\n    /**\n     * Queues up a callback to be passed to requestAnimationFrame (rAF), but\n     * with a few extra bonuses:\n     *\n     * - Supports browsers that do not support rAF by falling back to\n     *   {@link Component#setTimeout}.\n     *\n     * - The callback is turned into a {@link Component~GenericCallback} (i.e.\n     *   bound to the component).\n     *\n     * - Automatic cancellation of the rAF callback is handled if the component\n     *   is disposed before it is called.\n     *\n     * @param  {Component~GenericCallback} fn\n     *         A function that will be bound to this component and executed just\n     *         before the browser's next repaint.\n     *\n     * @return {number}\n     *         Returns an rAF ID that gets used to identify the timeout. It can\n     *         also be used in {@link Component#cancelAnimationFrame} to cancel\n     *         the animation frame callback.\n     *\n     * @listens Component#dispose\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame}\n     */\n    ;\n\n    _proto.requestAnimationFrame = function requestAnimationFrame(fn) {\n      var _this4 = this;\n\n      // Fall back to using a timer.\n      if (!this.supportsRaf_) {\n        return this.setTimeout(fn, 1000 / 60);\n      }\n\n      this.clearTimersOnDispose_(); // declare as variables so they are properly available in rAF function\n      // eslint-disable-next-line\n\n      var id;\n      fn = bind(this, fn);\n      id = window.requestAnimationFrame(function () {\n        if (_this4.rafIds_.has(id)) {\n          _this4.rafIds_[\"delete\"](id);\n        }\n\n        fn();\n      });\n      this.rafIds_.add(id);\n      return id;\n    }\n    /**\n     * Request an animation frame, but only one named animation\n     * frame will be queued. Another will never be added until\n     * the previous one finishes.\n     *\n     * @param {string} name\n     *        The name to give this requestAnimationFrame\n     *\n     * @param  {Component~GenericCallback} fn\n     *         A function that will be bound to this component and executed just\n     *         before the browser's next repaint.\n     */\n    ;\n\n    _proto.requestNamedAnimationFrame = function requestNamedAnimationFrame(name, fn) {\n      var _this5 = this;\n\n      if (this.namedRafs_.has(name)) {\n        return;\n      }\n\n      this.clearTimersOnDispose_();\n      fn = bind(this, fn);\n      var id = this.requestAnimationFrame(function () {\n        fn();\n\n        if (_this5.namedRafs_.has(name)) {\n          _this5.namedRafs_[\"delete\"](name);\n        }\n      });\n      this.namedRafs_.set(name, id);\n      return name;\n    }\n    /**\n     * Cancels a current named animation frame if it exists.\n     *\n     * @param {string} name\n     *        The name of the requestAnimationFrame to cancel.\n     */\n    ;\n\n    _proto.cancelNamedAnimationFrame = function cancelNamedAnimationFrame(name) {\n      if (!this.namedRafs_.has(name)) {\n        return;\n      }\n\n      this.cancelAnimationFrame(this.namedRafs_.get(name));\n      this.namedRafs_[\"delete\"](name);\n    }\n    /**\n     * Cancels a queued callback passed to {@link Component#requestAnimationFrame}\n     * (rAF).\n     *\n     * If you queue an rAF callback via {@link Component#requestAnimationFrame},\n     * use this function instead of `window.cancelAnimationFrame`. If you don't,\n     * your dispose listener will not get cleaned up until {@link Component#dispose}!\n     *\n     * @param {number} id\n     *        The rAF ID to clear. The return value of {@link Component#requestAnimationFrame}.\n     *\n     * @return {number}\n     *         Returns the rAF ID that was cleared.\n     *\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/cancelAnimationFrame}\n     */\n    ;\n\n    _proto.cancelAnimationFrame = function cancelAnimationFrame(id) {\n      // Fall back to using a timer.\n      if (!this.supportsRaf_) {\n        return this.clearTimeout(id);\n      }\n\n      if (this.rafIds_.has(id)) {\n        this.rafIds_[\"delete\"](id);\n        window.cancelAnimationFrame(id);\n      }\n\n      return id;\n    }\n    /**\n     * A function to setup `requestAnimationFrame`, `setTimeout`,\n     * and `setInterval`, clearing on dispose.\n     *\n     * > Previously each timer added and removed dispose listeners on it's own.\n     * For better performance it was decided to batch them all, and use `Set`s\n     * to track outstanding timer ids.\n     *\n     * @private\n     */\n    ;\n\n    _proto.clearTimersOnDispose_ = function clearTimersOnDispose_() {\n      var _this6 = this;\n\n      if (this.clearingTimersOnDispose_) {\n        return;\n      }\n\n      this.clearingTimersOnDispose_ = true;\n      this.one('dispose', function () {\n        [['namedRafs_', 'cancelNamedAnimationFrame'], ['rafIds_', 'cancelAnimationFrame'], ['setTimeoutIds_', 'clearTimeout'], ['setIntervalIds_', 'clearInterval']].forEach(function (_ref) {\n          var idName = _ref[0],\n              cancelName = _ref[1];\n\n          // for a `Set` key will actually be the value again\n          // so forEach((val, val) =>` but for maps we want to use\n          // the key.\n          _this6[idName].forEach(function (val, key) {\n            return _this6[cancelName](key);\n          });\n        });\n        _this6.clearingTimersOnDispose_ = false;\n      });\n    }\n    /**\n     * Register a `Component` with `videojs` given the name and the component.\n     *\n     * > NOTE: {@link Tech}s should not be registered as a `Component`. {@link Tech}s\n     *         should be registered using {@link Tech.registerTech} or\n     *         {@link videojs:videojs.registerTech}.\n     *\n     * > NOTE: This function can also be seen on videojs as\n     *         {@link videojs:videojs.registerComponent}.\n     *\n     * @param {string} name\n     *        The name of the `Component` to register.\n     *\n     * @param {Component} ComponentToRegister\n     *        The `Component` class to register.\n     *\n     * @return {Component}\n     *         The `Component` that was registered.\n     */\n    ;\n\n    Component.registerComponent = function registerComponent(name, ComponentToRegister) {\n      if (typeof name !== 'string' || !name) {\n        throw new Error(\"Illegal component name, \\\"\" + name + \"\\\"; must be a non-empty string.\");\n      }\n\n      var Tech = Component.getComponent('Tech'); // We need to make sure this check is only done if Tech has been registered.\n\n      var isTech = Tech && Tech.isTech(ComponentToRegister);\n      var isComp = Component === ComponentToRegister || Component.prototype.isPrototypeOf(ComponentToRegister.prototype);\n\n      if (isTech || !isComp) {\n        var reason;\n\n        if (isTech) {\n          reason = 'techs must be registered using Tech.registerTech()';\n        } else {\n          reason = 'must be a Component subclass';\n        }\n\n        throw new Error(\"Illegal component, \\\"\" + name + \"\\\"; \" + reason + \".\");\n      }\n\n      name = toTitleCase(name);\n\n      if (!Component.components_) {\n        Component.components_ = {};\n      }\n\n      var Player = Component.getComponent('Player');\n\n      if (name === 'Player' && Player && Player.players) {\n        var players = Player.players;\n        var playerNames = Object.keys(players); // If we have players that were disposed, then their name will still be\n        // in Players.players. So, we must loop through and verify that the value\n        // for each item is not null. This allows registration of the Player component\n        // after all players have been disposed or before any were created.\n\n        if (players && playerNames.length > 0 && playerNames.map(function (pname) {\n          return players[pname];\n        }).every(Boolean)) {\n          throw new Error('Can not register Player component after player has been created.');\n        }\n      }\n\n      Component.components_[name] = ComponentToRegister;\n      Component.components_[toLowerCase(name)] = ComponentToRegister;\n      return ComponentToRegister;\n    }\n    /**\n     * Get a `Component` based on the name it was registered with.\n     *\n     * @param {string} name\n     *        The Name of the component to get.\n     *\n     * @return {Component}\n     *         The `Component` that got registered under the given name.\n     */\n    ;\n\n    Component.getComponent = function getComponent(name) {\n      if (!name || !Component.components_) {\n        return;\n      }\n\n      return Component.components_[name];\n    };\n\n    return Component;\n  }();\n  /**\n   * Whether or not this component supports `requestAnimationFrame`.\n   *\n   * This is exposed primarily for testing purposes.\n   *\n   * @private\n   * @type {Boolean}\n   */\n\n\n  Component.prototype.supportsRaf_ = typeof window.requestAnimationFrame === 'function' && typeof window.cancelAnimationFrame === 'function';\n  Component.registerComponent('Component', Component);\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  var assertThisInitialized = _assertThisInitialized;\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  var inheritsLoose = _inheritsLoose;\n\n  /**\n   * @file time-ranges.js\n   * @module time-ranges\n   */\n\n  /**\n   * Returns the time for the specified index at the start or end\n   * of a TimeRange object.\n   *\n   * @typedef    {Function} TimeRangeIndex\n   *\n   * @param      {number} [index=0]\n   *             The range number to return the time for.\n   *\n   * @return     {number}\n   *             The time offset at the specified index.\n   *\n   * @deprecated The index argument must be provided.\n   *             In the future, leaving it out will throw an error.\n   */\n\n  /**\n   * An object that contains ranges of time.\n   *\n   * @typedef  {Object} TimeRange\n   *\n   * @property {number} length\n   *           The number of time ranges represented by this object.\n   *\n   * @property {module:time-ranges~TimeRangeIndex} start\n   *           Returns the time offset at which a specified time range begins.\n   *\n   * @property {module:time-ranges~TimeRangeIndex} end\n   *           Returns the time offset at which a specified time range ends.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/TimeRanges\n   */\n\n  /**\n   * Check if any of the time ranges are over the maximum index.\n   *\n   * @private\n   * @param   {string} fnName\n   *          The function name to use for logging\n   *\n   * @param   {number} index\n   *          The index to check\n   *\n   * @param   {number} maxIndex\n   *          The maximum possible index\n   *\n   * @throws  {Error} if the timeRanges provided are over the maxIndex\n   */\n  function rangeCheck(fnName, index, maxIndex) {\n    if (typeof index !== 'number' || index < 0 || index > maxIndex) {\n      throw new Error(\"Failed to execute '\" + fnName + \"' on 'TimeRanges': The index provided (\" + index + \") is non-numeric or out of bounds (0-\" + maxIndex + \").\");\n    }\n  }\n  /**\n   * Get the time for the specified index at the start or end\n   * of a TimeRange object.\n   *\n   * @private\n   * @param      {string} fnName\n   *             The function name to use for logging\n   *\n   * @param      {string} valueIndex\n   *             The property that should be used to get the time. should be\n   *             'start' or 'end'\n   *\n   * @param      {Array} ranges\n   *             An array of time ranges\n   *\n   * @param      {Array} [rangeIndex=0]\n   *             The index to start the search at\n   *\n   * @return     {number}\n   *             The time that offset at the specified index.\n   *\n   * @deprecated rangeIndex must be set to a value, in the future this will throw an error.\n   * @throws     {Error} if rangeIndex is more than the length of ranges\n   */\n\n\n  function getRange(fnName, valueIndex, ranges, rangeIndex) {\n    rangeCheck(fnName, rangeIndex, ranges.length - 1);\n    return ranges[rangeIndex][valueIndex];\n  }\n  /**\n   * Create a time range object given ranges of time.\n   *\n   * @private\n   * @param   {Array} [ranges]\n   *          An array of time ranges.\n   */\n\n\n  function createTimeRangesObj(ranges) {\n    var timeRangesObj;\n\n    if (ranges === undefined || ranges.length === 0) {\n      timeRangesObj = {\n        length: 0,\n        start: function start() {\n          throw new Error('This TimeRanges object is empty');\n        },\n        end: function end() {\n          throw new Error('This TimeRanges object is empty');\n        }\n      };\n    } else {\n      timeRangesObj = {\n        length: ranges.length,\n        start: getRange.bind(null, 'start', 0, ranges),\n        end: getRange.bind(null, 'end', 1, ranges)\n      };\n    }\n\n    if (window.Symbol && window.Symbol.iterator) {\n      timeRangesObj[window.Symbol.iterator] = function () {\n        return (ranges || []).values();\n      };\n    }\n\n    return timeRangesObj;\n  }\n  /**\n   * Create a `TimeRange` object which mimics an\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/TimeRanges|HTML5 TimeRanges instance}.\n   *\n   * @param {number|Array[]} start\n   *        The start of a single range (a number) or an array of ranges (an\n   *        array of arrays of two numbers each).\n   *\n   * @param {number} end\n   *        The end of a single range. Cannot be used with the array form of\n   *        the `start` argument.\n   */\n\n\n  function createTimeRanges(start, end) {\n    if (Array.isArray(start)) {\n      return createTimeRangesObj(start);\n    } else if (start === undefined || end === undefined) {\n      return createTimeRangesObj();\n    }\n\n    return createTimeRangesObj([[start, end]]);\n  }\n\n  /**\n   * @file buffer.js\n   * @module buffer\n   */\n  /**\n   * Compute the percentage of the media that has been buffered.\n   *\n   * @param {TimeRange} buffered\n   *        The current `TimeRange` object representing buffered time ranges\n   *\n   * @param {number} duration\n   *        Total duration of the media\n   *\n   * @return {number}\n   *         Percent buffered of the total duration in decimal form.\n   */\n\n  function bufferedPercent(buffered, duration) {\n    var bufferedDuration = 0;\n    var start;\n    var end;\n\n    if (!duration) {\n      return 0;\n    }\n\n    if (!buffered || !buffered.length) {\n      buffered = createTimeRanges(0, 0);\n    }\n\n    for (var i = 0; i < buffered.length; i++) {\n      start = buffered.start(i);\n      end = buffered.end(i); // buffered end can be bigger than duration by a very small fraction\n\n      if (end > duration) {\n        end = duration;\n      }\n\n      bufferedDuration += end - start;\n    }\n\n    return bufferedDuration / duration;\n  }\n\n  /**\n   * @file media-error.js\n   */\n  /**\n   * A Custom `MediaError` class which mimics the standard HTML5 `MediaError` class.\n   *\n   * @param {number|string|Object|MediaError} value\n   *        This can be of multiple types:\n   *        - number: should be a standard error code\n   *        - string: an error message (the code will be 0)\n   *        - Object: arbitrary properties\n   *        - `MediaError` (native): used to populate a video.js `MediaError` object\n   *        - `MediaError` (video.js): will return itself if it's already a\n   *          video.js `MediaError` object.\n   *\n   * @see [MediaError Spec]{@link https://dev.w3.org/html5/spec-author-view/video.html#mediaerror}\n   * @see [Encrypted MediaError Spec]{@link https://www.w3.org/TR/2013/WD-encrypted-media-20130510/#error-codes}\n   *\n   * @class MediaError\n   */\n\n  function MediaError(value) {\n    // Allow redundant calls to this constructor to avoid having `instanceof`\n    // checks peppered around the code.\n    if (value instanceof MediaError) {\n      return value;\n    }\n\n    if (typeof value === 'number') {\n      this.code = value;\n    } else if (typeof value === 'string') {\n      // default code is zero, so this is a custom error\n      this.message = value;\n    } else if (isObject(value)) {\n      // We assign the `code` property manually because native `MediaError` objects\n      // do not expose it as an own/enumerable property of the object.\n      if (typeof value.code === 'number') {\n        this.code = value.code;\n      }\n\n      assign(this, value);\n    }\n\n    if (!this.message) {\n      this.message = MediaError.defaultMessages[this.code] || '';\n    }\n  }\n  /**\n   * The error code that refers two one of the defined `MediaError` types\n   *\n   * @type {Number}\n   */\n\n\n  MediaError.prototype.code = 0;\n  /**\n   * An optional message that to show with the error. Message is not part of the HTML5\n   * video spec but allows for more informative custom errors.\n   *\n   * @type {String}\n   */\n\n  MediaError.prototype.message = '';\n  /**\n   * An optional status code that can be set by plugins to allow even more detail about\n   * the error. For example a plugin might provide a specific HTTP status code and an\n   * error message for that code. Then when the plugin gets that error this class will\n   * know how to display an error message for it. This allows a custom message to show\n   * up on the `Player` error overlay.\n   *\n   * @type {Array}\n   */\n\n  MediaError.prototype.status = null;\n  /**\n   * Errors indexed by the W3C standard. The order **CANNOT CHANGE**! See the\n   * specification listed under {@link MediaError} for more information.\n   *\n   * @enum {array}\n   * @readonly\n   * @property {string} 0 - MEDIA_ERR_CUSTOM\n   * @property {string} 1 - MEDIA_ERR_ABORTED\n   * @property {string} 2 - MEDIA_ERR_NETWORK\n   * @property {string} 3 - MEDIA_ERR_DECODE\n   * @property {string} 4 - MEDIA_ERR_SRC_NOT_SUPPORTED\n   * @property {string} 5 - MEDIA_ERR_ENCRYPTED\n   */\n\n  MediaError.errorTypes = ['MEDIA_ERR_CUSTOM', 'MEDIA_ERR_ABORTED', 'MEDIA_ERR_NETWORK', 'MEDIA_ERR_DECODE', 'MEDIA_ERR_SRC_NOT_SUPPORTED', 'MEDIA_ERR_ENCRYPTED'];\n  /**\n   * The default `MediaError` messages based on the {@link MediaError.errorTypes}.\n   *\n   * @type {Array}\n   * @constant\n   */\n\n  MediaError.defaultMessages = {\n    1: 'You aborted the media playback',\n    2: 'A network error caused the media download to fail part-way.',\n    3: 'The media playback was aborted due to a corruption problem or because the media used features your browser did not support.',\n    4: 'The media could not be loaded, either because the server or network failed or because the format is not supported.',\n    5: 'The media is encrypted and we do not have the keys to decrypt it.'\n  }; // Add types as properties on MediaError\n  // e.g. MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED = 4;\n\n  for (var errNum = 0; errNum < MediaError.errorTypes.length; errNum++) {\n    MediaError[MediaError.errorTypes[errNum]] = errNum; // values should be accessible on both the class and instance\n\n    MediaError.prototype[MediaError.errorTypes[errNum]] = errNum;\n  } // jsdocs for instance/static members added above\n\n  var tuple = SafeParseTuple;\n\n  function SafeParseTuple(obj, reviver) {\n    var json;\n    var error = null;\n\n    try {\n      json = JSON.parse(obj, reviver);\n    } catch (err) {\n      error = err;\n    }\n\n    return [error, json];\n  }\n\n  /**\n   * Returns whether an object is `Promise`-like (i.e. has a `then` method).\n   *\n   * @param  {Object}  value\n   *         An object that may or may not be `Promise`-like.\n   *\n   * @return {boolean}\n   *         Whether or not the object is `Promise`-like.\n   */\n  function isPromise(value) {\n    return value !== undefined && value !== null && typeof value.then === 'function';\n  }\n  /**\n   * Silence a Promise-like object.\n   *\n   * This is useful for avoiding non-harmful, but potentially confusing \"uncaught\n   * play promise\" rejection error messages.\n   *\n   * @param  {Object} value\n   *         An object that may or may not be `Promise`-like.\n   */\n\n  function silencePromise(value) {\n    if (isPromise(value)) {\n      value.then(null, function (e) {});\n    }\n  }\n\n  /**\n   * @file text-track-list-converter.js Utilities for capturing text track state and\n   * re-creating tracks based on a capture.\n   *\n   * @module text-track-list-converter\n   */\n\n  /**\n   * Examine a single {@link TextTrack} and return a JSON-compatible javascript object that\n   * represents the {@link TextTrack}'s state.\n   *\n   * @param {TextTrack} track\n   *        The text track to query.\n   *\n   * @return {Object}\n   *         A serializable javascript representation of the TextTrack.\n   * @private\n   */\n  var trackToJson_ = function trackToJson_(track) {\n    var ret = ['kind', 'label', 'language', 'id', 'inBandMetadataTrackDispatchType', 'mode', 'src'].reduce(function (acc, prop, i) {\n      if (track[prop]) {\n        acc[prop] = track[prop];\n      }\n\n      return acc;\n    }, {\n      cues: track.cues && Array.prototype.map.call(track.cues, function (cue) {\n        return {\n          startTime: cue.startTime,\n          endTime: cue.endTime,\n          text: cue.text,\n          id: cue.id\n        };\n      })\n    });\n    return ret;\n  };\n  /**\n   * Examine a {@link Tech} and return a JSON-compatible javascript array that represents the\n   * state of all {@link TextTrack}s currently configured. The return array is compatible with\n   * {@link text-track-list-converter:jsonToTextTracks}.\n   *\n   * @param {Tech} tech\n   *        The tech object to query\n   *\n   * @return {Array}\n   *         A serializable javascript representation of the {@link Tech}s\n   *         {@link TextTrackList}.\n   */\n\n\n  var textTracksToJson = function textTracksToJson(tech) {\n    var trackEls = tech.$$('track');\n    var trackObjs = Array.prototype.map.call(trackEls, function (t) {\n      return t.track;\n    });\n    var tracks = Array.prototype.map.call(trackEls, function (trackEl) {\n      var json = trackToJson_(trackEl.track);\n\n      if (trackEl.src) {\n        json.src = trackEl.src;\n      }\n\n      return json;\n    });\n    return tracks.concat(Array.prototype.filter.call(tech.textTracks(), function (track) {\n      return trackObjs.indexOf(track) === -1;\n    }).map(trackToJson_));\n  };\n  /**\n   * Create a set of remote {@link TextTrack}s on a {@link Tech} based on an array of javascript\n   * object {@link TextTrack} representations.\n   *\n   * @param {Array} json\n   *        An array of `TextTrack` representation objects, like those that would be\n   *        produced by `textTracksToJson`.\n   *\n   * @param {Tech} tech\n   *        The `Tech` to create the `TextTrack`s on.\n   */\n\n\n  var jsonToTextTracks = function jsonToTextTracks(json, tech) {\n    json.forEach(function (track) {\n      var addedTrack = tech.addRemoteTextTrack(track).track;\n\n      if (!track.src && track.cues) {\n        track.cues.forEach(function (cue) {\n          return addedTrack.addCue(cue);\n        });\n      }\n    });\n    return tech.textTracks();\n  };\n\n  var textTrackConverter = {\n    textTracksToJson: textTracksToJson,\n    jsonToTextTracks: jsonToTextTracks,\n    trackToJson_: trackToJson_\n  };\n\n  var MODAL_CLASS_NAME = 'vjs-modal-dialog';\n  /**\n   * The `ModalDialog` displays over the video and its controls, which blocks\n   * interaction with the player until it is closed.\n   *\n   * Modal dialogs include a \"Close\" button and will close when that button\n   * is activated - or when ESC is pressed anywhere.\n   *\n   * @extends Component\n   */\n\n  var ModalDialog = /*#__PURE__*/function (_Component) {\n    inheritsLoose(ModalDialog, _Component);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Mixed} [options.content=undefined]\n     *        Provide customized content for this modal.\n     *\n     * @param {string} [options.description]\n     *        A text description for the modal, primarily for accessibility.\n     *\n     * @param {boolean} [options.fillAlways=false]\n     *        Normally, modals are automatically filled only the first time\n     *        they open. This tells the modal to refresh its content\n     *        every time it opens.\n     *\n     * @param {string} [options.label]\n     *        A text label for the modal, primarily for accessibility.\n     *\n     * @param {boolean} [options.pauseOnOpen=true]\n     *        If `true`, playback will will be paused if playing when\n     *        the modal opens, and resumed when it closes.\n     *\n     * @param {boolean} [options.temporary=true]\n     *        If `true`, the modal can only be opened once; it will be\n     *        disposed as soon as it's closed.\n     *\n     * @param {boolean} [options.uncloseable=false]\n     *        If `true`, the user will not be able to close the modal\n     *        through the UI in the normal ways. Programmatic closing is\n     *        still possible.\n     */\n    function ModalDialog(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n\n      _this.handleKeyDown_ = function (e) {\n        return _this.handleKeyDown(e);\n      };\n\n      _this.close_ = function (e) {\n        return _this.close(e);\n      };\n\n      _this.opened_ = _this.hasBeenOpened_ = _this.hasBeenFilled_ = false;\n\n      _this.closeable(!_this.options_.uncloseable);\n\n      _this.content(_this.options_.content); // Make sure the contentEl is defined AFTER any children are initialized\n      // because we only want the contents of the modal in the contentEl\n      // (not the UI elements like the close button).\n\n\n      _this.contentEl_ = createEl('div', {\n        className: MODAL_CLASS_NAME + \"-content\"\n      }, {\n        role: 'document'\n      });\n      _this.descEl_ = createEl('p', {\n        className: MODAL_CLASS_NAME + \"-description vjs-control-text\",\n        id: _this.el().getAttribute('aria-describedby')\n      });\n      textContent(_this.descEl_, _this.description());\n\n      _this.el_.appendChild(_this.descEl_);\n\n      _this.el_.appendChild(_this.contentEl_);\n\n      return _this;\n    }\n    /**\n     * Create the `ModalDialog`'s DOM element\n     *\n     * @return {Element}\n     *         The DOM element that gets created.\n     */\n\n\n    var _proto = ModalDialog.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: this.buildCSSClass(),\n        tabIndex: -1\n      }, {\n        'aria-describedby': this.id() + \"_description\",\n        'aria-hidden': 'true',\n        'aria-label': this.label(),\n        'role': 'dialog'\n      });\n    };\n\n    _proto.dispose = function dispose() {\n      this.contentEl_ = null;\n      this.descEl_ = null;\n      this.previouslyActiveEl_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return MODAL_CLASS_NAME + \" vjs-hidden \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Returns the label string for this modal. Primarily used for accessibility.\n     *\n     * @return {string}\n     *         the localized or raw label of this modal.\n     */\n    ;\n\n    _proto.label = function label() {\n      return this.localize(this.options_.label || 'Modal Window');\n    }\n    /**\n     * Returns the description string for this modal. Primarily used for\n     * accessibility.\n     *\n     * @return {string}\n     *         The localized or raw description of this modal.\n     */\n    ;\n\n    _proto.description = function description() {\n      var desc = this.options_.description || this.localize('This is a modal window.'); // Append a universal closeability message if the modal is closeable.\n\n      if (this.closeable()) {\n        desc += ' ' + this.localize('This modal can be closed by pressing the Escape key or activating the close button.');\n      }\n\n      return desc;\n    }\n    /**\n     * Opens the modal.\n     *\n     * @fires ModalDialog#beforemodalopen\n     * @fires ModalDialog#modalopen\n     */\n    ;\n\n    _proto.open = function open() {\n      if (!this.opened_) {\n        var player = this.player();\n        /**\n          * Fired just before a `ModalDialog` is opened.\n          *\n          * @event ModalDialog#beforemodalopen\n          * @type {EventTarget~Event}\n          */\n\n        this.trigger('beforemodalopen');\n        this.opened_ = true; // Fill content if the modal has never opened before and\n        // never been filled.\n\n        if (this.options_.fillAlways || !this.hasBeenOpened_ && !this.hasBeenFilled_) {\n          this.fill();\n        } // If the player was playing, pause it and take note of its previously\n        // playing state.\n\n\n        this.wasPlaying_ = !player.paused();\n\n        if (this.options_.pauseOnOpen && this.wasPlaying_) {\n          player.pause();\n        }\n\n        this.on('keydown', this.handleKeyDown_); // Hide controls and note if they were enabled.\n\n        this.hadControls_ = player.controls();\n        player.controls(false);\n        this.show();\n        this.conditionalFocus_();\n        this.el().setAttribute('aria-hidden', 'false');\n        /**\n          * Fired just after a `ModalDialog` is opened.\n          *\n          * @event ModalDialog#modalopen\n          * @type {EventTarget~Event}\n          */\n\n        this.trigger('modalopen');\n        this.hasBeenOpened_ = true;\n      }\n    }\n    /**\n     * If the `ModalDialog` is currently open or closed.\n     *\n     * @param  {boolean} [value]\n     *         If given, it will open (`true`) or close (`false`) the modal.\n     *\n     * @return {boolean}\n     *         the current open state of the modaldialog\n     */\n    ;\n\n    _proto.opened = function opened(value) {\n      if (typeof value === 'boolean') {\n        this[value ? 'open' : 'close']();\n      }\n\n      return this.opened_;\n    }\n    /**\n     * Closes the modal, does nothing if the `ModalDialog` is\n     * not open.\n     *\n     * @fires ModalDialog#beforemodalclose\n     * @fires ModalDialog#modalclose\n     */\n    ;\n\n    _proto.close = function close() {\n      if (!this.opened_) {\n        return;\n      }\n\n      var player = this.player();\n      /**\n        * Fired just before a `ModalDialog` is closed.\n        *\n        * @event ModalDialog#beforemodalclose\n        * @type {EventTarget~Event}\n        */\n\n      this.trigger('beforemodalclose');\n      this.opened_ = false;\n\n      if (this.wasPlaying_ && this.options_.pauseOnOpen) {\n        player.play();\n      }\n\n      this.off('keydown', this.handleKeyDown_);\n\n      if (this.hadControls_) {\n        player.controls(true);\n      }\n\n      this.hide();\n      this.el().setAttribute('aria-hidden', 'true');\n      /**\n        * Fired just after a `ModalDialog` is closed.\n        *\n        * @event ModalDialog#modalclose\n        * @type {EventTarget~Event}\n        */\n\n      this.trigger('modalclose');\n      this.conditionalBlur_();\n\n      if (this.options_.temporary) {\n        this.dispose();\n      }\n    }\n    /**\n     * Check to see if the `ModalDialog` is closeable via the UI.\n     *\n     * @param  {boolean} [value]\n     *         If given as a boolean, it will set the `closeable` option.\n     *\n     * @return {boolean}\n     *         Returns the final value of the closable option.\n     */\n    ;\n\n    _proto.closeable = function closeable(value) {\n      if (typeof value === 'boolean') {\n        var closeable = this.closeable_ = !!value;\n        var close = this.getChild('closeButton'); // If this is being made closeable and has no close button, add one.\n\n        if (closeable && !close) {\n          // The close button should be a child of the modal - not its\n          // content element, so temporarily change the content element.\n          var temp = this.contentEl_;\n          this.contentEl_ = this.el_;\n          close = this.addChild('closeButton', {\n            controlText: 'Close Modal Dialog'\n          });\n          this.contentEl_ = temp;\n          this.on(close, 'close', this.close_);\n        } // If this is being made uncloseable and has a close button, remove it.\n\n\n        if (!closeable && close) {\n          this.off(close, 'close', this.close_);\n          this.removeChild(close);\n          close.dispose();\n        }\n      }\n\n      return this.closeable_;\n    }\n    /**\n     * Fill the modal's content element with the modal's \"content\" option.\n     * The content element will be emptied before this change takes place.\n     */\n    ;\n\n    _proto.fill = function fill() {\n      this.fillWith(this.content());\n    }\n    /**\n     * Fill the modal's content element with arbitrary content.\n     * The content element will be emptied before this change takes place.\n     *\n     * @fires ModalDialog#beforemodalfill\n     * @fires ModalDialog#modalfill\n     *\n     * @param {Mixed} [content]\n     *        The same rules apply to this as apply to the `content` option.\n     */\n    ;\n\n    _proto.fillWith = function fillWith(content) {\n      var contentEl = this.contentEl();\n      var parentEl = contentEl.parentNode;\n      var nextSiblingEl = contentEl.nextSibling;\n      /**\n        * Fired just before a `ModalDialog` is filled with content.\n        *\n        * @event ModalDialog#beforemodalfill\n        * @type {EventTarget~Event}\n        */\n\n      this.trigger('beforemodalfill');\n      this.hasBeenFilled_ = true; // Detach the content element from the DOM before performing\n      // manipulation to avoid modifying the live DOM multiple times.\n\n      parentEl.removeChild(contentEl);\n      this.empty();\n      insertContent(contentEl, content);\n      /**\n       * Fired just after a `ModalDialog` is filled with content.\n       *\n       * @event ModalDialog#modalfill\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('modalfill'); // Re-inject the re-filled content element.\n\n      if (nextSiblingEl) {\n        parentEl.insertBefore(contentEl, nextSiblingEl);\n      } else {\n        parentEl.appendChild(contentEl);\n      } // make sure that the close button is last in the dialog DOM\n\n\n      var closeButton = this.getChild('closeButton');\n\n      if (closeButton) {\n        parentEl.appendChild(closeButton.el_);\n      }\n    }\n    /**\n     * Empties the content element. This happens anytime the modal is filled.\n     *\n     * @fires ModalDialog#beforemodalempty\n     * @fires ModalDialog#modalempty\n     */\n    ;\n\n    _proto.empty = function empty() {\n      /**\n      * Fired just before a `ModalDialog` is emptied.\n      *\n      * @event ModalDialog#beforemodalempty\n      * @type {EventTarget~Event}\n      */\n      this.trigger('beforemodalempty');\n      emptyEl(this.contentEl());\n      /**\n      * Fired just after a `ModalDialog` is emptied.\n      *\n      * @event ModalDialog#modalempty\n      * @type {EventTarget~Event}\n      */\n\n      this.trigger('modalempty');\n    }\n    /**\n     * Gets or sets the modal content, which gets normalized before being\n     * rendered into the DOM.\n     *\n     * This does not update the DOM or fill the modal, but it is called during\n     * that process.\n     *\n     * @param  {Mixed} [value]\n     *         If defined, sets the internal content value to be used on the\n     *         next call(s) to `fill`. This value is normalized before being\n     *         inserted. To \"clear\" the internal content value, pass `null`.\n     *\n     * @return {Mixed}\n     *         The current content of the modal dialog\n     */\n    ;\n\n    _proto.content = function content(value) {\n      if (typeof value !== 'undefined') {\n        this.content_ = value;\n      }\n\n      return this.content_;\n    }\n    /**\n     * conditionally focus the modal dialog if focus was previously on the player.\n     *\n     * @private\n     */\n    ;\n\n    _proto.conditionalFocus_ = function conditionalFocus_() {\n      var activeEl = document.activeElement;\n      var playerEl = this.player_.el_;\n      this.previouslyActiveEl_ = null;\n\n      if (playerEl.contains(activeEl) || playerEl === activeEl) {\n        this.previouslyActiveEl_ = activeEl;\n        this.focus();\n      }\n    }\n    /**\n     * conditionally blur the element and refocus the last focused element\n     *\n     * @private\n     */\n    ;\n\n    _proto.conditionalBlur_ = function conditionalBlur_() {\n      if (this.previouslyActiveEl_) {\n        this.previouslyActiveEl_.focus();\n        this.previouslyActiveEl_ = null;\n      }\n    }\n    /**\n     * Keydown handler. Attached when modal is focused.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Do not allow keydowns to reach out of the modal dialog.\n      event.stopPropagation();\n\n      if (keycode.isEventKey(event, 'Escape') && this.closeable()) {\n        event.preventDefault();\n        this.close();\n        return;\n      } // exit early if it isn't a tab key\n\n\n      if (!keycode.isEventKey(event, 'Tab')) {\n        return;\n      }\n\n      var focusableEls = this.focusableEls_();\n      var activeEl = this.el_.querySelector(':focus');\n      var focusIndex;\n\n      for (var i = 0; i < focusableEls.length; i++) {\n        if (activeEl === focusableEls[i]) {\n          focusIndex = i;\n          break;\n        }\n      }\n\n      if (document.activeElement === this.el_) {\n        focusIndex = 0;\n      }\n\n      if (event.shiftKey && focusIndex === 0) {\n        focusableEls[focusableEls.length - 1].focus();\n        event.preventDefault();\n      } else if (!event.shiftKey && focusIndex === focusableEls.length - 1) {\n        focusableEls[0].focus();\n        event.preventDefault();\n      }\n    }\n    /**\n     * get all focusable elements\n     *\n     * @private\n     */\n    ;\n\n    _proto.focusableEls_ = function focusableEls_() {\n      var allChildren = this.el_.querySelectorAll('*');\n      return Array.prototype.filter.call(allChildren, function (child) {\n        return (child instanceof window.HTMLAnchorElement || child instanceof window.HTMLAreaElement) && child.hasAttribute('href') || (child instanceof window.HTMLInputElement || child instanceof window.HTMLSelectElement || child instanceof window.HTMLTextAreaElement || child instanceof window.HTMLButtonElement) && !child.hasAttribute('disabled') || child instanceof window.HTMLIFrameElement || child instanceof window.HTMLObjectElement || child instanceof window.HTMLEmbedElement || child.hasAttribute('tabindex') && child.getAttribute('tabindex') !== -1 || child.hasAttribute('contenteditable');\n      });\n    };\n\n    return ModalDialog;\n  }(Component);\n  /**\n   * Default options for `ModalDialog` default options.\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  ModalDialog.prototype.options_ = {\n    pauseOnOpen: true,\n    temporary: true\n  };\n  Component.registerComponent('ModalDialog', ModalDialog);\n\n  /**\n   * Common functionaliy between {@link TextTrackList}, {@link AudioTrackList}, and\n   * {@link VideoTrackList}\n   *\n   * @extends EventTarget\n   */\n\n  var TrackList = /*#__PURE__*/function (_EventTarget) {\n    inheritsLoose(TrackList, _EventTarget);\n\n    /**\n     * Create an instance of this class\n     *\n     * @param {Track[]} tracks\n     *        A list of tracks to initialize the list with.\n     *\n     * @abstract\n     */\n    function TrackList(tracks) {\n      var _this;\n\n      if (tracks === void 0) {\n        tracks = [];\n      }\n\n      _this = _EventTarget.call(this) || this;\n      _this.tracks_ = [];\n      /**\n       * @memberof TrackList\n       * @member {number} length\n       *         The current number of `Track`s in the this Trackist.\n       * @instance\n       */\n\n      Object.defineProperty(assertThisInitialized(_this), 'length', {\n        get: function get() {\n          return this.tracks_.length;\n        }\n      });\n\n      for (var i = 0; i < tracks.length; i++) {\n        _this.addTrack(tracks[i]);\n      }\n\n      return _this;\n    }\n    /**\n     * Add a {@link Track} to the `TrackList`\n     *\n     * @param {Track} track\n     *        The audio, video, or text track to add to the list.\n     *\n     * @fires TrackList#addtrack\n     */\n\n\n    var _proto = TrackList.prototype;\n\n    _proto.addTrack = function addTrack(track) {\n      var _this2 = this;\n\n      var index = this.tracks_.length;\n\n      if (!('' + index in this)) {\n        Object.defineProperty(this, index, {\n          get: function get() {\n            return this.tracks_[index];\n          }\n        });\n      } // Do not add duplicate tracks\n\n\n      if (this.tracks_.indexOf(track) === -1) {\n        this.tracks_.push(track);\n        /**\n         * Triggered when a track is added to a track list.\n         *\n         * @event TrackList#addtrack\n         * @type {EventTarget~Event}\n         * @property {Track} track\n         *           A reference to track that was added.\n         */\n\n        this.trigger({\n          track: track,\n          type: 'addtrack',\n          target: this\n        });\n      }\n      /**\n       * Triggered when a track label is changed.\n       *\n       * @event TrackList#addtrack\n       * @type {EventTarget~Event}\n       * @property {Track} track\n       *           A reference to track that was added.\n       */\n\n\n      track.labelchange_ = function () {\n        _this2.trigger({\n          track: track,\n          type: 'labelchange',\n          target: _this2\n        });\n      };\n\n      if (isEvented(track)) {\n        track.addEventListener('labelchange', track.labelchange_);\n      }\n    }\n    /**\n     * Remove a {@link Track} from the `TrackList`\n     *\n     * @param {Track} rtrack\n     *        The audio, video, or text track to remove from the list.\n     *\n     * @fires TrackList#removetrack\n     */\n    ;\n\n    _proto.removeTrack = function removeTrack(rtrack) {\n      var track;\n\n      for (var i = 0, l = this.length; i < l; i++) {\n        if (this[i] === rtrack) {\n          track = this[i];\n\n          if (track.off) {\n            track.off();\n          }\n\n          this.tracks_.splice(i, 1);\n          break;\n        }\n      }\n\n      if (!track) {\n        return;\n      }\n      /**\n       * Triggered when a track is removed from track list.\n       *\n       * @event TrackList#removetrack\n       * @type {EventTarget~Event}\n       * @property {Track} track\n       *           A reference to track that was removed.\n       */\n\n\n      this.trigger({\n        track: track,\n        type: 'removetrack',\n        target: this\n      });\n    }\n    /**\n     * Get a Track from the TrackList by a tracks id\n     *\n     * @param {string} id - the id of the track to get\n     * @method getTrackById\n     * @return {Track}\n     * @private\n     */\n    ;\n\n    _proto.getTrackById = function getTrackById(id) {\n      var result = null;\n\n      for (var i = 0, l = this.length; i < l; i++) {\n        var track = this[i];\n\n        if (track.id === id) {\n          result = track;\n          break;\n        }\n      }\n\n      return result;\n    };\n\n    return TrackList;\n  }(EventTarget);\n  /**\n   * Triggered when a different track is selected/enabled.\n   *\n   * @event TrackList#change\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Events that can be called with on + eventName. See {@link EventHandler}.\n   *\n   * @property {Object} TrackList#allowedEvents_\n   * @private\n   */\n\n\n  TrackList.prototype.allowedEvents_ = {\n    change: 'change',\n    addtrack: 'addtrack',\n    removetrack: 'removetrack',\n    labelchange: 'labelchange'\n  }; // emulate attribute EventHandler support to allow for feature detection\n\n  for (var event in TrackList.prototype.allowedEvents_) {\n    TrackList.prototype['on' + event] = null;\n  }\n\n  /**\n   * Anywhere we call this function we diverge from the spec\n   * as we only support one enabled audiotrack at a time\n   *\n   * @param {AudioTrackList} list\n   *        list to work on\n   *\n   * @param {AudioTrack} track\n   *        The track to skip\n   *\n   * @private\n   */\n\n  var disableOthers$1 = function disableOthers(list, track) {\n    for (var i = 0; i < list.length; i++) {\n      if (!Object.keys(list[i]).length || track.id === list[i].id) {\n        continue;\n      } // another audio track is enabled, disable it\n\n\n      list[i].enabled = false;\n    }\n  };\n  /**\n   * The current list of {@link AudioTrack} for a media file.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist}\n   * @extends TrackList\n   */\n\n\n  var AudioTrackList = /*#__PURE__*/function (_TrackList) {\n    inheritsLoose(AudioTrackList, _TrackList);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {AudioTrack[]} [tracks=[]]\n     *        A list of `AudioTrack` to instantiate the list with.\n     */\n    function AudioTrackList(tracks) {\n      var _this;\n\n      if (tracks === void 0) {\n        tracks = [];\n      }\n\n      // make sure only 1 track is enabled\n      // sorted from last index to first index\n      for (var i = tracks.length - 1; i >= 0; i--) {\n        if (tracks[i].enabled) {\n          disableOthers$1(tracks, tracks[i]);\n          break;\n        }\n      }\n\n      _this = _TrackList.call(this, tracks) || this;\n      _this.changing_ = false;\n      return _this;\n    }\n    /**\n     * Add an {@link AudioTrack} to the `AudioTrackList`.\n     *\n     * @param {AudioTrack} track\n     *        The AudioTrack to add to the list\n     *\n     * @fires TrackList#addtrack\n     */\n\n\n    var _proto = AudioTrackList.prototype;\n\n    _proto.addTrack = function addTrack(track) {\n      var _this2 = this;\n\n      if (track.enabled) {\n        disableOthers$1(this, track);\n      }\n\n      _TrackList.prototype.addTrack.call(this, track); // native tracks don't have this\n\n\n      if (!track.addEventListener) {\n        return;\n      }\n\n      track.enabledChange_ = function () {\n        // when we are disabling other tracks (since we don't support\n        // more than one track at a time) we will set changing_\n        // to true so that we don't trigger additional change events\n        if (_this2.changing_) {\n          return;\n        }\n\n        _this2.changing_ = true;\n        disableOthers$1(_this2, track);\n        _this2.changing_ = false;\n\n        _this2.trigger('change');\n      };\n      /**\n       * @listens AudioTrack#enabledchange\n       * @fires TrackList#change\n       */\n\n\n      track.addEventListener('enabledchange', track.enabledChange_);\n    };\n\n    _proto.removeTrack = function removeTrack(rtrack) {\n      _TrackList.prototype.removeTrack.call(this, rtrack);\n\n      if (rtrack.removeEventListener && rtrack.enabledChange_) {\n        rtrack.removeEventListener('enabledchange', rtrack.enabledChange_);\n        rtrack.enabledChange_ = null;\n      }\n    };\n\n    return AudioTrackList;\n  }(TrackList);\n\n  /**\n   * Un-select all other {@link VideoTrack}s that are selected.\n   *\n   * @param {VideoTrackList} list\n   *        list to work on\n   *\n   * @param {VideoTrack} track\n   *        The track to skip\n   *\n   * @private\n   */\n\n  var disableOthers = function disableOthers(list, track) {\n    for (var i = 0; i < list.length; i++) {\n      if (!Object.keys(list[i]).length || track.id === list[i].id) {\n        continue;\n      } // another video track is enabled, disable it\n\n\n      list[i].selected = false;\n    }\n  };\n  /**\n   * The current list of {@link VideoTrack} for a video.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist}\n   * @extends TrackList\n   */\n\n\n  var VideoTrackList = /*#__PURE__*/function (_TrackList) {\n    inheritsLoose(VideoTrackList, _TrackList);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {VideoTrack[]} [tracks=[]]\n     *        A list of `VideoTrack` to instantiate the list with.\n     */\n    function VideoTrackList(tracks) {\n      var _this;\n\n      if (tracks === void 0) {\n        tracks = [];\n      }\n\n      // make sure only 1 track is enabled\n      // sorted from last index to first index\n      for (var i = tracks.length - 1; i >= 0; i--) {\n        if (tracks[i].selected) {\n          disableOthers(tracks, tracks[i]);\n          break;\n        }\n      }\n\n      _this = _TrackList.call(this, tracks) || this;\n      _this.changing_ = false;\n      /**\n       * @member {number} VideoTrackList#selectedIndex\n       *         The current index of the selected {@link VideoTrack`}.\n       */\n\n      Object.defineProperty(assertThisInitialized(_this), 'selectedIndex', {\n        get: function get() {\n          for (var _i = 0; _i < this.length; _i++) {\n            if (this[_i].selected) {\n              return _i;\n            }\n          }\n\n          return -1;\n        },\n        set: function set() {}\n      });\n      return _this;\n    }\n    /**\n     * Add a {@link VideoTrack} to the `VideoTrackList`.\n     *\n     * @param {VideoTrack} track\n     *        The VideoTrack to add to the list\n     *\n     * @fires TrackList#addtrack\n     */\n\n\n    var _proto = VideoTrackList.prototype;\n\n    _proto.addTrack = function addTrack(track) {\n      var _this2 = this;\n\n      if (track.selected) {\n        disableOthers(this, track);\n      }\n\n      _TrackList.prototype.addTrack.call(this, track); // native tracks don't have this\n\n\n      if (!track.addEventListener) {\n        return;\n      }\n\n      track.selectedChange_ = function () {\n        if (_this2.changing_) {\n          return;\n        }\n\n        _this2.changing_ = true;\n        disableOthers(_this2, track);\n        _this2.changing_ = false;\n\n        _this2.trigger('change');\n      };\n      /**\n       * @listens VideoTrack#selectedchange\n       * @fires TrackList#change\n       */\n\n\n      track.addEventListener('selectedchange', track.selectedChange_);\n    };\n\n    _proto.removeTrack = function removeTrack(rtrack) {\n      _TrackList.prototype.removeTrack.call(this, rtrack);\n\n      if (rtrack.removeEventListener && rtrack.selectedChange_) {\n        rtrack.removeEventListener('selectedchange', rtrack.selectedChange_);\n        rtrack.selectedChange_ = null;\n      }\n    };\n\n    return VideoTrackList;\n  }(TrackList);\n\n  /**\n   * The current list of {@link TextTrack} for a media file.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttracklist}\n   * @extends TrackList\n   */\n\n  var TextTrackList = /*#__PURE__*/function (_TrackList) {\n    inheritsLoose(TextTrackList, _TrackList);\n\n    function TextTrackList() {\n      return _TrackList.apply(this, arguments) || this;\n    }\n\n    var _proto = TextTrackList.prototype;\n\n    /**\n     * Add a {@link TextTrack} to the `TextTrackList`\n     *\n     * @param {TextTrack} track\n     *        The text track to add to the list.\n     *\n     * @fires TrackList#addtrack\n     */\n    _proto.addTrack = function addTrack(track) {\n      var _this = this;\n\n      _TrackList.prototype.addTrack.call(this, track);\n\n      if (!this.queueChange_) {\n        this.queueChange_ = function () {\n          return _this.queueTrigger('change');\n        };\n      }\n\n      if (!this.triggerSelectedlanguagechange) {\n        this.triggerSelectedlanguagechange_ = function () {\n          return _this.trigger('selectedlanguagechange');\n        };\n      }\n      /**\n       * @listens TextTrack#modechange\n       * @fires TrackList#change\n       */\n\n\n      track.addEventListener('modechange', this.queueChange_);\n      var nonLanguageTextTrackKind = ['metadata', 'chapters'];\n\n      if (nonLanguageTextTrackKind.indexOf(track.kind) === -1) {\n        track.addEventListener('modechange', this.triggerSelectedlanguagechange_);\n      }\n    };\n\n    _proto.removeTrack = function removeTrack(rtrack) {\n      _TrackList.prototype.removeTrack.call(this, rtrack); // manually remove the event handlers we added\n\n\n      if (rtrack.removeEventListener) {\n        if (this.queueChange_) {\n          rtrack.removeEventListener('modechange', this.queueChange_);\n        }\n\n        if (this.selectedlanguagechange_) {\n          rtrack.removeEventListener('modechange', this.triggerSelectedlanguagechange_);\n        }\n      }\n    };\n\n    return TextTrackList;\n  }(TrackList);\n\n  /**\n   * @file html-track-element-list.js\n   */\n\n  /**\n   * The current list of {@link HtmlTrackElement}s.\n   */\n  var HtmlTrackElementList = /*#__PURE__*/function () {\n    /**\n     * Create an instance of this class.\n     *\n     * @param {HtmlTrackElement[]} [tracks=[]]\n     *        A list of `HtmlTrackElement` to instantiate the list with.\n     */\n    function HtmlTrackElementList(trackElements) {\n      if (trackElements === void 0) {\n        trackElements = [];\n      }\n\n      this.trackElements_ = [];\n      /**\n       * @memberof HtmlTrackElementList\n       * @member {number} length\n       *         The current number of `Track`s in the this Trackist.\n       * @instance\n       */\n\n      Object.defineProperty(this, 'length', {\n        get: function get() {\n          return this.trackElements_.length;\n        }\n      });\n\n      for (var i = 0, length = trackElements.length; i < length; i++) {\n        this.addTrackElement_(trackElements[i]);\n      }\n    }\n    /**\n     * Add an {@link HtmlTrackElement} to the `HtmlTrackElementList`\n     *\n     * @param {HtmlTrackElement} trackElement\n     *        The track element to add to the list.\n     *\n     * @private\n     */\n\n\n    var _proto = HtmlTrackElementList.prototype;\n\n    _proto.addTrackElement_ = function addTrackElement_(trackElement) {\n      var index = this.trackElements_.length;\n\n      if (!('' + index in this)) {\n        Object.defineProperty(this, index, {\n          get: function get() {\n            return this.trackElements_[index];\n          }\n        });\n      } // Do not add duplicate elements\n\n\n      if (this.trackElements_.indexOf(trackElement) === -1) {\n        this.trackElements_.push(trackElement);\n      }\n    }\n    /**\n     * Get an {@link HtmlTrackElement} from the `HtmlTrackElementList` given an\n     * {@link TextTrack}.\n     *\n     * @param {TextTrack} track\n     *        The track associated with a track element.\n     *\n     * @return {HtmlTrackElement|undefined}\n     *         The track element that was found or undefined.\n     *\n     * @private\n     */\n    ;\n\n    _proto.getTrackElementByTrack_ = function getTrackElementByTrack_(track) {\n      var trackElement_;\n\n      for (var i = 0, length = this.trackElements_.length; i < length; i++) {\n        if (track === this.trackElements_[i].track) {\n          trackElement_ = this.trackElements_[i];\n          break;\n        }\n      }\n\n      return trackElement_;\n    }\n    /**\n     * Remove a {@link HtmlTrackElement} from the `HtmlTrackElementList`\n     *\n     * @param {HtmlTrackElement} trackElement\n     *        The track element to remove from the list.\n     *\n     * @private\n     */\n    ;\n\n    _proto.removeTrackElement_ = function removeTrackElement_(trackElement) {\n      for (var i = 0, length = this.trackElements_.length; i < length; i++) {\n        if (trackElement === this.trackElements_[i]) {\n          if (this.trackElements_[i].track && typeof this.trackElements_[i].track.off === 'function') {\n            this.trackElements_[i].track.off();\n          }\n\n          if (typeof this.trackElements_[i].off === 'function') {\n            this.trackElements_[i].off();\n          }\n\n          this.trackElements_.splice(i, 1);\n          break;\n        }\n      }\n    };\n\n    return HtmlTrackElementList;\n  }();\n\n  /**\n   * @file text-track-cue-list.js\n   */\n\n  /**\n   * @typedef {Object} TextTrackCueList~TextTrackCue\n   *\n   * @property {string} id\n   *           The unique id for this text track cue\n   *\n   * @property {number} startTime\n   *           The start time for this text track cue\n   *\n   * @property {number} endTime\n   *           The end time for this text track cue\n   *\n   * @property {boolean} pauseOnExit\n   *           Pause when the end time is reached if true.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcue}\n   */\n\n  /**\n   * A List of TextTrackCues.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcuelist}\n   */\n  var TextTrackCueList = /*#__PURE__*/function () {\n    /**\n     * Create an instance of this class..\n     *\n     * @param {Array} cues\n     *        A list of cues to be initialized with\n     */\n    function TextTrackCueList(cues) {\n      TextTrackCueList.prototype.setCues_.call(this, cues);\n      /**\n       * @memberof TextTrackCueList\n       * @member {number} length\n       *         The current number of `TextTrackCue`s in the TextTrackCueList.\n       * @instance\n       */\n\n      Object.defineProperty(this, 'length', {\n        get: function get() {\n          return this.length_;\n        }\n      });\n    }\n    /**\n     * A setter for cues in this list. Creates getters\n     * an an index for the cues.\n     *\n     * @param {Array} cues\n     *        An array of cues to set\n     *\n     * @private\n     */\n\n\n    var _proto = TextTrackCueList.prototype;\n\n    _proto.setCues_ = function setCues_(cues) {\n      var oldLength = this.length || 0;\n      var i = 0;\n      var l = cues.length;\n      this.cues_ = cues;\n      this.length_ = cues.length;\n\n      var defineProp = function defineProp(index) {\n        if (!('' + index in this)) {\n          Object.defineProperty(this, '' + index, {\n            get: function get() {\n              return this.cues_[index];\n            }\n          });\n        }\n      };\n\n      if (oldLength < l) {\n        i = oldLength;\n\n        for (; i < l; i++) {\n          defineProp.call(this, i);\n        }\n      }\n    }\n    /**\n     * Get a `TextTrackCue` that is currently in the `TextTrackCueList` by id.\n     *\n     * @param {string} id\n     *        The id of the cue that should be searched for.\n     *\n     * @return {TextTrackCueList~TextTrackCue|null}\n     *         A single cue or null if none was found.\n     */\n    ;\n\n    _proto.getCueById = function getCueById(id) {\n      var result = null;\n\n      for (var i = 0, l = this.length; i < l; i++) {\n        var cue = this[i];\n\n        if (cue.id === id) {\n          result = cue;\n          break;\n        }\n      }\n\n      return result;\n    };\n\n    return TextTrackCueList;\n  }();\n\n  /**\n   * @file track-kinds.js\n   */\n\n  /**\n   * All possible `VideoTrackKind`s\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-videotrack-kind\n   * @typedef VideoTrack~Kind\n   * @enum\n   */\n  var VideoTrackKind = {\n    alternative: 'alternative',\n    captions: 'captions',\n    main: 'main',\n    sign: 'sign',\n    subtitles: 'subtitles',\n    commentary: 'commentary'\n  };\n  /**\n   * All possible `AudioTrackKind`s\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-audiotrack-kind\n   * @typedef AudioTrack~Kind\n   * @enum\n   */\n\n  var AudioTrackKind = {\n    'alternative': 'alternative',\n    'descriptions': 'descriptions',\n    'main': 'main',\n    'main-desc': 'main-desc',\n    'translation': 'translation',\n    'commentary': 'commentary'\n  };\n  /**\n   * All possible `TextTrackKind`s\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-texttrack-kind\n   * @typedef TextTrack~Kind\n   * @enum\n   */\n\n  var TextTrackKind = {\n    subtitles: 'subtitles',\n    captions: 'captions',\n    descriptions: 'descriptions',\n    chapters: 'chapters',\n    metadata: 'metadata'\n  };\n  /**\n   * All possible `TextTrackMode`s\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackmode\n   * @typedef TextTrack~Mode\n   * @enum\n   */\n\n  var TextTrackMode = {\n    disabled: 'disabled',\n    hidden: 'hidden',\n    showing: 'showing'\n  };\n\n  /**\n   * A Track class that contains all of the common functionality for {@link AudioTrack},\n   * {@link VideoTrack}, and {@link TextTrack}.\n   *\n   * > Note: This class should not be used directly\n   *\n   * @see {@link https://html.spec.whatwg.org/multipage/embedded-content.html}\n   * @extends EventTarget\n   * @abstract\n   */\n\n  var Track = /*#__PURE__*/function (_EventTarget) {\n    inheritsLoose(Track, _EventTarget);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} [options={}]\n     *        Object of option names and values\n     *\n     * @param {string} [options.kind='']\n     *        A valid kind for the track type you are creating.\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this AudioTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @abstract\n     */\n    function Track(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _EventTarget.call(this) || this;\n      var trackProps = {\n        id: options.id || 'vjs_track_' + newGUID(),\n        kind: options.kind || '',\n        language: options.language || ''\n      };\n      var label = options.label || '';\n      /**\n       * @memberof Track\n       * @member {string} id\n       *         The id of this track. Cannot be changed after creation.\n       * @instance\n       *\n       * @readonly\n       */\n\n      /**\n       * @memberof Track\n       * @member {string} kind\n       *         The kind of track that this is. Cannot be changed after creation.\n       * @instance\n       *\n       * @readonly\n       */\n\n      /**\n       * @memberof Track\n       * @member {string} language\n       *         The two letter language code for this track. Cannot be changed after\n       *         creation.\n       * @instance\n       *\n       * @readonly\n       */\n\n      var _loop = function _loop(key) {\n        Object.defineProperty(assertThisInitialized(_this), key, {\n          get: function get() {\n            return trackProps[key];\n          },\n          set: function set() {}\n        });\n      };\n\n      for (var key in trackProps) {\n        _loop(key);\n      }\n      /**\n       * @memberof Track\n       * @member {string} label\n       *         The label of this track. Cannot be changed after creation.\n       * @instance\n       *\n       * @fires Track#labelchange\n       */\n\n\n      Object.defineProperty(assertThisInitialized(_this), 'label', {\n        get: function get() {\n          return label;\n        },\n        set: function set(newLabel) {\n          if (newLabel !== label) {\n            label = newLabel;\n            /**\n             * An event that fires when label changes on this track.\n             *\n             * > Note: This is not part of the spec!\n             *\n             * @event Track#labelchange\n             * @type {EventTarget~Event}\n             */\n\n            this.trigger('labelchange');\n          }\n        }\n      });\n      return _this;\n    }\n\n    return Track;\n  }(EventTarget);\n\n  /**\n   * @file url.js\n   * @module url\n   */\n\n  /**\n   * @typedef {Object} url:URLObject\n   *\n   * @property {string} protocol\n   *           The protocol of the url that was parsed.\n   *\n   * @property {string} hostname\n   *           The hostname of the url that was parsed.\n   *\n   * @property {string} port\n   *           The port of the url that was parsed.\n   *\n   * @property {string} pathname\n   *           The pathname of the url that was parsed.\n   *\n   * @property {string} search\n   *           The search query of the url that was parsed.\n   *\n   * @property {string} hash\n   *           The hash of the url that was parsed.\n   *\n   * @property {string} host\n   *           The host of the url that was parsed.\n   */\n\n  /**\n   * Resolve and parse the elements of a URL.\n   *\n   * @function\n   * @param    {String} url\n   *           The url to parse\n   *\n   * @return   {url:URLObject}\n   *           An object of url details\n   */\n  var parseUrl = function parseUrl(url) {\n    // This entire method can be replace with URL once we are able to drop IE11\n    var props = ['protocol', 'hostname', 'port', 'pathname', 'search', 'hash', 'host']; // add the url to an anchor and let the browser parse the URL\n\n    var a = document.createElement('a');\n    a.href = url; // Copy the specific URL properties to a new object\n    // This is also needed for IE because the anchor loses its\n    // properties when it's removed from the dom\n\n    var details = {};\n\n    for (var i = 0; i < props.length; i++) {\n      details[props[i]] = a[props[i]];\n    } // IE adds the port to the host property unlike everyone else. If\n    // a port identifier is added for standard ports, strip it.\n\n\n    if (details.protocol === 'http:') {\n      details.host = details.host.replace(/:80$/, '');\n    }\n\n    if (details.protocol === 'https:') {\n      details.host = details.host.replace(/:443$/, '');\n    }\n\n    if (!details.protocol) {\n      details.protocol = window.location.protocol;\n    }\n    /* istanbul ignore if */\n\n\n    if (!details.host) {\n      details.host = window.location.host;\n    }\n\n    return details;\n  };\n  /**\n   * Get absolute version of relative URL. Used to tell Flash the correct URL.\n   *\n   * @function\n   * @param    {string} url\n   *           URL to make absolute\n   *\n   * @return   {string}\n   *           Absolute URL\n   *\n   * @see      http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue\n   */\n\n  var getAbsoluteURL = function getAbsoluteURL(url) {\n    // Check if absolute URL\n    if (!url.match(/^https?:\\/\\//)) {\n      // Convert to absolute URL. Flash hosted off-site needs an absolute URL.\n      // add the url to an anchor and let the browser parse the URL\n      var a = document.createElement('a');\n      a.href = url;\n      url = a.href;\n    }\n\n    return url;\n  };\n  /**\n   * Returns the extension of the passed file name. It will return an empty string\n   * if passed an invalid path.\n   *\n   * @function\n   * @param    {string} path\n   *           The fileName path like '/path/to/file.mp4'\n   *\n   * @return  {string}\n   *           The extension in lower case or an empty string if no\n   *           extension could be found.\n   */\n\n  var getFileExtension = function getFileExtension(path) {\n    if (typeof path === 'string') {\n      var splitPathRe = /^(\\/?)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?)(\\.([^\\.\\/\\?]+)))(?:[\\/]*|[\\?].*)$/;\n      var pathParts = splitPathRe.exec(path);\n\n      if (pathParts) {\n        return pathParts.pop().toLowerCase();\n      }\n    }\n\n    return '';\n  };\n  /**\n   * Returns whether the url passed is a cross domain request or not.\n   *\n   * @function\n   * @param    {string} url\n   *           The url to check.\n   *\n   * @param    {Object} [winLoc]\n   *           the domain to check the url against, defaults to window.location\n   *\n   * @param    {string} [winLoc.protocol]\n   *           The window location protocol defaults to window.location.protocol\n   *\n   * @param    {string} [winLoc.host]\n   *           The window location host defaults to window.location.host\n   *\n   * @return   {boolean}\n   *           Whether it is a cross domain request or not.\n   */\n\n  var isCrossOrigin = function isCrossOrigin(url, winLoc) {\n    if (winLoc === void 0) {\n      winLoc = window.location;\n    }\n\n    var urlInfo = parseUrl(url); // IE8 protocol relative urls will return ':' for protocol\n\n    var srcProtocol = urlInfo.protocol === ':' ? winLoc.protocol : urlInfo.protocol; // Check if url is for another domain/origin\n    // IE8 doesn't know location.origin, so we won't rely on it here\n\n    var crossOrigin = srcProtocol + urlInfo.host !== winLoc.protocol + winLoc.host;\n    return crossOrigin;\n  };\n\n  var Url = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    parseUrl: parseUrl,\n    getAbsoluteURL: getAbsoluteURL,\n    getFileExtension: getFileExtension,\n    isCrossOrigin: isCrossOrigin\n  });\n\n  var win;\n\n  if (typeof window !== \"undefined\") {\n    win = window;\n  } else if (typeof commonjsGlobal !== \"undefined\") {\n    win = commonjsGlobal;\n  } else if (typeof self !== \"undefined\") {\n    win = self;\n  } else {\n    win = {};\n  }\n\n  var window_1 = win;\n\n  var isFunction_1 = isFunction;\n  var toString = Object.prototype.toString;\n\n  function isFunction(fn) {\n    if (!fn) {\n      return false;\n    }\n\n    var string = toString.call(fn);\n    return string === '[object Function]' || typeof fn === 'function' && string !== '[object RegExp]' || typeof window !== 'undefined' && ( // IE8 and below\n    fn === window.setTimeout || fn === window.alert || fn === window.confirm || fn === window.prompt);\n  }\n\n  var httpResponseHandler = function httpResponseHandler(callback, decodeResponseBody) {\n    if (decodeResponseBody === void 0) {\n      decodeResponseBody = false;\n    }\n\n    return function (err, response, responseBody) {\n      // if the XHR failed, return that error\n      if (err) {\n        callback(err);\n        return;\n      } // if the HTTP status code is 4xx or 5xx, the request also failed\n\n\n      if (response.statusCode >= 400 && response.statusCode <= 599) {\n        var cause = responseBody;\n\n        if (decodeResponseBody) {\n          if (window_1.TextDecoder) {\n            var charset = getCharset(response.headers && response.headers['content-type']);\n\n            try {\n              cause = new TextDecoder(charset).decode(responseBody);\n            } catch (e) {}\n          } else {\n            cause = String.fromCharCode.apply(null, new Uint8Array(responseBody));\n          }\n        }\n\n        callback({\n          cause: cause\n        });\n        return;\n      } // otherwise, request succeeded\n\n\n      callback(null, responseBody);\n    };\n  };\n\n  function getCharset(contentTypeHeader) {\n    if (contentTypeHeader === void 0) {\n      contentTypeHeader = '';\n    }\n\n    return contentTypeHeader.toLowerCase().split(';').reduce(function (charset, contentType) {\n      var _contentType$split = contentType.split('='),\n          type = _contentType$split[0],\n          value = _contentType$split[1];\n\n      if (type.trim() === 'charset') {\n        return value.trim();\n      }\n\n      return charset;\n    }, 'utf-8');\n  }\n\n  var httpHandler = httpResponseHandler;\n\n  createXHR.httpHandler = httpHandler;\n  /**\n   * @license\n   * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>\n   * Copyright (c) 2014 David Bjrklund\n   * Available under the MIT license\n   * <https://github.com/kesla/parse-headers/blob/master/LICENCE>\n   */\n\n  var parseHeaders = function parseHeaders(headers) {\n    var result = {};\n\n    if (!headers) {\n      return result;\n    }\n\n    headers.trim().split('\\n').forEach(function (row) {\n      var index = row.indexOf(':');\n      var key = row.slice(0, index).trim().toLowerCase();\n      var value = row.slice(index + 1).trim();\n\n      if (typeof result[key] === 'undefined') {\n        result[key] = value;\n      } else if (Array.isArray(result[key])) {\n        result[key].push(value);\n      } else {\n        result[key] = [result[key], value];\n      }\n    });\n    return result;\n  };\n\n  var lib = createXHR; // Allow use of default import syntax in TypeScript\n\n  var default_1 = createXHR;\n  createXHR.XMLHttpRequest = window_1.XMLHttpRequest || noop;\n  createXHR.XDomainRequest = \"withCredentials\" in new createXHR.XMLHttpRequest() ? createXHR.XMLHttpRequest : window_1.XDomainRequest;\n  forEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function (method) {\n    createXHR[method === \"delete\" ? \"del\" : method] = function (uri, options, callback) {\n      options = initParams(uri, options, callback);\n      options.method = method.toUpperCase();\n      return _createXHR(options);\n    };\n  });\n\n  function forEachArray(array, iterator) {\n    for (var i = 0; i < array.length; i++) {\n      iterator(array[i]);\n    }\n  }\n\n  function isEmpty(obj) {\n    for (var i in obj) {\n      if (obj.hasOwnProperty(i)) return false;\n    }\n\n    return true;\n  }\n\n  function initParams(uri, options, callback) {\n    var params = uri;\n\n    if (isFunction_1(options)) {\n      callback = options;\n\n      if (typeof uri === \"string\") {\n        params = {\n          uri: uri\n        };\n      }\n    } else {\n      params = _extends_1({}, options, {\n        uri: uri\n      });\n    }\n\n    params.callback = callback;\n    return params;\n  }\n\n  function createXHR(uri, options, callback) {\n    options = initParams(uri, options, callback);\n    return _createXHR(options);\n  }\n\n  function _createXHR(options) {\n    if (typeof options.callback === \"undefined\") {\n      throw new Error(\"callback argument missing\");\n    }\n\n    var called = false;\n\n    var callback = function cbOnce(err, response, body) {\n      if (!called) {\n        called = true;\n        options.callback(err, response, body);\n      }\n    };\n\n    function readystatechange() {\n      if (xhr.readyState === 4) {\n        setTimeout(loadFunc, 0);\n      }\n    }\n\n    function getBody() {\n      // Chrome with requestType=blob throws errors arround when even testing access to responseText\n      var body = undefined;\n\n      if (xhr.response) {\n        body = xhr.response;\n      } else {\n        body = xhr.responseText || getXml(xhr);\n      }\n\n      if (isJson) {\n        try {\n          body = JSON.parse(body);\n        } catch (e) {}\n      }\n\n      return body;\n    }\n\n    function errorFunc(evt) {\n      clearTimeout(timeoutTimer);\n\n      if (!(evt instanceof Error)) {\n        evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\"));\n      }\n\n      evt.statusCode = 0;\n      return callback(evt, failureResponse);\n    } // will load the data & process the response in a special response object\n\n\n    function loadFunc() {\n      if (aborted) return;\n      var status;\n      clearTimeout(timeoutTimer);\n\n      if (options.useXDR && xhr.status === undefined) {\n        //IE8 CORS GET successful response doesn't have a status field, but body is fine\n        status = 200;\n      } else {\n        status = xhr.status === 1223 ? 204 : xhr.status;\n      }\n\n      var response = failureResponse;\n      var err = null;\n\n      if (status !== 0) {\n        response = {\n          body: getBody(),\n          statusCode: status,\n          method: method,\n          headers: {},\n          url: uri,\n          rawRequest: xhr\n        };\n\n        if (xhr.getAllResponseHeaders) {\n          //remember xhr can in fact be XDR for CORS in IE\n          response.headers = parseHeaders(xhr.getAllResponseHeaders());\n        }\n      } else {\n        err = new Error(\"Internal XMLHttpRequest Error\");\n      }\n\n      return callback(err, response, response.body);\n    }\n\n    var xhr = options.xhr || null;\n\n    if (!xhr) {\n      if (options.cors || options.useXDR) {\n        xhr = new createXHR.XDomainRequest();\n      } else {\n        xhr = new createXHR.XMLHttpRequest();\n      }\n    }\n\n    var key;\n    var aborted;\n    var uri = xhr.url = options.uri || options.url;\n    var method = xhr.method = options.method || \"GET\";\n    var body = options.body || options.data;\n    var headers = xhr.headers = options.headers || {};\n    var sync = !!options.sync;\n    var isJson = false;\n    var timeoutTimer;\n    var failureResponse = {\n      body: undefined,\n      headers: {},\n      statusCode: 0,\n      method: method,\n      url: uri,\n      rawRequest: xhr\n    };\n\n    if (\"json\" in options && options.json !== false) {\n      isJson = true;\n      headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\"); //Don't override existing accept header declared by user\n\n      if (method !== \"GET\" && method !== \"HEAD\") {\n        headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\"); //Don't override existing accept header declared by user\n\n        body = JSON.stringify(options.json === true ? body : options.json);\n      }\n    }\n\n    xhr.onreadystatechange = readystatechange;\n    xhr.onload = loadFunc;\n    xhr.onerror = errorFunc; // IE9 must have onprogress be set to a unique function.\n\n    xhr.onprogress = function () {// IE must die\n    };\n\n    xhr.onabort = function () {\n      aborted = true;\n    };\n\n    xhr.ontimeout = errorFunc;\n    xhr.open(method, uri, !sync, options.username, options.password); //has to be after open\n\n    if (!sync) {\n      xhr.withCredentials = !!options.withCredentials;\n    } // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n\n\n    if (!sync && options.timeout > 0) {\n      timeoutTimer = setTimeout(function () {\n        if (aborted) return;\n        aborted = true; //IE9 may still call readystatechange\n\n        xhr.abort(\"timeout\");\n        var e = new Error(\"XMLHttpRequest timeout\");\n        e.code = \"ETIMEDOUT\";\n        errorFunc(e);\n      }, options.timeout);\n    }\n\n    if (xhr.setRequestHeader) {\n      for (key in headers) {\n        if (headers.hasOwnProperty(key)) {\n          xhr.setRequestHeader(key, headers[key]);\n        }\n      }\n    } else if (options.headers && !isEmpty(options.headers)) {\n      throw new Error(\"Headers cannot be set on an XDomainRequest object\");\n    }\n\n    if (\"responseType\" in options) {\n      xhr.responseType = options.responseType;\n    }\n\n    if (\"beforeSend\" in options && typeof options.beforeSend === \"function\") {\n      options.beforeSend(xhr);\n    } // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n    // XMLHttpRequest spec says to pass null as body to indicate no body\n    // See https://github.com/naugtur/xhr/issues/100.\n\n\n    xhr.send(body || null);\n    return xhr;\n  }\n\n  function getXml(xhr) {\n    // xhr.responseXML will throw Exception \"InvalidStateError\" or \"DOMException\"\n    // See https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseXML.\n    try {\n      if (xhr.responseType === \"document\") {\n        return xhr.responseXML;\n      }\n\n      var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\";\n\n      if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n        return xhr.responseXML;\n      }\n    } catch (e) {}\n\n    return null;\n  }\n\n  function noop() {}\n  lib[\"default\"] = default_1;\n\n  /**\n   * Takes a webvtt file contents and parses it into cues\n   *\n   * @param {string} srcContent\n   *        webVTT file contents\n   *\n   * @param {TextTrack} track\n   *        TextTrack to add cues to. Cues come from the srcContent.\n   *\n   * @private\n   */\n\n  var parseCues = function parseCues(srcContent, track) {\n    var parser = new window.WebVTT.Parser(window, window.vttjs, window.WebVTT.StringDecoder());\n    var errors = [];\n\n    parser.oncue = function (cue) {\n      track.addCue(cue);\n    };\n\n    parser.onparsingerror = function (error) {\n      errors.push(error);\n    };\n\n    parser.onflush = function () {\n      track.trigger({\n        type: 'loadeddata',\n        target: track\n      });\n    };\n\n    parser.parse(srcContent);\n\n    if (errors.length > 0) {\n      if (window.console && window.console.groupCollapsed) {\n        window.console.groupCollapsed(\"Text Track parsing errors for \" + track.src);\n      }\n\n      errors.forEach(function (error) {\n        return log.error(error);\n      });\n\n      if (window.console && window.console.groupEnd) {\n        window.console.groupEnd();\n      }\n    }\n\n    parser.flush();\n  };\n  /**\n   * Load a `TextTrack` from a specified url.\n   *\n   * @param {string} src\n   *        Url to load track from.\n   *\n   * @param {TextTrack} track\n   *        Track to add cues to. Comes from the content at the end of `url`.\n   *\n   * @private\n   */\n\n\n  var loadTrack = function loadTrack(src, track) {\n    var opts = {\n      uri: src\n    };\n    var crossOrigin = isCrossOrigin(src);\n\n    if (crossOrigin) {\n      opts.cors = crossOrigin;\n    }\n\n    var withCredentials = track.tech_.crossOrigin() === 'use-credentials';\n\n    if (withCredentials) {\n      opts.withCredentials = withCredentials;\n    }\n\n    lib(opts, bind(this, function (err, response, responseBody) {\n      if (err) {\n        return log.error(err, response);\n      }\n\n      track.loaded_ = true; // Make sure that vttjs has loaded, otherwise, wait till it finished loading\n      // NOTE: this is only used for the alt/video.novtt.js build\n\n      if (typeof window.WebVTT !== 'function') {\n        if (track.tech_) {\n          // to prevent use before define eslint error, we define loadHandler\n          // as a let here\n          track.tech_.any(['vttjsloaded', 'vttjserror'], function (event) {\n            if (event.type === 'vttjserror') {\n              log.error(\"vttjs failed to load, stopping trying to process \" + track.src);\n              return;\n            }\n\n            return parseCues(responseBody, track);\n          });\n        }\n      } else {\n        parseCues(responseBody, track);\n      }\n    }));\n  };\n  /**\n   * A representation of a single `TextTrack`.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrack}\n   * @extends Track\n   */\n\n\n  var TextTrack = /*#__PURE__*/function (_Track) {\n    inheritsLoose(TextTrack, _Track);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} options={}\n     *        Object of option names and values\n     *\n     * @param {Tech} options.tech\n     *        A reference to the tech that owns this TextTrack.\n     *\n     * @param {TextTrack~Kind} [options.kind='subtitles']\n     *        A valid text track kind.\n     *\n     * @param {TextTrack~Mode} [options.mode='disabled']\n     *        A valid text track mode.\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this TextTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @param {string} [options.srclang='']\n     *        A valid two character language code. An alternative, but deprioritized\n     *        version of `options.language`\n     *\n     * @param {string} [options.src]\n     *        A url to TextTrack cues.\n     *\n     * @param {boolean} [options.default]\n     *        If this track should default to on or off.\n     */\n    function TextTrack(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (!options.tech) {\n        throw new Error('A tech was not provided.');\n      }\n\n      var settings = mergeOptions(options, {\n        kind: TextTrackKind[options.kind] || 'subtitles',\n        language: options.language || options.srclang || ''\n      });\n      var mode = TextTrackMode[settings.mode] || 'disabled';\n      var default_ = settings[\"default\"];\n\n      if (settings.kind === 'metadata' || settings.kind === 'chapters') {\n        mode = 'hidden';\n      }\n\n      _this = _Track.call(this, settings) || this;\n      _this.tech_ = settings.tech;\n      _this.cues_ = [];\n      _this.activeCues_ = [];\n      _this.preload_ = _this.tech_.preloadTextTracks !== false;\n      var cues = new TextTrackCueList(_this.cues_);\n      var activeCues = new TextTrackCueList(_this.activeCues_);\n      var changed = false;\n      _this.timeupdateHandler = bind(assertThisInitialized(_this), function (event) {\n        if (event === void 0) {\n          event = {};\n        }\n\n        if (this.tech_.isDisposed()) {\n          return;\n        }\n\n        if (!this.tech_.isReady_) {\n          if (event.type !== 'timeupdate') {\n            this.rvf_ = this.tech_.requestVideoFrameCallback(this.timeupdateHandler);\n          }\n\n          return;\n        } // Accessing this.activeCues for the side-effects of updating itself\n        // due to its nature as a getter function. Do not remove or cues will\n        // stop updating!\n        // Use the setter to prevent deletion from uglify (pure_getters rule)\n\n\n        this.activeCues = this.activeCues;\n\n        if (changed) {\n          this.trigger('cuechange');\n          changed = false;\n        }\n\n        if (event.type !== 'timeupdate') {\n          this.rvf_ = this.tech_.requestVideoFrameCallback(this.timeupdateHandler);\n        }\n      });\n\n      var disposeHandler = function disposeHandler() {\n        _this.stopTracking();\n      };\n\n      _this.tech_.one('dispose', disposeHandler);\n\n      if (mode !== 'disabled') {\n        _this.startTracking();\n      }\n\n      Object.defineProperties(assertThisInitialized(_this), {\n        /**\n         * @memberof TextTrack\n         * @member {boolean} default\n         *         If this track was set to be on or off by default. Cannot be changed after\n         *         creation.\n         * @instance\n         *\n         * @readonly\n         */\n        \"default\": {\n          get: function get() {\n            return default_;\n          },\n          set: function set() {}\n        },\n\n        /**\n         * @memberof TextTrack\n         * @member {string} mode\n         *         Set the mode of this TextTrack to a valid {@link TextTrack~Mode}. Will\n         *         not be set if setting to an invalid mode.\n         * @instance\n         *\n         * @fires TextTrack#modechange\n         */\n        mode: {\n          get: function get() {\n            return mode;\n          },\n          set: function set(newMode) {\n            if (!TextTrackMode[newMode]) {\n              return;\n            }\n\n            if (mode === newMode) {\n              return;\n            }\n\n            mode = newMode;\n\n            if (!this.preload_ && mode !== 'disabled' && this.cues.length === 0) {\n              // On-demand load.\n              loadTrack(this.src, this);\n            }\n\n            this.stopTracking();\n\n            if (mode !== 'disabled') {\n              this.startTracking();\n            }\n            /**\n             * An event that fires when mode changes on this track. This allows\n             * the TextTrackList that holds this track to act accordingly.\n             *\n             * > Note: This is not part of the spec!\n             *\n             * @event TextTrack#modechange\n             * @type {EventTarget~Event}\n             */\n\n\n            this.trigger('modechange');\n          }\n        },\n\n        /**\n         * @memberof TextTrack\n         * @member {TextTrackCueList} cues\n         *         The text track cue list for this TextTrack.\n         * @instance\n         */\n        cues: {\n          get: function get() {\n            if (!this.loaded_) {\n              return null;\n            }\n\n            return cues;\n          },\n          set: function set() {}\n        },\n\n        /**\n         * @memberof TextTrack\n         * @member {TextTrackCueList} activeCues\n         *         The list text track cues that are currently active for this TextTrack.\n         * @instance\n         */\n        activeCues: {\n          get: function get() {\n            if (!this.loaded_) {\n              return null;\n            } // nothing to do\n\n\n            if (this.cues.length === 0) {\n              return activeCues;\n            }\n\n            var ct = this.tech_.currentTime();\n            var active = [];\n\n            for (var i = 0, l = this.cues.length; i < l; i++) {\n              var cue = this.cues[i];\n\n              if (cue.startTime <= ct && cue.endTime >= ct) {\n                active.push(cue);\n              } else if (cue.startTime === cue.endTime && cue.startTime <= ct && cue.startTime + 0.5 >= ct) {\n                active.push(cue);\n              }\n            }\n\n            changed = false;\n\n            if (active.length !== this.activeCues_.length) {\n              changed = true;\n            } else {\n              for (var _i = 0; _i < active.length; _i++) {\n                if (this.activeCues_.indexOf(active[_i]) === -1) {\n                  changed = true;\n                }\n              }\n            }\n\n            this.activeCues_ = active;\n            activeCues.setCues_(this.activeCues_);\n            return activeCues;\n          },\n          // /!\\ Keep this setter empty (see the timeupdate handler above)\n          set: function set() {}\n        }\n      });\n\n      if (settings.src) {\n        _this.src = settings.src;\n\n        if (!_this.preload_) {\n          // Tracks will load on-demand.\n          // Act like we're loaded for other purposes.\n          _this.loaded_ = true;\n        }\n\n        if (_this.preload_ || settings.kind !== 'subtitles' && settings.kind !== 'captions') {\n          loadTrack(_this.src, assertThisInitialized(_this));\n        }\n      } else {\n        _this.loaded_ = true;\n      }\n\n      return _this;\n    }\n\n    var _proto = TextTrack.prototype;\n\n    _proto.startTracking = function startTracking() {\n      // More precise cues based on requestVideoFrameCallback with a requestAnimationFram fallback\n      this.rvf_ = this.tech_.requestVideoFrameCallback(this.timeupdateHandler); // Also listen to timeupdate in case rVFC/rAF stops (window in background, audio in video el)\n\n      this.tech_.on('timeupdate', this.timeupdateHandler);\n    };\n\n    _proto.stopTracking = function stopTracking() {\n      if (this.rvf_) {\n        this.tech_.cancelVideoFrameCallback(this.rvf_);\n        this.rvf_ = undefined;\n      }\n\n      this.tech_.off('timeupdate', this.timeupdateHandler);\n    }\n    /**\n     * Add a cue to the internal list of cues.\n     *\n     * @param {TextTrack~Cue} cue\n     *        The cue to add to our internal list\n     */\n    ;\n\n    _proto.addCue = function addCue(originalCue) {\n      var cue = originalCue;\n\n      if (window.vttjs && !(originalCue instanceof window.vttjs.VTTCue)) {\n        cue = new window.vttjs.VTTCue(originalCue.startTime, originalCue.endTime, originalCue.text);\n\n        for (var prop in originalCue) {\n          if (!(prop in cue)) {\n            cue[prop] = originalCue[prop];\n          }\n        } // make sure that `id` is copied over\n\n\n        cue.id = originalCue.id;\n        cue.originalCue_ = originalCue;\n      }\n\n      var tracks = this.tech_.textTracks();\n\n      for (var i = 0; i < tracks.length; i++) {\n        if (tracks[i] !== this) {\n          tracks[i].removeCue(cue);\n        }\n      }\n\n      this.cues_.push(cue);\n      this.cues.setCues_(this.cues_);\n    }\n    /**\n     * Remove a cue from our internal list\n     *\n     * @param {TextTrack~Cue} removeCue\n     *        The cue to remove from our internal list\n     */\n    ;\n\n    _proto.removeCue = function removeCue(_removeCue) {\n      var i = this.cues_.length;\n\n      while (i--) {\n        var cue = this.cues_[i];\n\n        if (cue === _removeCue || cue.originalCue_ && cue.originalCue_ === _removeCue) {\n          this.cues_.splice(i, 1);\n          this.cues.setCues_(this.cues_);\n          break;\n        }\n      }\n    };\n\n    return TextTrack;\n  }(Track);\n  /**\n   * cuechange - One or more cues in the track have become active or stopped being active.\n   */\n\n\n  TextTrack.prototype.allowedEvents_ = {\n    cuechange: 'cuechange'\n  };\n\n  /**\n   * A representation of a single `AudioTrack`. If it is part of an {@link AudioTrackList}\n   * only one `AudioTrack` in the list will be enabled at a time.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotrack}\n   * @extends Track\n   */\n\n  var AudioTrack = /*#__PURE__*/function (_Track) {\n    inheritsLoose(AudioTrack, _Track);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} [options={}]\n     *        Object of option names and values\n     *\n     * @param {AudioTrack~Kind} [options.kind='']\n     *        A valid audio track kind\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this AudioTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @param {boolean} [options.enabled]\n     *        If this track is the one that is currently playing. If this track is part of\n     *        an {@link AudioTrackList}, only one {@link AudioTrack} will be enabled.\n     */\n    function AudioTrack(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      var settings = mergeOptions(options, {\n        kind: AudioTrackKind[options.kind] || ''\n      });\n      _this = _Track.call(this, settings) || this;\n      var enabled = false;\n      /**\n       * @memberof AudioTrack\n       * @member {boolean} enabled\n       *         If this `AudioTrack` is enabled or not. When setting this will\n       *         fire {@link AudioTrack#enabledchange} if the state of enabled is changed.\n       * @instance\n       *\n       * @fires VideoTrack#selectedchange\n       */\n\n      Object.defineProperty(assertThisInitialized(_this), 'enabled', {\n        get: function get() {\n          return enabled;\n        },\n        set: function set(newEnabled) {\n          // an invalid or unchanged value\n          if (typeof newEnabled !== 'boolean' || newEnabled === enabled) {\n            return;\n          }\n\n          enabled = newEnabled;\n          /**\n           * An event that fires when enabled changes on this track. This allows\n           * the AudioTrackList that holds this track to act accordingly.\n           *\n           * > Note: This is not part of the spec! Native tracks will do\n           *         this internally without an event.\n           *\n           * @event AudioTrack#enabledchange\n           * @type {EventTarget~Event}\n           */\n\n          this.trigger('enabledchange');\n        }\n      }); // if the user sets this track to selected then\n      // set selected to that true value otherwise\n      // we keep it false\n\n      if (settings.enabled) {\n        _this.enabled = settings.enabled;\n      }\n\n      _this.loaded_ = true;\n      return _this;\n    }\n\n    return AudioTrack;\n  }(Track);\n\n  /**\n   * A representation of a single `VideoTrack`.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#videotrack}\n   * @extends Track\n   */\n\n  var VideoTrack = /*#__PURE__*/function (_Track) {\n    inheritsLoose(VideoTrack, _Track);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} [options={}]\n     *        Object of option names and values\n     *\n     * @param {string} [options.kind='']\n     *        A valid {@link VideoTrack~Kind}\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this AudioTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @param {boolean} [options.selected]\n     *        If this track is the one that is currently playing.\n     */\n    function VideoTrack(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      var settings = mergeOptions(options, {\n        kind: VideoTrackKind[options.kind] || ''\n      });\n      _this = _Track.call(this, settings) || this;\n      var selected = false;\n      /**\n       * @memberof VideoTrack\n       * @member {boolean} selected\n       *         If this `VideoTrack` is selected or not. When setting this will\n       *         fire {@link VideoTrack#selectedchange} if the state of selected changed.\n       * @instance\n       *\n       * @fires VideoTrack#selectedchange\n       */\n\n      Object.defineProperty(assertThisInitialized(_this), 'selected', {\n        get: function get() {\n          return selected;\n        },\n        set: function set(newSelected) {\n          // an invalid or unchanged value\n          if (typeof newSelected !== 'boolean' || newSelected === selected) {\n            return;\n          }\n\n          selected = newSelected;\n          /**\n           * An event that fires when selected changes on this track. This allows\n           * the VideoTrackList that holds this track to act accordingly.\n           *\n           * > Note: This is not part of the spec! Native tracks will do\n           *         this internally without an event.\n           *\n           * @event VideoTrack#selectedchange\n           * @type {EventTarget~Event}\n           */\n\n          this.trigger('selectedchange');\n        }\n      }); // if the user sets this track to selected then\n      // set selected to that true value otherwise\n      // we keep it false\n\n      if (settings.selected) {\n        _this.selected = settings.selected;\n      }\n\n      return _this;\n    }\n\n    return VideoTrack;\n  }(Track);\n\n  /**\n   * @memberof HTMLTrackElement\n   * @typedef {HTMLTrackElement~ReadyState}\n   * @enum {number}\n   */\n\n  var NONE = 0;\n  var LOADING = 1;\n  var LOADED = 2;\n  var ERROR = 3;\n  /**\n   * A single track represented in the DOM.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#htmltrackelement}\n   * @extends EventTarget\n   */\n\n  var HTMLTrackElement = /*#__PURE__*/function (_EventTarget) {\n    inheritsLoose(HTMLTrackElement, _EventTarget);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} options={}\n     *        Object of option names and values\n     *\n     * @param {Tech} options.tech\n     *        A reference to the tech that owns this HTMLTrackElement.\n     *\n     * @param {TextTrack~Kind} [options.kind='subtitles']\n     *        A valid text track kind.\n     *\n     * @param {TextTrack~Mode} [options.mode='disabled']\n     *        A valid text track mode.\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this TextTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @param {string} [options.srclang='']\n     *        A valid two character language code. An alternative, but deprioritized\n     *        version of `options.language`\n     *\n     * @param {string} [options.src]\n     *        A url to TextTrack cues.\n     *\n     * @param {boolean} [options.default]\n     *        If this track should default to on or off.\n     */\n    function HTMLTrackElement(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _EventTarget.call(this) || this;\n      var readyState;\n      var track = new TextTrack(options);\n      _this.kind = track.kind;\n      _this.src = track.src;\n      _this.srclang = track.language;\n      _this.label = track.label;\n      _this[\"default\"] = track[\"default\"];\n      Object.defineProperties(assertThisInitialized(_this), {\n        /**\n         * @memberof HTMLTrackElement\n         * @member {HTMLTrackElement~ReadyState} readyState\n         *         The current ready state of the track element.\n         * @instance\n         */\n        readyState: {\n          get: function get() {\n            return readyState;\n          }\n        },\n\n        /**\n         * @memberof HTMLTrackElement\n         * @member {TextTrack} track\n         *         The underlying TextTrack object.\n         * @instance\n         *\n         */\n        track: {\n          get: function get() {\n            return track;\n          }\n        }\n      });\n      readyState = NONE;\n      /**\n       * @listens TextTrack#loadeddata\n       * @fires HTMLTrackElement#load\n       */\n\n      track.addEventListener('loadeddata', function () {\n        readyState = LOADED;\n\n        _this.trigger({\n          type: 'load',\n          target: assertThisInitialized(_this)\n        });\n      });\n      return _this;\n    }\n\n    return HTMLTrackElement;\n  }(EventTarget);\n\n  HTMLTrackElement.prototype.allowedEvents_ = {\n    load: 'load'\n  };\n  HTMLTrackElement.NONE = NONE;\n  HTMLTrackElement.LOADING = LOADING;\n  HTMLTrackElement.LOADED = LOADED;\n  HTMLTrackElement.ERROR = ERROR;\n\n  /*\n   * This file contains all track properties that are used in\n   * player.js, tech.js, html5.js and possibly other techs in the future.\n   */\n\n  var NORMAL = {\n    audio: {\n      ListClass: AudioTrackList,\n      TrackClass: AudioTrack,\n      capitalName: 'Audio'\n    },\n    video: {\n      ListClass: VideoTrackList,\n      TrackClass: VideoTrack,\n      capitalName: 'Video'\n    },\n    text: {\n      ListClass: TextTrackList,\n      TrackClass: TextTrack,\n      capitalName: 'Text'\n    }\n  };\n  Object.keys(NORMAL).forEach(function (type) {\n    NORMAL[type].getterName = type + \"Tracks\";\n    NORMAL[type].privateName = type + \"Tracks_\";\n  });\n  var REMOTE = {\n    remoteText: {\n      ListClass: TextTrackList,\n      TrackClass: TextTrack,\n      capitalName: 'RemoteText',\n      getterName: 'remoteTextTracks',\n      privateName: 'remoteTextTracks_'\n    },\n    remoteTextEl: {\n      ListClass: HtmlTrackElementList,\n      TrackClass: HTMLTrackElement,\n      capitalName: 'RemoteTextTrackEls',\n      getterName: 'remoteTextTrackEls',\n      privateName: 'remoteTextTrackEls_'\n    }\n  };\n\n  var ALL = _extends_1({}, NORMAL, REMOTE);\n\n  REMOTE.names = Object.keys(REMOTE);\n  NORMAL.names = Object.keys(NORMAL);\n  ALL.names = [].concat(REMOTE.names).concat(NORMAL.names);\n\n  var minDoc = {};\n\n  var topLevel = typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : typeof window !== 'undefined' ? window : {};\n  var doccy;\n\n  if (typeof document !== 'undefined') {\n    doccy = document;\n  } else {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n      doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n  }\n\n  var document_1 = doccy;\n\n  /**\n   * Copyright 2013 vtt.js Contributors\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *   http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n\n  /* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\n\n  var _objCreate = Object.create || function () {\n    function F() {}\n\n    return function (o) {\n      if (arguments.length !== 1) {\n        throw new Error('Object.create shim only accepts one parameter.');\n      }\n\n      F.prototype = o;\n      return new F();\n    };\n  }(); // Creates a new ParserError object from an errorData object. The errorData\n  // object should have default code and message properties. The default message\n  // property can be overriden by passing in a message parameter.\n  // See ParsingError.Errors below for acceptable errors.\n\n\n  function ParsingError(errorData, message) {\n    this.name = \"ParsingError\";\n    this.code = errorData.code;\n    this.message = message || errorData.message;\n  }\n\n  ParsingError.prototype = _objCreate(Error.prototype);\n  ParsingError.prototype.constructor = ParsingError; // ParsingError metadata for acceptable ParsingErrors.\n\n  ParsingError.Errors = {\n    BadSignature: {\n      code: 0,\n      message: \"Malformed WebVTT signature.\"\n    },\n    BadTimeStamp: {\n      code: 1,\n      message: \"Malformed time stamp.\"\n    }\n  }; // Try to parse input as a time stamp.\n\n  function parseTimeStamp(input) {\n    function computeSeconds(h, m, s, f) {\n      return (h | 0) * 3600 + (m | 0) * 60 + (s | 0) + (f | 0) / 1000;\n    }\n\n    var m = input.match(/^(\\d+):(\\d{1,2})(:\\d{1,2})?\\.(\\d{3})/);\n\n    if (!m) {\n      return null;\n    }\n\n    if (m[3]) {\n      // Timestamp takes the form of [hours]:[minutes]:[seconds].[milliseconds]\n      return computeSeconds(m[1], m[2], m[3].replace(\":\", \"\"), m[4]);\n    } else if (m[1] > 59) {\n      // Timestamp takes the form of [hours]:[minutes].[milliseconds]\n      // First position is hours as it's over 59.\n      return computeSeconds(m[1], m[2], 0, m[4]);\n    } else {\n      // Timestamp takes the form of [minutes]:[seconds].[milliseconds]\n      return computeSeconds(0, m[1], m[2], m[4]);\n    }\n  } // A settings object holds key/value pairs and will ignore anything but the first\n  // assignment to a specific key.\n\n\n  function Settings() {\n    this.values = _objCreate(null);\n  }\n\n  Settings.prototype = {\n    // Only accept the first assignment to any key.\n    set: function set(k, v) {\n      if (!this.get(k) && v !== \"\") {\n        this.values[k] = v;\n      }\n    },\n    // Return the value for a key, or a default value.\n    // If 'defaultKey' is passed then 'dflt' is assumed to be an object with\n    // a number of possible default values as properties where 'defaultKey' is\n    // the key of the property that will be chosen; otherwise it's assumed to be\n    // a single value.\n    get: function get(k, dflt, defaultKey) {\n      if (defaultKey) {\n        return this.has(k) ? this.values[k] : dflt[defaultKey];\n      }\n\n      return this.has(k) ? this.values[k] : dflt;\n    },\n    // Check whether we have a value for a key.\n    has: function has(k) {\n      return k in this.values;\n    },\n    // Accept a setting if its one of the given alternatives.\n    alt: function alt(k, v, a) {\n      for (var n = 0; n < a.length; ++n) {\n        if (v === a[n]) {\n          this.set(k, v);\n          break;\n        }\n      }\n    },\n    // Accept a setting if its a valid (signed) integer.\n    integer: function integer(k, v) {\n      if (/^-?\\d+$/.test(v)) {\n        // integer\n        this.set(k, parseInt(v, 10));\n      }\n    },\n    // Accept a setting if its a valid percentage.\n    percent: function percent(k, v) {\n\n      if (v.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/)) {\n        v = parseFloat(v);\n\n        if (v >= 0 && v <= 100) {\n          this.set(k, v);\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }; // Helper function to parse input into groups separated by 'groupDelim', and\n  // interprete each group as a key/value pair separated by 'keyValueDelim'.\n\n  function parseOptions(input, callback, keyValueDelim, groupDelim) {\n    var groups = groupDelim ? input.split(groupDelim) : [input];\n\n    for (var i in groups) {\n      if (typeof groups[i] !== \"string\") {\n        continue;\n      }\n\n      var kv = groups[i].split(keyValueDelim);\n\n      if (kv.length !== 2) {\n        continue;\n      }\n\n      var k = kv[0].trim();\n      var v = kv[1].trim();\n      callback(k, v);\n    }\n  }\n\n  function parseCue(input, cue, regionList) {\n    // Remember the original input if we need to throw an error.\n    var oInput = input; // 4.1 WebVTT timestamp\n\n    function consumeTimeStamp() {\n      var ts = parseTimeStamp(input);\n\n      if (ts === null) {\n        throw new ParsingError(ParsingError.Errors.BadTimeStamp, \"Malformed timestamp: \" + oInput);\n      } // Remove time stamp from input.\n\n\n      input = input.replace(/^[^\\sa-zA-Z-]+/, \"\");\n      return ts;\n    } // 4.4.2 WebVTT cue settings\n\n\n    function consumeCueSettings(input, cue) {\n      var settings = new Settings();\n      parseOptions(input, function (k, v) {\n        switch (k) {\n          case \"region\":\n            // Find the last region we parsed with the same region id.\n            for (var i = regionList.length - 1; i >= 0; i--) {\n              if (regionList[i].id === v) {\n                settings.set(k, regionList[i].region);\n                break;\n              }\n            }\n\n            break;\n\n          case \"vertical\":\n            settings.alt(k, v, [\"rl\", \"lr\"]);\n            break;\n\n          case \"line\":\n            var vals = v.split(\",\"),\n                vals0 = vals[0];\n            settings.integer(k, vals0);\n            settings.percent(k, vals0) ? settings.set(\"snapToLines\", false) : null;\n            settings.alt(k, vals0, [\"auto\"]);\n\n            if (vals.length === 2) {\n              settings.alt(\"lineAlign\", vals[1], [\"start\", \"center\", \"end\"]);\n            }\n\n            break;\n\n          case \"position\":\n            vals = v.split(\",\");\n            settings.percent(k, vals[0]);\n\n            if (vals.length === 2) {\n              settings.alt(\"positionAlign\", vals[1], [\"start\", \"center\", \"end\"]);\n            }\n\n            break;\n\n          case \"size\":\n            settings.percent(k, v);\n            break;\n\n          case \"align\":\n            settings.alt(k, v, [\"start\", \"center\", \"end\", \"left\", \"right\"]);\n            break;\n        }\n      }, /:/, /\\s/); // Apply default values for any missing fields.\n\n      cue.region = settings.get(\"region\", null);\n      cue.vertical = settings.get(\"vertical\", \"\");\n\n      try {\n        cue.line = settings.get(\"line\", \"auto\");\n      } catch (e) {}\n\n      cue.lineAlign = settings.get(\"lineAlign\", \"start\");\n      cue.snapToLines = settings.get(\"snapToLines\", true);\n      cue.size = settings.get(\"size\", 100); // Safari still uses the old middle value and won't accept center\n\n      try {\n        cue.align = settings.get(\"align\", \"center\");\n      } catch (e) {\n        cue.align = settings.get(\"align\", \"middle\");\n      }\n\n      try {\n        cue.position = settings.get(\"position\", \"auto\");\n      } catch (e) {\n        cue.position = settings.get(\"position\", {\n          start: 0,\n          left: 0,\n          center: 50,\n          middle: 50,\n          end: 100,\n          right: 100\n        }, cue.align);\n      }\n\n      cue.positionAlign = settings.get(\"positionAlign\", {\n        start: \"start\",\n        left: \"start\",\n        center: \"center\",\n        middle: \"center\",\n        end: \"end\",\n        right: \"end\"\n      }, cue.align);\n    }\n\n    function skipWhitespace() {\n      input = input.replace(/^\\s+/, \"\");\n    } // 4.1 WebVTT cue timings.\n\n\n    skipWhitespace();\n    cue.startTime = consumeTimeStamp(); // (1) collect cue start time\n\n    skipWhitespace();\n\n    if (input.substr(0, 3) !== \"-->\") {\n      // (3) next characters must match \"-->\"\n      throw new ParsingError(ParsingError.Errors.BadTimeStamp, \"Malformed time stamp (time stamps must be separated by '-->'): \" + oInput);\n    }\n\n    input = input.substr(3);\n    skipWhitespace();\n    cue.endTime = consumeTimeStamp(); // (5) collect cue end time\n    // 4.1 WebVTT cue settings list.\n\n    skipWhitespace();\n    consumeCueSettings(input, cue);\n  } // When evaluating this file as part of a Webpack bundle for server\n  // side rendering, `document` is an empty object.\n\n\n  var TEXTAREA_ELEMENT = document_1.createElement && document_1.createElement(\"textarea\");\n  var TAG_NAME = {\n    c: \"span\",\n    i: \"i\",\n    b: \"b\",\n    u: \"u\",\n    ruby: \"ruby\",\n    rt: \"rt\",\n    v: \"span\",\n    lang: \"span\"\n  }; // 5.1 default text color\n  // 5.2 default text background color is equivalent to text color with bg_ prefix\n\n  var DEFAULT_COLOR_CLASS = {\n    white: 'rgba(255,255,255,1)',\n    lime: 'rgba(0,255,0,1)',\n    cyan: 'rgba(0,255,255,1)',\n    red: 'rgba(255,0,0,1)',\n    yellow: 'rgba(255,255,0,1)',\n    magenta: 'rgba(255,0,255,1)',\n    blue: 'rgba(0,0,255,1)',\n    black: 'rgba(0,0,0,1)'\n  };\n  var TAG_ANNOTATION = {\n    v: \"title\",\n    lang: \"lang\"\n  };\n  var NEEDS_PARENT = {\n    rt: \"ruby\"\n  }; // Parse content into a document fragment.\n\n  function parseContent(window, input) {\n    function nextToken() {\n      // Check for end-of-string.\n      if (!input) {\n        return null;\n      } // Consume 'n' characters from the input.\n\n\n      function consume(result) {\n        input = input.substr(result.length);\n        return result;\n      }\n\n      var m = input.match(/^([^<]*)(<[^>]*>?)?/); // If there is some text before the next tag, return it, otherwise return\n      // the tag.\n\n      return consume(m[1] ? m[1] : m[2]);\n    }\n\n    function unescape(s) {\n      TEXTAREA_ELEMENT.innerHTML = s;\n      s = TEXTAREA_ELEMENT.textContent;\n      TEXTAREA_ELEMENT.textContent = \"\";\n      return s;\n    }\n\n    function shouldAdd(current, element) {\n      return !NEEDS_PARENT[element.localName] || NEEDS_PARENT[element.localName] === current.localName;\n    } // Create an element for this tag.\n\n\n    function createElement(type, annotation) {\n      var tagName = TAG_NAME[type];\n\n      if (!tagName) {\n        return null;\n      }\n\n      var element = window.document.createElement(tagName);\n      var name = TAG_ANNOTATION[type];\n\n      if (name && annotation) {\n        element[name] = annotation.trim();\n      }\n\n      return element;\n    }\n\n    var rootDiv = window.document.createElement(\"div\"),\n        current = rootDiv,\n        t,\n        tagStack = [];\n\n    while ((t = nextToken()) !== null) {\n      if (t[0] === '<') {\n        if (t[1] === \"/\") {\n          // If the closing tag matches, move back up to the parent node.\n          if (tagStack.length && tagStack[tagStack.length - 1] === t.substr(2).replace(\">\", \"\")) {\n            tagStack.pop();\n            current = current.parentNode;\n          } // Otherwise just ignore the end tag.\n\n\n          continue;\n        }\n\n        var ts = parseTimeStamp(t.substr(1, t.length - 2));\n        var node;\n\n        if (ts) {\n          // Timestamps are lead nodes as well.\n          node = window.document.createProcessingInstruction(\"timestamp\", ts);\n          current.appendChild(node);\n          continue;\n        }\n\n        var m = t.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/); // If we can't parse the tag, skip to the next tag.\n\n        if (!m) {\n          continue;\n        } // Try to construct an element, and ignore the tag if we couldn't.\n\n\n        node = createElement(m[1], m[3]);\n\n        if (!node) {\n          continue;\n        } // Determine if the tag should be added based on the context of where it\n        // is placed in the cuetext.\n\n\n        if (!shouldAdd(current, node)) {\n          continue;\n        } // Set the class list (as a list of classes, separated by space).\n\n\n        if (m[2]) {\n          var classes = m[2].split('.');\n          classes.forEach(function (cl) {\n            var bgColor = /^bg_/.test(cl); // slice out `bg_` if it's a background color\n\n            var colorName = bgColor ? cl.slice(3) : cl;\n\n            if (DEFAULT_COLOR_CLASS.hasOwnProperty(colorName)) {\n              var propName = bgColor ? 'background-color' : 'color';\n              var propValue = DEFAULT_COLOR_CLASS[colorName];\n              node.style[propName] = propValue;\n            }\n          });\n          node.className = classes.join(' ');\n        } // Append the node to the current node, and enter the scope of the new\n        // node.\n\n\n        tagStack.push(m[1]);\n        current.appendChild(node);\n        current = node;\n        continue;\n      } // Text nodes are leaf nodes.\n\n\n      current.appendChild(window.document.createTextNode(unescape(t)));\n    }\n\n    return rootDiv;\n  } // This is a list of all the Unicode characters that have a strong\n  // right-to-left category. What this means is that these characters are\n  // written right-to-left for sure. It was generated by pulling all the strong\n  // right-to-left characters out of the Unicode data table. That table can\n  // found at: http://www.unicode.org/Public/UNIDATA/UnicodeData.txt\n\n\n  var strongRTLRanges = [[0x5be, 0x5be], [0x5c0, 0x5c0], [0x5c3, 0x5c3], [0x5c6, 0x5c6], [0x5d0, 0x5ea], [0x5f0, 0x5f4], [0x608, 0x608], [0x60b, 0x60b], [0x60d, 0x60d], [0x61b, 0x61b], [0x61e, 0x64a], [0x66d, 0x66f], [0x671, 0x6d5], [0x6e5, 0x6e6], [0x6ee, 0x6ef], [0x6fa, 0x70d], [0x70f, 0x710], [0x712, 0x72f], [0x74d, 0x7a5], [0x7b1, 0x7b1], [0x7c0, 0x7ea], [0x7f4, 0x7f5], [0x7fa, 0x7fa], [0x800, 0x815], [0x81a, 0x81a], [0x824, 0x824], [0x828, 0x828], [0x830, 0x83e], [0x840, 0x858], [0x85e, 0x85e], [0x8a0, 0x8a0], [0x8a2, 0x8ac], [0x200f, 0x200f], [0xfb1d, 0xfb1d], [0xfb1f, 0xfb28], [0xfb2a, 0xfb36], [0xfb38, 0xfb3c], [0xfb3e, 0xfb3e], [0xfb40, 0xfb41], [0xfb43, 0xfb44], [0xfb46, 0xfbc1], [0xfbd3, 0xfd3d], [0xfd50, 0xfd8f], [0xfd92, 0xfdc7], [0xfdf0, 0xfdfc], [0xfe70, 0xfe74], [0xfe76, 0xfefc], [0x10800, 0x10805], [0x10808, 0x10808], [0x1080a, 0x10835], [0x10837, 0x10838], [0x1083c, 0x1083c], [0x1083f, 0x10855], [0x10857, 0x1085f], [0x10900, 0x1091b], [0x10920, 0x10939], [0x1093f, 0x1093f], [0x10980, 0x109b7], [0x109be, 0x109bf], [0x10a00, 0x10a00], [0x10a10, 0x10a13], [0x10a15, 0x10a17], [0x10a19, 0x10a33], [0x10a40, 0x10a47], [0x10a50, 0x10a58], [0x10a60, 0x10a7f], [0x10b00, 0x10b35], [0x10b40, 0x10b55], [0x10b58, 0x10b72], [0x10b78, 0x10b7f], [0x10c00, 0x10c48], [0x1ee00, 0x1ee03], [0x1ee05, 0x1ee1f], [0x1ee21, 0x1ee22], [0x1ee24, 0x1ee24], [0x1ee27, 0x1ee27], [0x1ee29, 0x1ee32], [0x1ee34, 0x1ee37], [0x1ee39, 0x1ee39], [0x1ee3b, 0x1ee3b], [0x1ee42, 0x1ee42], [0x1ee47, 0x1ee47], [0x1ee49, 0x1ee49], [0x1ee4b, 0x1ee4b], [0x1ee4d, 0x1ee4f], [0x1ee51, 0x1ee52], [0x1ee54, 0x1ee54], [0x1ee57, 0x1ee57], [0x1ee59, 0x1ee59], [0x1ee5b, 0x1ee5b], [0x1ee5d, 0x1ee5d], [0x1ee5f, 0x1ee5f], [0x1ee61, 0x1ee62], [0x1ee64, 0x1ee64], [0x1ee67, 0x1ee6a], [0x1ee6c, 0x1ee72], [0x1ee74, 0x1ee77], [0x1ee79, 0x1ee7c], [0x1ee7e, 0x1ee7e], [0x1ee80, 0x1ee89], [0x1ee8b, 0x1ee9b], [0x1eea1, 0x1eea3], [0x1eea5, 0x1eea9], [0x1eeab, 0x1eebb], [0x10fffd, 0x10fffd]];\n\n  function isStrongRTLChar(charCode) {\n    for (var i = 0; i < strongRTLRanges.length; i++) {\n      var currentRange = strongRTLRanges[i];\n\n      if (charCode >= currentRange[0] && charCode <= currentRange[1]) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function determineBidi(cueDiv) {\n    var nodeStack = [],\n        text = \"\",\n        charCode;\n\n    if (!cueDiv || !cueDiv.childNodes) {\n      return \"ltr\";\n    }\n\n    function pushNodes(nodeStack, node) {\n      for (var i = node.childNodes.length - 1; i >= 0; i--) {\n        nodeStack.push(node.childNodes[i]);\n      }\n    }\n\n    function nextTextNode(nodeStack) {\n      if (!nodeStack || !nodeStack.length) {\n        return null;\n      }\n\n      var node = nodeStack.pop(),\n          text = node.textContent || node.innerText;\n\n      if (text) {\n        // TODO: This should match all unicode type B characters (paragraph\n        // separator characters). See issue #115.\n        var m = text.match(/^.*(\\n|\\r)/);\n\n        if (m) {\n          nodeStack.length = 0;\n          return m[0];\n        }\n\n        return text;\n      }\n\n      if (node.tagName === \"ruby\") {\n        return nextTextNode(nodeStack);\n      }\n\n      if (node.childNodes) {\n        pushNodes(nodeStack, node);\n        return nextTextNode(nodeStack);\n      }\n    }\n\n    pushNodes(nodeStack, cueDiv);\n\n    while (text = nextTextNode(nodeStack)) {\n      for (var i = 0; i < text.length; i++) {\n        charCode = text.charCodeAt(i);\n\n        if (isStrongRTLChar(charCode)) {\n          return \"rtl\";\n        }\n      }\n    }\n\n    return \"ltr\";\n  }\n\n  function computeLinePos(cue) {\n    if (typeof cue.line === \"number\" && (cue.snapToLines || cue.line >= 0 && cue.line <= 100)) {\n      return cue.line;\n    }\n\n    if (!cue.track || !cue.track.textTrackList || !cue.track.textTrackList.mediaElement) {\n      return -1;\n    }\n\n    var track = cue.track,\n        trackList = track.textTrackList,\n        count = 0;\n\n    for (var i = 0; i < trackList.length && trackList[i] !== track; i++) {\n      if (trackList[i].mode === \"showing\") {\n        count++;\n      }\n    }\n\n    return ++count * -1;\n  }\n\n  function StyleBox() {} // Apply styles to a div. If there is no div passed then it defaults to the\n  // div on 'this'.\n\n\n  StyleBox.prototype.applyStyles = function (styles, div) {\n    div = div || this.div;\n\n    for (var prop in styles) {\n      if (styles.hasOwnProperty(prop)) {\n        div.style[prop] = styles[prop];\n      }\n    }\n  };\n\n  StyleBox.prototype.formatStyle = function (val, unit) {\n    return val === 0 ? 0 : val + unit;\n  }; // Constructs the computed display state of the cue (a div). Places the div\n  // into the overlay which should be a block level element (usually a div).\n\n\n  function CueStyleBox(window, cue, styleOptions) {\n    StyleBox.call(this);\n    this.cue = cue; // Parse our cue's text into a DOM tree rooted at 'cueDiv'. This div will\n    // have inline positioning and will function as the cue background box.\n\n    this.cueDiv = parseContent(window, cue.text);\n    var styles = {\n      color: \"rgba(255, 255, 255, 1)\",\n      backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n      position: \"relative\",\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      display: \"inline\",\n      writingMode: cue.vertical === \"\" ? \"horizontal-tb\" : cue.vertical === \"lr\" ? \"vertical-lr\" : \"vertical-rl\",\n      unicodeBidi: \"plaintext\"\n    };\n    this.applyStyles(styles, this.cueDiv); // Create an absolutely positioned div that will be used to position the cue\n    // div. Note, all WebVTT cue-setting alignments are equivalent to the CSS\n    // mirrors of them except middle instead of center on Safari.\n\n    this.div = window.document.createElement(\"div\");\n    styles = {\n      direction: determineBidi(this.cueDiv),\n      writingMode: cue.vertical === \"\" ? \"horizontal-tb\" : cue.vertical === \"lr\" ? \"vertical-lr\" : \"vertical-rl\",\n      unicodeBidi: \"plaintext\",\n      textAlign: cue.align === \"middle\" ? \"center\" : cue.align,\n      font: styleOptions.font,\n      whiteSpace: \"pre-line\",\n      position: \"absolute\"\n    };\n    this.applyStyles(styles);\n    this.div.appendChild(this.cueDiv); // Calculate the distance from the reference edge of the viewport to the text\n    // position of the cue box. The reference edge will be resolved later when\n    // the box orientation styles are applied.\n\n    var textPos = 0;\n\n    switch (cue.positionAlign) {\n      case \"start\":\n        textPos = cue.position;\n        break;\n\n      case \"center\":\n        textPos = cue.position - cue.size / 2;\n        break;\n\n      case \"end\":\n        textPos = cue.position - cue.size;\n        break;\n    } // Horizontal box orientation; textPos is the distance from the left edge of the\n    // area to the left edge of the box and cue.size is the distance extending to\n    // the right from there.\n\n\n    if (cue.vertical === \"\") {\n      this.applyStyles({\n        left: this.formatStyle(textPos, \"%\"),\n        width: this.formatStyle(cue.size, \"%\")\n      }); // Vertical box orientation; textPos is the distance from the top edge of the\n      // area to the top edge of the box and cue.size is the height extending\n      // downwards from there.\n    } else {\n      this.applyStyles({\n        top: this.formatStyle(textPos, \"%\"),\n        height: this.formatStyle(cue.size, \"%\")\n      });\n    }\n\n    this.move = function (box) {\n      this.applyStyles({\n        top: this.formatStyle(box.top, \"px\"),\n        bottom: this.formatStyle(box.bottom, \"px\"),\n        left: this.formatStyle(box.left, \"px\"),\n        right: this.formatStyle(box.right, \"px\"),\n        height: this.formatStyle(box.height, \"px\"),\n        width: this.formatStyle(box.width, \"px\")\n      });\n    };\n  }\n\n  CueStyleBox.prototype = _objCreate(StyleBox.prototype);\n  CueStyleBox.prototype.constructor = CueStyleBox; // Represents the co-ordinates of an Element in a way that we can easily\n  // compute things with such as if it overlaps or intersects with another Element.\n  // Can initialize it with either a StyleBox or another BoxPosition.\n\n  function BoxPosition(obj) {\n    // Either a BoxPosition was passed in and we need to copy it, or a StyleBox\n    // was passed in and we need to copy the results of 'getBoundingClientRect'\n    // as the object returned is readonly. All co-ordinate values are in reference\n    // to the viewport origin (top left).\n    var lh, height, width, top;\n\n    if (obj.div) {\n      height = obj.div.offsetHeight;\n      width = obj.div.offsetWidth;\n      top = obj.div.offsetTop;\n      var rects = (rects = obj.div.childNodes) && (rects = rects[0]) && rects.getClientRects && rects.getClientRects();\n      obj = obj.div.getBoundingClientRect(); // In certain cases the outter div will be slightly larger then the sum of\n      // the inner div's lines. This could be due to bold text, etc, on some platforms.\n      // In this case we should get the average line height and use that. This will\n      // result in the desired behaviour.\n\n      lh = rects ? Math.max(rects[0] && rects[0].height || 0, obj.height / rects.length) : 0;\n    }\n\n    this.left = obj.left;\n    this.right = obj.right;\n    this.top = obj.top || top;\n    this.height = obj.height || height;\n    this.bottom = obj.bottom || top + (obj.height || height);\n    this.width = obj.width || width;\n    this.lineHeight = lh !== undefined ? lh : obj.lineHeight;\n  } // Move the box along a particular axis. Optionally pass in an amount to move\n  // the box. If no amount is passed then the default is the line height of the\n  // box.\n\n\n  BoxPosition.prototype.move = function (axis, toMove) {\n    toMove = toMove !== undefined ? toMove : this.lineHeight;\n\n    switch (axis) {\n      case \"+x\":\n        this.left += toMove;\n        this.right += toMove;\n        break;\n\n      case \"-x\":\n        this.left -= toMove;\n        this.right -= toMove;\n        break;\n\n      case \"+y\":\n        this.top += toMove;\n        this.bottom += toMove;\n        break;\n\n      case \"-y\":\n        this.top -= toMove;\n        this.bottom -= toMove;\n        break;\n    }\n  }; // Check if this box overlaps another box, b2.\n\n\n  BoxPosition.prototype.overlaps = function (b2) {\n    return this.left < b2.right && this.right > b2.left && this.top < b2.bottom && this.bottom > b2.top;\n  }; // Check if this box overlaps any other boxes in boxes.\n\n\n  BoxPosition.prototype.overlapsAny = function (boxes) {\n    for (var i = 0; i < boxes.length; i++) {\n      if (this.overlaps(boxes[i])) {\n        return true;\n      }\n    }\n\n    return false;\n  }; // Check if this box is within another box.\n\n\n  BoxPosition.prototype.within = function (container) {\n    return this.top >= container.top && this.bottom <= container.bottom && this.left >= container.left && this.right <= container.right;\n  }; // Check if this box is entirely within the container or it is overlapping\n  // on the edge opposite of the axis direction passed. For example, if \"+x\" is\n  // passed and the box is overlapping on the left edge of the container, then\n  // return true.\n\n\n  BoxPosition.prototype.overlapsOppositeAxis = function (container, axis) {\n    switch (axis) {\n      case \"+x\":\n        return this.left < container.left;\n\n      case \"-x\":\n        return this.right > container.right;\n\n      case \"+y\":\n        return this.top < container.top;\n\n      case \"-y\":\n        return this.bottom > container.bottom;\n    }\n  }; // Find the percentage of the area that this box is overlapping with another\n  // box.\n\n\n  BoxPosition.prototype.intersectPercentage = function (b2) {\n    var x = Math.max(0, Math.min(this.right, b2.right) - Math.max(this.left, b2.left)),\n        y = Math.max(0, Math.min(this.bottom, b2.bottom) - Math.max(this.top, b2.top)),\n        intersectArea = x * y;\n    return intersectArea / (this.height * this.width);\n  }; // Convert the positions from this box to CSS compatible positions using\n  // the reference container's positions. This has to be done because this\n  // box's positions are in reference to the viewport origin, whereas, CSS\n  // values are in referecne to their respective edges.\n\n\n  BoxPosition.prototype.toCSSCompatValues = function (reference) {\n    return {\n      top: this.top - reference.top,\n      bottom: reference.bottom - this.bottom,\n      left: this.left - reference.left,\n      right: reference.right - this.right,\n      height: this.height,\n      width: this.width\n    };\n  }; // Get an object that represents the box's position without anything extra.\n  // Can pass a StyleBox, HTMLElement, or another BoxPositon.\n\n\n  BoxPosition.getSimpleBoxPosition = function (obj) {\n    var height = obj.div ? obj.div.offsetHeight : obj.tagName ? obj.offsetHeight : 0;\n    var width = obj.div ? obj.div.offsetWidth : obj.tagName ? obj.offsetWidth : 0;\n    var top = obj.div ? obj.div.offsetTop : obj.tagName ? obj.offsetTop : 0;\n    obj = obj.div ? obj.div.getBoundingClientRect() : obj.tagName ? obj.getBoundingClientRect() : obj;\n    var ret = {\n      left: obj.left,\n      right: obj.right,\n      top: obj.top || top,\n      height: obj.height || height,\n      bottom: obj.bottom || top + (obj.height || height),\n      width: obj.width || width\n    };\n    return ret;\n  }; // Move a StyleBox to its specified, or next best, position. The containerBox\n  // is the box that contains the StyleBox, such as a div. boxPositions are\n  // a list of other boxes that the styleBox can't overlap with.\n\n\n  function moveBoxToLinePosition(window, styleBox, containerBox, boxPositions) {\n    // Find the best position for a cue box, b, on the video. The axis parameter\n    // is a list of axis, the order of which, it will move the box along. For example:\n    // Passing [\"+x\", \"-x\"] will move the box first along the x axis in the positive\n    // direction. If it doesn't find a good position for it there it will then move\n    // it along the x axis in the negative direction.\n    function findBestPosition(b, axis) {\n      var bestPosition,\n          specifiedPosition = new BoxPosition(b),\n          percentage = 1; // Highest possible so the first thing we get is better.\n\n      for (var i = 0; i < axis.length; i++) {\n        while (b.overlapsOppositeAxis(containerBox, axis[i]) || b.within(containerBox) && b.overlapsAny(boxPositions)) {\n          b.move(axis[i]);\n        } // We found a spot where we aren't overlapping anything. This is our\n        // best position.\n\n\n        if (b.within(containerBox)) {\n          return b;\n        }\n\n        var p = b.intersectPercentage(containerBox); // If we're outside the container box less then we were on our last try\n        // then remember this position as the best position.\n\n        if (percentage > p) {\n          bestPosition = new BoxPosition(b);\n          percentage = p;\n        } // Reset the box position to the specified position.\n\n\n        b = new BoxPosition(specifiedPosition);\n      }\n\n      return bestPosition || specifiedPosition;\n    }\n\n    var boxPosition = new BoxPosition(styleBox),\n        cue = styleBox.cue,\n        linePos = computeLinePos(cue),\n        axis = []; // If we have a line number to align the cue to.\n\n    if (cue.snapToLines) {\n      var size;\n\n      switch (cue.vertical) {\n        case \"\":\n          axis = [\"+y\", \"-y\"];\n          size = \"height\";\n          break;\n\n        case \"rl\":\n          axis = [\"+x\", \"-x\"];\n          size = \"width\";\n          break;\n\n        case \"lr\":\n          axis = [\"-x\", \"+x\"];\n          size = \"width\";\n          break;\n      }\n\n      var step = boxPosition.lineHeight,\n          position = step * Math.round(linePos),\n          maxPosition = containerBox[size] + step,\n          initialAxis = axis[0]; // If the specified intial position is greater then the max position then\n      // clamp the box to the amount of steps it would take for the box to\n      // reach the max position.\n\n      if (Math.abs(position) > maxPosition) {\n        position = position < 0 ? -1 : 1;\n        position *= Math.ceil(maxPosition / step) * step;\n      } // If computed line position returns negative then line numbers are\n      // relative to the bottom of the video instead of the top. Therefore, we\n      // need to increase our initial position by the length or width of the\n      // video, depending on the writing direction, and reverse our axis directions.\n\n\n      if (linePos < 0) {\n        position += cue.vertical === \"\" ? containerBox.height : containerBox.width;\n        axis = axis.reverse();\n      } // Move the box to the specified position. This may not be its best\n      // position.\n\n\n      boxPosition.move(initialAxis, position);\n    } else {\n      // If we have a percentage line value for the cue.\n      var calculatedPercentage = boxPosition.lineHeight / containerBox.height * 100;\n\n      switch (cue.lineAlign) {\n        case \"center\":\n          linePos -= calculatedPercentage / 2;\n          break;\n\n        case \"end\":\n          linePos -= calculatedPercentage;\n          break;\n      } // Apply initial line position to the cue box.\n\n\n      switch (cue.vertical) {\n        case \"\":\n          styleBox.applyStyles({\n            top: styleBox.formatStyle(linePos, \"%\")\n          });\n          break;\n\n        case \"rl\":\n          styleBox.applyStyles({\n            left: styleBox.formatStyle(linePos, \"%\")\n          });\n          break;\n\n        case \"lr\":\n          styleBox.applyStyles({\n            right: styleBox.formatStyle(linePos, \"%\")\n          });\n          break;\n      }\n\n      axis = [\"+y\", \"-x\", \"+x\", \"-y\"]; // Get the box position again after we've applied the specified positioning\n      // to it.\n\n      boxPosition = new BoxPosition(styleBox);\n    }\n\n    var bestPosition = findBestPosition(boxPosition, axis);\n    styleBox.move(bestPosition.toCSSCompatValues(containerBox));\n  }\n\n  function WebVTT$1() {// Nothing\n  } // Helper to allow strings to be decoded instead of the default binary utf8 data.\n\n\n  WebVTT$1.StringDecoder = function () {\n    return {\n      decode: function decode(data) {\n        if (!data) {\n          return \"\";\n        }\n\n        if (typeof data !== \"string\") {\n          throw new Error(\"Error - expected string data.\");\n        }\n\n        return decodeURIComponent(encodeURIComponent(data));\n      }\n    };\n  };\n\n  WebVTT$1.convertCueToDOMTree = function (window, cuetext) {\n    if (!window || !cuetext) {\n      return null;\n    }\n\n    return parseContent(window, cuetext);\n  };\n\n  var FONT_SIZE_PERCENT = 0.05;\n  var FONT_STYLE = \"sans-serif\";\n  var CUE_BACKGROUND_PADDING = \"1.5%\"; // Runs the processing model over the cues and regions passed to it.\n  // @param overlay A block level element (usually a div) that the computed cues\n  //                and regions will be placed into.\n\n  WebVTT$1.processCues = function (window, cues, overlay) {\n    if (!window || !cues || !overlay) {\n      return null;\n    } // Remove all previous children.\n\n\n    while (overlay.firstChild) {\n      overlay.removeChild(overlay.firstChild);\n    }\n\n    var paddedOverlay = window.document.createElement(\"div\");\n    paddedOverlay.style.position = \"absolute\";\n    paddedOverlay.style.left = \"0\";\n    paddedOverlay.style.right = \"0\";\n    paddedOverlay.style.top = \"0\";\n    paddedOverlay.style.bottom = \"0\";\n    paddedOverlay.style.margin = CUE_BACKGROUND_PADDING;\n    overlay.appendChild(paddedOverlay); // Determine if we need to compute the display states of the cues. This could\n    // be the case if a cue's state has been changed since the last computation or\n    // if it has not been computed yet.\n\n    function shouldCompute(cues) {\n      for (var i = 0; i < cues.length; i++) {\n        if (cues[i].hasBeenReset || !cues[i].displayState) {\n          return true;\n        }\n      }\n\n      return false;\n    } // We don't need to recompute the cues' display states. Just reuse them.\n\n\n    if (!shouldCompute(cues)) {\n      for (var i = 0; i < cues.length; i++) {\n        paddedOverlay.appendChild(cues[i].displayState);\n      }\n\n      return;\n    }\n\n    var boxPositions = [],\n        containerBox = BoxPosition.getSimpleBoxPosition(paddedOverlay),\n        fontSize = Math.round(containerBox.height * FONT_SIZE_PERCENT * 100) / 100;\n    var styleOptions = {\n      font: fontSize + \"px \" + FONT_STYLE\n    };\n\n    (function () {\n      var styleBox, cue;\n\n      for (var i = 0; i < cues.length; i++) {\n        cue = cues[i]; // Compute the intial position and styles of the cue div.\n\n        styleBox = new CueStyleBox(window, cue, styleOptions);\n        paddedOverlay.appendChild(styleBox.div); // Move the cue div to it's correct line position.\n\n        moveBoxToLinePosition(window, styleBox, containerBox, boxPositions); // Remember the computed div so that we don't have to recompute it later\n        // if we don't have too.\n\n        cue.displayState = styleBox.div;\n        boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox));\n      }\n    })();\n  };\n\n  WebVTT$1.Parser = function (window, vttjs, decoder) {\n    if (!decoder) {\n      decoder = vttjs;\n      vttjs = {};\n    }\n\n    if (!vttjs) {\n      vttjs = {};\n    }\n\n    this.window = window;\n    this.vttjs = vttjs;\n    this.state = \"INITIAL\";\n    this.buffer = \"\";\n    this.decoder = decoder || new TextDecoder(\"utf8\");\n    this.regionList = [];\n  };\n\n  WebVTT$1.Parser.prototype = {\n    // If the error is a ParsingError then report it to the consumer if\n    // possible. If it's not a ParsingError then throw it like normal.\n    reportOrThrowError: function reportOrThrowError(e) {\n      if (e instanceof ParsingError) {\n        this.onparsingerror && this.onparsingerror(e);\n      } else {\n        throw e;\n      }\n    },\n    parse: function parse(data) {\n      var self = this; // If there is no data then we won't decode it, but will just try to parse\n      // whatever is in buffer already. This may occur in circumstances, for\n      // example when flush() is called.\n\n      if (data) {\n        // Try to decode the data that we received.\n        self.buffer += self.decoder.decode(data, {\n          stream: true\n        });\n      }\n\n      function collectNextLine() {\n        var buffer = self.buffer;\n        var pos = 0;\n\n        while (pos < buffer.length && buffer[pos] !== '\\r' && buffer[pos] !== '\\n') {\n          ++pos;\n        }\n\n        var line = buffer.substr(0, pos); // Advance the buffer early in case we fail below.\n\n        if (buffer[pos] === '\\r') {\n          ++pos;\n        }\n\n        if (buffer[pos] === '\\n') {\n          ++pos;\n        }\n\n        self.buffer = buffer.substr(pos);\n        return line;\n      } // 3.4 WebVTT region and WebVTT region settings syntax\n\n\n      function parseRegion(input) {\n        var settings = new Settings();\n        parseOptions(input, function (k, v) {\n          switch (k) {\n            case \"id\":\n              settings.set(k, v);\n              break;\n\n            case \"width\":\n              settings.percent(k, v);\n              break;\n\n            case \"lines\":\n              settings.integer(k, v);\n              break;\n\n            case \"regionanchor\":\n            case \"viewportanchor\":\n              var xy = v.split(',');\n\n              if (xy.length !== 2) {\n                break;\n              } // We have to make sure both x and y parse, so use a temporary\n              // settings object here.\n\n\n              var anchor = new Settings();\n              anchor.percent(\"x\", xy[0]);\n              anchor.percent(\"y\", xy[1]);\n\n              if (!anchor.has(\"x\") || !anchor.has(\"y\")) {\n                break;\n              }\n\n              settings.set(k + \"X\", anchor.get(\"x\"));\n              settings.set(k + \"Y\", anchor.get(\"y\"));\n              break;\n\n            case \"scroll\":\n              settings.alt(k, v, [\"up\"]);\n              break;\n          }\n        }, /=/, /\\s/); // Create the region, using default values for any values that were not\n        // specified.\n\n        if (settings.has(\"id\")) {\n          var region = new (self.vttjs.VTTRegion || self.window.VTTRegion)();\n          region.width = settings.get(\"width\", 100);\n          region.lines = settings.get(\"lines\", 3);\n          region.regionAnchorX = settings.get(\"regionanchorX\", 0);\n          region.regionAnchorY = settings.get(\"regionanchorY\", 100);\n          region.viewportAnchorX = settings.get(\"viewportanchorX\", 0);\n          region.viewportAnchorY = settings.get(\"viewportanchorY\", 100);\n          region.scroll = settings.get(\"scroll\", \"\"); // Register the region.\n\n          self.onregion && self.onregion(region); // Remember the VTTRegion for later in case we parse any VTTCues that\n          // reference it.\n\n          self.regionList.push({\n            id: settings.get(\"id\"),\n            region: region\n          });\n        }\n      } // draft-pantos-http-live-streaming-20\n      // https://tools.ietf.org/html/draft-pantos-http-live-streaming-20#section-3.5\n      // 3.5 WebVTT\n\n\n      function parseTimestampMap(input) {\n        var settings = new Settings();\n        parseOptions(input, function (k, v) {\n          switch (k) {\n            case \"MPEGT\":\n              settings.integer(k + 'S', v);\n              break;\n\n            case \"LOCA\":\n              settings.set(k + 'L', parseTimeStamp(v));\n              break;\n          }\n        }, /[^\\d]:/, /,/);\n        self.ontimestampmap && self.ontimestampmap({\n          \"MPEGTS\": settings.get(\"MPEGTS\"),\n          \"LOCAL\": settings.get(\"LOCAL\")\n        });\n      } // 3.2 WebVTT metadata header syntax\n\n\n      function parseHeader(input) {\n        if (input.match(/X-TIMESTAMP-MAP/)) {\n          // This line contains HLS X-TIMESTAMP-MAP metadata\n          parseOptions(input, function (k, v) {\n            switch (k) {\n              case \"X-TIMESTAMP-MAP\":\n                parseTimestampMap(v);\n                break;\n            }\n          }, /=/);\n        } else {\n          parseOptions(input, function (k, v) {\n            switch (k) {\n              case \"Region\":\n                // 3.3 WebVTT region metadata header syntax\n                parseRegion(v);\n                break;\n            }\n          }, /:/);\n        }\n      } // 5.1 WebVTT file parsing.\n\n\n      try {\n        var line;\n\n        if (self.state === \"INITIAL\") {\n          // We can't start parsing until we have the first line.\n          if (!/\\r\\n|\\n/.test(self.buffer)) {\n            return this;\n          }\n\n          line = collectNextLine();\n          var m = line.match(/^WEBVTT([ \\t].*)?$/);\n\n          if (!m || !m[0]) {\n            throw new ParsingError(ParsingError.Errors.BadSignature);\n          }\n\n          self.state = \"HEADER\";\n        }\n\n        var alreadyCollectedLine = false;\n\n        while (self.buffer) {\n          // We can't parse a line until we have the full line.\n          if (!/\\r\\n|\\n/.test(self.buffer)) {\n            return this;\n          }\n\n          if (!alreadyCollectedLine) {\n            line = collectNextLine();\n          } else {\n            alreadyCollectedLine = false;\n          }\n\n          switch (self.state) {\n            case \"HEADER\":\n              // 13-18 - Allow a header (metadata) under the WEBVTT line.\n              if (/:/.test(line)) {\n                parseHeader(line);\n              } else if (!line) {\n                // An empty line terminates the header and starts the body (cues).\n                self.state = \"ID\";\n              }\n\n              continue;\n\n            case \"NOTE\":\n              // Ignore NOTE blocks.\n              if (!line) {\n                self.state = \"ID\";\n              }\n\n              continue;\n\n            case \"ID\":\n              // Check for the start of NOTE blocks.\n              if (/^NOTE($|[ \\t])/.test(line)) {\n                self.state = \"NOTE\";\n                break;\n              } // 19-29 - Allow any number of line terminators, then initialize new cue values.\n\n\n              if (!line) {\n                continue;\n              }\n\n              self.cue = new (self.vttjs.VTTCue || self.window.VTTCue)(0, 0, \"\"); // Safari still uses the old middle value and won't accept center\n\n              try {\n                self.cue.align = \"center\";\n              } catch (e) {\n                self.cue.align = \"middle\";\n              }\n\n              self.state = \"CUE\"; // 30-39 - Check if self line contains an optional identifier or timing data.\n\n              if (line.indexOf(\"-->\") === -1) {\n                self.cue.id = line;\n                continue;\n              }\n\n            // Process line as start of a cue.\n\n            /*falls through*/\n\n            case \"CUE\":\n              // 40 - Collect cue timings and settings.\n              try {\n                parseCue(line, self.cue, self.regionList);\n              } catch (e) {\n                self.reportOrThrowError(e); // In case of an error ignore rest of the cue.\n\n                self.cue = null;\n                self.state = \"BADCUE\";\n                continue;\n              }\n\n              self.state = \"CUETEXT\";\n              continue;\n\n            case \"CUETEXT\":\n              var hasSubstring = line.indexOf(\"-->\") !== -1; // 34 - If we have an empty line then report the cue.\n              // 35 - If we have the special substring '-->' then report the cue,\n              // but do not collect the line as we need to process the current\n              // one as a new cue.\n\n              if (!line || hasSubstring && (alreadyCollectedLine = true)) {\n                // We are done parsing self cue.\n                self.oncue && self.oncue(self.cue);\n                self.cue = null;\n                self.state = \"ID\";\n                continue;\n              }\n\n              if (self.cue.text) {\n                self.cue.text += \"\\n\";\n              }\n\n              self.cue.text += line.replace(/\\u2028/g, '\\n').replace(/u2029/g, '\\n');\n              continue;\n\n            case \"BADCUE\":\n              // BADCUE\n              // 54-62 - Collect and discard the remaining cue.\n              if (!line) {\n                self.state = \"ID\";\n              }\n\n              continue;\n          }\n        }\n      } catch (e) {\n        self.reportOrThrowError(e); // If we are currently parsing a cue, report what we have.\n\n        if (self.state === \"CUETEXT\" && self.cue && self.oncue) {\n          self.oncue(self.cue);\n        }\n\n        self.cue = null; // Enter BADWEBVTT state if header was not parsed correctly otherwise\n        // another exception occurred so enter BADCUE state.\n\n        self.state = self.state === \"INITIAL\" ? \"BADWEBVTT\" : \"BADCUE\";\n      }\n\n      return this;\n    },\n    flush: function flush() {\n      var self = this;\n\n      try {\n        // Finish decoding the stream.\n        self.buffer += self.decoder.decode(); // Synthesize the end of the current cue or region.\n\n        if (self.cue || self.state === \"HEADER\") {\n          self.buffer += \"\\n\\n\";\n          self.parse();\n        } // If we've flushed, parsed, and we're still on the INITIAL state then\n        // that means we don't have enough of the stream to parse the first\n        // line.\n\n\n        if (self.state === \"INITIAL\") {\n          throw new ParsingError(ParsingError.Errors.BadSignature);\n        }\n      } catch (e) {\n        self.reportOrThrowError(e);\n      }\n\n      self.onflush && self.onflush();\n      return this;\n    }\n  };\n  var vtt = WebVTT$1;\n\n  /**\n   * Copyright 2013 vtt.js Contributors\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *   http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n  var autoKeyword = \"auto\";\n  var directionSetting = {\n    \"\": 1,\n    \"lr\": 1,\n    \"rl\": 1\n  };\n  var alignSetting = {\n    \"start\": 1,\n    \"center\": 1,\n    \"end\": 1,\n    \"left\": 1,\n    \"right\": 1,\n    \"auto\": 1,\n    \"line-left\": 1,\n    \"line-right\": 1\n  };\n\n  function findDirectionSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n\n    var dir = directionSetting[value.toLowerCase()];\n    return dir ? value.toLowerCase() : false;\n  }\n\n  function findAlignSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n\n    var align = alignSetting[value.toLowerCase()];\n    return align ? value.toLowerCase() : false;\n  }\n\n  function VTTCue(startTime, endTime, text) {\n    /**\n     * Shim implementation specific properties. These properties are not in\n     * the spec.\n     */\n    // Lets us know when the VTTCue's data has changed in such a way that we need\n    // to recompute its display state. This lets us compute its display state\n    // lazily.\n    this.hasBeenReset = false;\n    /**\n     * VTTCue and TextTrackCue properties\n     * http://dev.w3.org/html5/webvtt/#vttcue-interface\n     */\n\n    var _id = \"\";\n    var _pauseOnExit = false;\n    var _startTime = startTime;\n    var _endTime = endTime;\n    var _text = text;\n    var _region = null;\n    var _vertical = \"\";\n    var _snapToLines = true;\n    var _line = \"auto\";\n    var _lineAlign = \"start\";\n    var _position = \"auto\";\n    var _positionAlign = \"auto\";\n    var _size = 100;\n    var _align = \"center\";\n    Object.defineProperties(this, {\n      \"id\": {\n        enumerable: true,\n        get: function get() {\n          return _id;\n        },\n        set: function set(value) {\n          _id = \"\" + value;\n        }\n      },\n      \"pauseOnExit\": {\n        enumerable: true,\n        get: function get() {\n          return _pauseOnExit;\n        },\n        set: function set(value) {\n          _pauseOnExit = !!value;\n        }\n      },\n      \"startTime\": {\n        enumerable: true,\n        get: function get() {\n          return _startTime;\n        },\n        set: function set(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"Start time must be set to a number.\");\n          }\n\n          _startTime = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"endTime\": {\n        enumerable: true,\n        get: function get() {\n          return _endTime;\n        },\n        set: function set(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"End time must be set to a number.\");\n          }\n\n          _endTime = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"text\": {\n        enumerable: true,\n        get: function get() {\n          return _text;\n        },\n        set: function set(value) {\n          _text = \"\" + value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"region\": {\n        enumerable: true,\n        get: function get() {\n          return _region;\n        },\n        set: function set(value) {\n          _region = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"vertical\": {\n        enumerable: true,\n        get: function get() {\n          return _vertical;\n        },\n        set: function set(value) {\n          var setting = findDirectionSetting(value); // Have to check for false because the setting an be an empty string.\n\n          if (setting === false) {\n            throw new SyntaxError(\"Vertical: an invalid or illegal direction string was specified.\");\n          }\n\n          _vertical = setting;\n          this.hasBeenReset = true;\n        }\n      },\n      \"snapToLines\": {\n        enumerable: true,\n        get: function get() {\n          return _snapToLines;\n        },\n        set: function set(value) {\n          _snapToLines = !!value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"line\": {\n        enumerable: true,\n        get: function get() {\n          return _line;\n        },\n        set: function set(value) {\n          if (typeof value !== \"number\" && value !== autoKeyword) {\n            throw new SyntaxError(\"Line: an invalid number or illegal string was specified.\");\n          }\n\n          _line = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"lineAlign\": {\n        enumerable: true,\n        get: function get() {\n          return _lineAlign;\n        },\n        set: function set(value) {\n          var setting = findAlignSetting(value);\n\n          if (!setting) {\n            console.warn(\"lineAlign: an invalid or illegal string was specified.\");\n          } else {\n            _lineAlign = setting;\n            this.hasBeenReset = true;\n          }\n        }\n      },\n      \"position\": {\n        enumerable: true,\n        get: function get() {\n          return _position;\n        },\n        set: function set(value) {\n          if (value < 0 || value > 100) {\n            throw new Error(\"Position must be between 0 and 100.\");\n          }\n\n          _position = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"positionAlign\": {\n        enumerable: true,\n        get: function get() {\n          return _positionAlign;\n        },\n        set: function set(value) {\n          var setting = findAlignSetting(value);\n\n          if (!setting) {\n            console.warn(\"positionAlign: an invalid or illegal string was specified.\");\n          } else {\n            _positionAlign = setting;\n            this.hasBeenReset = true;\n          }\n        }\n      },\n      \"size\": {\n        enumerable: true,\n        get: function get() {\n          return _size;\n        },\n        set: function set(value) {\n          if (value < 0 || value > 100) {\n            throw new Error(\"Size must be between 0 and 100.\");\n          }\n\n          _size = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"align\": {\n        enumerable: true,\n        get: function get() {\n          return _align;\n        },\n        set: function set(value) {\n          var setting = findAlignSetting(value);\n\n          if (!setting) {\n            throw new SyntaxError(\"align: an invalid or illegal alignment string was specified.\");\n          }\n\n          _align = setting;\n          this.hasBeenReset = true;\n        }\n      }\n    });\n    /**\n     * Other <track> spec defined properties\n     */\n    // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\n\n    this.displayState = undefined;\n  }\n  /**\n   * VTTCue methods\n   */\n\n\n  VTTCue.prototype.getCueAsHTML = function () {\n    // Assume WebVTT.convertCueToDOMTree is on the global.\n    return WebVTT.convertCueToDOMTree(window, this.text);\n  };\n\n  var vttcue = VTTCue;\n\n  /**\n   * Copyright 2013 vtt.js Contributors\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *   http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n  var scrollSetting = {\n    \"\": true,\n    \"up\": true\n  };\n\n  function findScrollSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n\n    var scroll = scrollSetting[value.toLowerCase()];\n    return scroll ? value.toLowerCase() : false;\n  }\n\n  function isValidPercentValue(value) {\n    return typeof value === \"number\" && value >= 0 && value <= 100;\n  } // VTTRegion shim http://dev.w3.org/html5/webvtt/#vttregion-interface\n\n\n  function VTTRegion() {\n    var _width = 100;\n    var _lines = 3;\n    var _regionAnchorX = 0;\n    var _regionAnchorY = 100;\n    var _viewportAnchorX = 0;\n    var _viewportAnchorY = 100;\n    var _scroll = \"\";\n    Object.defineProperties(this, {\n      \"width\": {\n        enumerable: true,\n        get: function get() {\n          return _width;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"Width must be between 0 and 100.\");\n          }\n\n          _width = value;\n        }\n      },\n      \"lines\": {\n        enumerable: true,\n        get: function get() {\n          return _lines;\n        },\n        set: function set(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"Lines must be set to a number.\");\n          }\n\n          _lines = value;\n        }\n      },\n      \"regionAnchorY\": {\n        enumerable: true,\n        get: function get() {\n          return _regionAnchorY;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"RegionAnchorX must be between 0 and 100.\");\n          }\n\n          _regionAnchorY = value;\n        }\n      },\n      \"regionAnchorX\": {\n        enumerable: true,\n        get: function get() {\n          return _regionAnchorX;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"RegionAnchorY must be between 0 and 100.\");\n          }\n\n          _regionAnchorX = value;\n        }\n      },\n      \"viewportAnchorY\": {\n        enumerable: true,\n        get: function get() {\n          return _viewportAnchorY;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"ViewportAnchorY must be between 0 and 100.\");\n          }\n\n          _viewportAnchorY = value;\n        }\n      },\n      \"viewportAnchorX\": {\n        enumerable: true,\n        get: function get() {\n          return _viewportAnchorX;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"ViewportAnchorX must be between 0 and 100.\");\n          }\n\n          _viewportAnchorX = value;\n        }\n      },\n      \"scroll\": {\n        enumerable: true,\n        get: function get() {\n          return _scroll;\n        },\n        set: function set(value) {\n          var setting = findScrollSetting(value); // Have to check for false as an empty string is a legal value.\n\n          if (setting === false) {\n            console.warn(\"Scroll: an invalid or illegal string was specified.\");\n          } else {\n            _scroll = setting;\n          }\n        }\n      }\n    });\n  }\n\n  var vttregion = VTTRegion;\n\n  var browserIndex = createCommonjsModule(function (module) {\n    /**\n     * Copyright 2013 vtt.js Contributors\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *   http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    // Default exports for Node. Export the extended versions of VTTCue and\n    // VTTRegion in Node since we likely want the capability to convert back and\n    // forth between JSON. If we don't then it's not that big of a deal since we're\n    // off browser.\n    var vttjs = module.exports = {\n      WebVTT: vtt,\n      VTTCue: vttcue,\n      VTTRegion: vttregion\n    };\n    window_1.vttjs = vttjs;\n    window_1.WebVTT = vttjs.WebVTT;\n    var cueShim = vttjs.VTTCue;\n    var regionShim = vttjs.VTTRegion;\n    var nativeVTTCue = window_1.VTTCue;\n    var nativeVTTRegion = window_1.VTTRegion;\n\n    vttjs.shim = function () {\n      window_1.VTTCue = cueShim;\n      window_1.VTTRegion = regionShim;\n    };\n\n    vttjs.restore = function () {\n      window_1.VTTCue = nativeVTTCue;\n      window_1.VTTRegion = nativeVTTRegion;\n    };\n\n    if (!window_1.VTTCue) {\n      vttjs.shim();\n    }\n  });\n  browserIndex.WebVTT;\n  browserIndex.VTTCue;\n  browserIndex.VTTRegion;\n\n  /**\n   * An Object containing a structure like: `{src: 'url', type: 'mimetype'}` or string\n   * that just contains the src url alone.\n   * * `var SourceObject = {src: 'http://ex.com/video.mp4', type: 'video/mp4'};`\n     * `var SourceString = 'http://example.com/some-video.mp4';`\n   *\n   * @typedef {Object|string} Tech~SourceObject\n   *\n   * @property {string} src\n   *           The url to the source\n   *\n   * @property {string} type\n   *           The mime type of the source\n   */\n\n  /**\n   * A function used by {@link Tech} to create a new {@link TextTrack}.\n   *\n   * @private\n   *\n   * @param {Tech} self\n   *        An instance of the Tech class.\n   *\n   * @param {string} kind\n   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n   *\n   * @param {string} [label]\n   *        Label to identify the text track\n   *\n   * @param {string} [language]\n   *        Two letter language abbreviation\n   *\n   * @param {Object} [options={}]\n   *        An object with additional text track options\n   *\n   * @return {TextTrack}\n   *          The text track that was created.\n   */\n\n  function createTrackHelper(self, kind, label, language, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var tracks = self.textTracks();\n    options.kind = kind;\n\n    if (label) {\n      options.label = label;\n    }\n\n    if (language) {\n      options.language = language;\n    }\n\n    options.tech = self;\n    var track = new ALL.text.TrackClass(options);\n    tracks.addTrack(track);\n    return track;\n  }\n  /**\n   * This is the base class for media playback technology controllers, such as\n   * {@link HTML5}\n   *\n   * @extends Component\n   */\n\n\n  var Tech = /*#__PURE__*/function (_Component) {\n    inheritsLoose(Tech, _Component);\n\n    /**\n    * Create an instance of this Tech.\n    *\n    * @param {Object} [options]\n    *        The key/value store of player options.\n    *\n    * @param {Component~ReadyCallback} ready\n    *        Callback function to call when the `HTML5` Tech is ready.\n    */\n    function Tech(options, ready) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (ready === void 0) {\n        ready = function ready() {};\n      }\n\n      // we don't want the tech to report user activity automatically.\n      // This is done manually in addControlsListeners\n      options.reportTouchActivity = false;\n      _this = _Component.call(this, null, options, ready) || this;\n\n      _this.onDurationChange_ = function (e) {\n        return _this.onDurationChange(e);\n      };\n\n      _this.trackProgress_ = function (e) {\n        return _this.trackProgress(e);\n      };\n\n      _this.trackCurrentTime_ = function (e) {\n        return _this.trackCurrentTime(e);\n      };\n\n      _this.stopTrackingCurrentTime_ = function (e) {\n        return _this.stopTrackingCurrentTime(e);\n      };\n\n      _this.disposeSourceHandler_ = function (e) {\n        return _this.disposeSourceHandler(e);\n      };\n\n      _this.queuedHanders_ = new Set(); // keep track of whether the current source has played at all to\n      // implement a very limited played()\n\n      _this.hasStarted_ = false;\n\n      _this.on('playing', function () {\n        this.hasStarted_ = true;\n      });\n\n      _this.on('loadstart', function () {\n        this.hasStarted_ = false;\n      });\n\n      ALL.names.forEach(function (name) {\n        var props = ALL[name];\n\n        if (options && options[props.getterName]) {\n          _this[props.privateName] = options[props.getterName];\n        }\n      }); // Manually track progress in cases where the browser/tech doesn't report it.\n\n      if (!_this.featuresProgressEvents) {\n        _this.manualProgressOn();\n      } // Manually track timeupdates in cases where the browser/tech doesn't report it.\n\n\n      if (!_this.featuresTimeupdateEvents) {\n        _this.manualTimeUpdatesOn();\n      }\n\n      ['Text', 'Audio', 'Video'].forEach(function (track) {\n        if (options[\"native\" + track + \"Tracks\"] === false) {\n          _this[\"featuresNative\" + track + \"Tracks\"] = false;\n        }\n      });\n\n      if (options.nativeCaptions === false || options.nativeTextTracks === false) {\n        _this.featuresNativeTextTracks = false;\n      } else if (options.nativeCaptions === true || options.nativeTextTracks === true) {\n        _this.featuresNativeTextTracks = true;\n      }\n\n      if (!_this.featuresNativeTextTracks) {\n        _this.emulateTextTracks();\n      }\n\n      _this.preloadTextTracks = options.preloadTextTracks !== false;\n      _this.autoRemoteTextTracks_ = new ALL.text.ListClass();\n\n      _this.initTrackListeners(); // Turn on component tap events only if not using native controls\n\n\n      if (!options.nativeControlsForTouch) {\n        _this.emitTapEvents();\n      }\n\n      if (_this.constructor) {\n        _this.name_ = _this.constructor.name || 'Unknown Tech';\n      }\n\n      return _this;\n    }\n    /**\n     * A special function to trigger source set in a way that will allow player\n     * to re-trigger if the player or tech are not ready yet.\n     *\n     * @fires Tech#sourceset\n     * @param {string} src The source string at the time of the source changing.\n     */\n\n\n    var _proto = Tech.prototype;\n\n    _proto.triggerSourceset = function triggerSourceset(src) {\n      var _this2 = this;\n\n      if (!this.isReady_) {\n        // on initial ready we have to trigger source set\n        // 1ms after ready so that player can watch for it.\n        this.one('ready', function () {\n          return _this2.setTimeout(function () {\n            return _this2.triggerSourceset(src);\n          }, 1);\n        });\n      }\n      /**\n       * Fired when the source is set on the tech causing the media element\n       * to reload.\n       *\n       * @see {@link Player#event:sourceset}\n       * @event Tech#sourceset\n       * @type {EventTarget~Event}\n       */\n\n\n      this.trigger({\n        src: src,\n        type: 'sourceset'\n      });\n    }\n    /* Fallbacks for unsupported event types\n    ================================================================================ */\n\n    /**\n     * Polyfill the `progress` event for browsers that don't support it natively.\n     *\n     * @see {@link Tech#trackProgress}\n     */\n    ;\n\n    _proto.manualProgressOn = function manualProgressOn() {\n      this.on('durationchange', this.onDurationChange_);\n      this.manualProgress = true; // Trigger progress watching when a source begins loading\n\n      this.one('ready', this.trackProgress_);\n    }\n    /**\n     * Turn off the polyfill for `progress` events that was created in\n     * {@link Tech#manualProgressOn}\n     */\n    ;\n\n    _proto.manualProgressOff = function manualProgressOff() {\n      this.manualProgress = false;\n      this.stopTrackingProgress();\n      this.off('durationchange', this.onDurationChange_);\n    }\n    /**\n     * This is used to trigger a `progress` event when the buffered percent changes. It\n     * sets an interval function that will be called every 500 milliseconds to check if the\n     * buffer end percent has changed.\n     *\n     * > This function is called by {@link Tech#manualProgressOn}\n     *\n     * @param {EventTarget~Event} event\n     *        The `ready` event that caused this to run.\n     *\n     * @listens Tech#ready\n     * @fires Tech#progress\n     */\n    ;\n\n    _proto.trackProgress = function trackProgress(event) {\n      this.stopTrackingProgress();\n      this.progressInterval = this.setInterval(bind(this, function () {\n        // Don't trigger unless buffered amount is greater than last time\n        var numBufferedPercent = this.bufferedPercent();\n\n        if (this.bufferedPercent_ !== numBufferedPercent) {\n          /**\n           * See {@link Player#progress}\n           *\n           * @event Tech#progress\n           * @type {EventTarget~Event}\n           */\n          this.trigger('progress');\n        }\n\n        this.bufferedPercent_ = numBufferedPercent;\n\n        if (numBufferedPercent === 1) {\n          this.stopTrackingProgress();\n        }\n      }), 500);\n    }\n    /**\n     * Update our internal duration on a `durationchange` event by calling\n     * {@link Tech#duration}.\n     *\n     * @param {EventTarget~Event} event\n     *        The `durationchange` event that caused this to run.\n     *\n     * @listens Tech#durationchange\n     */\n    ;\n\n    _proto.onDurationChange = function onDurationChange(event) {\n      this.duration_ = this.duration();\n    }\n    /**\n     * Get and create a `TimeRange` object for buffering.\n     *\n     * @return {TimeRange}\n     *         The time range object that was created.\n     */\n    ;\n\n    _proto.buffered = function buffered() {\n      return createTimeRanges(0, 0);\n    }\n    /**\n     * Get the percentage of the current video that is currently buffered.\n     *\n     * @return {number}\n     *         A number from 0 to 1 that represents the decimal percentage of the\n     *         video that is buffered.\n     *\n     */\n    ;\n\n    _proto.bufferedPercent = function bufferedPercent$1() {\n      return bufferedPercent(this.buffered(), this.duration_);\n    }\n    /**\n     * Turn off the polyfill for `progress` events that was created in\n     * {@link Tech#manualProgressOn}\n     * Stop manually tracking progress events by clearing the interval that was set in\n     * {@link Tech#trackProgress}.\n     */\n    ;\n\n    _proto.stopTrackingProgress = function stopTrackingProgress() {\n      this.clearInterval(this.progressInterval);\n    }\n    /**\n     * Polyfill the `timeupdate` event for browsers that don't support it.\n     *\n     * @see {@link Tech#trackCurrentTime}\n     */\n    ;\n\n    _proto.manualTimeUpdatesOn = function manualTimeUpdatesOn() {\n      this.manualTimeUpdates = true;\n      this.on('play', this.trackCurrentTime_);\n      this.on('pause', this.stopTrackingCurrentTime_);\n    }\n    /**\n     * Turn off the polyfill for `timeupdate` events that was created in\n     * {@link Tech#manualTimeUpdatesOn}\n     */\n    ;\n\n    _proto.manualTimeUpdatesOff = function manualTimeUpdatesOff() {\n      this.manualTimeUpdates = false;\n      this.stopTrackingCurrentTime();\n      this.off('play', this.trackCurrentTime_);\n      this.off('pause', this.stopTrackingCurrentTime_);\n    }\n    /**\n     * Sets up an interval function to track current time and trigger `timeupdate` every\n     * 250 milliseconds.\n     *\n     * @listens Tech#play\n     * @triggers Tech#timeupdate\n     */\n    ;\n\n    _proto.trackCurrentTime = function trackCurrentTime() {\n      if (this.currentTimeInterval) {\n        this.stopTrackingCurrentTime();\n      }\n\n      this.currentTimeInterval = this.setInterval(function () {\n        /**\n         * Triggered at an interval of 250ms to indicated that time is passing in the video.\n         *\n         * @event Tech#timeupdate\n         * @type {EventTarget~Event}\n         */\n        this.trigger({\n          type: 'timeupdate',\n          target: this,\n          manuallyTriggered: true\n        }); // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n      }, 250);\n    }\n    /**\n     * Stop the interval function created in {@link Tech#trackCurrentTime} so that the\n     * `timeupdate` event is no longer triggered.\n     *\n     * @listens {Tech#pause}\n     */\n    ;\n\n    _proto.stopTrackingCurrentTime = function stopTrackingCurrentTime() {\n      this.clearInterval(this.currentTimeInterval); // #1002 - if the video ends right before the next timeupdate would happen,\n      // the progress bar won't make it all the way to the end\n\n      this.trigger({\n        type: 'timeupdate',\n        target: this,\n        manuallyTriggered: true\n      });\n    }\n    /**\n     * Turn off all event polyfills, clear the `Tech`s {@link AudioTrackList},\n     * {@link VideoTrackList}, and {@link TextTrackList}, and dispose of this Tech.\n     *\n     * @fires Component#dispose\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      // clear out all tracks because we can't reuse them between techs\n      this.clearTracks(NORMAL.names); // Turn off any manual progress or timeupdate tracking\n\n      if (this.manualProgress) {\n        this.manualProgressOff();\n      }\n\n      if (this.manualTimeUpdates) {\n        this.manualTimeUpdatesOff();\n      }\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Clear out a single `TrackList` or an array of `TrackLists` given their names.\n     *\n     * > Note: Techs without source handlers should call this between sources for `video`\n     *         & `audio` tracks. You don't want to use them between tracks!\n     *\n     * @param {string[]|string} types\n     *        TrackList names to clear, valid names are `video`, `audio`, and\n     *        `text`.\n     */\n    ;\n\n    _proto.clearTracks = function clearTracks(types) {\n      var _this3 = this;\n\n      types = [].concat(types); // clear out all tracks because we can't reuse them between techs\n\n      types.forEach(function (type) {\n        var list = _this3[type + \"Tracks\"]() || [];\n        var i = list.length;\n\n        while (i--) {\n          var track = list[i];\n\n          if (type === 'text') {\n            _this3.removeRemoteTextTrack(track);\n          }\n\n          list.removeTrack(track);\n        }\n      });\n    }\n    /**\n     * Remove any TextTracks added via addRemoteTextTrack that are\n     * flagged for automatic garbage collection\n     */\n    ;\n\n    _proto.cleanupAutoTextTracks = function cleanupAutoTextTracks() {\n      var list = this.autoRemoteTextTracks_ || [];\n      var i = list.length;\n\n      while (i--) {\n        var track = list[i];\n        this.removeRemoteTextTrack(track);\n      }\n    }\n    /**\n     * Reset the tech, which will removes all sources and reset the internal readyState.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.reset = function reset() {}\n    /**\n     * Get the value of `crossOrigin` from the tech.\n     *\n     * @abstract\n     *\n     * @see {Html5#crossOrigin}\n     */\n    ;\n\n    _proto.crossOrigin = function crossOrigin() {}\n    /**\n     * Set the value of `crossOrigin` on the tech.\n     *\n     * @abstract\n     *\n     * @param {string} crossOrigin the crossOrigin value\n     * @see {Html5#setCrossOrigin}\n     */\n    ;\n\n    _proto.setCrossOrigin = function setCrossOrigin() {}\n    /**\n     * Get or set an error on the Tech.\n     *\n     * @param {MediaError} [err]\n     *        Error to set on the Tech\n     *\n     * @return {MediaError|null}\n     *         The current error object on the tech, or null if there isn't one.\n     */\n    ;\n\n    _proto.error = function error(err) {\n      if (err !== undefined) {\n        this.error_ = new MediaError(err);\n        this.trigger('error');\n      }\n\n      return this.error_;\n    }\n    /**\n     * Returns the `TimeRange`s that have been played through for the current source.\n     *\n     * > NOTE: This implementation is incomplete. It does not track the played `TimeRange`.\n     *         It only checks whether the source has played at all or not.\n     *\n     * @return {TimeRange}\n     *         - A single time range if this video has played\n     *         - An empty set of ranges if not.\n     */\n    ;\n\n    _proto.played = function played() {\n      if (this.hasStarted_) {\n        return createTimeRanges(0, 0);\n      }\n\n      return createTimeRanges();\n    }\n    /**\n     * Start playback\n     *\n     * @abstract\n     *\n     * @see {Html5#play}\n     */\n    ;\n\n    _proto.play = function play() {}\n    /**\n     * Set whether we are scrubbing or not\n     *\n     * @abstract\n     *\n     * @see {Html5#setScrubbing}\n     */\n    ;\n\n    _proto.setScrubbing = function setScrubbing() {}\n    /**\n     * Get whether we are scrubbing or not\n     *\n     * @abstract\n     *\n     * @see {Html5#scrubbing}\n     */\n    ;\n\n    _proto.scrubbing = function scrubbing() {}\n    /**\n     * Causes a manual time update to occur if {@link Tech#manualTimeUpdatesOn} was\n     * previously called.\n     *\n     * @fires Tech#timeupdate\n     */\n    ;\n\n    _proto.setCurrentTime = function setCurrentTime() {\n      // improve the accuracy of manual timeupdates\n      if (this.manualTimeUpdates) {\n        /**\n         * A manual `timeupdate` event.\n         *\n         * @event Tech#timeupdate\n         * @type {EventTarget~Event}\n         */\n        this.trigger({\n          type: 'timeupdate',\n          target: this,\n          manuallyTriggered: true\n        });\n      }\n    }\n    /**\n     * Turn on listeners for {@link VideoTrackList}, {@link {AudioTrackList}, and\n     * {@link TextTrackList} events.\n     *\n     * This adds {@link EventTarget~EventListeners} for `addtrack`, and  `removetrack`.\n     *\n     * @fires Tech#audiotrackchange\n     * @fires Tech#videotrackchange\n     * @fires Tech#texttrackchange\n     */\n    ;\n\n    _proto.initTrackListeners = function initTrackListeners() {\n      var _this4 = this;\n\n      /**\n        * Triggered when tracks are added or removed on the Tech {@link AudioTrackList}\n        *\n        * @event Tech#audiotrackchange\n        * @type {EventTarget~Event}\n        */\n\n      /**\n        * Triggered when tracks are added or removed on the Tech {@link VideoTrackList}\n        *\n        * @event Tech#videotrackchange\n        * @type {EventTarget~Event}\n        */\n\n      /**\n        * Triggered when tracks are added or removed on the Tech {@link TextTrackList}\n        *\n        * @event Tech#texttrackchange\n        * @type {EventTarget~Event}\n        */\n      NORMAL.names.forEach(function (name) {\n        var props = NORMAL[name];\n\n        var trackListChanges = function trackListChanges() {\n          _this4.trigger(name + \"trackchange\");\n        };\n\n        var tracks = _this4[props.getterName]();\n\n        tracks.addEventListener('removetrack', trackListChanges);\n        tracks.addEventListener('addtrack', trackListChanges);\n\n        _this4.on('dispose', function () {\n          tracks.removeEventListener('removetrack', trackListChanges);\n          tracks.removeEventListener('addtrack', trackListChanges);\n        });\n      });\n    }\n    /**\n     * Emulate TextTracks using vtt.js if necessary\n     *\n     * @fires Tech#vttjsloaded\n     * @fires Tech#vttjserror\n     */\n    ;\n\n    _proto.addWebVttScript_ = function addWebVttScript_() {\n      var _this5 = this;\n\n      if (window.WebVTT) {\n        return;\n      } // Initially, Tech.el_ is a child of a dummy-div wait until the Component system\n      // signals that the Tech is ready at which point Tech.el_ is part of the DOM\n      // before inserting the WebVTT script\n\n\n      if (document.body.contains(this.el())) {\n        // load via require if available and vtt.js script location was not passed in\n        // as an option. novtt builds will turn the above require call into an empty object\n        // which will cause this if check to always fail.\n        if (!this.options_['vtt.js'] && isPlain(browserIndex) && Object.keys(browserIndex).length > 0) {\n          this.trigger('vttjsloaded');\n          return;\n        } // load vtt.js via the script location option or the cdn of no location was\n        // passed in\n\n\n        var script = document.createElement('script');\n        script.src = this.options_['vtt.js'] || 'https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js';\n\n        script.onload = function () {\n          /**\n           * Fired when vtt.js is loaded.\n           *\n           * @event Tech#vttjsloaded\n           * @type {EventTarget~Event}\n           */\n          _this5.trigger('vttjsloaded');\n        };\n\n        script.onerror = function () {\n          /**\n           * Fired when vtt.js was not loaded due to an error\n           *\n           * @event Tech#vttjsloaded\n           * @type {EventTarget~Event}\n           */\n          _this5.trigger('vttjserror');\n        };\n\n        this.on('dispose', function () {\n          script.onload = null;\n          script.onerror = null;\n        }); // but have not loaded yet and we set it to true before the inject so that\n        // we don't overwrite the injected window.WebVTT if it loads right away\n\n        window.WebVTT = true;\n        this.el().parentNode.appendChild(script);\n      } else {\n        this.ready(this.addWebVttScript_);\n      }\n    }\n    /**\n     * Emulate texttracks\n     *\n     */\n    ;\n\n    _proto.emulateTextTracks = function emulateTextTracks() {\n      var _this6 = this;\n\n      var tracks = this.textTracks();\n      var remoteTracks = this.remoteTextTracks();\n\n      var handleAddTrack = function handleAddTrack(e) {\n        return tracks.addTrack(e.track);\n      };\n\n      var handleRemoveTrack = function handleRemoveTrack(e) {\n        return tracks.removeTrack(e.track);\n      };\n\n      remoteTracks.on('addtrack', handleAddTrack);\n      remoteTracks.on('removetrack', handleRemoveTrack);\n      this.addWebVttScript_();\n\n      var updateDisplay = function updateDisplay() {\n        return _this6.trigger('texttrackchange');\n      };\n\n      var textTracksChanges = function textTracksChanges() {\n        updateDisplay();\n\n        for (var i = 0; i < tracks.length; i++) {\n          var track = tracks[i];\n          track.removeEventListener('cuechange', updateDisplay);\n\n          if (track.mode === 'showing') {\n            track.addEventListener('cuechange', updateDisplay);\n          }\n        }\n      };\n\n      textTracksChanges();\n      tracks.addEventListener('change', textTracksChanges);\n      tracks.addEventListener('addtrack', textTracksChanges);\n      tracks.addEventListener('removetrack', textTracksChanges);\n      this.on('dispose', function () {\n        remoteTracks.off('addtrack', handleAddTrack);\n        remoteTracks.off('removetrack', handleRemoveTrack);\n        tracks.removeEventListener('change', textTracksChanges);\n        tracks.removeEventListener('addtrack', textTracksChanges);\n        tracks.removeEventListener('removetrack', textTracksChanges);\n\n        for (var i = 0; i < tracks.length; i++) {\n          var track = tracks[i];\n          track.removeEventListener('cuechange', updateDisplay);\n        }\n      });\n    }\n    /**\n     * Create and returns a remote {@link TextTrack} object.\n     *\n     * @param {string} kind\n     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n     *\n     * @param {string} [label]\n     *        Label to identify the text track\n     *\n     * @param {string} [language]\n     *        Two letter language abbreviation\n     *\n     * @return {TextTrack}\n     *         The TextTrack that gets created.\n     */\n    ;\n\n    _proto.addTextTrack = function addTextTrack(kind, label, language) {\n      if (!kind) {\n        throw new Error('TextTrack kind is required but was not provided');\n      }\n\n      return createTrackHelper(this, kind, label, language);\n    }\n    /**\n     * Create an emulated TextTrack for use by addRemoteTextTrack\n     *\n     * This is intended to be overridden by classes that inherit from\n     * Tech in order to create native or custom TextTracks.\n     *\n     * @param {Object} options\n     *        The object should contain the options to initialize the TextTrack with.\n     *\n     * @param {string} [options.kind]\n     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata).\n     *\n     * @param {string} [options.label].\n     *        Label to identify the text track\n     *\n     * @param {string} [options.language]\n     *        Two letter language abbreviation.\n     *\n     * @return {HTMLTrackElement}\n     *         The track element that gets created.\n     */\n    ;\n\n    _proto.createRemoteTextTrack = function createRemoteTextTrack(options) {\n      var track = mergeOptions(options, {\n        tech: this\n      });\n      return new REMOTE.remoteTextEl.TrackClass(track);\n    }\n    /**\n     * Creates a remote text track object and returns an html track element.\n     *\n     * > Note: This can be an emulated {@link HTMLTrackElement} or a native one.\n     *\n     * @param {Object} options\n     *        See {@link Tech#createRemoteTextTrack} for more detailed properties.\n     *\n     * @param {boolean} [manualCleanup=true]\n     *        - When false: the TextTrack will be automatically removed from the video\n     *          element whenever the source changes\n     *        - When True: The TextTrack will have to be cleaned up manually\n     *\n     * @return {HTMLTrackElement}\n     *         An Html Track Element.\n     *\n     * @deprecated The default functionality for this function will be equivalent\n     *             to \"manualCleanup=false\" in the future. The manualCleanup parameter will\n     *             also be removed.\n     */\n    ;\n\n    _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n      var _this7 = this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      var htmlTrackElement = this.createRemoteTextTrack(options);\n\n      if (manualCleanup !== true && manualCleanup !== false) {\n        // deprecation warning\n        log.warn('Calling addRemoteTextTrack without explicitly setting the \"manualCleanup\" parameter to `true` is deprecated and default to `false` in future version of video.js');\n        manualCleanup = true;\n      } // store HTMLTrackElement and TextTrack to remote list\n\n\n      this.remoteTextTrackEls().addTrackElement_(htmlTrackElement);\n      this.remoteTextTracks().addTrack(htmlTrackElement.track);\n\n      if (manualCleanup !== true) {\n        // create the TextTrackList if it doesn't exist\n        this.ready(function () {\n          return _this7.autoRemoteTextTracks_.addTrack(htmlTrackElement.track);\n        });\n      }\n\n      return htmlTrackElement;\n    }\n    /**\n     * Remove a remote text track from the remote `TextTrackList`.\n     *\n     * @param {TextTrack} track\n     *        `TextTrack` to remove from the `TextTrackList`\n     */\n    ;\n\n    _proto.removeRemoteTextTrack = function removeRemoteTextTrack(track) {\n      var trackElement = this.remoteTextTrackEls().getTrackElementByTrack_(track); // remove HTMLTrackElement and TextTrack from remote list\n\n      this.remoteTextTrackEls().removeTrackElement_(trackElement);\n      this.remoteTextTracks().removeTrack(track);\n      this.autoRemoteTextTracks_.removeTrack(track);\n    }\n    /**\n     * Gets available media playback quality metrics as specified by the W3C's Media\n     * Playback Quality API.\n     *\n     * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n     *\n     * @return {Object}\n     *         An object with supported media playback quality metrics\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n      return {};\n    }\n    /**\n     * Attempt to create a floating video window always on top of other windows\n     * so that users may continue consuming media while they interact with other\n     * content sites, or applications on their device.\n     *\n     * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n     *\n     * @return {Promise|undefined}\n     *         A promise with a Picture-in-Picture window if the browser supports\n     *         Promises (or one was passed in as an option). It returns undefined\n     *         otherwise.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.requestPictureInPicture = function requestPictureInPicture() {\n      var PromiseClass = this.options_.Promise || window.Promise;\n\n      if (PromiseClass) {\n        return PromiseClass.reject();\n      }\n    }\n    /**\n     * A method to check for the value of the 'disablePictureInPicture' <video> property.\n     * Defaults to true, as it should be considered disabled if the tech does not support pip\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.disablePictureInPicture = function disablePictureInPicture() {\n      return true;\n    }\n    /**\n     * A method to set or unset the 'disablePictureInPicture' <video> property.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.setDisablePictureInPicture = function setDisablePictureInPicture() {}\n    /**\n     * A fallback implementation of requestVideoFrameCallback using requestAnimationFrame\n     *\n     * @param {function} cb\n     * @return {number} request id\n     */\n    ;\n\n    _proto.requestVideoFrameCallback = function requestVideoFrameCallback(cb) {\n      var _this8 = this;\n\n      var id = newGUID();\n\n      if (!this.isReady_ || this.paused()) {\n        this.queuedHanders_.add(id);\n        this.one('playing', function () {\n          if (_this8.queuedHanders_.has(id)) {\n            _this8.queuedHanders_[\"delete\"](id);\n\n            cb();\n          }\n        });\n      } else {\n        this.requestNamedAnimationFrame(id, cb);\n      }\n\n      return id;\n    }\n    /**\n     * A fallback implementation of cancelVideoFrameCallback\n     *\n     * @param {number} id id of callback to be cancelled\n     */\n    ;\n\n    _proto.cancelVideoFrameCallback = function cancelVideoFrameCallback(id) {\n      if (this.queuedHanders_.has(id)) {\n        this.queuedHanders_[\"delete\"](id);\n      } else {\n        this.cancelNamedAnimationFrame(id);\n      }\n    }\n    /**\n     * A method to set a poster from a `Tech`.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.setPoster = function setPoster() {}\n    /**\n     * A method to check for the presence of the 'playsinline' <video> attribute.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.playsinline = function playsinline() {}\n    /**\n     * A method to set or unset the 'playsinline' <video> attribute.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.setPlaysinline = function setPlaysinline() {}\n    /**\n     * Attempt to force override of native audio tracks.\n     *\n     * @param {boolean} override - If set to true native audio will be overridden,\n     * otherwise native audio will potentially be used.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.overrideNativeAudioTracks = function overrideNativeAudioTracks() {}\n    /**\n     * Attempt to force override of native video tracks.\n     *\n     * @param {boolean} override - If set to true native video will be overridden,\n     * otherwise native video will potentially be used.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.overrideNativeVideoTracks = function overrideNativeVideoTracks() {}\n    /*\n     * Check if the tech can support the given mime-type.\n     *\n     * The base tech does not support any type, but source handlers might\n     * overwrite this.\n     *\n     * @param  {string} type\n     *         The mimetype to check for support\n     *\n     * @return {string}\n     *         'probably', 'maybe', or empty string\n     *\n     * @see [Spec]{@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/canPlayType}\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.canPlayType = function canPlayType() {\n      return '';\n    }\n    /**\n     * Check if the type is supported by this tech.\n     *\n     * The base tech does not support any type, but source handlers might\n     * overwrite this.\n     *\n     * @param {string} type\n     *        The media type to check\n     * @return {string} Returns the native video element's response\n     */\n    ;\n\n    Tech.canPlayType = function canPlayType() {\n      return '';\n    }\n    /**\n     * Check if the tech can support the given source\n     *\n     * @param {Object} srcObj\n     *        The source object\n     * @param {Object} options\n     *        The options passed to the tech\n     * @return {string} 'probably', 'maybe', or '' (empty string)\n     */\n    ;\n\n    Tech.canPlaySource = function canPlaySource(srcObj, options) {\n      return Tech.canPlayType(srcObj.type);\n    }\n    /*\n     * Return whether the argument is a Tech or not.\n     * Can be passed either a Class like `Html5` or a instance like `player.tech_`\n     *\n     * @param {Object} component\n     *        The item to check\n     *\n     * @return {boolean}\n     *         Whether it is a tech or not\n     *         - True if it is a tech\n     *         - False if it is not\n     */\n    ;\n\n    Tech.isTech = function isTech(component) {\n      return component.prototype instanceof Tech || component instanceof Tech || component === Tech;\n    }\n    /**\n     * Registers a `Tech` into a shared list for videojs.\n     *\n     * @param {string} name\n     *        Name of the `Tech` to register.\n     *\n     * @param {Object} tech\n     *        The `Tech` class to register.\n     */\n    ;\n\n    Tech.registerTech = function registerTech(name, tech) {\n      if (!Tech.techs_) {\n        Tech.techs_ = {};\n      }\n\n      if (!Tech.isTech(tech)) {\n        throw new Error(\"Tech \" + name + \" must be a Tech\");\n      }\n\n      if (!Tech.canPlayType) {\n        throw new Error('Techs must have a static canPlayType method on them');\n      }\n\n      if (!Tech.canPlaySource) {\n        throw new Error('Techs must have a static canPlaySource method on them');\n      }\n\n      name = toTitleCase(name);\n      Tech.techs_[name] = tech;\n      Tech.techs_[toLowerCase(name)] = tech;\n\n      if (name !== 'Tech') {\n        // camel case the techName for use in techOrder\n        Tech.defaultTechOrder_.push(name);\n      }\n\n      return tech;\n    }\n    /**\n     * Get a `Tech` from the shared list by name.\n     *\n     * @param {string} name\n     *        `camelCase` or `TitleCase` name of the Tech to get\n     *\n     * @return {Tech|undefined}\n     *         The `Tech` or undefined if there was no tech with the name requested.\n     */\n    ;\n\n    Tech.getTech = function getTech(name) {\n      if (!name) {\n        return;\n      }\n\n      if (Tech.techs_ && Tech.techs_[name]) {\n        return Tech.techs_[name];\n      }\n\n      name = toTitleCase(name);\n\n      if (window && window.videojs && window.videojs[name]) {\n        log.warn(\"The \" + name + \" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)\");\n        return window.videojs[name];\n      }\n    };\n\n    return Tech;\n  }(Component);\n  /**\n   * Get the {@link VideoTrackList}\n   *\n   * @returns {VideoTrackList}\n   * @method Tech.prototype.videoTracks\n   */\n\n  /**\n   * Get the {@link AudioTrackList}\n   *\n   * @returns {AudioTrackList}\n   * @method Tech.prototype.audioTracks\n   */\n\n  /**\n   * Get the {@link TextTrackList}\n   *\n   * @returns {TextTrackList}\n   * @method Tech.prototype.textTracks\n   */\n\n  /**\n   * Get the remote element {@link TextTrackList}\n   *\n   * @returns {TextTrackList}\n   * @method Tech.prototype.remoteTextTracks\n   */\n\n  /**\n   * Get the remote element {@link HtmlTrackElementList}\n   *\n   * @returns {HtmlTrackElementList}\n   * @method Tech.prototype.remoteTextTrackEls\n   */\n\n\n  ALL.names.forEach(function (name) {\n    var props = ALL[name];\n\n    Tech.prototype[props.getterName] = function () {\n      this[props.privateName] = this[props.privateName] || new props.ListClass();\n      return this[props.privateName];\n    };\n  });\n  /**\n   * List of associated text tracks\n   *\n   * @type {TextTrackList}\n   * @private\n   * @property Tech#textTracks_\n   */\n\n  /**\n   * List of associated audio tracks.\n   *\n   * @type {AudioTrackList}\n   * @private\n   * @property Tech#audioTracks_\n   */\n\n  /**\n   * List of associated video tracks.\n   *\n   * @type {VideoTrackList}\n   * @private\n   * @property Tech#videoTracks_\n   */\n\n  /**\n   * Boolean indicating whether the `Tech` supports volume control.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresVolumeControl = true;\n  /**\n   * Boolean indicating whether the `Tech` supports muting volume.\n   *\n   * @type {bolean}\n   * @default\n   */\n\n  Tech.prototype.featuresMuteControl = true;\n  /**\n   * Boolean indicating whether the `Tech` supports fullscreen resize control.\n   * Resizing plugins using request fullscreen reloads the plugin\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresFullscreenResize = false;\n  /**\n   * Boolean indicating whether the `Tech` supports changing the speed at which the video\n   * plays. Examples:\n   *   - Set player to play 2x (twice) as fast\n   *   - Set player to play 0.5x (half) as fast\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresPlaybackRate = false;\n  /**\n   * Boolean indicating whether the `Tech` supports the `progress` event. This is currently\n   * not triggered by video-js-swf. This will be used to determine if\n   * {@link Tech#manualProgressOn} should be called.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresProgressEvents = false;\n  /**\n   * Boolean indicating whether the `Tech` supports the `sourceset` event.\n   *\n   * A tech should set this to `true` and then use {@link Tech#triggerSourceset}\n   * to trigger a {@link Tech#event:sourceset} at the earliest time after getting\n   * a new source.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresSourceset = false;\n  /**\n   * Boolean indicating whether the `Tech` supports the `timeupdate` event. This is currently\n   * not triggered by video-js-swf. This will be used to determine if\n   * {@link Tech#manualTimeUpdates} should be called.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresTimeupdateEvents = false;\n  /**\n   * Boolean indicating whether the `Tech` supports the native `TextTrack`s.\n   * This will help us integrate with native `TextTrack`s if the browser supports them.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresNativeTextTracks = false;\n  /**\n   * Boolean indicating whether the `Tech` supports `requestVideoFrameCallback`.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresVideoFrameCallback = false;\n  /**\n   * A functional mixin for techs that want to use the Source Handler pattern.\n   * Source handlers are scripts for handling specific formats.\n   * The source handler pattern is used for adaptive formats (HLS, DASH) that\n   * manually load video data and feed it into a Source Buffer (Media Source Extensions)\n   * Example: `Tech.withSourceHandlers.call(MyTech);`\n   *\n   * @param {Tech} _Tech\n   *        The tech to add source handler functions to.\n   *\n   * @mixes Tech~SourceHandlerAdditions\n   */\n\n  Tech.withSourceHandlers = function (_Tech) {\n    /**\n     * Register a source handler\n     *\n     * @param {Function} handler\n     *        The source handler class\n     *\n     * @param {number} [index]\n     *        Register it at the following index\n     */\n    _Tech.registerSourceHandler = function (handler, index) {\n      var handlers = _Tech.sourceHandlers;\n\n      if (!handlers) {\n        handlers = _Tech.sourceHandlers = [];\n      }\n\n      if (index === undefined) {\n        // add to the end of the list\n        index = handlers.length;\n      }\n\n      handlers.splice(index, 0, handler);\n    };\n    /**\n     * Check if the tech can support the given type. Also checks the\n     * Techs sourceHandlers.\n     *\n     * @param {string} type\n     *         The mimetype to check.\n     *\n     * @return {string}\n     *         'probably', 'maybe', or '' (empty string)\n     */\n\n\n    _Tech.canPlayType = function (type) {\n      var handlers = _Tech.sourceHandlers || [];\n      var can;\n\n      for (var i = 0; i < handlers.length; i++) {\n        can = handlers[i].canPlayType(type);\n\n        if (can) {\n          return can;\n        }\n      }\n\n      return '';\n    };\n    /**\n     * Returns the first source handler that supports the source.\n     *\n     * TODO: Answer question: should 'probably' be prioritized over 'maybe'\n     *\n     * @param {Tech~SourceObject} source\n     *        The source object\n     *\n     * @param {Object} options\n     *        The options passed to the tech\n     *\n     * @return {SourceHandler|null}\n     *          The first source handler that supports the source or null if\n     *          no SourceHandler supports the source\n     */\n\n\n    _Tech.selectSourceHandler = function (source, options) {\n      var handlers = _Tech.sourceHandlers || [];\n      var can;\n\n      for (var i = 0; i < handlers.length; i++) {\n        can = handlers[i].canHandleSource(source, options);\n\n        if (can) {\n          return handlers[i];\n        }\n      }\n\n      return null;\n    };\n    /**\n     * Check if the tech can support the given source.\n     *\n     * @param {Tech~SourceObject} srcObj\n     *        The source object\n     *\n     * @param {Object} options\n     *        The options passed to the tech\n     *\n     * @return {string}\n     *         'probably', 'maybe', or '' (empty string)\n     */\n\n\n    _Tech.canPlaySource = function (srcObj, options) {\n      var sh = _Tech.selectSourceHandler(srcObj, options);\n\n      if (sh) {\n        return sh.canHandleSource(srcObj, options);\n      }\n\n      return '';\n    };\n    /**\n     * When using a source handler, prefer its implementation of\n     * any function normally provided by the tech.\n     */\n\n\n    var deferrable = ['seekable', 'seeking', 'duration'];\n    /**\n     * A wrapper around {@link Tech#seekable} that will call a `SourceHandler`s seekable\n     * function if it exists, with a fallback to the Techs seekable function.\n     *\n     * @method _Tech.seekable\n     */\n\n    /**\n     * A wrapper around {@link Tech#duration} that will call a `SourceHandler`s duration\n     * function if it exists, otherwise it will fallback to the techs duration function.\n     *\n     * @method _Tech.duration\n     */\n\n    deferrable.forEach(function (fnName) {\n      var originalFn = this[fnName];\n\n      if (typeof originalFn !== 'function') {\n        return;\n      }\n\n      this[fnName] = function () {\n        if (this.sourceHandler_ && this.sourceHandler_[fnName]) {\n          return this.sourceHandler_[fnName].apply(this.sourceHandler_, arguments);\n        }\n\n        return originalFn.apply(this, arguments);\n      };\n    }, _Tech.prototype);\n    /**\n     * Create a function for setting the source using a source object\n     * and source handlers.\n     * Should never be called unless a source handler was found.\n     *\n     * @param {Tech~SourceObject} source\n     *        A source object with src and type keys\n     */\n\n    _Tech.prototype.setSource = function (source) {\n      var sh = _Tech.selectSourceHandler(source, this.options_);\n\n      if (!sh) {\n        // Fall back to a native source hander when unsupported sources are\n        // deliberately set\n        if (_Tech.nativeSourceHandler) {\n          sh = _Tech.nativeSourceHandler;\n        } else {\n          log.error('No source handler found for the current source.');\n        }\n      } // Dispose any existing source handler\n\n\n      this.disposeSourceHandler();\n      this.off('dispose', this.disposeSourceHandler_);\n\n      if (sh !== _Tech.nativeSourceHandler) {\n        this.currentSource_ = source;\n      }\n\n      this.sourceHandler_ = sh.handleSource(source, this, this.options_);\n      this.one('dispose', this.disposeSourceHandler_);\n    };\n    /**\n     * Clean up any existing SourceHandlers and listeners when the Tech is disposed.\n     *\n     * @listens Tech#dispose\n     */\n\n\n    _Tech.prototype.disposeSourceHandler = function () {\n      // if we have a source and get another one\n      // then we are loading something new\n      // than clear all of our current tracks\n      if (this.currentSource_) {\n        this.clearTracks(['audio', 'video']);\n        this.currentSource_ = null;\n      } // always clean up auto-text tracks\n\n\n      this.cleanupAutoTextTracks();\n\n      if (this.sourceHandler_) {\n        if (this.sourceHandler_.dispose) {\n          this.sourceHandler_.dispose();\n        }\n\n        this.sourceHandler_ = null;\n      }\n    };\n  }; // The base Tech class needs to be registered as a Component. It is the only\n  // Tech that can be registered as a Component.\n\n\n  Component.registerComponent('Tech', Tech);\n  Tech.registerTech('Tech', Tech);\n  /**\n   * A list of techs that should be added to techOrder on Players\n   *\n   * @private\n   */\n\n  Tech.defaultTechOrder_ = [];\n\n  /**\n   * @file middleware.js\n   * @module middleware\n   */\n  var middlewares = {};\n  var middlewareInstances = {};\n  var TERMINATOR = {};\n  /**\n   * A middleware object is a plain JavaScript object that has methods that\n   * match the {@link Tech} methods found in the lists of allowed\n   * {@link module:middleware.allowedGetters|getters},\n   * {@link module:middleware.allowedSetters|setters}, and\n   * {@link module:middleware.allowedMediators|mediators}.\n   *\n   * @typedef {Object} MiddlewareObject\n   */\n\n  /**\n   * A middleware factory function that should return a\n   * {@link module:middleware~MiddlewareObject|MiddlewareObject}.\n   *\n   * This factory will be called for each player when needed, with the player\n   * passed in as an argument.\n   *\n   * @callback MiddlewareFactory\n   * @param {Player} player\n   *        A Video.js player.\n   */\n\n  /**\n   * Define a middleware that the player should use by way of a factory function\n   * that returns a middleware object.\n   *\n   * @param  {string} type\n   *         The MIME type to match or `\"*\"` for all MIME types.\n   *\n   * @param  {MiddlewareFactory} middleware\n   *         A middleware factory function that will be executed for\n   *         matching types.\n   */\n\n  function use(type, middleware) {\n    middlewares[type] = middlewares[type] || [];\n    middlewares[type].push(middleware);\n  }\n  /**\n   * Asynchronously sets a source using middleware by recursing through any\n   * matching middlewares and calling `setSource` on each, passing along the\n   * previous returned value each time.\n   *\n   * @param  {Player} player\n   *         A {@link Player} instance.\n   *\n   * @param  {Tech~SourceObject} src\n   *         A source object.\n   *\n   * @param  {Function}\n   *         The next middleware to run.\n   */\n\n  function setSource(player, src, next) {\n    player.setTimeout(function () {\n      return setSourceHelper(src, middlewares[src.type], next, player);\n    }, 1);\n  }\n  /**\n   * When the tech is set, passes the tech to each middleware's `setTech` method.\n   *\n   * @param {Object[]} middleware\n   *        An array of middleware instances.\n   *\n   * @param {Tech} tech\n   *        A Video.js tech.\n   */\n\n  function setTech(middleware, tech) {\n    middleware.forEach(function (mw) {\n      return mw.setTech && mw.setTech(tech);\n    });\n  }\n  /**\n   * Calls a getter on the tech first, through each middleware\n   * from right to left to the player.\n   *\n   * @param  {Object[]} middleware\n   *         An array of middleware instances.\n   *\n   * @param  {Tech} tech\n   *         The current tech.\n   *\n   * @param  {string} method\n   *         A method name.\n   *\n   * @return {Mixed}\n   *         The final value from the tech after middleware has intercepted it.\n   */\n\n  function get(middleware, tech, method) {\n    return middleware.reduceRight(middlewareIterator(method), tech[method]());\n  }\n  /**\n   * Takes the argument given to the player and calls the setter method on each\n   * middleware from left to right to the tech.\n   *\n   * @param  {Object[]} middleware\n   *         An array of middleware instances.\n   *\n   * @param  {Tech} tech\n   *         The current tech.\n   *\n   * @param  {string} method\n   *         A method name.\n   *\n   * @param  {Mixed} arg\n   *         The value to set on the tech.\n   *\n   * @return {Mixed}\n   *         The return value of the `method` of the `tech`.\n   */\n\n  function set(middleware, tech, method, arg) {\n    return tech[method](middleware.reduce(middlewareIterator(method), arg));\n  }\n  /**\n   * Takes the argument given to the player and calls the `call` version of the\n   * method on each middleware from left to right.\n   *\n   * Then, call the passed in method on the tech and return the result unchanged\n   * back to the player, through middleware, this time from right to left.\n   *\n   * @param  {Object[]} middleware\n   *         An array of middleware instances.\n   *\n   * @param  {Tech} tech\n   *         The current tech.\n   *\n   * @param  {string} method\n   *         A method name.\n   *\n   * @param  {Mixed} arg\n   *         The value to set on the tech.\n   *\n   * @return {Mixed}\n   *         The return value of the `method` of the `tech`, regardless of the\n   *         return values of middlewares.\n   */\n\n  function mediate(middleware, tech, method, arg) {\n    if (arg === void 0) {\n      arg = null;\n    }\n\n    var callMethod = 'call' + toTitleCase(method);\n    var middlewareValue = middleware.reduce(middlewareIterator(callMethod), arg);\n    var terminated = middlewareValue === TERMINATOR; // deprecated. The `null` return value should instead return TERMINATOR to\n    // prevent confusion if a techs method actually returns null.\n\n    var returnValue = terminated ? null : tech[method](middlewareValue);\n    executeRight(middleware, method, returnValue, terminated);\n    return returnValue;\n  }\n  /**\n   * Enumeration of allowed getters where the keys are method names.\n   *\n   * @type {Object}\n   */\n\n  var allowedGetters = {\n    buffered: 1,\n    currentTime: 1,\n    duration: 1,\n    muted: 1,\n    played: 1,\n    paused: 1,\n    seekable: 1,\n    volume: 1,\n    ended: 1\n  };\n  /**\n   * Enumeration of allowed setters where the keys are method names.\n   *\n   * @type {Object}\n   */\n\n  var allowedSetters = {\n    setCurrentTime: 1,\n    setMuted: 1,\n    setVolume: 1\n  };\n  /**\n   * Enumeration of allowed mediators where the keys are method names.\n   *\n   * @type {Object}\n   */\n\n  var allowedMediators = {\n    play: 1,\n    pause: 1\n  };\n\n  function middlewareIterator(method) {\n    return function (value, mw) {\n      // if the previous middleware terminated, pass along the termination\n      if (value === TERMINATOR) {\n        return TERMINATOR;\n      }\n\n      if (mw[method]) {\n        return mw[method](value);\n      }\n\n      return value;\n    };\n  }\n\n  function executeRight(mws, method, value, terminated) {\n    for (var i = mws.length - 1; i >= 0; i--) {\n      var mw = mws[i];\n\n      if (mw[method]) {\n        mw[method](terminated, value);\n      }\n    }\n  }\n  /**\n   * Clear the middleware cache for a player.\n   *\n   * @param  {Player} player\n   *         A {@link Player} instance.\n   */\n\n\n  function clearCacheForPlayer(player) {\n    middlewareInstances[player.id()] = null;\n  }\n  /**\n   * {\n   *  [playerId]: [[mwFactory, mwInstance], ...]\n   * }\n   *\n   * @private\n   */\n\n  function getOrCreateFactory(player, mwFactory) {\n    var mws = middlewareInstances[player.id()];\n    var mw = null;\n\n    if (mws === undefined || mws === null) {\n      mw = mwFactory(player);\n      middlewareInstances[player.id()] = [[mwFactory, mw]];\n      return mw;\n    }\n\n    for (var i = 0; i < mws.length; i++) {\n      var _mws$i = mws[i],\n          mwf = _mws$i[0],\n          mwi = _mws$i[1];\n\n      if (mwf !== mwFactory) {\n        continue;\n      }\n\n      mw = mwi;\n    }\n\n    if (mw === null) {\n      mw = mwFactory(player);\n      mws.push([mwFactory, mw]);\n    }\n\n    return mw;\n  }\n\n  function setSourceHelper(src, middleware, next, player, acc, lastRun) {\n    if (src === void 0) {\n      src = {};\n    }\n\n    if (middleware === void 0) {\n      middleware = [];\n    }\n\n    if (acc === void 0) {\n      acc = [];\n    }\n\n    if (lastRun === void 0) {\n      lastRun = false;\n    }\n\n    var _middleware = middleware,\n        mwFactory = _middleware[0],\n        mwrest = _middleware.slice(1); // if mwFactory is a string, then we're at a fork in the road\n\n\n    if (typeof mwFactory === 'string') {\n      setSourceHelper(src, middlewares[mwFactory], next, player, acc, lastRun); // if we have an mwFactory, call it with the player to get the mw,\n      // then call the mw's setSource method\n    } else if (mwFactory) {\n      var mw = getOrCreateFactory(player, mwFactory); // if setSource isn't present, implicitly select this middleware\n\n      if (!mw.setSource) {\n        acc.push(mw);\n        return setSourceHelper(src, mwrest, next, player, acc, lastRun);\n      }\n\n      mw.setSource(assign({}, src), function (err, _src) {\n        // something happened, try the next middleware on the current level\n        // make sure to use the old src\n        if (err) {\n          return setSourceHelper(src, mwrest, next, player, acc, lastRun);\n        } // we've succeeded, now we need to go deeper\n\n\n        acc.push(mw); // if it's the same type, continue down the current chain\n        // otherwise, we want to go down the new chain\n\n        setSourceHelper(_src, src.type === _src.type ? mwrest : middlewares[_src.type], next, player, acc, lastRun);\n      });\n    } else if (mwrest.length) {\n      setSourceHelper(src, mwrest, next, player, acc, lastRun);\n    } else if (lastRun) {\n      next(src, acc);\n    } else {\n      setSourceHelper(src, middlewares['*'], next, player, acc, true);\n    }\n  }\n\n  /**\n   * Mimetypes\n   *\n   * @see https://www.iana.org/assignments/media-types/media-types.xhtml\n   * @typedef Mimetypes~Kind\n   * @enum\n   */\n\n  var MimetypesKind = {\n    opus: 'video/ogg',\n    ogv: 'video/ogg',\n    mp4: 'video/mp4',\n    mov: 'video/mp4',\n    m4v: 'video/mp4',\n    mkv: 'video/x-matroska',\n    m4a: 'audio/mp4',\n    mp3: 'audio/mpeg',\n    aac: 'audio/aac',\n    caf: 'audio/x-caf',\n    flac: 'audio/flac',\n    oga: 'audio/ogg',\n    wav: 'audio/wav',\n    m3u8: 'application/x-mpegURL',\n    mpd: 'application/dash+xml',\n    jpg: 'image/jpeg',\n    jpeg: 'image/jpeg',\n    gif: 'image/gif',\n    png: 'image/png',\n    svg: 'image/svg+xml',\n    webp: 'image/webp'\n  };\n  /**\n   * Get the mimetype of a given src url if possible\n   *\n   * @param {string} src\n   *        The url to the src\n   *\n   * @return {string}\n   *         return the mimetype if it was known or empty string otherwise\n   */\n\n  var getMimetype = function getMimetype(src) {\n    if (src === void 0) {\n      src = '';\n    }\n\n    var ext = getFileExtension(src);\n    var mimetype = MimetypesKind[ext.toLowerCase()];\n    return mimetype || '';\n  };\n  /**\n   * Find the mime type of a given source string if possible. Uses the player\n   * source cache.\n   *\n   * @param {Player} player\n   *        The player object\n   *\n   * @param {string} src\n   *        The source string\n   *\n   * @return {string}\n   *         The type that was found\n   */\n\n  var findMimetype = function findMimetype(player, src) {\n    if (!src) {\n      return '';\n    } // 1. check for the type in the `source` cache\n\n\n    if (player.cache_.source.src === src && player.cache_.source.type) {\n      return player.cache_.source.type;\n    } // 2. see if we have this source in our `currentSources` cache\n\n\n    var matchingSources = player.cache_.sources.filter(function (s) {\n      return s.src === src;\n    });\n\n    if (matchingSources.length) {\n      return matchingSources[0].type;\n    } // 3. look for the src url in source elements and use the type there\n\n\n    var sources = player.$$('source');\n\n    for (var i = 0; i < sources.length; i++) {\n      var s = sources[i];\n\n      if (s.type && s.src && s.src === src) {\n        return s.type;\n      }\n    } // 4. finally fallback to our list of mime types based on src url extension\n\n\n    return getMimetype(src);\n  };\n\n  /**\n   * @module filter-source\n   */\n  /**\n   * Filter out single bad source objects or multiple source objects in an\n   * array. Also flattens nested source object arrays into a 1 dimensional\n   * array of source objects.\n   *\n   * @param {Tech~SourceObject|Tech~SourceObject[]} src\n   *        The src object to filter\n   *\n   * @return {Tech~SourceObject[]}\n   *         An array of sourceobjects containing only valid sources\n   *\n   * @private\n   */\n\n  var filterSource = function filterSource(src) {\n    // traverse array\n    if (Array.isArray(src)) {\n      var newsrc = [];\n      src.forEach(function (srcobj) {\n        srcobj = filterSource(srcobj);\n\n        if (Array.isArray(srcobj)) {\n          newsrc = newsrc.concat(srcobj);\n        } else if (isObject(srcobj)) {\n          newsrc.push(srcobj);\n        }\n      });\n      src = newsrc;\n    } else if (typeof src === 'string' && src.trim()) {\n      // convert string into object\n      src = [fixSource({\n        src: src\n      })];\n    } else if (isObject(src) && typeof src.src === 'string' && src.src && src.src.trim()) {\n      // src is already valid\n      src = [fixSource(src)];\n    } else {\n      // invalid source, turn it into an empty array\n      src = [];\n    }\n\n    return src;\n  };\n  /**\n   * Checks src mimetype, adding it when possible\n   *\n   * @param {Tech~SourceObject} src\n   *        The src object to check\n   * @return {Tech~SourceObject}\n   *        src Object with known type\n   */\n\n\n  function fixSource(src) {\n    if (!src.type) {\n      var mimetype = getMimetype(src.src);\n\n      if (mimetype) {\n        src.type = mimetype;\n      }\n    }\n\n    return src;\n  }\n\n  /**\n   * The `MediaLoader` is the `Component` that decides which playback technology to load\n   * when a player is initialized.\n   *\n   * @extends Component\n   */\n\n  var MediaLoader = /*#__PURE__*/function (_Component) {\n    inheritsLoose(MediaLoader, _Component);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should attach to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function that is run when this component is ready.\n     */\n    function MediaLoader(player, options, ready) {\n      var _this;\n\n      // MediaLoader has no element\n      var options_ = mergeOptions({\n        createEl: false\n      }, options);\n      _this = _Component.call(this, player, options_, ready) || this; // If there are no sources when the player is initialized,\n      // load the first supported playback technology.\n\n      if (!options.playerOptions.sources || options.playerOptions.sources.length === 0) {\n        for (var i = 0, j = options.playerOptions.techOrder; i < j.length; i++) {\n          var techName = toTitleCase(j[i]);\n          var tech = Tech.getTech(techName); // Support old behavior of techs being registered as components.\n          // Remove once that deprecated behavior is removed.\n\n          if (!techName) {\n            tech = Component.getComponent(techName);\n          } // Check if the browser supports this technology\n\n\n          if (tech && tech.isSupported()) {\n            player.loadTech_(techName);\n            break;\n          }\n        }\n      } else {\n        // Loop through playback technologies (e.g. HTML5) and check for support.\n        // Then load the best source.\n        // A few assumptions here:\n        //   All playback technologies respect preload false.\n        player.src(options.playerOptions.sources);\n      }\n\n      return _this;\n    }\n\n    return MediaLoader;\n  }(Component);\n\n  Component.registerComponent('MediaLoader', MediaLoader);\n\n  /**\n   * Component which is clickable or keyboard actionable, but is not a\n   * native HTML button.\n   *\n   * @extends Component\n   */\n\n  var ClickableComponent = /*#__PURE__*/function (_Component) {\n    inheritsLoose(ClickableComponent, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param  {Player} player\n     *         The `Player` that this class should be attached to.\n     *\n     * @param  {Object} [options]\n     *         The key/value store of component options.\n     *\n     * @param  {function} [options.clickHandler]\n     *         The function to call when the button is clicked / activated\n     *\n     * @param  {string} [options.controlText]\n     *         The text to set on the button\n     *\n     * @param  {string} [options.className]\n     *         A class or space separated list of classes to add the component\n     *\n     */\n    function ClickableComponent(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n\n      if (_this.options_.controlText) {\n        _this.controlText(_this.options_.controlText);\n      }\n\n      _this.handleMouseOver_ = function (e) {\n        return _this.handleMouseOver(e);\n      };\n\n      _this.handleMouseOut_ = function (e) {\n        return _this.handleMouseOut(e);\n      };\n\n      _this.handleClick_ = function (e) {\n        return _this.handleClick(e);\n      };\n\n      _this.handleKeyDown_ = function (e) {\n        return _this.handleKeyDown(e);\n      };\n\n      _this.emitTapEvents();\n\n      _this.enable();\n\n      return _this;\n    }\n    /**\n     * Create the `ClickableComponent`s DOM element.\n     *\n     * @param {string} [tag=div]\n     *        The element's node type.\n     *\n     * @param {Object} [props={}]\n     *        An object of properties that should be set on the element.\n     *\n     * @param {Object} [attributes={}]\n     *        An object of attributes that should be set on the element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n\n\n    var _proto = ClickableComponent.prototype;\n\n    _proto.createEl = function createEl$1(tag, props, attributes) {\n      if (tag === void 0) {\n        tag = 'div';\n      }\n\n      if (props === void 0) {\n        props = {};\n      }\n\n      if (attributes === void 0) {\n        attributes = {};\n      }\n\n      props = assign({\n        className: this.buildCSSClass(),\n        tabIndex: 0\n      }, props);\n\n      if (tag === 'button') {\n        log.error(\"Creating a ClickableComponent with an HTML element of \" + tag + \" is not supported; use a Button instead.\");\n      } // Add ARIA attributes for clickable element which is not a native HTML button\n\n\n      attributes = assign({\n        role: 'button'\n      }, attributes);\n      this.tabIndex_ = props.tabIndex;\n      var el = createEl(tag, props, attributes);\n      el.appendChild(createEl('span', {\n        className: 'vjs-icon-placeholder'\n      }, {\n        'aria-hidden': true\n      }));\n      this.createControlTextEl(el);\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      // remove controlTextEl_ on dispose\n      this.controlTextEl_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Create a control text element on this `ClickableComponent`\n     *\n     * @param {Element} [el]\n     *        Parent element for the control text.\n     *\n     * @return {Element}\n     *         The control text element that gets created.\n     */\n    ;\n\n    _proto.createControlTextEl = function createControlTextEl(el) {\n      this.controlTextEl_ = createEl('span', {\n        className: 'vjs-control-text'\n      }, {\n        // let the screen reader user know that the text of the element may change\n        'aria-live': 'polite'\n      });\n\n      if (el) {\n        el.appendChild(this.controlTextEl_);\n      }\n\n      this.controlText(this.controlText_, el);\n      return this.controlTextEl_;\n    }\n    /**\n     * Get or set the localize text to use for the controls on the `ClickableComponent`.\n     *\n     * @param {string} [text]\n     *        Control text for element.\n     *\n     * @param {Element} [el=this.el()]\n     *        Element to set the title on.\n     *\n     * @return {string}\n     *         - The control text when getting\n     */\n    ;\n\n    _proto.controlText = function controlText(text, el) {\n      if (el === void 0) {\n        el = this.el();\n      }\n\n      if (text === undefined) {\n        return this.controlText_ || 'Need Text';\n      }\n\n      var localizedText = this.localize(text);\n      this.controlText_ = text;\n      textContent(this.controlTextEl_, localizedText);\n\n      if (!this.nonIconControl && !this.player_.options_.noUITitleAttributes) {\n        // Set title attribute if only an icon is shown\n        el.setAttribute('title', localizedText);\n      }\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-control vjs-button \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Enable this `ClickableComponent`\n     */\n    ;\n\n    _proto.enable = function enable() {\n      if (!this.enabled_) {\n        this.enabled_ = true;\n        this.removeClass('vjs-disabled');\n        this.el_.setAttribute('aria-disabled', 'false');\n\n        if (typeof this.tabIndex_ !== 'undefined') {\n          this.el_.setAttribute('tabIndex', this.tabIndex_);\n        }\n\n        this.on(['tap', 'click'], this.handleClick_);\n        this.on('keydown', this.handleKeyDown_);\n      }\n    }\n    /**\n     * Disable this `ClickableComponent`\n     */\n    ;\n\n    _proto.disable = function disable() {\n      this.enabled_ = false;\n      this.addClass('vjs-disabled');\n      this.el_.setAttribute('aria-disabled', 'true');\n\n      if (typeof this.tabIndex_ !== 'undefined') {\n        this.el_.removeAttribute('tabIndex');\n      }\n\n      this.off('mouseover', this.handleMouseOver_);\n      this.off('mouseout', this.handleMouseOut_);\n      this.off(['tap', 'click'], this.handleClick_);\n      this.off('keydown', this.handleKeyDown_);\n    }\n    /**\n     * Handles language change in ClickableComponent for the player in components\n     *\n     *\n     */\n    ;\n\n    _proto.handleLanguagechange = function handleLanguagechange() {\n      this.controlText(this.controlText_);\n    }\n    /**\n     * Event handler that is called when a `ClickableComponent` receives a\n     * `click` or `tap` event.\n     *\n     * @param {EventTarget~Event} event\n     *        The `tap` or `click` event that caused this function to be called.\n     *\n     * @listens tap\n     * @listens click\n     * @abstract\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      if (this.options_.clickHandler) {\n        this.options_.clickHandler.call(this, arguments);\n      }\n    }\n    /**\n     * Event handler that is called when a `ClickableComponent` receives a\n     * `keydown` event.\n     *\n     * By default, if the key is Space or Enter, it will trigger a `click` event.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Support Space or Enter key operation to fire a click event. Also,\n      // prevent the event from propagating through the DOM and triggering\n      // Player hotkeys.\n      if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.trigger('click');\n      } else {\n        // Pass keypress handling up for unsupported keys\n        _Component.prototype.handleKeyDown.call(this, event);\n      }\n    };\n\n    return ClickableComponent;\n  }(Component);\n\n  Component.registerComponent('ClickableComponent', ClickableComponent);\n\n  /**\n   * A `ClickableComponent` that handles showing the poster image for the player.\n   *\n   * @extends ClickableComponent\n   */\n\n  var PosterImage = /*#__PURE__*/function (_ClickableComponent) {\n    inheritsLoose(PosterImage, _ClickableComponent);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should attach to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function PosterImage(player, options) {\n      var _this;\n\n      _this = _ClickableComponent.call(this, player, options) || this;\n\n      _this.update();\n\n      _this.update_ = function (e) {\n        return _this.update(e);\n      };\n\n      player.on('posterchange', _this.update_);\n      return _this;\n    }\n    /**\n     * Clean up and dispose of the `PosterImage`.\n     */\n\n\n    var _proto = PosterImage.prototype;\n\n    _proto.dispose = function dispose() {\n      this.player().off('posterchange', this.update_);\n\n      _ClickableComponent.prototype.dispose.call(this);\n    }\n    /**\n     * Create the `PosterImage`s DOM element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl$1() {\n      var el = createEl('div', {\n        className: 'vjs-poster',\n        // Don't want poster to be tabbable.\n        tabIndex: -1\n      });\n      return el;\n    }\n    /**\n     * An {@link EventTarget~EventListener} for {@link Player#posterchange} events.\n     *\n     * @listens Player#posterchange\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `Player#posterchange` event that triggered this function.\n     */\n    ;\n\n    _proto.update = function update(event) {\n      var url = this.player().poster();\n      this.setSrc(url); // If there's no poster source we should display:none on this component\n      // so it's not still clickable or right-clickable\n\n      if (url) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }\n    /**\n     * Set the source of the `PosterImage` depending on the display method.\n     *\n     * @param {string} url\n     *        The URL to the source for the `PosterImage`.\n     */\n    ;\n\n    _proto.setSrc = function setSrc(url) {\n      var backgroundImage = ''; // Any falsy value should stay as an empty string, otherwise\n      // this will throw an extra error\n\n      if (url) {\n        backgroundImage = \"url(\\\"\" + url + \"\\\")\";\n      }\n\n      this.el_.style.backgroundImage = backgroundImage;\n    }\n    /**\n     * An {@link EventTarget~EventListener} for clicks on the `PosterImage`. See\n     * {@link ClickableComponent#handleClick} for instances where this will be triggered.\n     *\n     * @listens tap\n     * @listens click\n     * @listens keydown\n     *\n     * @param {EventTarget~Event} event\n     +        The `click`, `tap` or `keydown` event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      // We don't want a click to trigger playback when controls are disabled\n      if (!this.player_.controls()) {\n        return;\n      }\n\n      var sourceIsEncrypted = this.player_.usingPlugin('eme') && this.player_.eme.sessions && this.player_.eme.sessions.length > 0;\n\n      if (this.player_.tech(true) && // We've observed a bug in IE and Edge when playing back DRM content where\n      // calling .focus() on the video element causes the video to go black,\n      // so we avoid it in that specific case\n      !((IE_VERSION || IS_EDGE) && sourceIsEncrypted)) {\n        this.player_.tech(true).focus();\n      }\n\n      if (this.player_.paused()) {\n        silencePromise(this.player_.play());\n      } else {\n        this.player_.pause();\n      }\n    };\n\n    return PosterImage;\n  }(ClickableComponent);\n\n  Component.registerComponent('PosterImage', PosterImage);\n\n  var darkGray = '#222';\n  var lightGray = '#ccc';\n  var fontMap = {\n    monospace: 'monospace',\n    sansSerif: 'sans-serif',\n    serif: 'serif',\n    monospaceSansSerif: '\"Andale Mono\", \"Lucida Console\", monospace',\n    monospaceSerif: '\"Courier New\", monospace',\n    proportionalSansSerif: 'sans-serif',\n    proportionalSerif: 'serif',\n    casual: '\"Comic Sans MS\", Impact, fantasy',\n    script: '\"Monotype Corsiva\", cursive',\n    smallcaps: '\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'\n  };\n  /**\n   * Construct an rgba color from a given hex color code.\n   *\n   * @param {number} color\n   *        Hex number for color, like #f0e or #f604e2.\n   *\n   * @param {number} opacity\n   *        Value for opacity, 0.0 - 1.0.\n   *\n   * @return {string}\n   *         The rgba color that was created, like 'rgba(255, 0, 0, 0.3)'.\n   */\n\n  function constructColor(color, opacity) {\n    var hex;\n\n    if (color.length === 4) {\n      // color looks like \"#f0e\"\n      hex = color[1] + color[1] + color[2] + color[2] + color[3] + color[3];\n    } else if (color.length === 7) {\n      // color looks like \"#f604e2\"\n      hex = color.slice(1);\n    } else {\n      throw new Error('Invalid color code provided, ' + color + '; must be formatted as e.g. #f0e or #f604e2.');\n    }\n\n    return 'rgba(' + parseInt(hex.slice(0, 2), 16) + ',' + parseInt(hex.slice(2, 4), 16) + ',' + parseInt(hex.slice(4, 6), 16) + ',' + opacity + ')';\n  }\n  /**\n   * Try to update the style of a DOM element. Some style changes will throw an error,\n   * particularly in IE8. Those should be noops.\n   *\n   * @param {Element} el\n   *        The DOM element to be styled.\n   *\n   * @param {string} style\n   *        The CSS property on the element that should be styled.\n   *\n   * @param {string} rule\n   *        The style rule that should be applied to the property.\n   *\n   * @private\n   */\n\n  function tryUpdateStyle(el, style, rule) {\n    try {\n      el.style[style] = rule;\n    } catch (e) {\n      // Satisfies linter.\n      return;\n    }\n  }\n  /**\n   * The component for displaying text track cues.\n   *\n   * @extends Component\n   */\n\n\n  var TextTrackDisplay = /*#__PURE__*/function (_Component) {\n    inheritsLoose(TextTrackDisplay, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when `TextTrackDisplay` is ready.\n     */\n    function TextTrackDisplay(player, options, ready) {\n      var _this;\n\n      _this = _Component.call(this, player, options, ready) || this;\n\n      var updateDisplayHandler = function updateDisplayHandler(e) {\n        return _this.updateDisplay(e);\n      };\n\n      player.on('loadstart', function (e) {\n        return _this.toggleDisplay(e);\n      });\n      player.on('texttrackchange', updateDisplayHandler);\n      player.on('loadedmetadata', function (e) {\n        return _this.preselectTrack(e);\n      }); // This used to be called during player init, but was causing an error\n      // if a track should show by default and the display hadn't loaded yet.\n      // Should probably be moved to an external track loader when we support\n      // tracks that don't need a display.\n\n      player.ready(bind(assertThisInitialized(_this), function () {\n        if (player.tech_ && player.tech_.featuresNativeTextTracks) {\n          this.hide();\n          return;\n        }\n\n        player.on('fullscreenchange', updateDisplayHandler);\n        player.on('playerresize', updateDisplayHandler);\n        window.addEventListener('orientationchange', updateDisplayHandler);\n        player.on('dispose', function () {\n          return window.removeEventListener('orientationchange', updateDisplayHandler);\n        });\n        var tracks = this.options_.playerOptions.tracks || [];\n\n        for (var i = 0; i < tracks.length; i++) {\n          this.player_.addRemoteTextTrack(tracks[i], true);\n        }\n\n        this.preselectTrack();\n      }));\n      return _this;\n    }\n    /**\n    * Preselect a track following this precedence:\n    * - matches the previously selected {@link TextTrack}'s language and kind\n    * - matches the previously selected {@link TextTrack}'s language only\n    * - is the first default captions track\n    * - is the first default descriptions track\n    *\n    * @listens Player#loadstart\n    */\n\n\n    var _proto = TextTrackDisplay.prototype;\n\n    _proto.preselectTrack = function preselectTrack() {\n      var modes = {\n        captions: 1,\n        subtitles: 1\n      };\n      var trackList = this.player_.textTracks();\n      var userPref = this.player_.cache_.selectedLanguage;\n      var firstDesc;\n      var firstCaptions;\n      var preferredTrack;\n\n      for (var i = 0; i < trackList.length; i++) {\n        var track = trackList[i];\n\n        if (userPref && userPref.enabled && userPref.language && userPref.language === track.language && track.kind in modes) {\n          // Always choose the track that matches both language and kind\n          if (track.kind === userPref.kind) {\n            preferredTrack = track; // or choose the first track that matches language\n          } else if (!preferredTrack) {\n            preferredTrack = track;\n          } // clear everything if offTextTrackMenuItem was clicked\n\n        } else if (userPref && !userPref.enabled) {\n          preferredTrack = null;\n          firstDesc = null;\n          firstCaptions = null;\n        } else if (track[\"default\"]) {\n          if (track.kind === 'descriptions' && !firstDesc) {\n            firstDesc = track;\n          } else if (track.kind in modes && !firstCaptions) {\n            firstCaptions = track;\n          }\n        }\n      } // The preferredTrack matches the user preference and takes\n      // precedence over all the other tracks.\n      // So, display the preferredTrack before the first default track\n      // and the subtitles/captions track before the descriptions track\n\n\n      if (preferredTrack) {\n        preferredTrack.mode = 'showing';\n      } else if (firstCaptions) {\n        firstCaptions.mode = 'showing';\n      } else if (firstDesc) {\n        firstDesc.mode = 'showing';\n      }\n    }\n    /**\n     * Turn display of {@link TextTrack}'s from the current state into the other state.\n     * There are only two states:\n     * - 'shown'\n     * - 'hidden'\n     *\n     * @listens Player#loadstart\n     */\n    ;\n\n    _proto.toggleDisplay = function toggleDisplay() {\n      if (this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n    /**\n     * Create the {@link Component}'s DOM element.\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-text-track-display'\n      }, {\n        'translate': 'yes',\n        'aria-live': 'off',\n        'aria-atomic': 'true'\n      });\n    }\n    /**\n     * Clear all displayed {@link TextTrack}s.\n     */\n    ;\n\n    _proto.clearDisplay = function clearDisplay() {\n      if (typeof window.WebVTT === 'function') {\n        window.WebVTT.processCues(window, [], this.el_);\n      }\n    }\n    /**\n     * Update the displayed TextTrack when a either a {@link Player#texttrackchange} or\n     * a {@link Player#fullscreenchange} is fired.\n     *\n     * @listens Player#texttrackchange\n     * @listens Player#fullscreenchange\n     */\n    ;\n\n    _proto.updateDisplay = function updateDisplay() {\n      var tracks = this.player_.textTracks();\n      var allowMultipleShowingTracks = this.options_.allowMultipleShowingTracks;\n      this.clearDisplay();\n\n      if (allowMultipleShowingTracks) {\n        var showingTracks = [];\n\n        for (var _i = 0; _i < tracks.length; ++_i) {\n          var track = tracks[_i];\n\n          if (track.mode !== 'showing') {\n            continue;\n          }\n\n          showingTracks.push(track);\n        }\n\n        this.updateForTrack(showingTracks);\n        return;\n      } //  Track display prioritization model: if multiple tracks are 'showing',\n      //  display the first 'subtitles' or 'captions' track which is 'showing',\n      //  otherwise display the first 'descriptions' track which is 'showing'\n\n\n      var descriptionsTrack = null;\n      var captionsSubtitlesTrack = null;\n      var i = tracks.length;\n\n      while (i--) {\n        var _track = tracks[i];\n\n        if (_track.mode === 'showing') {\n          if (_track.kind === 'descriptions') {\n            descriptionsTrack = _track;\n          } else {\n            captionsSubtitlesTrack = _track;\n          }\n        }\n      }\n\n      if (captionsSubtitlesTrack) {\n        if (this.getAttribute('aria-live') !== 'off') {\n          this.setAttribute('aria-live', 'off');\n        }\n\n        this.updateForTrack(captionsSubtitlesTrack);\n      } else if (descriptionsTrack) {\n        if (this.getAttribute('aria-live') !== 'assertive') {\n          this.setAttribute('aria-live', 'assertive');\n        }\n\n        this.updateForTrack(descriptionsTrack);\n      }\n    }\n    /**\n     * Style {@Link TextTrack} activeCues according to {@Link TextTrackSettings}.\n     *\n     * @param {TextTrack} track\n     *        Text track object containing active cues to style.\n     */\n    ;\n\n    _proto.updateDisplayState = function updateDisplayState(track) {\n      var overrides = this.player_.textTrackSettings.getValues();\n      var cues = track.activeCues;\n      var i = cues.length;\n\n      while (i--) {\n        var cue = cues[i];\n\n        if (!cue) {\n          continue;\n        }\n\n        var cueDiv = cue.displayState;\n\n        if (overrides.color) {\n          cueDiv.firstChild.style.color = overrides.color;\n        }\n\n        if (overrides.textOpacity) {\n          tryUpdateStyle(cueDiv.firstChild, 'color', constructColor(overrides.color || '#fff', overrides.textOpacity));\n        }\n\n        if (overrides.backgroundColor) {\n          cueDiv.firstChild.style.backgroundColor = overrides.backgroundColor;\n        }\n\n        if (overrides.backgroundOpacity) {\n          tryUpdateStyle(cueDiv.firstChild, 'backgroundColor', constructColor(overrides.backgroundColor || '#000', overrides.backgroundOpacity));\n        }\n\n        if (overrides.windowColor) {\n          if (overrides.windowOpacity) {\n            tryUpdateStyle(cueDiv, 'backgroundColor', constructColor(overrides.windowColor, overrides.windowOpacity));\n          } else {\n            cueDiv.style.backgroundColor = overrides.windowColor;\n          }\n        }\n\n        if (overrides.edgeStyle) {\n          if (overrides.edgeStyle === 'dropshadow') {\n            cueDiv.firstChild.style.textShadow = \"2px 2px 3px \" + darkGray + \", 2px 2px 4px \" + darkGray + \", 2px 2px 5px \" + darkGray;\n          } else if (overrides.edgeStyle === 'raised') {\n            cueDiv.firstChild.style.textShadow = \"1px 1px \" + darkGray + \", 2px 2px \" + darkGray + \", 3px 3px \" + darkGray;\n          } else if (overrides.edgeStyle === 'depressed') {\n            cueDiv.firstChild.style.textShadow = \"1px 1px \" + lightGray + \", 0 1px \" + lightGray + \", -1px -1px \" + darkGray + \", 0 -1px \" + darkGray;\n          } else if (overrides.edgeStyle === 'uniform') {\n            cueDiv.firstChild.style.textShadow = \"0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray;\n          }\n        }\n\n        if (overrides.fontPercent && overrides.fontPercent !== 1) {\n          var fontSize = window.parseFloat(cueDiv.style.fontSize);\n          cueDiv.style.fontSize = fontSize * overrides.fontPercent + 'px';\n          cueDiv.style.height = 'auto';\n          cueDiv.style.top = 'auto';\n        }\n\n        if (overrides.fontFamily && overrides.fontFamily !== 'default') {\n          if (overrides.fontFamily === 'small-caps') {\n            cueDiv.firstChild.style.fontVariant = 'small-caps';\n          } else {\n            cueDiv.firstChild.style.fontFamily = fontMap[overrides.fontFamily];\n          }\n        }\n      }\n    }\n    /**\n     * Add an {@link TextTrack} to to the {@link Tech}s {@link TextTrackList}.\n     *\n     * @param {TextTrack|TextTrack[]} tracks\n     *        Text track object or text track array to be added to the list.\n     */\n    ;\n\n    _proto.updateForTrack = function updateForTrack(tracks) {\n      if (!Array.isArray(tracks)) {\n        tracks = [tracks];\n      }\n\n      if (typeof window.WebVTT !== 'function' || tracks.every(function (track) {\n        return !track.activeCues;\n      })) {\n        return;\n      }\n\n      var cues = []; // push all active track cues\n\n      for (var i = 0; i < tracks.length; ++i) {\n        var track = tracks[i];\n\n        for (var j = 0; j < track.activeCues.length; ++j) {\n          cues.push(track.activeCues[j]);\n        }\n      } // removes all cues before it processes new ones\n\n\n      window.WebVTT.processCues(window, cues, this.el_); // add unique class to each language text track & add settings styling if necessary\n\n      for (var _i2 = 0; _i2 < tracks.length; ++_i2) {\n        var _track2 = tracks[_i2];\n\n        for (var _j = 0; _j < _track2.activeCues.length; ++_j) {\n          var cueEl = _track2.activeCues[_j].displayState;\n          addClass(cueEl, 'vjs-text-track-cue');\n          addClass(cueEl, 'vjs-text-track-cue-' + (_track2.language ? _track2.language : _i2));\n\n          if (_track2.language) {\n            setAttribute(cueEl, 'lang', _track2.language);\n          }\n        }\n\n        if (this.player_.textTrackSettings) {\n          this.updateDisplayState(_track2);\n        }\n      }\n    };\n\n    return TextTrackDisplay;\n  }(Component);\n\n  Component.registerComponent('TextTrackDisplay', TextTrackDisplay);\n\n  /**\n   * A loading spinner for use during waiting/loading events.\n   *\n   * @extends Component\n   */\n\n  var LoadingSpinner = /*#__PURE__*/function (_Component) {\n    inheritsLoose(LoadingSpinner, _Component);\n\n    function LoadingSpinner() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = LoadingSpinner.prototype;\n\n    /**\n     * Create the `LoadingSpinner`s DOM element.\n     *\n     * @return {Element}\n     *         The dom element that gets created.\n     */\n    _proto.createEl = function createEl$1() {\n      var isAudio = this.player_.isAudio();\n      var playerType = this.localize(isAudio ? 'Audio Player' : 'Video Player');\n      var controlText = createEl('span', {\n        className: 'vjs-control-text',\n        textContent: this.localize('{1} is loading.', [playerType])\n      });\n\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-loading-spinner',\n        dir: 'ltr'\n      });\n\n      el.appendChild(controlText);\n      return el;\n    };\n\n    return LoadingSpinner;\n  }(Component);\n\n  Component.registerComponent('LoadingSpinner', LoadingSpinner);\n\n  /**\n   * Base class for all buttons.\n   *\n   * @extends ClickableComponent\n   */\n\n  var Button = /*#__PURE__*/function (_ClickableComponent) {\n    inheritsLoose(Button, _ClickableComponent);\n\n    function Button() {\n      return _ClickableComponent.apply(this, arguments) || this;\n    }\n\n    var _proto = Button.prototype;\n\n    /**\n     * Create the `Button`s DOM element.\n     *\n     * @param {string} [tag=\"button\"]\n     *        The element's node type. This argument is IGNORED: no matter what\n     *        is passed, it will always create a `button` element.\n     *\n     * @param {Object} [props={}]\n     *        An object of properties that should be set on the element.\n     *\n     * @param {Object} [attributes={}]\n     *        An object of attributes that should be set on the element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    _proto.createEl = function createEl$1(tag, props, attributes) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      if (attributes === void 0) {\n        attributes = {};\n      }\n\n      tag = 'button';\n      props = assign({\n        className: this.buildCSSClass()\n      }, props); // Add attributes for button element\n\n      attributes = assign({\n        // Necessary since the default button type is \"submit\"\n        type: 'button'\n      }, attributes);\n\n      var el = createEl(tag, props, attributes);\n\n      el.appendChild(createEl('span', {\n        className: 'vjs-icon-placeholder'\n      }, {\n        'aria-hidden': true\n      }));\n      this.createControlTextEl(el);\n      return el;\n    }\n    /**\n     * Add a child `Component` inside of this `Button`.\n     *\n     * @param {string|Component} child\n     *        The name or instance of a child to add.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of options that will get passed to children of\n     *        the child.\n     *\n     * @return {Component}\n     *         The `Component` that gets added as a child. When using a string the\n     *         `Component` will get created by this process.\n     *\n     * @deprecated since version 5\n     */\n    ;\n\n    _proto.addChild = function addChild(child, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      var className = this.constructor.name;\n      log.warn(\"Adding an actionable (user controllable) child to a Button (\" + className + \") is not supported; use a ClickableComponent instead.\"); // Avoid the error message generated by ClickableComponent's addChild method\n\n      return Component.prototype.addChild.call(this, child, options);\n    }\n    /**\n     * Enable the `Button` element so that it can be activated or clicked. Use this with\n     * {@link Button#disable}.\n     */\n    ;\n\n    _proto.enable = function enable() {\n      _ClickableComponent.prototype.enable.call(this);\n\n      this.el_.removeAttribute('disabled');\n    }\n    /**\n     * Disable the `Button` element so that it cannot be activated or clicked. Use this with\n     * {@link Button#enable}.\n     */\n    ;\n\n    _proto.disable = function disable() {\n      _ClickableComponent.prototype.disable.call(this);\n\n      this.el_.setAttribute('disabled', 'disabled');\n    }\n    /**\n     * This gets called when a `Button` has focus and `keydown` is triggered via a key\n     * press.\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to get called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Ignore Space or Enter key operation, which is handled by the browser for\n      // a button - though not for its super class, ClickableComponent. Also,\n      // prevent the event from propagating through the DOM and triggering Player\n      // hotkeys. We do not preventDefault here because we _want_ the browser to\n      // handle it.\n      if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n        event.stopPropagation();\n        return;\n      } // Pass keypress handling up for unsupported keys\n\n\n      _ClickableComponent.prototype.handleKeyDown.call(this, event);\n    };\n\n    return Button;\n  }(ClickableComponent);\n\n  Component.registerComponent('Button', Button);\n\n  /**\n   * The initial play button that shows before the video has played. The hiding of the\n   * `BigPlayButton` get done via CSS and `Player` states.\n   *\n   * @extends Button\n   */\n\n  var BigPlayButton = /*#__PURE__*/function (_Button) {\n    inheritsLoose(BigPlayButton, _Button);\n\n    function BigPlayButton(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this;\n      _this.mouseused_ = false;\n\n      _this.on('mousedown', function (e) {\n        return _this.handleMouseDown(e);\n      });\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object. Always returns 'vjs-big-play-button'.\n     */\n\n\n    var _proto = BigPlayButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return 'vjs-big-play-button';\n    }\n    /**\n     * This gets called when a `BigPlayButton` \"clicked\". See {@link ClickableComponent}\n     * for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      var playPromise = this.player_.play(); // exit early if clicked via the mouse\n\n      if (this.mouseused_ && event.clientX && event.clientY) {\n        var sourceIsEncrypted = this.player_.usingPlugin('eme') && this.player_.eme.sessions && this.player_.eme.sessions.length > 0;\n        silencePromise(playPromise);\n\n        if (this.player_.tech(true) && // We've observed a bug in IE and Edge when playing back DRM content where\n        // calling .focus() on the video element causes the video to go black,\n        // so we avoid it in that specific case\n        !((IE_VERSION || IS_EDGE) && sourceIsEncrypted)) {\n          this.player_.tech(true).focus();\n        }\n\n        return;\n      }\n\n      var cb = this.player_.getChild('controlBar');\n      var playToggle = cb && cb.getChild('playToggle');\n\n      if (!playToggle) {\n        this.player_.tech(true).focus();\n        return;\n      }\n\n      var playFocus = function playFocus() {\n        return playToggle.focus();\n      };\n\n      if (isPromise(playPromise)) {\n        playPromise.then(playFocus, function () {});\n      } else {\n        this.setTimeout(playFocus, 1);\n      }\n    };\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      this.mouseused_ = false;\n\n      _Button.prototype.handleKeyDown.call(this, event);\n    };\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      this.mouseused_ = true;\n    };\n\n    return BigPlayButton;\n  }(Button);\n  /**\n   * The text that should display over the `BigPlayButton`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  BigPlayButton.prototype.controlText_ = 'Play Video';\n  Component.registerComponent('BigPlayButton', BigPlayButton);\n\n  /**\n   * The `CloseButton` is a `{@link Button}` that fires a `close` event when\n   * it gets clicked.\n   *\n   * @extends Button\n   */\n\n  var CloseButton = /*#__PURE__*/function (_Button) {\n    inheritsLoose(CloseButton, _Button);\n\n    /**\n    * Creates an instance of the this class.\n    *\n    * @param  {Player} player\n    *         The `Player` that this class should be attached to.\n    *\n    * @param  {Object} [options]\n    *         The key/value store of player options.\n    */\n    function CloseButton(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this;\n\n      _this.controlText(options && options.controlText || _this.localize('Close'));\n\n      return _this;\n    }\n    /**\n    * Builds the default DOM `className`.\n    *\n    * @return {string}\n    *         The DOM `className` for this object.\n    */\n\n\n    var _proto = CloseButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-close-button \" + _Button.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * This gets called when a `CloseButton` gets clicked. See\n     * {@link ClickableComponent#handleClick} for more information on when\n     * this will be triggered\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     * @fires CloseButton#close\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      /**\n       * Triggered when the a `CloseButton` is clicked.\n       *\n       * @event CloseButton#close\n       * @type {EventTarget~Event}\n       *\n       * @property {boolean} [bubbles=false]\n       *           set to false so that the close event does not\n       *           bubble up to parents if there is no listener\n       */\n      this.trigger({\n        type: 'close',\n        bubbles: false\n      });\n    }\n    /**\n     * Event handler that is called when a `CloseButton` receives a\n     * `keydown` event.\n     *\n     * By default, if the key is Esc, it will trigger a `click` event.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Esc button will trigger `click` event\n      if (keycode.isEventKey(event, 'Esc')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.trigger('click');\n      } else {\n        // Pass keypress handling up for unsupported keys\n        _Button.prototype.handleKeyDown.call(this, event);\n      }\n    };\n\n    return CloseButton;\n  }(Button);\n\n  Component.registerComponent('CloseButton', CloseButton);\n\n  /**\n   * Button to toggle between play and pause.\n   *\n   * @extends Button\n   */\n\n  var PlayToggle = /*#__PURE__*/function (_Button) {\n    inheritsLoose(PlayToggle, _Button);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function PlayToggle(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _Button.call(this, player, options) || this; // show or hide replay icon\n\n      options.replay = options.replay === undefined || options.replay;\n\n      _this.on(player, 'play', function (e) {\n        return _this.handlePlay(e);\n      });\n\n      _this.on(player, 'pause', function (e) {\n        return _this.handlePause(e);\n      });\n\n      if (options.replay) {\n        _this.on(player, 'ended', function (e) {\n          return _this.handleEnded(e);\n        });\n      }\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = PlayToggle.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-play-control \" + _Button.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * This gets called when an `PlayToggle` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      if (this.player_.paused()) {\n        silencePromise(this.player_.play());\n      } else {\n        this.player_.pause();\n      }\n    }\n    /**\n     * This gets called once after the video has ended and the user seeks so that\n     * we can change the replay button back to a play button.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#seeked\n     */\n    ;\n\n    _proto.handleSeeked = function handleSeeked(event) {\n      this.removeClass('vjs-ended');\n\n      if (this.player_.paused()) {\n        this.handlePause(event);\n      } else {\n        this.handlePlay(event);\n      }\n    }\n    /**\n     * Add the vjs-playing class to the element so it can change appearance.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#play\n     */\n    ;\n\n    _proto.handlePlay = function handlePlay(event) {\n      this.removeClass('vjs-ended');\n      this.removeClass('vjs-paused');\n      this.addClass('vjs-playing'); // change the button text to \"Pause\"\n\n      this.controlText('Pause');\n    }\n    /**\n     * Add the vjs-paused class to the element so it can change appearance.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#pause\n     */\n    ;\n\n    _proto.handlePause = function handlePause(event) {\n      this.removeClass('vjs-playing');\n      this.addClass('vjs-paused'); // change the button text to \"Play\"\n\n      this.controlText('Play');\n    }\n    /**\n     * Add the vjs-ended class to the element so it can change appearance\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#ended\n     */\n    ;\n\n    _proto.handleEnded = function handleEnded(event) {\n      var _this2 = this;\n\n      this.removeClass('vjs-playing');\n      this.addClass('vjs-ended'); // change the button text to \"Replay\"\n\n      this.controlText('Replay'); // on the next seek remove the replay button\n\n      this.one(this.player_, 'seeked', function (e) {\n        return _this2.handleSeeked(e);\n      });\n    };\n\n    return PlayToggle;\n  }(Button);\n  /**\n   * The text that should display over the `PlayToggle`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  PlayToggle.prototype.controlText_ = 'Play';\n  Component.registerComponent('PlayToggle', PlayToggle);\n\n  /**\n   * @file format-time.js\n   * @module format-time\n   */\n\n  /**\n   * Format seconds as a time string, H:MM:SS or M:SS. Supplying a guide (in\n   * seconds) will force a number of leading zeros to cover the length of the\n   * guide.\n   *\n   * @private\n   * @param  {number} seconds\n   *         Number of seconds to be turned into a string\n   *\n   * @param  {number} guide\n   *         Number (in seconds) to model the string after\n   *\n   * @return {string}\n   *         Time formatted as H:MM:SS or M:SS\n   */\n  var defaultImplementation = function defaultImplementation(seconds, guide) {\n    seconds = seconds < 0 ? 0 : seconds;\n    var s = Math.floor(seconds % 60);\n    var m = Math.floor(seconds / 60 % 60);\n    var h = Math.floor(seconds / 3600);\n    var gm = Math.floor(guide / 60 % 60);\n    var gh = Math.floor(guide / 3600); // handle invalid times\n\n    if (isNaN(seconds) || seconds === Infinity) {\n      // '-' is false for all relational operators (e.g. <, >=) so this setting\n      // will add the minimum number of fields specified by the guide\n      h = m = s = '-';\n    } // Check if we need to show hours\n\n\n    h = h > 0 || gh > 0 ? h + ':' : ''; // If hours are showing, we may need to add a leading zero.\n    // Always show at least one digit of minutes.\n\n    m = ((h || gm >= 10) && m < 10 ? '0' + m : m) + ':'; // Check if leading zero is need for seconds\n\n    s = s < 10 ? '0' + s : s;\n    return h + m + s;\n  }; // Internal pointer to the current implementation.\n\n\n  var implementation = defaultImplementation;\n  /**\n   * Replaces the default formatTime implementation with a custom implementation.\n   *\n   * @param {Function} customImplementation\n   *        A function which will be used in place of the default formatTime\n   *        implementation. Will receive the current time in seconds and the\n   *        guide (in seconds) as arguments.\n   */\n\n  function setFormatTime(customImplementation) {\n    implementation = customImplementation;\n  }\n  /**\n   * Resets formatTime to the default implementation.\n   */\n\n  function resetFormatTime() {\n    implementation = defaultImplementation;\n  }\n  /**\n   * Delegates to either the default time formatting function or a custom\n   * function supplied via `setFormatTime`.\n   *\n   * Formats seconds as a time string (H:MM:SS or M:SS). Supplying a\n   * guide (in seconds) will force a number of leading zeros to cover the\n   * length of the guide.\n   *\n   * @static\n   * @example  formatTime(125, 600) === \"02:05\"\n   * @param    {number} seconds\n   *           Number of seconds to be turned into a string\n   *\n   * @param    {number} guide\n   *           Number (in seconds) to model the string after\n   *\n   * @return   {string}\n   *           Time formatted as H:MM:SS or M:SS\n   */\n\n  function formatTime(seconds, guide) {\n    if (guide === void 0) {\n      guide = seconds;\n    }\n\n    return implementation(seconds, guide);\n  }\n\n  /**\n   * Displays time information about the video\n   *\n   * @extends Component\n   */\n\n  var TimeDisplay = /*#__PURE__*/function (_Component) {\n    inheritsLoose(TimeDisplay, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function TimeDisplay(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n\n      _this.on(player, ['timeupdate', 'ended'], function (e) {\n        return _this.updateContent(e);\n      });\n\n      _this.updateTextNode_();\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = TimeDisplay.prototype;\n\n    _proto.createEl = function createEl$1() {\n      var className = this.buildCSSClass();\n\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: className + \" vjs-time-control vjs-control\"\n      });\n\n      var span = createEl('span', {\n        className: 'vjs-control-text',\n        textContent: this.localize(this.labelText_) + \"\\xA0\"\n      }, {\n        role: 'presentation'\n      });\n      el.appendChild(span);\n      this.contentEl_ = createEl('span', {\n        className: className + \"-display\"\n      }, {\n        // tell screen readers not to automatically read the time as it changes\n        'aria-live': 'off',\n        // span elements have no implicit role, but some screen readers (notably VoiceOver)\n        // treat them as a break between items in the DOM when using arrow keys\n        // (or left-to-right swipes on iOS) to read contents of a page. Using\n        // role='presentation' causes VoiceOver to NOT treat this span as a break.\n        'role': 'presentation'\n      });\n      el.appendChild(this.contentEl_);\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      this.contentEl_ = null;\n      this.textNode_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Updates the time display text node with a new time\n     *\n     * @param {number} [time=0] the time to update to\n     *\n     * @private\n     */\n    ;\n\n    _proto.updateTextNode_ = function updateTextNode_(time) {\n      var _this2 = this;\n\n      if (time === void 0) {\n        time = 0;\n      }\n\n      time = formatTime(time);\n\n      if (this.formattedTime_ === time) {\n        return;\n      }\n\n      this.formattedTime_ = time;\n      this.requestNamedAnimationFrame('TimeDisplay#updateTextNode_', function () {\n        if (!_this2.contentEl_) {\n          return;\n        }\n\n        var oldNode = _this2.textNode_;\n\n        if (oldNode && _this2.contentEl_.firstChild !== oldNode) {\n          oldNode = null;\n          log.warn('TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.');\n        }\n\n        _this2.textNode_ = document.createTextNode(_this2.formattedTime_);\n\n        if (!_this2.textNode_) {\n          return;\n        }\n\n        if (oldNode) {\n          _this2.contentEl_.replaceChild(_this2.textNode_, oldNode);\n        } else {\n          _this2.contentEl_.appendChild(_this2.textNode_);\n        }\n      });\n    }\n    /**\n     * To be filled out in the child class, should update the displayed time\n     * in accordance with the fact that the current time has changed.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `timeupdate`  event that caused this to run.\n     *\n     * @listens Player#timeupdate\n     */\n    ;\n\n    _proto.updateContent = function updateContent(event) {};\n\n    return TimeDisplay;\n  }(Component);\n  /**\n   * The text that is added to the `TimeDisplay` for screen reader users.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  TimeDisplay.prototype.labelText_ = 'Time';\n  /**\n   * The text that should display over the `TimeDisplay`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   *\n   * @deprecated in v7; controlText_ is not used in non-active display Components\n   */\n\n  TimeDisplay.prototype.controlText_ = 'Time';\n  Component.registerComponent('TimeDisplay', TimeDisplay);\n\n  /**\n   * Displays the current time\n   *\n   * @extends Component\n   */\n\n  var CurrentTimeDisplay = /*#__PURE__*/function (_TimeDisplay) {\n    inheritsLoose(CurrentTimeDisplay, _TimeDisplay);\n\n    function CurrentTimeDisplay() {\n      return _TimeDisplay.apply(this, arguments) || this;\n    }\n\n    var _proto = CurrentTimeDisplay.prototype;\n\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    _proto.buildCSSClass = function buildCSSClass() {\n      return 'vjs-current-time';\n    }\n    /**\n     * Update current time display\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `timeupdate` event that caused this function to run.\n     *\n     * @listens Player#timeupdate\n     */\n    ;\n\n    _proto.updateContent = function updateContent(event) {\n      // Allows for smooth scrubbing, when player can't keep up.\n      var time;\n\n      if (this.player_.ended()) {\n        time = this.player_.duration();\n      } else {\n        time = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n      }\n\n      this.updateTextNode_(time);\n    };\n\n    return CurrentTimeDisplay;\n  }(TimeDisplay);\n  /**\n   * The text that is added to the `CurrentTimeDisplay` for screen reader users.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  CurrentTimeDisplay.prototype.labelText_ = 'Current Time';\n  /**\n   * The text that should display over the `CurrentTimeDisplay`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   *\n   * @deprecated in v7; controlText_ is not used in non-active display Components\n   */\n\n  CurrentTimeDisplay.prototype.controlText_ = 'Current Time';\n  Component.registerComponent('CurrentTimeDisplay', CurrentTimeDisplay);\n\n  /**\n   * Displays the duration\n   *\n   * @extends Component\n   */\n\n  var DurationDisplay = /*#__PURE__*/function (_TimeDisplay) {\n    inheritsLoose(DurationDisplay, _TimeDisplay);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function DurationDisplay(player, options) {\n      var _this;\n\n      _this = _TimeDisplay.call(this, player, options) || this;\n\n      var updateContent = function updateContent(e) {\n        return _this.updateContent(e);\n      }; // we do not want to/need to throttle duration changes,\n      // as they should always display the changed duration as\n      // it has changed\n\n\n      _this.on(player, 'durationchange', updateContent); // Listen to loadstart because the player duration is reset when a new media element is loaded,\n      // but the durationchange on the user agent will not fire.\n      // @see [Spec]{@link https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-element-load-algorithm}\n\n\n      _this.on(player, 'loadstart', updateContent); // Also listen for timeupdate (in the parent) and loadedmetadata because removing those\n      // listeners could have broken dependent applications/libraries. These\n      // can likely be removed for 7.0.\n\n\n      _this.on(player, 'loadedmetadata', updateContent);\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = DurationDisplay.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return 'vjs-duration';\n    }\n    /**\n     * Update duration time display.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `durationchange`, `timeupdate`, or `loadedmetadata` event that caused\n     *        this function to be called.\n     *\n     * @listens Player#durationchange\n     * @listens Player#timeupdate\n     * @listens Player#loadedmetadata\n     */\n    ;\n\n    _proto.updateContent = function updateContent(event) {\n      var duration = this.player_.duration();\n      this.updateTextNode_(duration);\n    };\n\n    return DurationDisplay;\n  }(TimeDisplay);\n  /**\n   * The text that is added to the `DurationDisplay` for screen reader users.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  DurationDisplay.prototype.labelText_ = 'Duration';\n  /**\n   * The text that should display over the `DurationDisplay`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   *\n   * @deprecated in v7; controlText_ is not used in non-active display Components\n   */\n\n  DurationDisplay.prototype.controlText_ = 'Duration';\n  Component.registerComponent('DurationDisplay', DurationDisplay);\n\n  /**\n   * The separator between the current time and duration.\n   * Can be hidden if it's not needed in the design.\n   *\n   * @extends Component\n   */\n\n  var TimeDivider = /*#__PURE__*/function (_Component) {\n    inheritsLoose(TimeDivider, _Component);\n\n    function TimeDivider() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = TimeDivider.prototype;\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    _proto.createEl = function createEl() {\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-time-control vjs-time-divider'\n      }, {\n        // this element and its contents can be hidden from assistive techs since\n        // it is made extraneous by the announcement of the control text\n        // for the current time and duration displays\n        'aria-hidden': true\n      });\n\n      var div = _Component.prototype.createEl.call(this, 'div');\n\n      var span = _Component.prototype.createEl.call(this, 'span', {\n        textContent: '/'\n      });\n\n      div.appendChild(span);\n      el.appendChild(div);\n      return el;\n    };\n\n    return TimeDivider;\n  }(Component);\n\n  Component.registerComponent('TimeDivider', TimeDivider);\n\n  /**\n   * Displays the time left in the video\n   *\n   * @extends Component\n   */\n\n  var RemainingTimeDisplay = /*#__PURE__*/function (_TimeDisplay) {\n    inheritsLoose(RemainingTimeDisplay, _TimeDisplay);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function RemainingTimeDisplay(player, options) {\n      var _this;\n\n      _this = _TimeDisplay.call(this, player, options) || this;\n\n      _this.on(player, 'durationchange', function (e) {\n        return _this.updateContent(e);\n      });\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = RemainingTimeDisplay.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return 'vjs-remaining-time';\n    }\n    /**\n     * Create the `Component`'s DOM element with the \"minus\" characted prepend to the time\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl$1() {\n      var el = _TimeDisplay.prototype.createEl.call(this);\n\n      if (this.options_.displayNegative !== false) {\n        el.insertBefore(createEl('span', {}, {\n          'aria-hidden': true\n        }, '-'), this.contentEl_);\n      }\n\n      return el;\n    }\n    /**\n     * Update remaining time display.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `timeupdate` or `durationchange` event that caused this to run.\n     *\n     * @listens Player#timeupdate\n     * @listens Player#durationchange\n     */\n    ;\n\n    _proto.updateContent = function updateContent(event) {\n      if (typeof this.player_.duration() !== 'number') {\n        return;\n      }\n\n      var time; // @deprecated We should only use remainingTimeDisplay\n      // as of video.js 7\n\n      if (this.player_.ended()) {\n        time = 0;\n      } else if (this.player_.remainingTimeDisplay) {\n        time = this.player_.remainingTimeDisplay();\n      } else {\n        time = this.player_.remainingTime();\n      }\n\n      this.updateTextNode_(time);\n    };\n\n    return RemainingTimeDisplay;\n  }(TimeDisplay);\n  /**\n   * The text that is added to the `RemainingTimeDisplay` for screen reader users.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  RemainingTimeDisplay.prototype.labelText_ = 'Remaining Time';\n  /**\n   * The text that should display over the `RemainingTimeDisplay`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   *\n   * @deprecated in v7; controlText_ is not used in non-active display Components\n   */\n\n  RemainingTimeDisplay.prototype.controlText_ = 'Remaining Time';\n  Component.registerComponent('RemainingTimeDisplay', RemainingTimeDisplay);\n\n  /**\n   * Displays the live indicator when duration is Infinity.\n   *\n   * @extends Component\n   */\n\n  var LiveDisplay = /*#__PURE__*/function (_Component) {\n    inheritsLoose(LiveDisplay, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function LiveDisplay(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n\n      _this.updateShowing();\n\n      _this.on(_this.player(), 'durationchange', function (e) {\n        return _this.updateShowing(e);\n      });\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = LiveDisplay.prototype;\n\n    _proto.createEl = function createEl$1() {\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-live-control vjs-control'\n      });\n\n      this.contentEl_ = createEl('div', {\n        className: 'vjs-live-display'\n      }, {\n        'aria-live': 'off'\n      });\n      this.contentEl_.appendChild(createEl('span', {\n        className: 'vjs-control-text',\n        textContent: this.localize('Stream Type') + \"\\xA0\"\n      }));\n      this.contentEl_.appendChild(document.createTextNode(this.localize('LIVE')));\n      el.appendChild(this.contentEl_);\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      this.contentEl_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Check the duration to see if the LiveDisplay should be showing or not. Then show/hide\n     * it accordingly\n     *\n     * @param {EventTarget~Event} [event]\n     *        The {@link Player#durationchange} event that caused this function to run.\n     *\n     * @listens Player#durationchange\n     */\n    ;\n\n    _proto.updateShowing = function updateShowing(event) {\n      if (this.player().duration() === Infinity) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    };\n\n    return LiveDisplay;\n  }(Component);\n\n  Component.registerComponent('LiveDisplay', LiveDisplay);\n\n  /**\n   * Displays the live indicator when duration is Infinity.\n   *\n   * @extends Component\n   */\n\n  var SeekToLive = /*#__PURE__*/function (_Button) {\n    inheritsLoose(SeekToLive, _Button);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function SeekToLive(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this;\n\n      _this.updateLiveEdgeStatus();\n\n      if (_this.player_.liveTracker) {\n        _this.updateLiveEdgeStatusHandler_ = function (e) {\n          return _this.updateLiveEdgeStatus(e);\n        };\n\n        _this.on(_this.player_.liveTracker, 'liveedgechange', _this.updateLiveEdgeStatusHandler_);\n      }\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = SeekToLive.prototype;\n\n    _proto.createEl = function createEl$1() {\n      var el = _Button.prototype.createEl.call(this, 'button', {\n        className: 'vjs-seek-to-live-control vjs-control'\n      });\n\n      this.textEl_ = createEl('span', {\n        className: 'vjs-seek-to-live-text',\n        textContent: this.localize('LIVE')\n      }, {\n        'aria-hidden': 'true'\n      });\n      el.appendChild(this.textEl_);\n      return el;\n    }\n    /**\n     * Update the state of this button if we are at the live edge\n     * or not\n     */\n    ;\n\n    _proto.updateLiveEdgeStatus = function updateLiveEdgeStatus() {\n      // default to live edge\n      if (!this.player_.liveTracker || this.player_.liveTracker.atLiveEdge()) {\n        this.setAttribute('aria-disabled', true);\n        this.addClass('vjs-at-live-edge');\n        this.controlText('Seek to live, currently playing live');\n      } else {\n        this.setAttribute('aria-disabled', false);\n        this.removeClass('vjs-at-live-edge');\n        this.controlText('Seek to live, currently behind live');\n      }\n    }\n    /**\n     * On click bring us as near to the live point as possible.\n     * This requires that we wait for the next `live-seekable-change`\n     * event which will happen every segment length seconds.\n     */\n    ;\n\n    _proto.handleClick = function handleClick() {\n      this.player_.liveTracker.seekToLiveEdge();\n    }\n    /**\n     * Dispose of the element and stop tracking\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      if (this.player_.liveTracker) {\n        this.off(this.player_.liveTracker, 'liveedgechange', this.updateLiveEdgeStatusHandler_);\n      }\n\n      this.textEl_ = null;\n\n      _Button.prototype.dispose.call(this);\n    };\n\n    return SeekToLive;\n  }(Button);\n\n  SeekToLive.prototype.controlText_ = 'Seek to live, currently playing live';\n  Component.registerComponent('SeekToLive', SeekToLive);\n\n  /**\n   * Keep a number between a min and a max value\n   *\n   * @param {number} number\n   *        The number to clamp\n   *\n   * @param {number} min\n   *        The minimum value\n   * @param {number} max\n   *        The maximum value\n   *\n   * @return {number}\n   *         the clamped number\n   */\n  var clamp = function clamp(number, min, max) {\n    number = Number(number);\n    return Math.min(max, Math.max(min, isNaN(number) ? min : number));\n  };\n\n  /**\n   * The base functionality for a slider. Can be vertical or horizontal.\n   * For instance the volume bar or the seek bar on a video is a slider.\n   *\n   * @extends Component\n   */\n\n  var Slider = /*#__PURE__*/function (_Component) {\n    inheritsLoose(Slider, _Component);\n\n    /**\n    * Create an instance of this class\n    *\n    * @param {Player} player\n    *        The `Player` that this class should be attached to.\n    *\n    * @param {Object} [options]\n    *        The key/value store of player options.\n    */\n    function Slider(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n\n      _this.handleMouseDown_ = function (e) {\n        return _this.handleMouseDown(e);\n      };\n\n      _this.handleMouseUp_ = function (e) {\n        return _this.handleMouseUp(e);\n      };\n\n      _this.handleKeyDown_ = function (e) {\n        return _this.handleKeyDown(e);\n      };\n\n      _this.handleClick_ = function (e) {\n        return _this.handleClick(e);\n      };\n\n      _this.handleMouseMove_ = function (e) {\n        return _this.handleMouseMove(e);\n      };\n\n      _this.update_ = function (e) {\n        return _this.update(e);\n      }; // Set property names to bar to match with the child Slider class is looking for\n\n\n      _this.bar = _this.getChild(_this.options_.barName); // Set a horizontal or vertical class on the slider depending on the slider type\n\n      _this.vertical(!!_this.options_.vertical);\n\n      _this.enable();\n\n      return _this;\n    }\n    /**\n     * Are controls are currently enabled for this slider or not.\n     *\n     * @return {boolean}\n     *         true if controls are enabled, false otherwise\n     */\n\n\n    var _proto = Slider.prototype;\n\n    _proto.enabled = function enabled() {\n      return this.enabled_;\n    }\n    /**\n     * Enable controls for this slider if they are disabled\n     */\n    ;\n\n    _proto.enable = function enable() {\n      if (this.enabled()) {\n        return;\n      }\n\n      this.on('mousedown', this.handleMouseDown_);\n      this.on('touchstart', this.handleMouseDown_);\n      this.on('keydown', this.handleKeyDown_);\n      this.on('click', this.handleClick_); // TODO: deprecated, controlsvisible does not seem to be fired\n\n      this.on(this.player_, 'controlsvisible', this.update);\n\n      if (this.playerEvent) {\n        this.on(this.player_, this.playerEvent, this.update);\n      }\n\n      this.removeClass('disabled');\n      this.setAttribute('tabindex', 0);\n      this.enabled_ = true;\n    }\n    /**\n     * Disable controls for this slider if they are enabled\n     */\n    ;\n\n    _proto.disable = function disable() {\n      if (!this.enabled()) {\n        return;\n      }\n\n      var doc = this.bar.el_.ownerDocument;\n      this.off('mousedown', this.handleMouseDown_);\n      this.off('touchstart', this.handleMouseDown_);\n      this.off('keydown', this.handleKeyDown_);\n      this.off('click', this.handleClick_);\n      this.off(this.player_, 'controlsvisible', this.update_);\n      this.off(doc, 'mousemove', this.handleMouseMove_);\n      this.off(doc, 'mouseup', this.handleMouseUp_);\n      this.off(doc, 'touchmove', this.handleMouseMove_);\n      this.off(doc, 'touchend', this.handleMouseUp_);\n      this.removeAttribute('tabindex');\n      this.addClass('disabled');\n\n      if (this.playerEvent) {\n        this.off(this.player_, this.playerEvent, this.update);\n      }\n\n      this.enabled_ = false;\n    }\n    /**\n     * Create the `Slider`s DOM element.\n     *\n     * @param {string} type\n     *        Type of element to create.\n     *\n     * @param {Object} [props={}]\n     *        List of properties in Object form.\n     *\n     * @param {Object} [attributes={}]\n     *        list of attributes in Object form.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl(type, props, attributes) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      if (attributes === void 0) {\n        attributes = {};\n      }\n\n      // Add the slider element class to all sub classes\n      props.className = props.className + ' vjs-slider';\n      props = assign({\n        tabIndex: 0\n      }, props);\n      attributes = assign({\n        'role': 'slider',\n        'aria-valuenow': 0,\n        'aria-valuemin': 0,\n        'aria-valuemax': 100,\n        'tabIndex': 0\n      }, attributes);\n      return _Component.prototype.createEl.call(this, type, props, attributes);\n    }\n    /**\n     * Handle `mousedown` or `touchstart` events on the `Slider`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousedown\n     * @listens touchstart\n     * @fires Slider#slideractive\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      var doc = this.bar.el_.ownerDocument;\n\n      if (event.type === 'mousedown') {\n        event.preventDefault();\n      } // Do not call preventDefault() on touchstart in Chrome\n      // to avoid console warnings. Use a 'touch-action: none' style\n      // instead to prevent unintented scrolling.\n      // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n\n\n      if (event.type === 'touchstart' && !IS_CHROME) {\n        event.preventDefault();\n      }\n\n      blockTextSelection();\n      this.addClass('vjs-sliding');\n      /**\n       * Triggered when the slider is in an active state\n       *\n       * @event Slider#slideractive\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('slideractive');\n      this.on(doc, 'mousemove', this.handleMouseMove_);\n      this.on(doc, 'mouseup', this.handleMouseUp_);\n      this.on(doc, 'touchmove', this.handleMouseMove_);\n      this.on(doc, 'touchend', this.handleMouseUp_);\n      this.handleMouseMove(event, true);\n    }\n    /**\n     * Handle the `mousemove`, `touchmove`, and `mousedown` events on this `Slider`.\n     * The `mousemove` and `touchmove` events will only only trigger this function during\n     * `mousedown` and `touchstart`. This is due to {@link Slider#handleMouseDown} and\n     * {@link Slider#handleMouseUp}.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown`, `mousemove`, `touchstart`, or `touchmove` event that triggered\n     *        this function\n     * @param {boolean} mouseDown this is a flag that should be set to true if `handleMouseMove` is called directly. It allows us to skip things that should not happen if coming from mouse down but should happen on regular mouse move handler. Defaults to false.\n     *\n     * @listens mousemove\n     * @listens touchmove\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event) {}\n    /**\n     * Handle `mouseup` or `touchend` events on the `Slider`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mouseup` or `touchend` event that triggered this function.\n     *\n     * @listens touchend\n     * @listens mouseup\n     * @fires Slider#sliderinactive\n     */\n    ;\n\n    _proto.handleMouseUp = function handleMouseUp() {\n      var doc = this.bar.el_.ownerDocument;\n      unblockTextSelection();\n      this.removeClass('vjs-sliding');\n      /**\n       * Triggered when the slider is no longer in an active state.\n       *\n       * @event Slider#sliderinactive\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('sliderinactive');\n      this.off(doc, 'mousemove', this.handleMouseMove_);\n      this.off(doc, 'mouseup', this.handleMouseUp_);\n      this.off(doc, 'touchmove', this.handleMouseMove_);\n      this.off(doc, 'touchend', this.handleMouseUp_);\n      this.update();\n    }\n    /**\n     * Update the progress bar of the `Slider`.\n     *\n     * @return {number}\n     *          The percentage of progress the progress bar represents as a\n     *          number from 0 to 1.\n     */\n    ;\n\n    _proto.update = function update() {\n      var _this2 = this;\n\n      // In VolumeBar init we have a setTimeout for update that pops and update\n      // to the end of the execution stack. The player is destroyed before then\n      // update will cause an error\n      // If there's no bar...\n      if (!this.el_ || !this.bar) {\n        return;\n      } // clamp progress between 0 and 1\n      // and only round to four decimal places, as we round to two below\n\n\n      var progress = this.getProgress();\n\n      if (progress === this.progress_) {\n        return progress;\n      }\n\n      this.progress_ = progress;\n      this.requestNamedAnimationFrame('Slider#update', function () {\n        // Set the new bar width or height\n        var sizeKey = _this2.vertical() ? 'height' : 'width'; // Convert to a percentage for css value\n\n        _this2.bar.el().style[sizeKey] = (progress * 100).toFixed(2) + '%';\n      });\n      return progress;\n    }\n    /**\n     * Get the percentage of the bar that should be filled\n     * but clamped and rounded.\n     *\n     * @return {number}\n     *         percentage filled that the slider is\n     */\n    ;\n\n    _proto.getProgress = function getProgress() {\n      return Number(clamp(this.getPercent(), 0, 1).toFixed(4));\n    }\n    /**\n     * Calculate distance for slider\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to run.\n     *\n     * @return {number}\n     *         The current position of the Slider.\n     *         - position.x for vertical `Slider`s\n     *         - position.y for horizontal `Slider`s\n     */\n    ;\n\n    _proto.calculateDistance = function calculateDistance(event) {\n      var position = getPointerPosition(this.el_, event);\n\n      if (this.vertical()) {\n        return position.y;\n      }\n\n      return position.x;\n    }\n    /**\n     * Handle a `keydown` event on the `Slider`. Watches for left, rigth, up, and down\n     * arrow keys. This function will only be called when the slider has focus. See\n     * {@link Slider#handleFocus} and {@link Slider#handleBlur}.\n     *\n     * @param {EventTarget~Event} event\n     *        the `keydown` event that caused this function to run.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Left and Down Arrows\n      if (keycode.isEventKey(event, 'Left') || keycode.isEventKey(event, 'Down')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.stepBack(); // Up and Right Arrows\n      } else if (keycode.isEventKey(event, 'Right') || keycode.isEventKey(event, 'Up')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.stepForward();\n      } else {\n        // Pass keydown handling up for unsupported keys\n        _Component.prototype.handleKeyDown.call(this, event);\n      }\n    }\n    /**\n     * Listener for click events on slider, used to prevent clicks\n     *   from bubbling up to parent elements like button menus.\n     *\n     * @param {Object} event\n     *        Event that caused this object to run\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    /**\n     * Get/set if slider is horizontal for vertical\n     *\n     * @param {boolean} [bool]\n     *        - true if slider is vertical,\n     *        - false is horizontal\n     *\n     * @return {boolean}\n     *         - true if slider is vertical, and getting\n     *         - false if the slider is horizontal, and getting\n     */\n    ;\n\n    _proto.vertical = function vertical(bool) {\n      if (bool === undefined) {\n        return this.vertical_ || false;\n      }\n\n      this.vertical_ = !!bool;\n\n      if (this.vertical_) {\n        this.addClass('vjs-slider-vertical');\n      } else {\n        this.addClass('vjs-slider-horizontal');\n      }\n    };\n\n    return Slider;\n  }(Component);\n\n  Component.registerComponent('Slider', Slider);\n\n  var percentify = function percentify(time, end) {\n    return clamp(time / end * 100, 0, 100).toFixed(2) + '%';\n  };\n  /**\n   * Shows loading progress\n   *\n   * @extends Component\n   */\n\n\n  var LoadProgressBar = /*#__PURE__*/function (_Component) {\n    inheritsLoose(LoadProgressBar, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function LoadProgressBar(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.partEls_ = [];\n\n      _this.on(player, 'progress', function (e) {\n        return _this.update(e);\n      });\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = LoadProgressBar.prototype;\n\n    _proto.createEl = function createEl$1() {\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-load-progress'\n      });\n\n      var wrapper = createEl('span', {\n        className: 'vjs-control-text'\n      });\n      var loadedText = createEl('span', {\n        textContent: this.localize('Loaded')\n      });\n      var separator = document.createTextNode(': ');\n      this.percentageEl_ = createEl('span', {\n        className: 'vjs-control-text-loaded-percentage',\n        textContent: '0%'\n      });\n      el.appendChild(wrapper);\n      wrapper.appendChild(loadedText);\n      wrapper.appendChild(separator);\n      wrapper.appendChild(this.percentageEl_);\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      this.partEls_ = null;\n      this.percentageEl_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Update progress bar\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `progress` event that caused this function to run.\n     *\n     * @listens Player#progress\n     */\n    ;\n\n    _proto.update = function update(event) {\n      var _this2 = this;\n\n      this.requestNamedAnimationFrame('LoadProgressBar#update', function () {\n        var liveTracker = _this2.player_.liveTracker;\n\n        var buffered = _this2.player_.buffered();\n\n        var duration = liveTracker && liveTracker.isLive() ? liveTracker.seekableEnd() : _this2.player_.duration();\n\n        var bufferedEnd = _this2.player_.bufferedEnd();\n\n        var children = _this2.partEls_;\n        var percent = percentify(bufferedEnd, duration);\n\n        if (_this2.percent_ !== percent) {\n          // update the width of the progress bar\n          _this2.el_.style.width = percent; // update the control-text\n\n          textContent(_this2.percentageEl_, percent);\n          _this2.percent_ = percent;\n        } // add child elements to represent the individual buffered time ranges\n\n\n        for (var i = 0; i < buffered.length; i++) {\n          var start = buffered.start(i);\n          var end = buffered.end(i);\n          var part = children[i];\n\n          if (!part) {\n            part = _this2.el_.appendChild(createEl());\n            children[i] = part;\n          } //  only update if changed\n\n\n          if (part.dataset.start === start && part.dataset.end === end) {\n            continue;\n          }\n\n          part.dataset.start = start;\n          part.dataset.end = end; // set the percent based on the width of the progress bar (bufferedEnd)\n\n          part.style.left = percentify(start, bufferedEnd);\n          part.style.width = percentify(end - start, bufferedEnd);\n        } // remove unused buffered range elements\n\n\n        for (var _i = children.length; _i > buffered.length; _i--) {\n          _this2.el_.removeChild(children[_i - 1]);\n        }\n\n        children.length = buffered.length;\n      });\n    };\n\n    return LoadProgressBar;\n  }(Component);\n\n  Component.registerComponent('LoadProgressBar', LoadProgressBar);\n\n  /**\n   * Time tooltips display a time above the progress bar.\n   *\n   * @extends Component\n   */\n\n  var TimeTooltip = /*#__PURE__*/function (_Component) {\n    inheritsLoose(TimeTooltip, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The {@link Player} that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function TimeTooltip(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.update = throttle(bind(assertThisInitialized(_this), _this.update), UPDATE_REFRESH_INTERVAL);\n      return _this;\n    }\n    /**\n     * Create the time tooltip DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = TimeTooltip.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-time-tooltip'\n      }, {\n        'aria-hidden': 'true'\n      });\n    }\n    /**\n     * Updates the position of the time tooltip relative to the `SeekBar`.\n     *\n     * @param {Object} seekBarRect\n     *        The `ClientRect` for the {@link SeekBar} element.\n     *\n     * @param {number} seekBarPoint\n     *        A number from 0 to 1, representing a horizontal reference point\n     *        from the left edge of the {@link SeekBar}\n     */\n    ;\n\n    _proto.update = function update(seekBarRect, seekBarPoint, content) {\n      var tooltipRect = findPosition(this.el_);\n      var playerRect = getBoundingClientRect(this.player_.el());\n      var seekBarPointPx = seekBarRect.width * seekBarPoint; // do nothing if either rect isn't available\n      // for example, if the player isn't in the DOM for testing\n\n      if (!playerRect || !tooltipRect) {\n        return;\n      } // This is the space left of the `seekBarPoint` available within the bounds\n      // of the player. We calculate any gap between the left edge of the player\n      // and the left edge of the `SeekBar` and add the number of pixels in the\n      // `SeekBar` before hitting the `seekBarPoint`\n\n\n      var spaceLeftOfPoint = seekBarRect.left - playerRect.left + seekBarPointPx; // This is the space right of the `seekBarPoint` available within the bounds\n      // of the player. We calculate the number of pixels from the `seekBarPoint`\n      // to the right edge of the `SeekBar` and add to that any gap between the\n      // right edge of the `SeekBar` and the player.\n\n      var spaceRightOfPoint = seekBarRect.width - seekBarPointPx + (playerRect.right - seekBarRect.right); // This is the number of pixels by which the tooltip will need to be pulled\n      // further to the right to center it over the `seekBarPoint`.\n\n      var pullTooltipBy = tooltipRect.width / 2; // Adjust the `pullTooltipBy` distance to the left or right depending on\n      // the results of the space calculations above.\n\n      if (spaceLeftOfPoint < pullTooltipBy) {\n        pullTooltipBy += pullTooltipBy - spaceLeftOfPoint;\n      } else if (spaceRightOfPoint < pullTooltipBy) {\n        pullTooltipBy = spaceRightOfPoint;\n      } // Due to the imprecision of decimal/ratio based calculations and varying\n      // rounding behaviors, there are cases where the spacing adjustment is off\n      // by a pixel or two. This adds insurance to these calculations.\n\n\n      if (pullTooltipBy < 0) {\n        pullTooltipBy = 0;\n      } else if (pullTooltipBy > tooltipRect.width) {\n        pullTooltipBy = tooltipRect.width;\n      } // prevent small width fluctuations within 0.4px from\n      // changing the value below.\n      // This really helps for live to prevent the play\n      // progress time tooltip from jittering\n\n\n      pullTooltipBy = Math.round(pullTooltipBy);\n      this.el_.style.right = \"-\" + pullTooltipBy + \"px\";\n      this.write(content);\n    }\n    /**\n     * Write the time to the tooltip DOM element.\n     *\n     * @param {string} content\n     *        The formatted time for the tooltip.\n     */\n    ;\n\n    _proto.write = function write(content) {\n      textContent(this.el_, content);\n    }\n    /**\n     * Updates the position of the time tooltip relative to the `SeekBar`.\n     *\n     * @param {Object} seekBarRect\n     *        The `ClientRect` for the {@link SeekBar} element.\n     *\n     * @param {number} seekBarPoint\n     *        A number from 0 to 1, representing a horizontal reference point\n     *        from the left edge of the {@link SeekBar}\n     *\n     * @param {number} time\n     *        The time to update the tooltip to, not used during live playback\n     *\n     * @param {Function} cb\n     *        A function that will be called during the request animation frame\n     *        for tooltips that need to do additional animations from the default\n     */\n    ;\n\n    _proto.updateTime = function updateTime(seekBarRect, seekBarPoint, time, cb) {\n      var _this2 = this;\n\n      this.requestNamedAnimationFrame('TimeTooltip#updateTime', function () {\n        var content;\n\n        var duration = _this2.player_.duration();\n\n        if (_this2.player_.liveTracker && _this2.player_.liveTracker.isLive()) {\n          var liveWindow = _this2.player_.liveTracker.liveWindow();\n\n          var secondsBehind = liveWindow - seekBarPoint * liveWindow;\n          content = (secondsBehind < 1 ? '' : '-') + formatTime(secondsBehind, liveWindow);\n        } else {\n          content = formatTime(time, duration);\n        }\n\n        _this2.update(seekBarRect, seekBarPoint, content);\n\n        if (cb) {\n          cb();\n        }\n      });\n    };\n\n    return TimeTooltip;\n  }(Component);\n\n  Component.registerComponent('TimeTooltip', TimeTooltip);\n\n  /**\n   * Used by {@link SeekBar} to display media playback progress as part of the\n   * {@link ProgressControl}.\n   *\n   * @extends Component\n   */\n\n  var PlayProgressBar = /*#__PURE__*/function (_Component) {\n    inheritsLoose(PlayProgressBar, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The {@link Player} that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function PlayProgressBar(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.update = throttle(bind(assertThisInitialized(_this), _this.update), UPDATE_REFRESH_INTERVAL);\n      return _this;\n    }\n    /**\n     * Create the the DOM element for this class.\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = PlayProgressBar.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-play-progress vjs-slider-bar'\n      }, {\n        'aria-hidden': 'true'\n      });\n    }\n    /**\n     * Enqueues updates to its own DOM as well as the DOM of its\n     * {@link TimeTooltip} child.\n     *\n     * @param {Object} seekBarRect\n     *        The `ClientRect` for the {@link SeekBar} element.\n     *\n     * @param {number} seekBarPoint\n     *        A number from 0 to 1, representing a horizontal reference point\n     *        from the left edge of the {@link SeekBar}\n     */\n    ;\n\n    _proto.update = function update(seekBarRect, seekBarPoint) {\n      var timeTooltip = this.getChild('timeTooltip');\n\n      if (!timeTooltip) {\n        return;\n      }\n\n      var time = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n      timeTooltip.updateTime(seekBarRect, seekBarPoint, time);\n    };\n\n    return PlayProgressBar;\n  }(Component);\n  /**\n   * Default options for {@link PlayProgressBar}.\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  PlayProgressBar.prototype.options_ = {\n    children: []\n  }; // Time tooltips should not be added to a player on mobile devices\n\n  if (!IS_IOS && !IS_ANDROID) {\n    PlayProgressBar.prototype.options_.children.push('timeTooltip');\n  }\n\n  Component.registerComponent('PlayProgressBar', PlayProgressBar);\n\n  /**\n   * The {@link MouseTimeDisplay} component tracks mouse movement over the\n   * {@link ProgressControl}. It displays an indicator and a {@link TimeTooltip}\n   * indicating the time which is represented by a given point in the\n   * {@link ProgressControl}.\n   *\n   * @extends Component\n   */\n\n  var MouseTimeDisplay = /*#__PURE__*/function (_Component) {\n    inheritsLoose(MouseTimeDisplay, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The {@link Player} that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function MouseTimeDisplay(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.update = throttle(bind(assertThisInitialized(_this), _this.update), UPDATE_REFRESH_INTERVAL);\n      return _this;\n    }\n    /**\n     * Create the DOM element for this class.\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = MouseTimeDisplay.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-mouse-display'\n      });\n    }\n    /**\n     * Enqueues updates to its own DOM as well as the DOM of its\n     * {@link TimeTooltip} child.\n     *\n     * @param {Object} seekBarRect\n     *        The `ClientRect` for the {@link SeekBar} element.\n     *\n     * @param {number} seekBarPoint\n     *        A number from 0 to 1, representing a horizontal reference point\n     *        from the left edge of the {@link SeekBar}\n     */\n    ;\n\n    _proto.update = function update(seekBarRect, seekBarPoint) {\n      var _this2 = this;\n\n      var time = seekBarPoint * this.player_.duration();\n      this.getChild('timeTooltip').updateTime(seekBarRect, seekBarPoint, time, function () {\n        _this2.el_.style.left = seekBarRect.width * seekBarPoint + \"px\";\n      });\n    };\n\n    return MouseTimeDisplay;\n  }(Component);\n  /**\n   * Default options for `MouseTimeDisplay`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  MouseTimeDisplay.prototype.options_ = {\n    children: ['timeTooltip']\n  };\n  Component.registerComponent('MouseTimeDisplay', MouseTimeDisplay);\n\n  var STEP_SECONDS = 5; // The multiplier of STEP_SECONDS that PgUp/PgDown move the timeline.\n\n  var PAGE_KEY_MULTIPLIER = 12;\n  /**\n   * Seek bar and container for the progress bars. Uses {@link PlayProgressBar}\n   * as its `bar`.\n   *\n   * @extends Slider\n   */\n\n  var SeekBar = /*#__PURE__*/function (_Slider) {\n    inheritsLoose(SeekBar, _Slider);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function SeekBar(player, options) {\n      var _this;\n\n      _this = _Slider.call(this, player, options) || this;\n\n      _this.setEventHandlers_();\n\n      return _this;\n    }\n    /**\n     * Sets the event handlers\n     *\n     * @private\n     */\n\n\n    var _proto = SeekBar.prototype;\n\n    _proto.setEventHandlers_ = function setEventHandlers_() {\n      var _this2 = this;\n\n      this.update_ = bind(this, this.update);\n      this.update = throttle(this.update_, UPDATE_REFRESH_INTERVAL);\n      this.on(this.player_, ['ended', 'durationchange', 'timeupdate'], this.update);\n\n      if (this.player_.liveTracker) {\n        this.on(this.player_.liveTracker, 'liveedgechange', this.update);\n      } // when playing, let's ensure we smoothly update the play progress bar\n      // via an interval\n\n\n      this.updateInterval = null;\n\n      this.enableIntervalHandler_ = function (e) {\n        return _this2.enableInterval_(e);\n      };\n\n      this.disableIntervalHandler_ = function (e) {\n        return _this2.disableInterval_(e);\n      };\n\n      this.on(this.player_, ['playing'], this.enableIntervalHandler_);\n      this.on(this.player_, ['ended', 'pause', 'waiting'], this.disableIntervalHandler_); // we don't need to update the play progress if the document is hidden,\n      // also, this causes the CPU to spike and eventually crash the page on IE11.\n\n      if ('hidden' in document && 'visibilityState' in document) {\n        this.on(document, 'visibilitychange', this.toggleVisibility_);\n      }\n    };\n\n    _proto.toggleVisibility_ = function toggleVisibility_(e) {\n      if (document.visibilityState === 'hidden') {\n        this.cancelNamedAnimationFrame('SeekBar#update');\n        this.cancelNamedAnimationFrame('Slider#update');\n        this.disableInterval_(e);\n      } else {\n        if (!this.player_.ended() && !this.player_.paused()) {\n          this.enableInterval_();\n        } // we just switched back to the page and someone may be looking, so, update ASAP\n\n\n        this.update();\n      }\n    };\n\n    _proto.enableInterval_ = function enableInterval_() {\n      if (this.updateInterval) {\n        return;\n      }\n\n      this.updateInterval = this.setInterval(this.update, UPDATE_REFRESH_INTERVAL);\n    };\n\n    _proto.disableInterval_ = function disableInterval_(e) {\n      if (this.player_.liveTracker && this.player_.liveTracker.isLive() && e && e.type !== 'ended') {\n        return;\n      }\n\n      if (!this.updateInterval) {\n        return;\n      }\n\n      this.clearInterval(this.updateInterval);\n      this.updateInterval = null;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      return _Slider.prototype.createEl.call(this, 'div', {\n        className: 'vjs-progress-holder'\n      }, {\n        'aria-label': this.localize('Progress Bar')\n      });\n    }\n    /**\n     * This function updates the play progress bar and accessibility\n     * attributes to whatever is passed in.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `timeupdate` or `ended` event that caused this to run.\n     *\n     * @listens Player#timeupdate\n     *\n     * @return {number}\n     *          The current percent at a number from 0-1\n     */\n    ;\n\n    _proto.update = function update(event) {\n      var _this3 = this;\n\n      // ignore updates while the tab is hidden\n      if (document.visibilityState === 'hidden') {\n        return;\n      }\n\n      var percent = _Slider.prototype.update.call(this);\n\n      this.requestNamedAnimationFrame('SeekBar#update', function () {\n        var currentTime = _this3.player_.ended() ? _this3.player_.duration() : _this3.getCurrentTime_();\n        var liveTracker = _this3.player_.liveTracker;\n\n        var duration = _this3.player_.duration();\n\n        if (liveTracker && liveTracker.isLive()) {\n          duration = _this3.player_.liveTracker.liveCurrentTime();\n        }\n\n        if (_this3.percent_ !== percent) {\n          // machine readable value of progress bar (percentage complete)\n          _this3.el_.setAttribute('aria-valuenow', (percent * 100).toFixed(2));\n\n          _this3.percent_ = percent;\n        }\n\n        if (_this3.currentTime_ !== currentTime || _this3.duration_ !== duration) {\n          // human readable value of progress bar (time complete)\n          _this3.el_.setAttribute('aria-valuetext', _this3.localize('progress bar timing: currentTime={1} duration={2}', [formatTime(currentTime, duration), formatTime(duration, duration)], '{1} of {2}'));\n\n          _this3.currentTime_ = currentTime;\n          _this3.duration_ = duration;\n        } // update the progress bar time tooltip with the current time\n\n\n        if (_this3.bar) {\n          _this3.bar.update(getBoundingClientRect(_this3.el()), _this3.getProgress());\n        }\n      });\n      return percent;\n    }\n    /**\n     * Prevent liveThreshold from causing seeks to seem like they\n     * are not happening from a user perspective.\n     *\n     * @param {number} ct\n     *        current time to seek to\n     */\n    ;\n\n    _proto.userSeek_ = function userSeek_(ct) {\n      if (this.player_.liveTracker && this.player_.liveTracker.isLive()) {\n        this.player_.liveTracker.nextSeekedFromUser();\n      }\n\n      this.player_.currentTime(ct);\n    }\n    /**\n     * Get the value of current time but allows for smooth scrubbing,\n     * when player can't keep up.\n     *\n     * @return {number}\n     *         The current time value to display\n     *\n     * @private\n     */\n    ;\n\n    _proto.getCurrentTime_ = function getCurrentTime_() {\n      return this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n    }\n    /**\n     * Get the percentage of media played so far.\n     *\n     * @return {number}\n     *         The percentage of media played so far (0 to 1).\n     */\n    ;\n\n    _proto.getPercent = function getPercent() {\n      var currentTime = this.getCurrentTime_();\n      var percent;\n      var liveTracker = this.player_.liveTracker;\n\n      if (liveTracker && liveTracker.isLive()) {\n        percent = (currentTime - liveTracker.seekableStart()) / liveTracker.liveWindow(); // prevent the percent from changing at the live edge\n\n        if (liveTracker.atLiveEdge()) {\n          percent = 1;\n        }\n      } else {\n        percent = currentTime / this.player_.duration();\n      }\n\n      return percent;\n    }\n    /**\n     * Handle mouse down on seek bar\n     *\n     * @param {EventTarget~Event} event\n     *        The `mousedown` event that caused this to run.\n     *\n     * @listens mousedown\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      if (!isSingleLeftClick(event)) {\n        return;\n      } // Stop event propagation to prevent double fire in progress-control.js\n\n\n      event.stopPropagation();\n      this.videoWasPlaying = !this.player_.paused();\n      this.player_.pause();\n\n      _Slider.prototype.handleMouseDown.call(this, event);\n    }\n    /**\n     * Handle mouse move on seek bar\n     *\n     * @param {EventTarget~Event} event\n     *        The `mousemove` event that caused this to run.\n     * @param {boolean} mouseDown this is a flag that should be set to true if `handleMouseMove` is called directly. It allows us to skip things that should not happen if coming from mouse down but should happen on regular mouse move handler. Defaults to false\n     *\n     * @listens mousemove\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event, mouseDown) {\n      if (mouseDown === void 0) {\n        mouseDown = false;\n      }\n\n      if (!isSingleLeftClick(event)) {\n        return;\n      }\n\n      if (!mouseDown && !this.player_.scrubbing()) {\n        this.player_.scrubbing(true);\n      }\n\n      var newTime;\n      var distance = this.calculateDistance(event);\n      var liveTracker = this.player_.liveTracker;\n\n      if (!liveTracker || !liveTracker.isLive()) {\n        newTime = distance * this.player_.duration(); // Don't let video end while scrubbing.\n\n        if (newTime === this.player_.duration()) {\n          newTime = newTime - 0.1;\n        }\n      } else {\n        if (distance >= 0.99) {\n          liveTracker.seekToLiveEdge();\n          return;\n        }\n\n        var seekableStart = liveTracker.seekableStart();\n        var seekableEnd = liveTracker.liveCurrentTime();\n        newTime = seekableStart + distance * liveTracker.liveWindow(); // Don't let video end while scrubbing.\n\n        if (newTime >= seekableEnd) {\n          newTime = seekableEnd;\n        } // Compensate for precision differences so that currentTime is not less\n        // than seekable start\n\n\n        if (newTime <= seekableStart) {\n          newTime = seekableStart + 0.1;\n        } // On android seekableEnd can be Infinity sometimes,\n        // this will cause newTime to be Infinity, which is\n        // not a valid currentTime.\n\n\n        if (newTime === Infinity) {\n          return;\n        }\n      } // Set new time (tell player to seek to new time)\n\n\n      this.userSeek_(newTime);\n    };\n\n    _proto.enable = function enable() {\n      _Slider.prototype.enable.call(this);\n\n      var mouseTimeDisplay = this.getChild('mouseTimeDisplay');\n\n      if (!mouseTimeDisplay) {\n        return;\n      }\n\n      mouseTimeDisplay.show();\n    };\n\n    _proto.disable = function disable() {\n      _Slider.prototype.disable.call(this);\n\n      var mouseTimeDisplay = this.getChild('mouseTimeDisplay');\n\n      if (!mouseTimeDisplay) {\n        return;\n      }\n\n      mouseTimeDisplay.hide();\n    }\n    /**\n     * Handle mouse up on seek bar\n     *\n     * @param {EventTarget~Event} event\n     *        The `mouseup` event that caused this to run.\n     *\n     * @listens mouseup\n     */\n    ;\n\n    _proto.handleMouseUp = function handleMouseUp(event) {\n      _Slider.prototype.handleMouseUp.call(this, event); // Stop event propagation to prevent double fire in progress-control.js\n\n\n      if (event) {\n        event.stopPropagation();\n      }\n\n      this.player_.scrubbing(false);\n      /**\n       * Trigger timeupdate because we're done seeking and the time has changed.\n       * This is particularly useful for if the player is paused to time the time displays.\n       *\n       * @event Tech#timeupdate\n       * @type {EventTarget~Event}\n       */\n\n      this.player_.trigger({\n        type: 'timeupdate',\n        target: this,\n        manuallyTriggered: true\n      });\n\n      if (this.videoWasPlaying) {\n        silencePromise(this.player_.play());\n      } else {\n        // We're done seeking and the time has changed.\n        // If the player is paused, make sure we display the correct time on the seek bar.\n        this.update_();\n      }\n    }\n    /**\n     * Move more quickly fast forward for keyboard-only users\n     */\n    ;\n\n    _proto.stepForward = function stepForward() {\n      this.userSeek_(this.player_.currentTime() + STEP_SECONDS);\n    }\n    /**\n     * Move more quickly rewind for keyboard-only users\n     */\n    ;\n\n    _proto.stepBack = function stepBack() {\n      this.userSeek_(this.player_.currentTime() - STEP_SECONDS);\n    }\n    /**\n     * Toggles the playback state of the player\n     * This gets called when enter or space is used on the seekbar\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called\n     *\n     */\n    ;\n\n    _proto.handleAction = function handleAction(event) {\n      if (this.player_.paused()) {\n        this.player_.play();\n      } else {\n        this.player_.pause();\n      }\n    }\n    /**\n     * Called when this SeekBar has focus and a key gets pressed down.\n     * Supports the following keys:\n     *\n     *   Space or Enter key fire a click event\n     *   Home key moves to start of the timeline\n     *   End key moves to end of the timeline\n     *   Digit \"0\" through \"9\" keys move to 0%, 10% ... 80%, 90% of the timeline\n     *   PageDown key moves back a larger step than ArrowDown\n     *   PageUp key moves forward a large step\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      var liveTracker = this.player_.liveTracker;\n\n      if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.handleAction(event);\n      } else if (keycode.isEventKey(event, 'Home')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.userSeek_(0);\n      } else if (keycode.isEventKey(event, 'End')) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        if (liveTracker && liveTracker.isLive()) {\n          this.userSeek_(liveTracker.liveCurrentTime());\n        } else {\n          this.userSeek_(this.player_.duration());\n        }\n      } else if (/^[0-9]$/.test(keycode(event))) {\n        event.preventDefault();\n        event.stopPropagation();\n        var gotoFraction = (keycode.codes[keycode(event)] - keycode.codes['0']) * 10.0 / 100.0;\n\n        if (liveTracker && liveTracker.isLive()) {\n          this.userSeek_(liveTracker.seekableStart() + liveTracker.liveWindow() * gotoFraction);\n        } else {\n          this.userSeek_(this.player_.duration() * gotoFraction);\n        }\n      } else if (keycode.isEventKey(event, 'PgDn')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.userSeek_(this.player_.currentTime() - STEP_SECONDS * PAGE_KEY_MULTIPLIER);\n      } else if (keycode.isEventKey(event, 'PgUp')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.userSeek_(this.player_.currentTime() + STEP_SECONDS * PAGE_KEY_MULTIPLIER);\n      } else {\n        // Pass keydown handling up for unsupported keys\n        _Slider.prototype.handleKeyDown.call(this, event);\n      }\n    };\n\n    _proto.dispose = function dispose() {\n      this.disableInterval_();\n      this.off(this.player_, ['ended', 'durationchange', 'timeupdate'], this.update);\n\n      if (this.player_.liveTracker) {\n        this.off(this.player_.liveTracker, 'liveedgechange', this.update);\n      }\n\n      this.off(this.player_, ['playing'], this.enableIntervalHandler_);\n      this.off(this.player_, ['ended', 'pause', 'waiting'], this.disableIntervalHandler_); // we don't need to update the play progress if the document is hidden,\n      // also, this causes the CPU to spike and eventually crash the page on IE11.\n\n      if ('hidden' in document && 'visibilityState' in document) {\n        this.off(document, 'visibilitychange', this.toggleVisibility_);\n      }\n\n      _Slider.prototype.dispose.call(this);\n    };\n\n    return SeekBar;\n  }(Slider);\n  /**\n   * Default options for the `SeekBar`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  SeekBar.prototype.options_ = {\n    children: ['loadProgressBar', 'playProgressBar'],\n    barName: 'playProgressBar'\n  }; // MouseTimeDisplay tooltips should not be added to a player on mobile devices\n\n  if (!IS_IOS && !IS_ANDROID) {\n    SeekBar.prototype.options_.children.splice(1, 0, 'mouseTimeDisplay');\n  }\n\n  Component.registerComponent('SeekBar', SeekBar);\n\n  /**\n   * The Progress Control component contains the seek bar, load progress,\n   * and play progress.\n   *\n   * @extends Component\n   */\n\n  var ProgressControl = /*#__PURE__*/function (_Component) {\n    inheritsLoose(ProgressControl, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function ProgressControl(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.handleMouseMove = throttle(bind(assertThisInitialized(_this), _this.handleMouseMove), UPDATE_REFRESH_INTERVAL);\n      _this.throttledHandleMouseSeek = throttle(bind(assertThisInitialized(_this), _this.handleMouseSeek), UPDATE_REFRESH_INTERVAL);\n\n      _this.handleMouseUpHandler_ = function (e) {\n        return _this.handleMouseUp(e);\n      };\n\n      _this.handleMouseDownHandler_ = function (e) {\n        return _this.handleMouseDown(e);\n      };\n\n      _this.enable();\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = ProgressControl.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-progress-control vjs-control'\n      });\n    }\n    /**\n     * When the mouse moves over the `ProgressControl`, the pointer position\n     * gets passed down to the `MouseTimeDisplay` component.\n     *\n     * @param {EventTarget~Event} event\n     *        The `mousemove` event that caused this function to run.\n     *\n     * @listen mousemove\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event) {\n      var seekBar = this.getChild('seekBar');\n\n      if (!seekBar) {\n        return;\n      }\n\n      var playProgressBar = seekBar.getChild('playProgressBar');\n      var mouseTimeDisplay = seekBar.getChild('mouseTimeDisplay');\n\n      if (!playProgressBar && !mouseTimeDisplay) {\n        return;\n      }\n\n      var seekBarEl = seekBar.el();\n      var seekBarRect = findPosition(seekBarEl);\n      var seekBarPoint = getPointerPosition(seekBarEl, event).x; // The default skin has a gap on either side of the `SeekBar`. This means\n      // that it's possible to trigger this behavior outside the boundaries of\n      // the `SeekBar`. This ensures we stay within it at all times.\n\n      seekBarPoint = clamp(seekBarPoint, 0, 1);\n\n      if (mouseTimeDisplay) {\n        mouseTimeDisplay.update(seekBarRect, seekBarPoint);\n      }\n\n      if (playProgressBar) {\n        playProgressBar.update(seekBarRect, seekBar.getProgress());\n      }\n    }\n    /**\n     * A throttled version of the {@link ProgressControl#handleMouseSeek} listener.\n     *\n     * @method ProgressControl#throttledHandleMouseSeek\n     * @param {EventTarget~Event} event\n     *        The `mousemove` event that caused this function to run.\n     *\n     * @listen mousemove\n     * @listen touchmove\n     */\n\n    /**\n     * Handle `mousemove` or `touchmove` events on the `ProgressControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousemove\n     * @listens touchmove\n     */\n    ;\n\n    _proto.handleMouseSeek = function handleMouseSeek(event) {\n      var seekBar = this.getChild('seekBar');\n\n      if (seekBar) {\n        seekBar.handleMouseMove(event);\n      }\n    }\n    /**\n     * Are controls are currently enabled for this progress control.\n     *\n     * @return {boolean}\n     *         true if controls are enabled, false otherwise\n     */\n    ;\n\n    _proto.enabled = function enabled() {\n      return this.enabled_;\n    }\n    /**\n     * Disable all controls on the progress control and its children\n     */\n    ;\n\n    _proto.disable = function disable() {\n      this.children().forEach(function (child) {\n        return child.disable && child.disable();\n      });\n\n      if (!this.enabled()) {\n        return;\n      }\n\n      this.off(['mousedown', 'touchstart'], this.handleMouseDownHandler_);\n      this.off(this.el_, 'mousemove', this.handleMouseMove);\n      this.removeListenersAddedOnMousedownAndTouchstart();\n      this.addClass('disabled');\n      this.enabled_ = false; // Restore normal playback state if controls are disabled while scrubbing\n\n      if (this.player_.scrubbing()) {\n        var seekBar = this.getChild('seekBar');\n        this.player_.scrubbing(false);\n\n        if (seekBar.videoWasPlaying) {\n          silencePromise(this.player_.play());\n        }\n      }\n    }\n    /**\n     * Enable all controls on the progress control and its children\n     */\n    ;\n\n    _proto.enable = function enable() {\n      this.children().forEach(function (child) {\n        return child.enable && child.enable();\n      });\n\n      if (this.enabled()) {\n        return;\n      }\n\n      this.on(['mousedown', 'touchstart'], this.handleMouseDownHandler_);\n      this.on(this.el_, 'mousemove', this.handleMouseMove);\n      this.removeClass('disabled');\n      this.enabled_ = true;\n    }\n    /**\n     * Cleanup listeners after the user finishes interacting with the progress controls\n     */\n    ;\n\n    _proto.removeListenersAddedOnMousedownAndTouchstart = function removeListenersAddedOnMousedownAndTouchstart() {\n      var doc = this.el_.ownerDocument;\n      this.off(doc, 'mousemove', this.throttledHandleMouseSeek);\n      this.off(doc, 'touchmove', this.throttledHandleMouseSeek);\n      this.off(doc, 'mouseup', this.handleMouseUpHandler_);\n      this.off(doc, 'touchend', this.handleMouseUpHandler_);\n    }\n    /**\n     * Handle `mousedown` or `touchstart` events on the `ProgressControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousedown\n     * @listens touchstart\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      var doc = this.el_.ownerDocument;\n      var seekBar = this.getChild('seekBar');\n\n      if (seekBar) {\n        seekBar.handleMouseDown(event);\n      }\n\n      this.on(doc, 'mousemove', this.throttledHandleMouseSeek);\n      this.on(doc, 'touchmove', this.throttledHandleMouseSeek);\n      this.on(doc, 'mouseup', this.handleMouseUpHandler_);\n      this.on(doc, 'touchend', this.handleMouseUpHandler_);\n    }\n    /**\n     * Handle `mouseup` or `touchend` events on the `ProgressControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mouseup` or `touchend` event that triggered this function.\n     *\n     * @listens touchend\n     * @listens mouseup\n     */\n    ;\n\n    _proto.handleMouseUp = function handleMouseUp(event) {\n      var seekBar = this.getChild('seekBar');\n\n      if (seekBar) {\n        seekBar.handleMouseUp(event);\n      }\n\n      this.removeListenersAddedOnMousedownAndTouchstart();\n    };\n\n    return ProgressControl;\n  }(Component);\n  /**\n   * Default options for `ProgressControl`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  ProgressControl.prototype.options_ = {\n    children: ['seekBar']\n  };\n  Component.registerComponent('ProgressControl', ProgressControl);\n\n  /**\n   * Toggle Picture-in-Picture mode\n   *\n   * @extends Button\n   */\n\n  var PictureInPictureToggle = /*#__PURE__*/function (_Button) {\n    inheritsLoose(PictureInPictureToggle, _Button);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @listens Player#enterpictureinpicture\n     * @listens Player#leavepictureinpicture\n     */\n    function PictureInPictureToggle(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this;\n\n      _this.on(player, ['enterpictureinpicture', 'leavepictureinpicture'], function (e) {\n        return _this.handlePictureInPictureChange(e);\n      });\n\n      _this.on(player, ['disablepictureinpicturechanged', 'loadedmetadata'], function (e) {\n        return _this.handlePictureInPictureEnabledChange(e);\n      });\n\n      _this.on(player, ['loadedmetadata', 'audioonlymodechange', 'audiopostermodechange'], function () {\n        // This audio detection will not detect HLS or DASH audio-only streams because there was no reliable way to detect them at the time\n        var isSourceAudio = player.currentType().substring(0, 5) === 'audio';\n\n        if (isSourceAudio || player.audioPosterMode() || player.audioOnlyMode()) {\n          if (player.isInPictureInPicture()) {\n            player.exitPictureInPicture();\n          }\n\n          _this.hide();\n        } else {\n          _this.show();\n        }\n      }); // TODO: Deactivate button on player emptied event.\n\n\n      _this.disable();\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = PictureInPictureToggle.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-picture-in-picture-control \" + _Button.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Enables or disables button based on document.pictureInPictureEnabled property value\n     * or on value returned by player.disablePictureInPicture() method.\n     */\n    ;\n\n    _proto.handlePictureInPictureEnabledChange = function handlePictureInPictureEnabledChange() {\n      if (document.pictureInPictureEnabled && this.player_.disablePictureInPicture() === false) {\n        this.enable();\n      } else {\n        this.disable();\n      }\n    }\n    /**\n     * Handles enterpictureinpicture and leavepictureinpicture on the player and change control text accordingly.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The {@link Player#enterpictureinpicture} or {@link Player#leavepictureinpicture} event that caused this function to be\n     *        called.\n     *\n     * @listens Player#enterpictureinpicture\n     * @listens Player#leavepictureinpicture\n     */\n    ;\n\n    _proto.handlePictureInPictureChange = function handlePictureInPictureChange(event) {\n      if (this.player_.isInPictureInPicture()) {\n        this.controlText('Exit Picture-in-Picture');\n      } else {\n        this.controlText('Picture-in-Picture');\n      }\n\n      this.handlePictureInPictureEnabledChange();\n    }\n    /**\n     * This gets called when an `PictureInPictureToggle` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      if (!this.player_.isInPictureInPicture()) {\n        this.player_.requestPictureInPicture();\n      } else {\n        this.player_.exitPictureInPicture();\n      }\n    };\n\n    return PictureInPictureToggle;\n  }(Button);\n  /**\n   * The text that should display over the `PictureInPictureToggle`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  PictureInPictureToggle.prototype.controlText_ = 'Picture-in-Picture';\n  Component.registerComponent('PictureInPictureToggle', PictureInPictureToggle);\n\n  /**\n   * Toggle fullscreen video\n   *\n   * @extends Button\n   */\n\n  var FullscreenToggle = /*#__PURE__*/function (_Button) {\n    inheritsLoose(FullscreenToggle, _Button);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function FullscreenToggle(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this;\n\n      _this.on(player, 'fullscreenchange', function (e) {\n        return _this.handleFullscreenChange(e);\n      });\n\n      if (document[player.fsApi_.fullscreenEnabled] === false) {\n        _this.disable();\n      }\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = FullscreenToggle.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-fullscreen-control \" + _Button.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Handles fullscreenchange on the player and change control text accordingly.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The {@link Player#fullscreenchange} event that caused this function to be\n     *        called.\n     *\n     * @listens Player#fullscreenchange\n     */\n    ;\n\n    _proto.handleFullscreenChange = function handleFullscreenChange(event) {\n      if (this.player_.isFullscreen()) {\n        this.controlText('Non-Fullscreen');\n      } else {\n        this.controlText('Fullscreen');\n      }\n    }\n    /**\n     * This gets called when an `FullscreenToggle` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      if (!this.player_.isFullscreen()) {\n        this.player_.requestFullscreen();\n      } else {\n        this.player_.exitFullscreen();\n      }\n    };\n\n    return FullscreenToggle;\n  }(Button);\n  /**\n   * The text that should display over the `FullscreenToggle`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  FullscreenToggle.prototype.controlText_ = 'Fullscreen';\n  Component.registerComponent('FullscreenToggle', FullscreenToggle);\n\n  /**\n   * Check if volume control is supported and if it isn't hide the\n   * `Component` that was passed  using the `vjs-hidden` class.\n   *\n   * @param {Component} self\n   *        The component that should be hidden if volume is unsupported\n   *\n   * @param {Player} player\n   *        A reference to the player\n   *\n   * @private\n   */\n  var checkVolumeSupport = function checkVolumeSupport(self, player) {\n    // hide volume controls when they're not supported by the current tech\n    if (player.tech_ && !player.tech_.featuresVolumeControl) {\n      self.addClass('vjs-hidden');\n    }\n\n    self.on(player, 'loadstart', function () {\n      if (!player.tech_.featuresVolumeControl) {\n        self.addClass('vjs-hidden');\n      } else {\n        self.removeClass('vjs-hidden');\n      }\n    });\n  };\n\n  /**\n   * Shows volume level\n   *\n   * @extends Component\n   */\n\n  var VolumeLevel = /*#__PURE__*/function (_Component) {\n    inheritsLoose(VolumeLevel, _Component);\n\n    function VolumeLevel() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = VolumeLevel.prototype;\n\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    _proto.createEl = function createEl() {\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-volume-level'\n      });\n\n      el.appendChild(_Component.prototype.createEl.call(this, 'span', {\n        className: 'vjs-control-text'\n      }));\n      return el;\n    };\n\n    return VolumeLevel;\n  }(Component);\n\n  Component.registerComponent('VolumeLevel', VolumeLevel);\n\n  /**\n   * Volume level tooltips display a volume above or side by side the volume bar.\n   *\n   * @extends Component\n   */\n\n  var VolumeLevelTooltip = /*#__PURE__*/function (_Component) {\n    inheritsLoose(VolumeLevelTooltip, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The {@link Player} that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function VolumeLevelTooltip(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.update = throttle(bind(assertThisInitialized(_this), _this.update), UPDATE_REFRESH_INTERVAL);\n      return _this;\n    }\n    /**\n     * Create the volume tooltip DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = VolumeLevelTooltip.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-volume-tooltip'\n      }, {\n        'aria-hidden': 'true'\n      });\n    }\n    /**\n     * Updates the position of the tooltip relative to the `VolumeBar` and\n     * its content text.\n     *\n     * @param {Object} rangeBarRect\n     *        The `ClientRect` for the {@link VolumeBar} element.\n     *\n     * @param {number} rangeBarPoint\n     *        A number from 0 to 1, representing a horizontal/vertical reference point\n     *        from the left edge of the {@link VolumeBar}\n     *\n     * @param {boolean} vertical\n     *        Referees to the Volume control position\n     *        in the control bar{@link VolumeControl}\n     *\n     */\n    ;\n\n    _proto.update = function update(rangeBarRect, rangeBarPoint, vertical, content) {\n      if (!vertical) {\n        var tooltipRect = getBoundingClientRect(this.el_);\n        var playerRect = getBoundingClientRect(this.player_.el());\n        var volumeBarPointPx = rangeBarRect.width * rangeBarPoint;\n\n        if (!playerRect || !tooltipRect) {\n          return;\n        }\n\n        var spaceLeftOfPoint = rangeBarRect.left - playerRect.left + volumeBarPointPx;\n        var spaceRightOfPoint = rangeBarRect.width - volumeBarPointPx + (playerRect.right - rangeBarRect.right);\n        var pullTooltipBy = tooltipRect.width / 2;\n\n        if (spaceLeftOfPoint < pullTooltipBy) {\n          pullTooltipBy += pullTooltipBy - spaceLeftOfPoint;\n        } else if (spaceRightOfPoint < pullTooltipBy) {\n          pullTooltipBy = spaceRightOfPoint;\n        }\n\n        if (pullTooltipBy < 0) {\n          pullTooltipBy = 0;\n        } else if (pullTooltipBy > tooltipRect.width) {\n          pullTooltipBy = tooltipRect.width;\n        }\n\n        this.el_.style.right = \"-\" + pullTooltipBy + \"px\";\n      }\n\n      this.write(content + \"%\");\n    }\n    /**\n     * Write the volume to the tooltip DOM element.\n     *\n     * @param {string} content\n     *        The formatted volume for the tooltip.\n     */\n    ;\n\n    _proto.write = function write(content) {\n      textContent(this.el_, content);\n    }\n    /**\n     * Updates the position of the volume tooltip relative to the `VolumeBar`.\n     *\n     * @param {Object} rangeBarRect\n     *        The `ClientRect` for the {@link VolumeBar} element.\n     *\n     * @param {number} rangeBarPoint\n     *        A number from 0 to 1, representing a horizontal/vertical reference point\n     *        from the left edge of the {@link VolumeBar}\n     *\n     * @param {boolean} vertical\n     *        Referees to the Volume control position\n     *        in the control bar{@link VolumeControl}\n     *\n     * @param {number} volume\n     *        The volume level to update the tooltip to\n     *\n     * @param {Function} cb\n     *        A function that will be called during the request animation frame\n     *        for tooltips that need to do additional animations from the default\n     */\n    ;\n\n    _proto.updateVolume = function updateVolume(rangeBarRect, rangeBarPoint, vertical, volume, cb) {\n      var _this2 = this;\n\n      this.requestNamedAnimationFrame('VolumeLevelTooltip#updateVolume', function () {\n        _this2.update(rangeBarRect, rangeBarPoint, vertical, volume.toFixed(0));\n\n        if (cb) {\n          cb();\n        }\n      });\n    };\n\n    return VolumeLevelTooltip;\n  }(Component);\n\n  Component.registerComponent('VolumeLevelTooltip', VolumeLevelTooltip);\n\n  /**\n   * The {@link MouseVolumeLevelDisplay} component tracks mouse movement over the\n   * {@link VolumeControl}. It displays an indicator and a {@link VolumeLevelTooltip}\n   * indicating the volume level which is represented by a given point in the\n   * {@link VolumeBar}.\n   *\n   * @extends Component\n   */\n\n  var MouseVolumeLevelDisplay = /*#__PURE__*/function (_Component) {\n    inheritsLoose(MouseVolumeLevelDisplay, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The {@link Player} that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function MouseVolumeLevelDisplay(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.update = throttle(bind(assertThisInitialized(_this), _this.update), UPDATE_REFRESH_INTERVAL);\n      return _this;\n    }\n    /**\n     * Create the DOM element for this class.\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = MouseVolumeLevelDisplay.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-mouse-display'\n      });\n    }\n    /**\n     * Enquires updates to its own DOM as well as the DOM of its\n     * {@link VolumeLevelTooltip} child.\n     *\n     * @param {Object} rangeBarRect\n     *        The `ClientRect` for the {@link VolumeBar} element.\n     *\n     * @param {number} rangeBarPoint\n     *        A number from 0 to 1, representing a horizontal/vertical reference point\n     *        from the left edge of the {@link VolumeBar}\n     *\n     * @param {boolean} vertical\n     *        Referees to the Volume control position\n     *        in the control bar{@link VolumeControl}\n     *\n     */\n    ;\n\n    _proto.update = function update(rangeBarRect, rangeBarPoint, vertical) {\n      var _this2 = this;\n\n      var volume = 100 * rangeBarPoint;\n      this.getChild('volumeLevelTooltip').updateVolume(rangeBarRect, rangeBarPoint, vertical, volume, function () {\n        if (vertical) {\n          _this2.el_.style.bottom = rangeBarRect.height * rangeBarPoint + \"px\";\n        } else {\n          _this2.el_.style.left = rangeBarRect.width * rangeBarPoint + \"px\";\n        }\n      });\n    };\n\n    return MouseVolumeLevelDisplay;\n  }(Component);\n  /**\n   * Default options for `MouseVolumeLevelDisplay`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  MouseVolumeLevelDisplay.prototype.options_ = {\n    children: ['volumeLevelTooltip']\n  };\n  Component.registerComponent('MouseVolumeLevelDisplay', MouseVolumeLevelDisplay);\n\n  /**\n   * The bar that contains the volume level and can be clicked on to adjust the level\n   *\n   * @extends Slider\n   */\n\n  var VolumeBar = /*#__PURE__*/function (_Slider) {\n    inheritsLoose(VolumeBar, _Slider);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function VolumeBar(player, options) {\n      var _this;\n\n      _this = _Slider.call(this, player, options) || this;\n\n      _this.on('slideractive', function (e) {\n        return _this.updateLastVolume_(e);\n      });\n\n      _this.on(player, 'volumechange', function (e) {\n        return _this.updateARIAAttributes(e);\n      });\n\n      player.ready(function () {\n        return _this.updateARIAAttributes();\n      });\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = VolumeBar.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Slider.prototype.createEl.call(this, 'div', {\n        className: 'vjs-volume-bar vjs-slider-bar'\n      }, {\n        'aria-label': this.localize('Volume Level'),\n        'aria-live': 'polite'\n      });\n    }\n    /**\n     * Handle mouse down on volume bar\n     *\n     * @param {EventTarget~Event} event\n     *        The `mousedown` event that caused this to run.\n     *\n     * @listens mousedown\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      if (!isSingleLeftClick(event)) {\n        return;\n      }\n\n      _Slider.prototype.handleMouseDown.call(this, event);\n    }\n    /**\n     * Handle movement events on the {@link VolumeMenuButton}.\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to run.\n     *\n     * @listens mousemove\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event) {\n      var mouseVolumeLevelDisplay = this.getChild('mouseVolumeLevelDisplay');\n\n      if (mouseVolumeLevelDisplay) {\n        var volumeBarEl = this.el();\n        var volumeBarRect = getBoundingClientRect(volumeBarEl);\n        var vertical = this.vertical();\n        var volumeBarPoint = getPointerPosition(volumeBarEl, event);\n        volumeBarPoint = vertical ? volumeBarPoint.y : volumeBarPoint.x; // The default skin has a gap on either side of the `VolumeBar`. This means\n        // that it's possible to trigger this behavior outside the boundaries of\n        // the `VolumeBar`. This ensures we stay within it at all times.\n\n        volumeBarPoint = clamp(volumeBarPoint, 0, 1);\n        mouseVolumeLevelDisplay.update(volumeBarRect, volumeBarPoint, vertical);\n      }\n\n      if (!isSingleLeftClick(event)) {\n        return;\n      }\n\n      this.checkMuted();\n      this.player_.volume(this.calculateDistance(event));\n    }\n    /**\n     * If the player is muted unmute it.\n     */\n    ;\n\n    _proto.checkMuted = function checkMuted() {\n      if (this.player_.muted()) {\n        this.player_.muted(false);\n      }\n    }\n    /**\n     * Get percent of volume level\n     *\n     * @return {number}\n     *         Volume level percent as a decimal number.\n     */\n    ;\n\n    _proto.getPercent = function getPercent() {\n      if (this.player_.muted()) {\n        return 0;\n      }\n\n      return this.player_.volume();\n    }\n    /**\n     * Increase volume level for keyboard users\n     */\n    ;\n\n    _proto.stepForward = function stepForward() {\n      this.checkMuted();\n      this.player_.volume(this.player_.volume() + 0.1);\n    }\n    /**\n     * Decrease volume level for keyboard users\n     */\n    ;\n\n    _proto.stepBack = function stepBack() {\n      this.checkMuted();\n      this.player_.volume(this.player_.volume() - 0.1);\n    }\n    /**\n     * Update ARIA accessibility attributes\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `volumechange` event that caused this function to run.\n     *\n     * @listens Player#volumechange\n     */\n    ;\n\n    _proto.updateARIAAttributes = function updateARIAAttributes(event) {\n      var ariaValue = this.player_.muted() ? 0 : this.volumeAsPercentage_();\n      this.el_.setAttribute('aria-valuenow', ariaValue);\n      this.el_.setAttribute('aria-valuetext', ariaValue + '%');\n    }\n    /**\n     * Returns the current value of the player volume as a percentage\n     *\n     * @private\n     */\n    ;\n\n    _proto.volumeAsPercentage_ = function volumeAsPercentage_() {\n      return Math.round(this.player_.volume() * 100);\n    }\n    /**\n     * When user starts dragging the VolumeBar, store the volume and listen for\n     * the end of the drag. When the drag ends, if the volume was set to zero,\n     * set lastVolume to the stored volume.\n     *\n     * @listens slideractive\n     * @private\n     */\n    ;\n\n    _proto.updateLastVolume_ = function updateLastVolume_() {\n      var _this2 = this;\n\n      var volumeBeforeDrag = this.player_.volume();\n      this.one('sliderinactive', function () {\n        if (_this2.player_.volume() === 0) {\n          _this2.player_.lastVolume_(volumeBeforeDrag);\n        }\n      });\n    };\n\n    return VolumeBar;\n  }(Slider);\n  /**\n   * Default options for the `VolumeBar`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  VolumeBar.prototype.options_ = {\n    children: ['volumeLevel'],\n    barName: 'volumeLevel'\n  }; // MouseVolumeLevelDisplay tooltip should not be added to a player on mobile devices\n\n  if (!IS_IOS && !IS_ANDROID) {\n    VolumeBar.prototype.options_.children.splice(0, 0, 'mouseVolumeLevelDisplay');\n  }\n  /**\n   * Call the update event for this Slider when this event happens on the player.\n   *\n   * @type {string}\n   */\n\n\n  VolumeBar.prototype.playerEvent = 'volumechange';\n  Component.registerComponent('VolumeBar', VolumeBar);\n\n  /**\n   * The component for controlling the volume level\n   *\n   * @extends Component\n   */\n\n  var VolumeControl = /*#__PURE__*/function (_Component) {\n    inheritsLoose(VolumeControl, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function VolumeControl(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      options.vertical = options.vertical || false; // Pass the vertical option down to the VolumeBar if\n      // the VolumeBar is turned on.\n\n      if (typeof options.volumeBar === 'undefined' || isPlain(options.volumeBar)) {\n        options.volumeBar = options.volumeBar || {};\n        options.volumeBar.vertical = options.vertical;\n      }\n\n      _this = _Component.call(this, player, options) || this; // hide this control if volume support is missing\n\n      checkVolumeSupport(assertThisInitialized(_this), player);\n      _this.throttledHandleMouseMove = throttle(bind(assertThisInitialized(_this), _this.handleMouseMove), UPDATE_REFRESH_INTERVAL);\n\n      _this.handleMouseUpHandler_ = function (e) {\n        return _this.handleMouseUp(e);\n      };\n\n      _this.on('mousedown', function (e) {\n        return _this.handleMouseDown(e);\n      });\n\n      _this.on('touchstart', function (e) {\n        return _this.handleMouseDown(e);\n      });\n\n      _this.on('mousemove', function (e) {\n        return _this.handleMouseMove(e);\n      }); // while the slider is active (the mouse has been pressed down and\n      // is dragging) or in focus we do not want to hide the VolumeBar\n\n\n      _this.on(_this.volumeBar, ['focus', 'slideractive'], function () {\n        _this.volumeBar.addClass('vjs-slider-active');\n\n        _this.addClass('vjs-slider-active');\n\n        _this.trigger('slideractive');\n      });\n\n      _this.on(_this.volumeBar, ['blur', 'sliderinactive'], function () {\n        _this.volumeBar.removeClass('vjs-slider-active');\n\n        _this.removeClass('vjs-slider-active');\n\n        _this.trigger('sliderinactive');\n      });\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = VolumeControl.prototype;\n\n    _proto.createEl = function createEl() {\n      var orientationClass = 'vjs-volume-horizontal';\n\n      if (this.options_.vertical) {\n        orientationClass = 'vjs-volume-vertical';\n      }\n\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: \"vjs-volume-control vjs-control \" + orientationClass\n      });\n    }\n    /**\n     * Handle `mousedown` or `touchstart` events on the `VolumeControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousedown\n     * @listens touchstart\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      var doc = this.el_.ownerDocument;\n      this.on(doc, 'mousemove', this.throttledHandleMouseMove);\n      this.on(doc, 'touchmove', this.throttledHandleMouseMove);\n      this.on(doc, 'mouseup', this.handleMouseUpHandler_);\n      this.on(doc, 'touchend', this.handleMouseUpHandler_);\n    }\n    /**\n     * Handle `mouseup` or `touchend` events on the `VolumeControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mouseup` or `touchend` event that triggered this function.\n     *\n     * @listens touchend\n     * @listens mouseup\n     */\n    ;\n\n    _proto.handleMouseUp = function handleMouseUp(event) {\n      var doc = this.el_.ownerDocument;\n      this.off(doc, 'mousemove', this.throttledHandleMouseMove);\n      this.off(doc, 'touchmove', this.throttledHandleMouseMove);\n      this.off(doc, 'mouseup', this.handleMouseUpHandler_);\n      this.off(doc, 'touchend', this.handleMouseUpHandler_);\n    }\n    /**\n     * Handle `mousedown` or `touchstart` events on the `VolumeControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousedown\n     * @listens touchstart\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event) {\n      this.volumeBar.handleMouseMove(event);\n    };\n\n    return VolumeControl;\n  }(Component);\n  /**\n   * Default options for the `VolumeControl`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  VolumeControl.prototype.options_ = {\n    children: ['volumeBar']\n  };\n  Component.registerComponent('VolumeControl', VolumeControl);\n\n  /**\n   * Check if muting volume is supported and if it isn't hide the mute toggle\n   * button.\n   *\n   * @param {Component} self\n   *        A reference to the mute toggle button\n   *\n   * @param {Player} player\n   *        A reference to the player\n   *\n   * @private\n   */\n  var checkMuteSupport = function checkMuteSupport(self, player) {\n    // hide mute toggle button if it's not supported by the current tech\n    if (player.tech_ && !player.tech_.featuresMuteControl) {\n      self.addClass('vjs-hidden');\n    }\n\n    self.on(player, 'loadstart', function () {\n      if (!player.tech_.featuresMuteControl) {\n        self.addClass('vjs-hidden');\n      } else {\n        self.removeClass('vjs-hidden');\n      }\n    });\n  };\n\n  /**\n   * A button component for muting the audio.\n   *\n   * @extends Button\n   */\n\n  var MuteToggle = /*#__PURE__*/function (_Button) {\n    inheritsLoose(MuteToggle, _Button);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function MuteToggle(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this; // hide this control if volume support is missing\n\n      checkMuteSupport(assertThisInitialized(_this), player);\n\n      _this.on(player, ['loadstart', 'volumechange'], function (e) {\n        return _this.update(e);\n      });\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = MuteToggle.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-mute-control \" + _Button.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * This gets called when an `MuteToggle` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      var vol = this.player_.volume();\n      var lastVolume = this.player_.lastVolume_();\n\n      if (vol === 0) {\n        var volumeToSet = lastVolume < 0.1 ? 0.1 : lastVolume;\n        this.player_.volume(volumeToSet);\n        this.player_.muted(false);\n      } else {\n        this.player_.muted(this.player_.muted() ? false : true);\n      }\n    }\n    /**\n     * Update the `MuteToggle` button based on the state of `volume` and `muted`\n     * on the player.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The {@link Player#loadstart} event if this function was called\n     *        through an event.\n     *\n     * @listens Player#loadstart\n     * @listens Player#volumechange\n     */\n    ;\n\n    _proto.update = function update(event) {\n      this.updateIcon_();\n      this.updateControlText_();\n    }\n    /**\n     * Update the appearance of the `MuteToggle` icon.\n     *\n     * Possible states (given `level` variable below):\n     * - 0: crossed out\n     * - 1: zero bars of volume\n     * - 2: one bar of volume\n     * - 3: two bars of volume\n     *\n     * @private\n     */\n    ;\n\n    _proto.updateIcon_ = function updateIcon_() {\n      var vol = this.player_.volume();\n      var level = 3; // in iOS when a player is loaded with muted attribute\n      // and volume is changed with a native mute button\n      // we want to make sure muted state is updated\n\n      if (IS_IOS && this.player_.tech_ && this.player_.tech_.el_) {\n        this.player_.muted(this.player_.tech_.el_.muted);\n      }\n\n      if (vol === 0 || this.player_.muted()) {\n        level = 0;\n      } else if (vol < 0.33) {\n        level = 1;\n      } else if (vol < 0.67) {\n        level = 2;\n      } // TODO improve muted icon classes\n\n\n      for (var i = 0; i < 4; i++) {\n        removeClass(this.el_, \"vjs-vol-\" + i);\n      }\n\n      addClass(this.el_, \"vjs-vol-\" + level);\n    }\n    /**\n     * If `muted` has changed on the player, update the control text\n     * (`title` attribute on `vjs-mute-control` element and content of\n     * `vjs-control-text` element).\n     *\n     * @private\n     */\n    ;\n\n    _proto.updateControlText_ = function updateControlText_() {\n      var soundOff = this.player_.muted() || this.player_.volume() === 0;\n      var text = soundOff ? 'Unmute' : 'Mute';\n\n      if (this.controlText() !== text) {\n        this.controlText(text);\n      }\n    };\n\n    return MuteToggle;\n  }(Button);\n  /**\n   * The text that should display over the `MuteToggle`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  MuteToggle.prototype.controlText_ = 'Mute';\n  Component.registerComponent('MuteToggle', MuteToggle);\n\n  /**\n   * A Component to contain the MuteToggle and VolumeControl so that\n   * they can work together.\n   *\n   * @extends Component\n   */\n\n  var VolumePanel = /*#__PURE__*/function (_Component) {\n    inheritsLoose(VolumePanel, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function VolumePanel(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (typeof options.inline !== 'undefined') {\n        options.inline = options.inline;\n      } else {\n        options.inline = true;\n      } // pass the inline option down to the VolumeControl as vertical if\n      // the VolumeControl is on.\n\n\n      if (typeof options.volumeControl === 'undefined' || isPlain(options.volumeControl)) {\n        options.volumeControl = options.volumeControl || {};\n        options.volumeControl.vertical = !options.inline;\n      }\n\n      _this = _Component.call(this, player, options) || this; // this handler is used by mouse handler methods below\n\n      _this.handleKeyPressHandler_ = function (e) {\n        return _this.handleKeyPress(e);\n      };\n\n      _this.on(player, ['loadstart'], function (e) {\n        return _this.volumePanelState_(e);\n      });\n\n      _this.on(_this.muteToggle, 'keyup', function (e) {\n        return _this.handleKeyPress(e);\n      });\n\n      _this.on(_this.volumeControl, 'keyup', function (e) {\n        return _this.handleVolumeControlKeyUp(e);\n      });\n\n      _this.on('keydown', function (e) {\n        return _this.handleKeyPress(e);\n      });\n\n      _this.on('mouseover', function (e) {\n        return _this.handleMouseOver(e);\n      });\n\n      _this.on('mouseout', function (e) {\n        return _this.handleMouseOut(e);\n      }); // while the slider is active (the mouse has been pressed down and\n      // is dragging) we do not want to hide the VolumeBar\n\n\n      _this.on(_this.volumeControl, ['slideractive'], _this.sliderActive_);\n\n      _this.on(_this.volumeControl, ['sliderinactive'], _this.sliderInactive_);\n\n      return _this;\n    }\n    /**\n     * Add vjs-slider-active class to the VolumePanel\n     *\n     * @listens VolumeControl#slideractive\n     * @private\n     */\n\n\n    var _proto = VolumePanel.prototype;\n\n    _proto.sliderActive_ = function sliderActive_() {\n      this.addClass('vjs-slider-active');\n    }\n    /**\n     * Removes vjs-slider-active class to the VolumePanel\n     *\n     * @listens VolumeControl#sliderinactive\n     * @private\n     */\n    ;\n\n    _proto.sliderInactive_ = function sliderInactive_() {\n      this.removeClass('vjs-slider-active');\n    }\n    /**\n     * Adds vjs-hidden or vjs-mute-toggle-only to the VolumePanel\n     * depending on MuteToggle and VolumeControl state\n     *\n     * @listens Player#loadstart\n     * @private\n     */\n    ;\n\n    _proto.volumePanelState_ = function volumePanelState_() {\n      // hide volume panel if neither volume control or mute toggle\n      // are displayed\n      if (this.volumeControl.hasClass('vjs-hidden') && this.muteToggle.hasClass('vjs-hidden')) {\n        this.addClass('vjs-hidden');\n      } // if only mute toggle is visible we don't want\n      // volume panel expanding when hovered or active\n\n\n      if (this.volumeControl.hasClass('vjs-hidden') && !this.muteToggle.hasClass('vjs-hidden')) {\n        this.addClass('vjs-mute-toggle-only');\n      }\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      var orientationClass = 'vjs-volume-panel-horizontal';\n\n      if (!this.options_.inline) {\n        orientationClass = 'vjs-volume-panel-vertical';\n      }\n\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: \"vjs-volume-panel vjs-control \" + orientationClass\n      });\n    }\n    /**\n     * Dispose of the `volume-panel` and all child components.\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      this.handleMouseOut();\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Handles `keyup` events on the `VolumeControl`, looking for ESC, which closes\n     * the volume panel and sets focus on `MuteToggle`.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keyup` event that caused this function to be called.\n     *\n     * @listens keyup\n     */\n    ;\n\n    _proto.handleVolumeControlKeyUp = function handleVolumeControlKeyUp(event) {\n      if (keycode.isEventKey(event, 'Esc')) {\n        this.muteToggle.focus();\n      }\n    }\n    /**\n     * This gets called when a `VolumePanel` gains hover via a `mouseover` event.\n     * Turns on listening for `mouseover` event. When they happen it\n     * calls `this.handleMouseOver`.\n     *\n     * @param {EventTarget~Event} event\n     *        The `mouseover` event that caused this function to be called.\n     *\n     * @listens mouseover\n     */\n    ;\n\n    _proto.handleMouseOver = function handleMouseOver(event) {\n      this.addClass('vjs-hover');\n      on(document, 'keyup', this.handleKeyPressHandler_);\n    }\n    /**\n     * This gets called when a `VolumePanel` gains hover via a `mouseout` event.\n     * Turns on listening for `mouseout` event. When they happen it\n     * calls `this.handleMouseOut`.\n     *\n     * @param {EventTarget~Event} event\n     *        The `mouseout` event that caused this function to be called.\n     *\n     * @listens mouseout\n     */\n    ;\n\n    _proto.handleMouseOut = function handleMouseOut(event) {\n      this.removeClass('vjs-hover');\n      off(document, 'keyup', this.handleKeyPressHandler_);\n    }\n    /**\n     * Handles `keyup` event on the document or `keydown` event on the `VolumePanel`,\n     * looking for ESC, which hides the `VolumeControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        The keypress that triggered this event.\n     *\n     * @listens keydown | keyup\n     */\n    ;\n\n    _proto.handleKeyPress = function handleKeyPress(event) {\n      if (keycode.isEventKey(event, 'Esc')) {\n        this.handleMouseOut();\n      }\n    };\n\n    return VolumePanel;\n  }(Component);\n  /**\n   * Default options for the `VolumeControl`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  VolumePanel.prototype.options_ = {\n    children: ['muteToggle', 'volumeControl']\n  };\n  Component.registerComponent('VolumePanel', VolumePanel);\n\n  /**\n   * The Menu component is used to build popup menus, including subtitle and\n   * captions selection menus.\n   *\n   * @extends Component\n   */\n\n  var Menu = /*#__PURE__*/function (_Component) {\n    inheritsLoose(Menu, _Component);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Player} player\n     *        the player that this component should attach to\n     *\n     * @param {Object} [options]\n     *        Object of option names and values\n     *\n     */\n    function Menu(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n\n      if (options) {\n        _this.menuButton_ = options.menuButton;\n      }\n\n      _this.focusedChild_ = -1;\n\n      _this.on('keydown', function (e) {\n        return _this.handleKeyDown(e);\n      }); // All the menu item instances share the same blur handler provided by the menu container.\n\n\n      _this.boundHandleBlur_ = function (e) {\n        return _this.handleBlur(e);\n      };\n\n      _this.boundHandleTapClick_ = function (e) {\n        return _this.handleTapClick(e);\n      };\n\n      return _this;\n    }\n    /**\n     * Add event listeners to the {@link MenuItem}.\n     *\n     * @param {Object} component\n     *        The instance of the `MenuItem` to add listeners to.\n     *\n     */\n\n\n    var _proto = Menu.prototype;\n\n    _proto.addEventListenerForItem = function addEventListenerForItem(component) {\n      if (!(component instanceof Component)) {\n        return;\n      }\n\n      this.on(component, 'blur', this.boundHandleBlur_);\n      this.on(component, ['tap', 'click'], this.boundHandleTapClick_);\n    }\n    /**\n     * Remove event listeners from the {@link MenuItem}.\n     *\n     * @param {Object} component\n     *        The instance of the `MenuItem` to remove listeners.\n     *\n     */\n    ;\n\n    _proto.removeEventListenerForItem = function removeEventListenerForItem(component) {\n      if (!(component instanceof Component)) {\n        return;\n      }\n\n      this.off(component, 'blur', this.boundHandleBlur_);\n      this.off(component, ['tap', 'click'], this.boundHandleTapClick_);\n    }\n    /**\n     * This method will be called indirectly when the component has been added\n     * before the component adds to the new menu instance by `addItem`.\n     * In this case, the original menu instance will remove the component\n     * by calling `removeChild`.\n     *\n     * @param {Object} component\n     *        The instance of the `MenuItem`\n     */\n    ;\n\n    _proto.removeChild = function removeChild(component) {\n      if (typeof component === 'string') {\n        component = this.getChild(component);\n      }\n\n      this.removeEventListenerForItem(component);\n\n      _Component.prototype.removeChild.call(this, component);\n    }\n    /**\n     * Add a {@link MenuItem} to the menu.\n     *\n     * @param {Object|string} component\n     *        The name or instance of the `MenuItem` to add.\n     *\n     */\n    ;\n\n    _proto.addItem = function addItem(component) {\n      var childComponent = this.addChild(component);\n\n      if (childComponent) {\n        this.addEventListenerForItem(childComponent);\n      }\n    }\n    /**\n     * Create the `Menu`s DOM element.\n     *\n     * @return {Element}\n     *         the element that was created\n     */\n    ;\n\n    _proto.createEl = function createEl$1() {\n      var contentElType = this.options_.contentElType || 'ul';\n      this.contentEl_ = createEl(contentElType, {\n        className: 'vjs-menu-content'\n      });\n      this.contentEl_.setAttribute('role', 'menu');\n\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        append: this.contentEl_,\n        className: 'vjs-menu'\n      });\n\n      el.appendChild(this.contentEl_); // Prevent clicks from bubbling up. Needed for Menu Buttons,\n      // where a click on the parent is significant\n\n      on(el, 'click', function (event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      });\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      this.contentEl_ = null;\n      this.boundHandleBlur_ = null;\n      this.boundHandleTapClick_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Called when a `MenuItem` loses focus.\n     *\n     * @param {EventTarget~Event} event\n     *        The `blur` event that caused this function to be called.\n     *\n     * @listens blur\n     */\n    ;\n\n    _proto.handleBlur = function handleBlur(event) {\n      var relatedTarget = event.relatedTarget || document.activeElement; // Close menu popup when a user clicks outside the menu\n\n      if (!this.children().some(function (element) {\n        return element.el() === relatedTarget;\n      })) {\n        var btn = this.menuButton_;\n\n        if (btn && btn.buttonPressed_ && relatedTarget !== btn.el().firstChild) {\n          btn.unpressButton();\n        }\n      }\n    }\n    /**\n     * Called when a `MenuItem` gets clicked or tapped.\n     *\n     * @param {EventTarget~Event} event\n     *        The `click` or `tap` event that caused this function to be called.\n     *\n     * @listens click,tap\n     */\n    ;\n\n    _proto.handleTapClick = function handleTapClick(event) {\n      // Unpress the associated MenuButton, and move focus back to it\n      if (this.menuButton_) {\n        this.menuButton_.unpressButton();\n        var childComponents = this.children();\n\n        if (!Array.isArray(childComponents)) {\n          return;\n        }\n\n        var foundComponent = childComponents.filter(function (component) {\n          return component.el() === event.target;\n        })[0];\n\n        if (!foundComponent) {\n          return;\n        } // don't focus menu button if item is a caption settings item\n        // because focus will move elsewhere\n\n\n        if (foundComponent.name() !== 'CaptionSettingsMenuItem') {\n          this.menuButton_.focus();\n        }\n      }\n    }\n    /**\n     * Handle a `keydown` event on this menu. This listener is added in the constructor.\n     *\n     * @param {EventTarget~Event} event\n     *        A `keydown` event that happened on the menu.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Left and Down Arrows\n      if (keycode.isEventKey(event, 'Left') || keycode.isEventKey(event, 'Down')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.stepForward(); // Up and Right Arrows\n      } else if (keycode.isEventKey(event, 'Right') || keycode.isEventKey(event, 'Up')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.stepBack();\n      }\n    }\n    /**\n     * Move to next (lower) menu item for keyboard users.\n     */\n    ;\n\n    _proto.stepForward = function stepForward() {\n      var stepChild = 0;\n\n      if (this.focusedChild_ !== undefined) {\n        stepChild = this.focusedChild_ + 1;\n      }\n\n      this.focus(stepChild);\n    }\n    /**\n     * Move to previous (higher) menu item for keyboard users.\n     */\n    ;\n\n    _proto.stepBack = function stepBack() {\n      var stepChild = 0;\n\n      if (this.focusedChild_ !== undefined) {\n        stepChild = this.focusedChild_ - 1;\n      }\n\n      this.focus(stepChild);\n    }\n    /**\n     * Set focus on a {@link MenuItem} in the `Menu`.\n     *\n     * @param {Object|string} [item=0]\n     *        Index of child item set focus on.\n     */\n    ;\n\n    _proto.focus = function focus(item) {\n      if (item === void 0) {\n        item = 0;\n      }\n\n      var children = this.children().slice();\n      var haveTitle = children.length && children[0].hasClass('vjs-menu-title');\n\n      if (haveTitle) {\n        children.shift();\n      }\n\n      if (children.length > 0) {\n        if (item < 0) {\n          item = 0;\n        } else if (item >= children.length) {\n          item = children.length - 1;\n        }\n\n        this.focusedChild_ = item;\n        children[item].el_.focus();\n      }\n    };\n\n    return Menu;\n  }(Component);\n\n  Component.registerComponent('Menu', Menu);\n\n  /**\n   * A `MenuButton` class for any popup {@link Menu}.\n   *\n   * @extends Component\n   */\n\n  var MenuButton = /*#__PURE__*/function (_Component) {\n    inheritsLoose(MenuButton, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function MenuButton(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _Component.call(this, player, options) || this;\n      _this.menuButton_ = new Button(player, options);\n\n      _this.menuButton_.controlText(_this.controlText_);\n\n      _this.menuButton_.el_.setAttribute('aria-haspopup', 'true'); // Add buildCSSClass values to the button, not the wrapper\n\n\n      var buttonClass = Button.prototype.buildCSSClass();\n      _this.menuButton_.el_.className = _this.buildCSSClass() + ' ' + buttonClass;\n\n      _this.menuButton_.removeClass('vjs-control');\n\n      _this.addChild(_this.menuButton_);\n\n      _this.update();\n\n      _this.enabled_ = true;\n\n      var handleClick = function handleClick(e) {\n        return _this.handleClick(e);\n      };\n\n      _this.handleMenuKeyUp_ = function (e) {\n        return _this.handleMenuKeyUp(e);\n      };\n\n      _this.on(_this.menuButton_, 'tap', handleClick);\n\n      _this.on(_this.menuButton_, 'click', handleClick);\n\n      _this.on(_this.menuButton_, 'keydown', function (e) {\n        return _this.handleKeyDown(e);\n      });\n\n      _this.on(_this.menuButton_, 'mouseenter', function () {\n        _this.addClass('vjs-hover');\n\n        _this.menu.show();\n\n        on(document, 'keyup', _this.handleMenuKeyUp_);\n      });\n\n      _this.on('mouseleave', function (e) {\n        return _this.handleMouseLeave(e);\n      });\n\n      _this.on('keydown', function (e) {\n        return _this.handleSubmenuKeyDown(e);\n      });\n\n      return _this;\n    }\n    /**\n     * Update the menu based on the current state of its items.\n     */\n\n\n    var _proto = MenuButton.prototype;\n\n    _proto.update = function update() {\n      var menu = this.createMenu();\n\n      if (this.menu) {\n        this.menu.dispose();\n        this.removeChild(this.menu);\n      }\n\n      this.menu = menu;\n      this.addChild(menu);\n      /**\n       * Track the state of the menu button\n       *\n       * @type {Boolean}\n       * @private\n       */\n\n      this.buttonPressed_ = false;\n      this.menuButton_.el_.setAttribute('aria-expanded', 'false');\n\n      if (this.items && this.items.length <= this.hideThreshold_) {\n        this.hide();\n        this.menu.contentEl_.removeAttribute('role');\n      } else {\n        this.show();\n        this.menu.contentEl_.setAttribute('role', 'menu');\n      }\n    }\n    /**\n     * Create the menu and add all items to it.\n     *\n     * @return {Menu}\n     *         The constructed menu\n     */\n    ;\n\n    _proto.createMenu = function createMenu() {\n      var menu = new Menu(this.player_, {\n        menuButton: this\n      });\n      /**\n       * Hide the menu if the number of items is less than or equal to this threshold. This defaults\n       * to 0 and whenever we add items which can be hidden to the menu we'll increment it. We list\n       * it here because every time we run `createMenu` we need to reset the value.\n       *\n       * @protected\n       * @type {Number}\n       */\n\n      this.hideThreshold_ = 0; // Add a title list item to the top\n\n      if (this.options_.title) {\n        var titleEl = createEl('li', {\n          className: 'vjs-menu-title',\n          textContent: toTitleCase(this.options_.title),\n          tabIndex: -1\n        });\n        var titleComponent = new Component(this.player_, {\n          el: titleEl\n        });\n        menu.addItem(titleComponent);\n      }\n\n      this.items = this.createItems();\n\n      if (this.items) {\n        // Add menu items to the menu\n        for (var i = 0; i < this.items.length; i++) {\n          menu.addItem(this.items[i]);\n        }\n      }\n\n      return menu;\n    }\n    /**\n     * Create the list of menu items. Specific to each subclass.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.createItems = function createItems() {}\n    /**\n     * Create the `MenuButtons`s DOM element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: this.buildWrapperCSSClass()\n      }, {});\n    }\n    /**\n     * Allow sub components to stack CSS class names for the wrapper element\n     *\n     * @return {string}\n     *         The constructed wrapper DOM `className`\n     */\n    ;\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      var menuButtonClass = 'vjs-menu-button'; // If the inline option is passed, we want to use different styles altogether.\n\n      if (this.options_.inline === true) {\n        menuButtonClass += '-inline';\n      } else {\n        menuButtonClass += '-popup';\n      } // TODO: Fix the CSS so that this isn't necessary\n\n\n      var buttonClass = Button.prototype.buildCSSClass();\n      return \"vjs-menu-button \" + menuButtonClass + \" \" + buttonClass + \" \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      var menuButtonClass = 'vjs-menu-button'; // If the inline option is passed, we want to use different styles altogether.\n\n      if (this.options_.inline === true) {\n        menuButtonClass += '-inline';\n      } else {\n        menuButtonClass += '-popup';\n      }\n\n      return \"vjs-menu-button \" + menuButtonClass + \" \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Get or set the localized control text that will be used for accessibility.\n     *\n     * > NOTE: This will come from the internal `menuButton_` element.\n     *\n     * @param {string} [text]\n     *        Control text for element.\n     *\n     * @param {Element} [el=this.menuButton_.el()]\n     *        Element to set the title on.\n     *\n     * @return {string}\n     *         - The control text when getting\n     */\n    ;\n\n    _proto.controlText = function controlText(text, el) {\n      if (el === void 0) {\n        el = this.menuButton_.el();\n      }\n\n      return this.menuButton_.controlText(text, el);\n    }\n    /**\n     * Dispose of the `menu-button` and all child components.\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      this.handleMouseLeave();\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Handle a click on a `MenuButton`.\n     * See {@link ClickableComponent#handleClick} for instances where this is called.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      if (this.buttonPressed_) {\n        this.unpressButton();\n      } else {\n        this.pressButton();\n      }\n    }\n    /**\n     * Handle `mouseleave` for `MenuButton`.\n     *\n     * @param {EventTarget~Event} event\n     *        The `mouseleave` event that caused this function to be called.\n     *\n     * @listens mouseleave\n     */\n    ;\n\n    _proto.handleMouseLeave = function handleMouseLeave(event) {\n      this.removeClass('vjs-hover');\n      off(document, 'keyup', this.handleMenuKeyUp_);\n    }\n    /**\n     * Set the focus to the actual button, not to this element\n     */\n    ;\n\n    _proto.focus = function focus() {\n      this.menuButton_.focus();\n    }\n    /**\n     * Remove the focus from the actual button, not this element\n     */\n    ;\n\n    _proto.blur = function blur() {\n      this.menuButton_.blur();\n    }\n    /**\n     * Handle tab, escape, down arrow, and up arrow keys for `MenuButton`. See\n     * {@link ClickableComponent#handleKeyDown} for instances where this is called.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Escape or Tab unpress the 'button'\n      if (keycode.isEventKey(event, 'Esc') || keycode.isEventKey(event, 'Tab')) {\n        if (this.buttonPressed_) {\n          this.unpressButton();\n        } // Don't preventDefault for Tab key - we still want to lose focus\n\n\n        if (!keycode.isEventKey(event, 'Tab')) {\n          event.preventDefault(); // Set focus back to the menu button's button\n\n          this.menuButton_.focus();\n        } // Up Arrow or Down Arrow also 'press' the button to open the menu\n\n      } else if (keycode.isEventKey(event, 'Up') || keycode.isEventKey(event, 'Down')) {\n        if (!this.buttonPressed_) {\n          event.preventDefault();\n          this.pressButton();\n        }\n      }\n    }\n    /**\n     * Handle a `keyup` event on a `MenuButton`. The listener for this is added in\n     * the constructor.\n     *\n     * @param {EventTarget~Event} event\n     *        Key press event\n     *\n     * @listens keyup\n     */\n    ;\n\n    _proto.handleMenuKeyUp = function handleMenuKeyUp(event) {\n      // Escape hides popup menu\n      if (keycode.isEventKey(event, 'Esc') || keycode.isEventKey(event, 'Tab')) {\n        this.removeClass('vjs-hover');\n      }\n    }\n    /**\n     * This method name now delegates to `handleSubmenuKeyDown`. This means\n     * anyone calling `handleSubmenuKeyPress` will not see their method calls\n     * stop working.\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleSubmenuKeyPress = function handleSubmenuKeyPress(event) {\n      this.handleSubmenuKeyDown(event);\n    }\n    /**\n     * Handle a `keydown` event on a sub-menu. The listener for this is added in\n     * the constructor.\n     *\n     * @param {EventTarget~Event} event\n     *        Key press event\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleSubmenuKeyDown = function handleSubmenuKeyDown(event) {\n      // Escape or Tab unpress the 'button'\n      if (keycode.isEventKey(event, 'Esc') || keycode.isEventKey(event, 'Tab')) {\n        if (this.buttonPressed_) {\n          this.unpressButton();\n        } // Don't preventDefault for Tab key - we still want to lose focus\n\n\n        if (!keycode.isEventKey(event, 'Tab')) {\n          event.preventDefault(); // Set focus back to the menu button's button\n\n          this.menuButton_.focus();\n        }\n      }\n    }\n    /**\n     * Put the current `MenuButton` into a pressed state.\n     */\n    ;\n\n    _proto.pressButton = function pressButton() {\n      if (this.enabled_) {\n        this.buttonPressed_ = true;\n        this.menu.show();\n        this.menu.lockShowing();\n        this.menuButton_.el_.setAttribute('aria-expanded', 'true'); // set the focus into the submenu, except on iOS where it is resulting in\n        // undesired scrolling behavior when the player is in an iframe\n\n        if (IS_IOS && isInFrame()) {\n          // Return early so that the menu isn't focused\n          return;\n        }\n\n        this.menu.focus();\n      }\n    }\n    /**\n     * Take the current `MenuButton` out of a pressed state.\n     */\n    ;\n\n    _proto.unpressButton = function unpressButton() {\n      if (this.enabled_) {\n        this.buttonPressed_ = false;\n        this.menu.unlockShowing();\n        this.menu.hide();\n        this.menuButton_.el_.setAttribute('aria-expanded', 'false');\n      }\n    }\n    /**\n     * Disable the `MenuButton`. Don't allow it to be clicked.\n     */\n    ;\n\n    _proto.disable = function disable() {\n      this.unpressButton();\n      this.enabled_ = false;\n      this.addClass('vjs-disabled');\n      this.menuButton_.disable();\n    }\n    /**\n     * Enable the `MenuButton`. Allow it to be clicked.\n     */\n    ;\n\n    _proto.enable = function enable() {\n      this.enabled_ = true;\n      this.removeClass('vjs-disabled');\n      this.menuButton_.enable();\n    };\n\n    return MenuButton;\n  }(Component);\n\n  Component.registerComponent('MenuButton', MenuButton);\n\n  /**\n   * The base class for buttons that toggle specific  track types (e.g. subtitles).\n   *\n   * @extends MenuButton\n   */\n\n  var TrackButton = /*#__PURE__*/function (_MenuButton) {\n    inheritsLoose(TrackButton, _MenuButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function TrackButton(player, options) {\n      var _this;\n\n      var tracks = options.tracks;\n      _this = _MenuButton.call(this, player, options) || this;\n\n      if (_this.items.length <= 1) {\n        _this.hide();\n      }\n\n      if (!tracks) {\n        return assertThisInitialized(_this);\n      }\n\n      var updateHandler = bind(assertThisInitialized(_this), _this.update);\n      tracks.addEventListener('removetrack', updateHandler);\n      tracks.addEventListener('addtrack', updateHandler);\n      tracks.addEventListener('labelchange', updateHandler);\n\n      _this.player_.on('ready', updateHandler);\n\n      _this.player_.on('dispose', function () {\n        tracks.removeEventListener('removetrack', updateHandler);\n        tracks.removeEventListener('addtrack', updateHandler);\n        tracks.removeEventListener('labelchange', updateHandler);\n      });\n\n      return _this;\n    }\n\n    return TrackButton;\n  }(MenuButton);\n\n  Component.registerComponent('TrackButton', TrackButton);\n\n  /**\n   * @file menu-keys.js\n   */\n\n  /**\n    * All keys used for operation of a menu (`MenuButton`, `Menu`, and `MenuItem`)\n    * Note that 'Enter' and 'Space' are not included here (otherwise they would\n    * prevent the `MenuButton` and `MenuItem` from being keyboard-clickable)\n    * @typedef MenuKeys\n    * @array\n    */\n  var MenuKeys = ['Tab', 'Esc', 'Up', 'Down', 'Right', 'Left'];\n\n  /**\n   * The component for a menu item. `<li>`\n   *\n   * @extends ClickableComponent\n   */\n\n  var MenuItem = /*#__PURE__*/function (_ClickableComponent) {\n    inheritsLoose(MenuItem, _ClickableComponent);\n\n    /**\n     * Creates an instance of the this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     *\n     */\n    function MenuItem(player, options) {\n      var _this;\n\n      _this = _ClickableComponent.call(this, player, options) || this;\n      _this.selectable = options.selectable;\n      _this.isSelected_ = options.selected || false;\n      _this.multiSelectable = options.multiSelectable;\n\n      _this.selected(_this.isSelected_);\n\n      if (_this.selectable) {\n        if (_this.multiSelectable) {\n          _this.el_.setAttribute('role', 'menuitemcheckbox');\n        } else {\n          _this.el_.setAttribute('role', 'menuitemradio');\n        }\n      } else {\n        _this.el_.setAttribute('role', 'menuitem');\n      }\n\n      return _this;\n    }\n    /**\n     * Create the `MenuItem's DOM element\n     *\n     * @param {string} [type=li]\n     *        Element's node type, not actually used, always set to `li`.\n     *\n     * @param {Object} [props={}]\n     *        An object of properties that should be set on the element\n     *\n     * @param {Object} [attrs={}]\n     *        An object of attributes that should be set on the element\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n\n\n    var _proto = MenuItem.prototype;\n\n    _proto.createEl = function createEl$1(type, props, attrs) {\n      // The control is textual, not just an icon\n      this.nonIconControl = true;\n\n      var el = _ClickableComponent.prototype.createEl.call(this, 'li', assign({\n        className: 'vjs-menu-item',\n        tabIndex: -1\n      }, props), attrs); // swap icon with menu item text.\n\n\n      el.replaceChild(createEl('span', {\n        className: 'vjs-menu-item-text',\n        textContent: this.localize(this.options_.label)\n      }), el.querySelector('.vjs-icon-placeholder'));\n      return el;\n    }\n    /**\n     * Ignore keys which are used by the menu, but pass any other ones up. See\n     * {@link ClickableComponent#handleKeyDown} for instances where this is called.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      if (!MenuKeys.some(function (key) {\n        return keycode.isEventKey(event, key);\n      })) {\n        // Pass keydown handling up for unused keys\n        _ClickableComponent.prototype.handleKeyDown.call(this, event);\n      }\n    }\n    /**\n     * Any click on a `MenuItem` puts it into the selected state.\n     * See {@link ClickableComponent#handleClick} for instances where this is called.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      this.selected(true);\n    }\n    /**\n     * Set the state for this menu item as selected or not.\n     *\n     * @param {boolean} selected\n     *        if the menu item is selected or not\n     */\n    ;\n\n    _proto.selected = function selected(_selected) {\n      if (this.selectable) {\n        if (_selected) {\n          this.addClass('vjs-selected');\n          this.el_.setAttribute('aria-checked', 'true'); // aria-checked isn't fully supported by browsers/screen readers,\n          // so indicate selected state to screen reader in the control text.\n\n          this.controlText(', selected');\n          this.isSelected_ = true;\n        } else {\n          this.removeClass('vjs-selected');\n          this.el_.setAttribute('aria-checked', 'false'); // Indicate un-selected state to screen reader\n\n          this.controlText('');\n          this.isSelected_ = false;\n        }\n      }\n    };\n\n    return MenuItem;\n  }(ClickableComponent);\n\n  Component.registerComponent('MenuItem', MenuItem);\n\n  /**\n   * The specific menu item type for selecting a language within a text track kind\n   *\n   * @extends MenuItem\n   */\n\n  var TextTrackMenuItem = /*#__PURE__*/function (_MenuItem) {\n    inheritsLoose(TextTrackMenuItem, _MenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function TextTrackMenuItem(player, options) {\n      var _this;\n\n      var track = options.track;\n      var tracks = player.textTracks(); // Modify options for parent MenuItem class's init.\n\n      options.label = track.label || track.language || 'Unknown';\n      options.selected = track.mode === 'showing';\n      _this = _MenuItem.call(this, player, options) || this;\n      _this.track = track; // Determine the relevant kind(s) of tracks for this component and filter\n      // out empty kinds.\n\n      _this.kinds = (options.kinds || [options.kind || _this.track.kind]).filter(Boolean);\n\n      var changeHandler = function changeHandler() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this.handleTracksChange.apply(assertThisInitialized(_this), args);\n      };\n\n      var selectedLanguageChangeHandler = function selectedLanguageChangeHandler() {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        _this.handleSelectedLanguageChange.apply(assertThisInitialized(_this), args);\n      };\n\n      player.on(['loadstart', 'texttrackchange'], changeHandler);\n      tracks.addEventListener('change', changeHandler);\n      tracks.addEventListener('selectedlanguagechange', selectedLanguageChangeHandler);\n\n      _this.on('dispose', function () {\n        player.off(['loadstart', 'texttrackchange'], changeHandler);\n        tracks.removeEventListener('change', changeHandler);\n        tracks.removeEventListener('selectedlanguagechange', selectedLanguageChangeHandler);\n      }); // iOS7 doesn't dispatch change events to TextTrackLists when an\n      // associated track's mode changes. Without something like\n      // Object.observe() (also not present on iOS7), it's not\n      // possible to detect changes to the mode attribute and polyfill\n      // the change event. As a poor substitute, we manually dispatch\n      // change events whenever the controls modify the mode.\n\n\n      if (tracks.onchange === undefined) {\n        var event;\n\n        _this.on(['tap', 'click'], function () {\n          if (typeof window.Event !== 'object') {\n            // Android 2.3 throws an Illegal Constructor error for window.Event\n            try {\n              event = new window.Event('change');\n            } catch (err) {// continue regardless of error\n            }\n          }\n\n          if (!event) {\n            event = document.createEvent('Event');\n            event.initEvent('change', true, true);\n          }\n\n          tracks.dispatchEvent(event);\n        });\n      } // set the default state based on current tracks\n\n\n      _this.handleTracksChange();\n\n      return _this;\n    }\n    /**\n     * This gets called when an `TextTrackMenuItem` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n\n\n    var _proto = TextTrackMenuItem.prototype;\n\n    _proto.handleClick = function handleClick(event) {\n      var referenceTrack = this.track;\n      var tracks = this.player_.textTracks();\n\n      _MenuItem.prototype.handleClick.call(this, event);\n\n      if (!tracks) {\n        return;\n      }\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i]; // If the track from the text tracks list is not of the right kind,\n        // skip it. We do not want to affect tracks of incompatible kind(s).\n\n        if (this.kinds.indexOf(track.kind) === -1) {\n          continue;\n        } // If this text track is the component's track and it is not showing,\n        // set it to showing.\n\n\n        if (track === referenceTrack) {\n          if (track.mode !== 'showing') {\n            track.mode = 'showing';\n          } // If this text track is not the component's track and it is not\n          // disabled, set it to disabled.\n\n        } else if (track.mode !== 'disabled') {\n          track.mode = 'disabled';\n        }\n      }\n    }\n    /**\n     * Handle text track list change\n     *\n     * @param {EventTarget~Event} event\n     *        The `change` event that caused this function to be called.\n     *\n     * @listens TextTrackList#change\n     */\n    ;\n\n    _proto.handleTracksChange = function handleTracksChange(event) {\n      var shouldBeSelected = this.track.mode === 'showing'; // Prevent redundant selected() calls because they may cause\n      // screen readers to read the appended control text unnecessarily\n\n      if (shouldBeSelected !== this.isSelected_) {\n        this.selected(shouldBeSelected);\n      }\n    };\n\n    _proto.handleSelectedLanguageChange = function handleSelectedLanguageChange(event) {\n      if (this.track.mode === 'showing') {\n        var selectedLanguage = this.player_.cache_.selectedLanguage; // Don't replace the kind of track across the same language\n\n        if (selectedLanguage && selectedLanguage.enabled && selectedLanguage.language === this.track.language && selectedLanguage.kind !== this.track.kind) {\n          return;\n        }\n\n        this.player_.cache_.selectedLanguage = {\n          enabled: true,\n          language: this.track.language,\n          kind: this.track.kind\n        };\n      }\n    };\n\n    _proto.dispose = function dispose() {\n      // remove reference to track object on dispose\n      this.track = null;\n\n      _MenuItem.prototype.dispose.call(this);\n    };\n\n    return TextTrackMenuItem;\n  }(MenuItem);\n\n  Component.registerComponent('TextTrackMenuItem', TextTrackMenuItem);\n\n  /**\n   * A special menu item for turning of a specific type of text track\n   *\n   * @extends TextTrackMenuItem\n   */\n\n  var OffTextTrackMenuItem = /*#__PURE__*/function (_TextTrackMenuItem) {\n    inheritsLoose(OffTextTrackMenuItem, _TextTrackMenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function OffTextTrackMenuItem(player, options) {\n      // Create pseudo track info\n      // Requires options['kind']\n      options.track = {\n        player: player,\n        // it is no longer necessary to store `kind` or `kinds` on the track itself\n        // since they are now stored in the `kinds` property of all instances of\n        // TextTrackMenuItem, but this will remain for backwards compatibility\n        kind: options.kind,\n        kinds: options.kinds,\n        \"default\": false,\n        mode: 'disabled'\n      };\n\n      if (!options.kinds) {\n        options.kinds = [options.kind];\n      }\n\n      if (options.label) {\n        options.track.label = options.label;\n      } else {\n        options.track.label = options.kinds.join(' and ') + ' off';\n      } // MenuItem is selectable\n\n\n      options.selectable = true; // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n\n      options.multiSelectable = false;\n      return _TextTrackMenuItem.call(this, player, options) || this;\n    }\n    /**\n     * Handle text track change\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to run\n     */\n\n\n    var _proto = OffTextTrackMenuItem.prototype;\n\n    _proto.handleTracksChange = function handleTracksChange(event) {\n      var tracks = this.player().textTracks();\n      var shouldBeSelected = true;\n\n      for (var i = 0, l = tracks.length; i < l; i++) {\n        var track = tracks[i];\n\n        if (this.options_.kinds.indexOf(track.kind) > -1 && track.mode === 'showing') {\n          shouldBeSelected = false;\n          break;\n        }\n      } // Prevent redundant selected() calls because they may cause\n      // screen readers to read the appended control text unnecessarily\n\n\n      if (shouldBeSelected !== this.isSelected_) {\n        this.selected(shouldBeSelected);\n      }\n    };\n\n    _proto.handleSelectedLanguageChange = function handleSelectedLanguageChange(event) {\n      var tracks = this.player().textTracks();\n      var allHidden = true;\n\n      for (var i = 0, l = tracks.length; i < l; i++) {\n        var track = tracks[i];\n\n        if (['captions', 'descriptions', 'subtitles'].indexOf(track.kind) > -1 && track.mode === 'showing') {\n          allHidden = false;\n          break;\n        }\n      }\n\n      if (allHidden) {\n        this.player_.cache_.selectedLanguage = {\n          enabled: false\n        };\n      }\n    };\n\n    return OffTextTrackMenuItem;\n  }(TextTrackMenuItem);\n\n  Component.registerComponent('OffTextTrackMenuItem', OffTextTrackMenuItem);\n\n  /**\n   * The base class for buttons that toggle specific text track types (e.g. subtitles)\n   *\n   * @extends MenuButton\n   */\n\n  var TextTrackButton = /*#__PURE__*/function (_TrackButton) {\n    inheritsLoose(TextTrackButton, _TrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function TextTrackButton(player, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      options.tracks = player.textTracks();\n      return _TrackButton.call(this, player, options) || this;\n    }\n    /**\n     * Create a menu item for each text track\n     *\n     * @param {TextTrackMenuItem[]} [items=[]]\n     *        Existing array of items to use during creation\n     *\n     * @return {TextTrackMenuItem[]}\n     *         Array of menu items that were created\n     */\n\n\n    var _proto = TextTrackButton.prototype;\n\n    _proto.createItems = function createItems(items, TrackMenuItem) {\n      if (items === void 0) {\n        items = [];\n      }\n\n      if (TrackMenuItem === void 0) {\n        TrackMenuItem = TextTrackMenuItem;\n      }\n\n      // Label is an override for the [track] off label\n      // USed to localise captions/subtitles\n      var label;\n\n      if (this.label_) {\n        label = this.label_ + \" off\";\n      } // Add an OFF menu item to turn all tracks off\n\n\n      items.push(new OffTextTrackMenuItem(this.player_, {\n        kinds: this.kinds_,\n        kind: this.kind_,\n        label: label\n      }));\n      this.hideThreshold_ += 1;\n      var tracks = this.player_.textTracks();\n\n      if (!Array.isArray(this.kinds_)) {\n        this.kinds_ = [this.kind_];\n      }\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i]; // only add tracks that are of an appropriate kind and have a label\n\n        if (this.kinds_.indexOf(track.kind) > -1) {\n          var item = new TrackMenuItem(this.player_, {\n            track: track,\n            kinds: this.kinds_,\n            kind: this.kind_,\n            // MenuItem is selectable\n            selectable: true,\n            // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n            multiSelectable: false\n          });\n          item.addClass(\"vjs-\" + track.kind + \"-menu-item\");\n          items.push(item);\n        }\n      }\n\n      return items;\n    };\n\n    return TextTrackButton;\n  }(TrackButton);\n\n  Component.registerComponent('TextTrackButton', TextTrackButton);\n\n  /**\n   * The chapter track menu item\n   *\n   * @extends MenuItem\n   */\n\n  var ChaptersTrackMenuItem = /*#__PURE__*/function (_MenuItem) {\n    inheritsLoose(ChaptersTrackMenuItem, _MenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function ChaptersTrackMenuItem(player, options) {\n      var _this;\n\n      var track = options.track;\n      var cue = options.cue;\n      var currentTime = player.currentTime(); // Modify options for parent MenuItem class's init.\n\n      options.selectable = true;\n      options.multiSelectable = false;\n      options.label = cue.text;\n      options.selected = cue.startTime <= currentTime && currentTime < cue.endTime;\n      _this = _MenuItem.call(this, player, options) || this;\n      _this.track = track;\n      _this.cue = cue;\n      return _this;\n    }\n    /**\n     * This gets called when an `ChaptersTrackMenuItem` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n\n\n    var _proto = ChaptersTrackMenuItem.prototype;\n\n    _proto.handleClick = function handleClick(event) {\n      _MenuItem.prototype.handleClick.call(this);\n\n      this.player_.currentTime(this.cue.startTime);\n    };\n\n    return ChaptersTrackMenuItem;\n  }(MenuItem);\n\n  Component.registerComponent('ChaptersTrackMenuItem', ChaptersTrackMenuItem);\n\n  /**\n   * The button component for toggling and selecting chapters\n   * Chapters act much differently than other text tracks\n   * Cues are navigation vs. other tracks of alternative languages\n   *\n   * @extends TextTrackButton\n   */\n\n  var ChaptersButton = /*#__PURE__*/function (_TextTrackButton) {\n    inheritsLoose(ChaptersButton, _TextTrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when this function is ready.\n     */\n    function ChaptersButton(player, options, ready) {\n      var _this;\n\n      _this = _TextTrackButton.call(this, player, options, ready) || this;\n\n      _this.selectCurrentItem_ = function () {\n        _this.items.forEach(function (item) {\n          item.selected(_this.track_.activeCues[0] === item.cue);\n        });\n      };\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = ChaptersButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-chapters-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-chapters-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Update the menu based on the current state of its items.\n     *\n     * @param {EventTarget~Event} [event]\n     *        An event that triggered this function to run.\n     *\n     * @listens TextTrackList#addtrack\n     * @listens TextTrackList#removetrack\n     * @listens TextTrackList#change\n     */\n    ;\n\n    _proto.update = function update(event) {\n      if (event && event.track && event.track.kind !== 'chapters') {\n        return;\n      }\n\n      var track = this.findChaptersTrack();\n\n      if (track !== this.track_) {\n        this.setTrack(track);\n\n        _TextTrackButton.prototype.update.call(this);\n      } else if (!this.items || track && track.cues && track.cues.length !== this.items.length) {\n        // Update the menu initially or if the number of cues has changed since set\n        _TextTrackButton.prototype.update.call(this);\n      }\n    }\n    /**\n     * Set the currently selected track for the chapters button.\n     *\n     * @param {TextTrack} track\n     *        The new track to select. Nothing will change if this is the currently selected\n     *        track.\n     */\n    ;\n\n    _proto.setTrack = function setTrack(track) {\n      if (this.track_ === track) {\n        return;\n      }\n\n      if (!this.updateHandler_) {\n        this.updateHandler_ = this.update.bind(this);\n      } // here this.track_ refers to the old track instance\n\n\n      if (this.track_) {\n        var remoteTextTrackEl = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);\n\n        if (remoteTextTrackEl) {\n          remoteTextTrackEl.removeEventListener('load', this.updateHandler_);\n        }\n\n        this.track_.removeEventListener('cuechange', this.selectCurrentItem_);\n        this.track_ = null;\n      }\n\n      this.track_ = track; // here this.track_ refers to the new track instance\n\n      if (this.track_) {\n        this.track_.mode = 'hidden';\n\n        var _remoteTextTrackEl = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);\n\n        if (_remoteTextTrackEl) {\n          _remoteTextTrackEl.addEventListener('load', this.updateHandler_);\n        }\n\n        this.track_.addEventListener('cuechange', this.selectCurrentItem_);\n      }\n    }\n    /**\n     * Find the track object that is currently in use by this ChaptersButton\n     *\n     * @return {TextTrack|undefined}\n     *         The current track or undefined if none was found.\n     */\n    ;\n\n    _proto.findChaptersTrack = function findChaptersTrack() {\n      var tracks = this.player_.textTracks() || [];\n\n      for (var i = tracks.length - 1; i >= 0; i--) {\n        // We will always choose the last track as our chaptersTrack\n        var track = tracks[i];\n\n        if (track.kind === this.kind_) {\n          return track;\n        }\n      }\n    }\n    /**\n     * Get the caption for the ChaptersButton based on the track label. This will also\n     * use the current tracks localized kind as a fallback if a label does not exist.\n     *\n     * @return {string}\n     *         The tracks current label or the localized track kind.\n     */\n    ;\n\n    _proto.getMenuCaption = function getMenuCaption() {\n      if (this.track_ && this.track_.label) {\n        return this.track_.label;\n      }\n\n      return this.localize(toTitleCase(this.kind_));\n    }\n    /**\n     * Create menu from chapter track\n     *\n     * @return {Menu}\n     *         New menu for the chapter buttons\n     */\n    ;\n\n    _proto.createMenu = function createMenu() {\n      this.options_.title = this.getMenuCaption();\n      return _TextTrackButton.prototype.createMenu.call(this);\n    }\n    /**\n     * Create a menu item for each text track\n     *\n     * @return {TextTrackMenuItem[]}\n     *         Array of menu items\n     */\n    ;\n\n    _proto.createItems = function createItems() {\n      var items = [];\n\n      if (!this.track_) {\n        return items;\n      }\n\n      var cues = this.track_.cues;\n\n      if (!cues) {\n        return items;\n      }\n\n      for (var i = 0, l = cues.length; i < l; i++) {\n        var cue = cues[i];\n        var mi = new ChaptersTrackMenuItem(this.player_, {\n          track: this.track_,\n          cue: cue\n        });\n        items.push(mi);\n      }\n\n      return items;\n    };\n\n    return ChaptersButton;\n  }(TextTrackButton);\n  /**\n   * `kind` of TextTrack to look for to associate it with this menu.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  ChaptersButton.prototype.kind_ = 'chapters';\n  /**\n   * The text that should display over the `ChaptersButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n  ChaptersButton.prototype.controlText_ = 'Chapters';\n  Component.registerComponent('ChaptersButton', ChaptersButton);\n\n  /**\n   * The button component for toggling and selecting descriptions\n   *\n   * @extends TextTrackButton\n   */\n\n  var DescriptionsButton = /*#__PURE__*/function (_TextTrackButton) {\n    inheritsLoose(DescriptionsButton, _TextTrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when this component is ready.\n     */\n    function DescriptionsButton(player, options, ready) {\n      var _this;\n\n      _this = _TextTrackButton.call(this, player, options, ready) || this;\n      var tracks = player.textTracks();\n      var changeHandler = bind(assertThisInitialized(_this), _this.handleTracksChange);\n      tracks.addEventListener('change', changeHandler);\n\n      _this.on('dispose', function () {\n        tracks.removeEventListener('change', changeHandler);\n      });\n\n      return _this;\n    }\n    /**\n     * Handle text track change\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to run\n     *\n     * @listens TextTrackList#change\n     */\n\n\n    var _proto = DescriptionsButton.prototype;\n\n    _proto.handleTracksChange = function handleTracksChange(event) {\n      var tracks = this.player().textTracks();\n      var disabled = false; // Check whether a track of a different kind is showing\n\n      for (var i = 0, l = tracks.length; i < l; i++) {\n        var track = tracks[i];\n\n        if (track.kind !== this.kind_ && track.mode === 'showing') {\n          disabled = true;\n          break;\n        }\n      } // If another track is showing, disable this menu button\n\n\n      if (disabled) {\n        this.disable();\n      } else {\n        this.enable();\n      }\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-descriptions-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-descriptions-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    };\n\n    return DescriptionsButton;\n  }(TextTrackButton);\n  /**\n   * `kind` of TextTrack to look for to associate it with this menu.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  DescriptionsButton.prototype.kind_ = 'descriptions';\n  /**\n   * The text that should display over the `DescriptionsButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n  DescriptionsButton.prototype.controlText_ = 'Descriptions';\n  Component.registerComponent('DescriptionsButton', DescriptionsButton);\n\n  /**\n   * The button component for toggling and selecting subtitles\n   *\n   * @extends TextTrackButton\n   */\n\n  var SubtitlesButton = /*#__PURE__*/function (_TextTrackButton) {\n    inheritsLoose(SubtitlesButton, _TextTrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when this component is ready.\n     */\n    function SubtitlesButton(player, options, ready) {\n      return _TextTrackButton.call(this, player, options, ready) || this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = SubtitlesButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-subtitles-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-subtitles-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    };\n\n    return SubtitlesButton;\n  }(TextTrackButton);\n  /**\n   * `kind` of TextTrack to look for to associate it with this menu.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  SubtitlesButton.prototype.kind_ = 'subtitles';\n  /**\n   * The text that should display over the `SubtitlesButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n  SubtitlesButton.prototype.controlText_ = 'Subtitles';\n  Component.registerComponent('SubtitlesButton', SubtitlesButton);\n\n  /**\n   * The menu item for caption track settings menu\n   *\n   * @extends TextTrackMenuItem\n   */\n\n  var CaptionSettingsMenuItem = /*#__PURE__*/function (_TextTrackMenuItem) {\n    inheritsLoose(CaptionSettingsMenuItem, _TextTrackMenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function CaptionSettingsMenuItem(player, options) {\n      var _this;\n\n      options.track = {\n        player: player,\n        kind: options.kind,\n        label: options.kind + ' settings',\n        selectable: false,\n        \"default\": false,\n        mode: 'disabled'\n      }; // CaptionSettingsMenuItem has no concept of 'selected'\n\n      options.selectable = false;\n      options.name = 'CaptionSettingsMenuItem';\n      _this = _TextTrackMenuItem.call(this, player, options) || this;\n\n      _this.addClass('vjs-texttrack-settings');\n\n      _this.controlText(', opens ' + options.kind + ' settings dialog');\n\n      return _this;\n    }\n    /**\n     * This gets called when an `CaptionSettingsMenuItem` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n\n\n    var _proto = CaptionSettingsMenuItem.prototype;\n\n    _proto.handleClick = function handleClick(event) {\n      this.player().getChild('textTrackSettings').open();\n    };\n\n    return CaptionSettingsMenuItem;\n  }(TextTrackMenuItem);\n\n  Component.registerComponent('CaptionSettingsMenuItem', CaptionSettingsMenuItem);\n\n  /**\n   * The button component for toggling and selecting captions\n   *\n   * @extends TextTrackButton\n   */\n\n  var CaptionsButton = /*#__PURE__*/function (_TextTrackButton) {\n    inheritsLoose(CaptionsButton, _TextTrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when this component is ready.\n     */\n    function CaptionsButton(player, options, ready) {\n      return _TextTrackButton.call(this, player, options, ready) || this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = CaptionsButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-captions-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-captions-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Create caption menu items\n     *\n     * @return {CaptionSettingsMenuItem[]}\n     *         The array of current menu items.\n     */\n    ;\n\n    _proto.createItems = function createItems() {\n      var items = [];\n\n      if (!(this.player().tech_ && this.player().tech_.featuresNativeTextTracks) && this.player().getChild('textTrackSettings')) {\n        items.push(new CaptionSettingsMenuItem(this.player_, {\n          kind: this.kind_\n        }));\n        this.hideThreshold_ += 1;\n      }\n\n      return _TextTrackButton.prototype.createItems.call(this, items);\n    };\n\n    return CaptionsButton;\n  }(TextTrackButton);\n  /**\n   * `kind` of TextTrack to look for to associate it with this menu.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  CaptionsButton.prototype.kind_ = 'captions';\n  /**\n   * The text that should display over the `CaptionsButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n  CaptionsButton.prototype.controlText_ = 'Captions';\n  Component.registerComponent('CaptionsButton', CaptionsButton);\n\n  /**\n   * SubsCapsMenuItem has an [cc] icon to distinguish captions from subtitles\n   * in the SubsCapsMenu.\n   *\n   * @extends TextTrackMenuItem\n   */\n\n  var SubsCapsMenuItem = /*#__PURE__*/function (_TextTrackMenuItem) {\n    inheritsLoose(SubsCapsMenuItem, _TextTrackMenuItem);\n\n    function SubsCapsMenuItem() {\n      return _TextTrackMenuItem.apply(this, arguments) || this;\n    }\n\n    var _proto = SubsCapsMenuItem.prototype;\n\n    _proto.createEl = function createEl$1(type, props, attrs) {\n      var el = _TextTrackMenuItem.prototype.createEl.call(this, type, props, attrs);\n\n      var parentSpan = el.querySelector('.vjs-menu-item-text');\n\n      if (this.options_.track.kind === 'captions') {\n        parentSpan.appendChild(createEl('span', {\n          className: 'vjs-icon-placeholder'\n        }, {\n          'aria-hidden': true\n        }));\n        parentSpan.appendChild(createEl('span', {\n          className: 'vjs-control-text',\n          // space added as the text will visually flow with the\n          // label\n          textContent: \" \" + this.localize('Captions')\n        }));\n      }\n\n      return el;\n    };\n\n    return SubsCapsMenuItem;\n  }(TextTrackMenuItem);\n\n  Component.registerComponent('SubsCapsMenuItem', SubsCapsMenuItem);\n\n  /**\n   * The button component for toggling and selecting captions and/or subtitles\n   *\n   * @extends TextTrackButton\n   */\n\n  var SubsCapsButton = /*#__PURE__*/function (_TextTrackButton) {\n    inheritsLoose(SubsCapsButton, _TextTrackButton);\n\n    function SubsCapsButton(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _TextTrackButton.call(this, player, options) || this; // Although North America uses \"captions\" in most cases for\n      // \"captions and subtitles\" other locales use \"subtitles\"\n\n      _this.label_ = 'subtitles';\n\n      if (['en', 'en-us', 'en-ca', 'fr-ca'].indexOf(_this.player_.language_) > -1) {\n        _this.label_ = 'captions';\n      }\n\n      _this.menuButton_.controlText(toTitleCase(_this.label_));\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = SubsCapsButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-subs-caps-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-subs-caps-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Create caption/subtitles menu items\n     *\n     * @return {CaptionSettingsMenuItem[]}\n     *         The array of current menu items.\n     */\n    ;\n\n    _proto.createItems = function createItems() {\n      var items = [];\n\n      if (!(this.player().tech_ && this.player().tech_.featuresNativeTextTracks) && this.player().getChild('textTrackSettings')) {\n        items.push(new CaptionSettingsMenuItem(this.player_, {\n          kind: this.label_\n        }));\n        this.hideThreshold_ += 1;\n      }\n\n      items = _TextTrackButton.prototype.createItems.call(this, items, SubsCapsMenuItem);\n      return items;\n    };\n\n    return SubsCapsButton;\n  }(TextTrackButton);\n  /**\n   * `kind`s of TextTrack to look for to associate it with this menu.\n   *\n   * @type {array}\n   * @private\n   */\n\n\n  SubsCapsButton.prototype.kinds_ = ['captions', 'subtitles'];\n  /**\n   * The text that should display over the `SubsCapsButton`s controls.\n   *\n   *\n   * @type {string}\n   * @private\n   */\n\n  SubsCapsButton.prototype.controlText_ = 'Subtitles';\n  Component.registerComponent('SubsCapsButton', SubsCapsButton);\n\n  /**\n   * An {@link AudioTrack} {@link MenuItem}\n   *\n   * @extends MenuItem\n   */\n\n  var AudioTrackMenuItem = /*#__PURE__*/function (_MenuItem) {\n    inheritsLoose(AudioTrackMenuItem, _MenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function AudioTrackMenuItem(player, options) {\n      var _this;\n\n      var track = options.track;\n      var tracks = player.audioTracks(); // Modify options for parent MenuItem class's init.\n\n      options.label = track.label || track.language || 'Unknown';\n      options.selected = track.enabled;\n      _this = _MenuItem.call(this, player, options) || this;\n      _this.track = track;\n\n      _this.addClass(\"vjs-\" + track.kind + \"-menu-item\");\n\n      var changeHandler = function changeHandler() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this.handleTracksChange.apply(assertThisInitialized(_this), args);\n      };\n\n      tracks.addEventListener('change', changeHandler);\n\n      _this.on('dispose', function () {\n        tracks.removeEventListener('change', changeHandler);\n      });\n\n      return _this;\n    }\n\n    var _proto = AudioTrackMenuItem.prototype;\n\n    _proto.createEl = function createEl$1(type, props, attrs) {\n      var el = _MenuItem.prototype.createEl.call(this, type, props, attrs);\n\n      var parentSpan = el.querySelector('.vjs-menu-item-text');\n\n      if (this.options_.track.kind === 'main-desc') {\n        parentSpan.appendChild(createEl('span', {\n          className: 'vjs-icon-placeholder'\n        }, {\n          'aria-hidden': true\n        }));\n        parentSpan.appendChild(createEl('span', {\n          className: 'vjs-control-text',\n          textContent: ' ' + this.localize('Descriptions')\n        }));\n      }\n\n      return el;\n    }\n    /**\n     * This gets called when an `AudioTrackMenuItem is \"clicked\". See {@link ClickableComponent}\n     * for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      _MenuItem.prototype.handleClick.call(this, event); // the audio track list will automatically toggle other tracks\n      // off for us.\n\n\n      this.track.enabled = true; // when native audio tracks are used, we want to make sure that other tracks are turned off\n\n      if (this.player_.tech_.featuresNativeAudioTracks) {\n        var tracks = this.player_.audioTracks();\n\n        for (var i = 0; i < tracks.length; i++) {\n          var track = tracks[i]; // skip the current track since we enabled it above\n\n          if (track === this.track) {\n            continue;\n          }\n\n          track.enabled = track === this.track;\n        }\n      }\n    }\n    /**\n     * Handle any {@link AudioTrack} change.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The {@link AudioTrackList#change} event that caused this to run.\n     *\n     * @listens AudioTrackList#change\n     */\n    ;\n\n    _proto.handleTracksChange = function handleTracksChange(event) {\n      this.selected(this.track.enabled);\n    };\n\n    return AudioTrackMenuItem;\n  }(MenuItem);\n\n  Component.registerComponent('AudioTrackMenuItem', AudioTrackMenuItem);\n\n  /**\n   * The base class for buttons that toggle specific {@link AudioTrack} types.\n   *\n   * @extends TrackButton\n   */\n\n  var AudioTrackButton = /*#__PURE__*/function (_TrackButton) {\n    inheritsLoose(AudioTrackButton, _TrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function AudioTrackButton(player, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      options.tracks = player.audioTracks();\n      return _TrackButton.call(this, player, options) || this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = AudioTrackButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-audio-button \" + _TrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-audio-button \" + _TrackButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Create a menu item for each audio track\n     *\n     * @param {AudioTrackMenuItem[]} [items=[]]\n     *        An array of existing menu items to use.\n     *\n     * @return {AudioTrackMenuItem[]}\n     *         An array of menu items\n     */\n    ;\n\n    _proto.createItems = function createItems(items) {\n      if (items === void 0) {\n        items = [];\n      }\n\n      // if there's only one audio track, there no point in showing it\n      this.hideThreshold_ = 1;\n      var tracks = this.player_.audioTracks();\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n        items.push(new AudioTrackMenuItem(this.player_, {\n          track: track,\n          // MenuItem is selectable\n          selectable: true,\n          // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n          multiSelectable: false\n        }));\n      }\n\n      return items;\n    };\n\n    return AudioTrackButton;\n  }(TrackButton);\n  /**\n   * The text that should display over the `AudioTrackButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  AudioTrackButton.prototype.controlText_ = 'Audio Track';\n  Component.registerComponent('AudioTrackButton', AudioTrackButton);\n\n  /**\n   * The specific menu item type for selecting a playback rate.\n   *\n   * @extends MenuItem\n   */\n\n  var PlaybackRateMenuItem = /*#__PURE__*/function (_MenuItem) {\n    inheritsLoose(PlaybackRateMenuItem, _MenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function PlaybackRateMenuItem(player, options) {\n      var _this;\n\n      var label = options.rate;\n      var rate = parseFloat(label, 10); // Modify options for parent MenuItem class's init.\n\n      options.label = label;\n      options.selected = rate === player.playbackRate();\n      options.selectable = true;\n      options.multiSelectable = false;\n      _this = _MenuItem.call(this, player, options) || this;\n      _this.label = label;\n      _this.rate = rate;\n\n      _this.on(player, 'ratechange', function (e) {\n        return _this.update(e);\n      });\n\n      return _this;\n    }\n    /**\n     * This gets called when an `PlaybackRateMenuItem` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n\n\n    var _proto = PlaybackRateMenuItem.prototype;\n\n    _proto.handleClick = function handleClick(event) {\n      _MenuItem.prototype.handleClick.call(this);\n\n      this.player().playbackRate(this.rate);\n    }\n    /**\n     * Update the PlaybackRateMenuItem when the playbackrate changes.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `ratechange` event that caused this function to run.\n     *\n     * @listens Player#ratechange\n     */\n    ;\n\n    _proto.update = function update(event) {\n      this.selected(this.player().playbackRate() === this.rate);\n    };\n\n    return PlaybackRateMenuItem;\n  }(MenuItem);\n  /**\n   * The text that should display over the `PlaybackRateMenuItem`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  PlaybackRateMenuItem.prototype.contentElType = 'button';\n  Component.registerComponent('PlaybackRateMenuItem', PlaybackRateMenuItem);\n\n  /**\n   * The component for controlling the playback rate.\n   *\n   * @extends MenuButton\n   */\n\n  var PlaybackRateMenuButton = /*#__PURE__*/function (_MenuButton) {\n    inheritsLoose(PlaybackRateMenuButton, _MenuButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function PlaybackRateMenuButton(player, options) {\n      var _this;\n\n      _this = _MenuButton.call(this, player, options) || this;\n\n      _this.menuButton_.el_.setAttribute('aria-describedby', _this.labelElId_);\n\n      _this.updateVisibility();\n\n      _this.updateLabel();\n\n      _this.on(player, 'loadstart', function (e) {\n        return _this.updateVisibility(e);\n      });\n\n      _this.on(player, 'ratechange', function (e) {\n        return _this.updateLabel(e);\n      });\n\n      _this.on(player, 'playbackrateschange', function (e) {\n        return _this.handlePlaybackRateschange(e);\n      });\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = PlaybackRateMenuButton.prototype;\n\n    _proto.createEl = function createEl$1() {\n      var el = _MenuButton.prototype.createEl.call(this);\n\n      this.labelElId_ = 'vjs-playback-rate-value-label-' + this.id_;\n      this.labelEl_ = createEl('div', {\n        className: 'vjs-playback-rate-value',\n        id: this.labelElId_,\n        textContent: '1x'\n      });\n      el.appendChild(this.labelEl_);\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      this.labelEl_ = null;\n\n      _MenuButton.prototype.dispose.call(this);\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-playback-rate \" + _MenuButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-playback-rate \" + _MenuButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Create the list of menu items. Specific to each subclass.\n     *\n     */\n    ;\n\n    _proto.createItems = function createItems() {\n      var rates = this.playbackRates();\n      var items = [];\n\n      for (var i = rates.length - 1; i >= 0; i--) {\n        items.push(new PlaybackRateMenuItem(this.player(), {\n          rate: rates[i] + 'x'\n        }));\n      }\n\n      return items;\n    }\n    /**\n     * Updates ARIA accessibility attributes\n     */\n    ;\n\n    _proto.updateARIAAttributes = function updateARIAAttributes() {\n      // Current playback rate\n      this.el().setAttribute('aria-valuenow', this.player().playbackRate());\n    }\n    /**\n     * This gets called when an `PlaybackRateMenuButton` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      // select next rate option\n      var currentRate = this.player().playbackRate();\n      var rates = this.playbackRates();\n      var currentIndex = rates.indexOf(currentRate); // this get the next rate and it will select first one if the last one currently selected\n\n      var newIndex = (currentIndex + 1) % rates.length;\n      this.player().playbackRate(rates[newIndex]);\n    }\n    /**\n     * On playbackrateschange, update the menu to account for the new items.\n     *\n     * @listens Player#playbackrateschange\n     */\n    ;\n\n    _proto.handlePlaybackRateschange = function handlePlaybackRateschange(event) {\n      this.update();\n    }\n    /**\n     * Get possible playback rates\n     *\n     * @return {Array}\n     *         All possible playback rates\n     */\n    ;\n\n    _proto.playbackRates = function playbackRates() {\n      var player = this.player();\n      return player.playbackRates && player.playbackRates() || [];\n    }\n    /**\n     * Get whether playback rates is supported by the tech\n     * and an array of playback rates exists\n     *\n     * @return {boolean}\n     *         Whether changing playback rate is supported\n     */\n    ;\n\n    _proto.playbackRateSupported = function playbackRateSupported() {\n      return this.player().tech_ && this.player().tech_.featuresPlaybackRate && this.playbackRates() && this.playbackRates().length > 0;\n    }\n    /**\n     * Hide playback rate controls when they're no playback rate options to select\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#loadstart\n     */\n    ;\n\n    _proto.updateVisibility = function updateVisibility(event) {\n      if (this.playbackRateSupported()) {\n        this.removeClass('vjs-hidden');\n      } else {\n        this.addClass('vjs-hidden');\n      }\n    }\n    /**\n     * Update button label when rate changed\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#ratechange\n     */\n    ;\n\n    _proto.updateLabel = function updateLabel(event) {\n      if (this.playbackRateSupported()) {\n        this.labelEl_.textContent = this.player().playbackRate() + 'x';\n      }\n    };\n\n    return PlaybackRateMenuButton;\n  }(MenuButton);\n  /**\n   * The text that should display over the `FullscreenToggle`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  PlaybackRateMenuButton.prototype.controlText_ = 'Playback Rate';\n  Component.registerComponent('PlaybackRateMenuButton', PlaybackRateMenuButton);\n\n  /**\n   * Just an empty spacer element that can be used as an append point for plugins, etc.\n   * Also can be used to create space between elements when necessary.\n   *\n   * @extends Component\n   */\n\n  var Spacer = /*#__PURE__*/function (_Component) {\n    inheritsLoose(Spacer, _Component);\n\n    function Spacer() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = Spacer.prototype;\n\n    /**\n    * Builds the default DOM `className`.\n    *\n    * @return {string}\n    *         The DOM `className` for this object.\n    */\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-spacer \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl(tag, props, attributes) {\n      if (tag === void 0) {\n        tag = 'div';\n      }\n\n      if (props === void 0) {\n        props = {};\n      }\n\n      if (attributes === void 0) {\n        attributes = {};\n      }\n\n      if (!props.className) {\n        props.className = this.buildCSSClass();\n      }\n\n      return _Component.prototype.createEl.call(this, tag, props, attributes);\n    };\n\n    return Spacer;\n  }(Component);\n\n  Component.registerComponent('Spacer', Spacer);\n\n  /**\n   * Spacer specifically meant to be used as an insertion point for new plugins, etc.\n   *\n   * @extends Spacer\n   */\n\n  var CustomControlSpacer = /*#__PURE__*/function (_Spacer) {\n    inheritsLoose(CustomControlSpacer, _Spacer);\n\n    function CustomControlSpacer() {\n      return _Spacer.apply(this, arguments) || this;\n    }\n\n    var _proto = CustomControlSpacer.prototype;\n\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-custom-control-spacer \" + _Spacer.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      return _Spacer.prototype.createEl.call(this, 'div', {\n        className: this.buildCSSClass(),\n        // No-flex/table-cell mode requires there be some content\n        // in the cell to fill the remaining space of the table.\n        textContent: \"\\xA0\"\n      });\n    };\n\n    return CustomControlSpacer;\n  }(Spacer);\n\n  Component.registerComponent('CustomControlSpacer', CustomControlSpacer);\n\n  /**\n   * Container of main controls.\n   *\n   * @extends Component\n   */\n\n  var ControlBar = /*#__PURE__*/function (_Component) {\n    inheritsLoose(ControlBar, _Component);\n\n    function ControlBar() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = ControlBar.prototype;\n\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-control-bar',\n        dir: 'ltr'\n      });\n    };\n\n    return ControlBar;\n  }(Component);\n  /**\n   * Default options for `ControlBar`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  ControlBar.prototype.options_ = {\n    children: ['playToggle', 'volumePanel', 'currentTimeDisplay', 'timeDivider', 'durationDisplay', 'progressControl', 'liveDisplay', 'seekToLive', 'remainingTimeDisplay', 'customControlSpacer', 'playbackRateMenuButton', 'chaptersButton', 'descriptionsButton', 'subsCapsButton', 'audioTrackButton', 'fullscreenToggle']\n  };\n\n  if ('exitPictureInPicture' in document) {\n    ControlBar.prototype.options_.children.splice(ControlBar.prototype.options_.children.length - 1, 0, 'pictureInPictureToggle');\n  }\n\n  Component.registerComponent('ControlBar', ControlBar);\n\n  /**\n   * A display that indicates an error has occurred. This means that the video\n   * is unplayable.\n   *\n   * @extends ModalDialog\n   */\n\n  var ErrorDisplay = /*#__PURE__*/function (_ModalDialog) {\n    inheritsLoose(ErrorDisplay, _ModalDialog);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param  {Player} player\n     *         The `Player` that this class should be attached to.\n     *\n     * @param  {Object} [options]\n     *         The key/value store of player options.\n     */\n    function ErrorDisplay(player, options) {\n      var _this;\n\n      _this = _ModalDialog.call(this, player, options) || this;\n\n      _this.on(player, 'error', function (e) {\n        return _this.open(e);\n      });\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     *\n     * @deprecated Since version 5.\n     */\n\n\n    var _proto = ErrorDisplay.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-error-display \" + _ModalDialog.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Gets the localized error message based on the `Player`s error.\n     *\n     * @return {string}\n     *         The `Player`s error message localized or an empty string.\n     */\n    ;\n\n    _proto.content = function content() {\n      var error = this.player().error();\n      return error ? this.localize(error.message) : '';\n    };\n\n    return ErrorDisplay;\n  }(ModalDialog);\n  /**\n   * The default options for an `ErrorDisplay`.\n   *\n   * @private\n   */\n\n\n  ErrorDisplay.prototype.options_ = _extends_1({}, ModalDialog.prototype.options_, {\n    pauseOnOpen: false,\n    fillAlways: true,\n    temporary: false,\n    uncloseable: true\n  });\n  Component.registerComponent('ErrorDisplay', ErrorDisplay);\n\n  var LOCAL_STORAGE_KEY = 'vjs-text-track-settings';\n  var COLOR_BLACK = ['#000', 'Black'];\n  var COLOR_BLUE = ['#00F', 'Blue'];\n  var COLOR_CYAN = ['#0FF', 'Cyan'];\n  var COLOR_GREEN = ['#0F0', 'Green'];\n  var COLOR_MAGENTA = ['#F0F', 'Magenta'];\n  var COLOR_RED = ['#F00', 'Red'];\n  var COLOR_WHITE = ['#FFF', 'White'];\n  var COLOR_YELLOW = ['#FF0', 'Yellow'];\n  var OPACITY_OPAQUE = ['1', 'Opaque'];\n  var OPACITY_SEMI = ['0.5', 'Semi-Transparent'];\n  var OPACITY_TRANS = ['0', 'Transparent']; // Configuration for the various <select> elements in the DOM of this component.\n  //\n  // Possible keys include:\n  //\n  // `default`:\n  //   The default option index. Only needs to be provided if not zero.\n  // `parser`:\n  //   A function which is used to parse the value from the selected option in\n  //   a customized way.\n  // `selector`:\n  //   The selector used to find the associated <select> element.\n\n  var selectConfigs = {\n    backgroundColor: {\n      selector: '.vjs-bg-color > select',\n      id: 'captions-background-color-%s',\n      label: 'Color',\n      options: [COLOR_BLACK, COLOR_WHITE, COLOR_RED, COLOR_GREEN, COLOR_BLUE, COLOR_YELLOW, COLOR_MAGENTA, COLOR_CYAN]\n    },\n    backgroundOpacity: {\n      selector: '.vjs-bg-opacity > select',\n      id: 'captions-background-opacity-%s',\n      label: 'Transparency',\n      options: [OPACITY_OPAQUE, OPACITY_SEMI, OPACITY_TRANS]\n    },\n    color: {\n      selector: '.vjs-fg-color > select',\n      id: 'captions-foreground-color-%s',\n      label: 'Color',\n      options: [COLOR_WHITE, COLOR_BLACK, COLOR_RED, COLOR_GREEN, COLOR_BLUE, COLOR_YELLOW, COLOR_MAGENTA, COLOR_CYAN]\n    },\n    edgeStyle: {\n      selector: '.vjs-edge-style > select',\n      id: '%s',\n      label: 'Text Edge Style',\n      options: [['none', 'None'], ['raised', 'Raised'], ['depressed', 'Depressed'], ['uniform', 'Uniform'], ['dropshadow', 'Dropshadow']]\n    },\n    fontFamily: {\n      selector: '.vjs-font-family > select',\n      id: 'captions-font-family-%s',\n      label: 'Font Family',\n      options: [['proportionalSansSerif', 'Proportional Sans-Serif'], ['monospaceSansSerif', 'Monospace Sans-Serif'], ['proportionalSerif', 'Proportional Serif'], ['monospaceSerif', 'Monospace Serif'], ['casual', 'Casual'], ['script', 'Script'], ['small-caps', 'Small Caps']]\n    },\n    fontPercent: {\n      selector: '.vjs-font-percent > select',\n      id: 'captions-font-size-%s',\n      label: 'Font Size',\n      options: [['0.50', '50%'], ['0.75', '75%'], ['1.00', '100%'], ['1.25', '125%'], ['1.50', '150%'], ['1.75', '175%'], ['2.00', '200%'], ['3.00', '300%'], ['4.00', '400%']],\n      \"default\": 2,\n      parser: function parser(v) {\n        return v === '1.00' ? null : Number(v);\n      }\n    },\n    textOpacity: {\n      selector: '.vjs-text-opacity > select',\n      id: 'captions-foreground-opacity-%s',\n      label: 'Transparency',\n      options: [OPACITY_OPAQUE, OPACITY_SEMI]\n    },\n    // Options for this object are defined below.\n    windowColor: {\n      selector: '.vjs-window-color > select',\n      id: 'captions-window-color-%s',\n      label: 'Color'\n    },\n    // Options for this object are defined below.\n    windowOpacity: {\n      selector: '.vjs-window-opacity > select',\n      id: 'captions-window-opacity-%s',\n      label: 'Transparency',\n      options: [OPACITY_TRANS, OPACITY_SEMI, OPACITY_OPAQUE]\n    }\n  };\n  selectConfigs.windowColor.options = selectConfigs.backgroundColor.options;\n  /**\n   * Get the actual value of an option.\n   *\n   * @param  {string} value\n   *         The value to get\n   *\n   * @param  {Function} [parser]\n   *         Optional function to adjust the value.\n   *\n   * @return {Mixed}\n   *         - Will be `undefined` if no value exists\n   *         - Will be `undefined` if the given value is \"none\".\n   *         - Will be the actual value otherwise.\n   *\n   * @private\n   */\n\n  function parseOptionValue(value, parser) {\n    if (parser) {\n      value = parser(value);\n    }\n\n    if (value && value !== 'none') {\n      return value;\n    }\n  }\n  /**\n   * Gets the value of the selected <option> element within a <select> element.\n   *\n   * @param  {Element} el\n   *         the element to look in\n   *\n   * @param  {Function} [parser]\n   *         Optional function to adjust the value.\n   *\n   * @return {Mixed}\n   *         - Will be `undefined` if no value exists\n   *         - Will be `undefined` if the given value is \"none\".\n   *         - Will be the actual value otherwise.\n   *\n   * @private\n   */\n\n\n  function getSelectedOptionValue(el, parser) {\n    var value = el.options[el.options.selectedIndex].value;\n    return parseOptionValue(value, parser);\n  }\n  /**\n   * Sets the selected <option> element within a <select> element based on a\n   * given value.\n   *\n   * @param {Element} el\n   *        The element to look in.\n   *\n   * @param {string} value\n   *        the property to look on.\n   *\n   * @param {Function} [parser]\n   *        Optional function to adjust the value before comparing.\n   *\n   * @private\n   */\n\n\n  function setSelectedOption(el, value, parser) {\n    if (!value) {\n      return;\n    }\n\n    for (var i = 0; i < el.options.length; i++) {\n      if (parseOptionValue(el.options[i].value, parser) === value) {\n        el.selectedIndex = i;\n        break;\n      }\n    }\n  }\n  /**\n   * Manipulate Text Tracks settings.\n   *\n   * @extends ModalDialog\n   */\n\n\n  var TextTrackSettings = /*#__PURE__*/function (_ModalDialog) {\n    inheritsLoose(TextTrackSettings, _ModalDialog);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *         The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *         The key/value store of player options.\n     */\n    function TextTrackSettings(player, options) {\n      var _this;\n\n      options.temporary = false;\n      _this = _ModalDialog.call(this, player, options) || this;\n      _this.updateDisplay = _this.updateDisplay.bind(assertThisInitialized(_this)); // fill the modal and pretend we have opened it\n\n      _this.fill();\n\n      _this.hasBeenOpened_ = _this.hasBeenFilled_ = true;\n      _this.endDialog = createEl('p', {\n        className: 'vjs-control-text',\n        textContent: _this.localize('End of dialog window.')\n      });\n\n      _this.el().appendChild(_this.endDialog);\n\n      _this.setDefaults(); // Grab `persistTextTrackSettings` from the player options if not passed in child options\n\n\n      if (options.persistTextTrackSettings === undefined) {\n        _this.options_.persistTextTrackSettings = _this.options_.playerOptions.persistTextTrackSettings;\n      }\n\n      _this.on(_this.$('.vjs-done-button'), 'click', function () {\n        _this.saveSettings();\n\n        _this.close();\n      });\n\n      _this.on(_this.$('.vjs-default-button'), 'click', function () {\n        _this.setDefaults();\n\n        _this.updateDisplay();\n      });\n\n      each(selectConfigs, function (config) {\n        _this.on(_this.$(config.selector), 'change', _this.updateDisplay);\n      });\n\n      if (_this.options_.persistTextTrackSettings) {\n        _this.restoreSettings();\n      }\n\n      return _this;\n    }\n\n    var _proto = TextTrackSettings.prototype;\n\n    _proto.dispose = function dispose() {\n      this.endDialog = null;\n\n      _ModalDialog.prototype.dispose.call(this);\n    }\n    /**\n     * Create a <select> element with configured options.\n     *\n     * @param {string} key\n     *        Configuration key to use during creation.\n     *\n     * @return {string}\n     *         An HTML string.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElSelect_ = function createElSelect_(key, legendId, type) {\n      var _this2 = this;\n\n      if (legendId === void 0) {\n        legendId = '';\n      }\n\n      if (type === void 0) {\n        type = 'label';\n      }\n\n      var config = selectConfigs[key];\n      var id = config.id.replace('%s', this.id_);\n      var selectLabelledbyIds = [legendId, id].join(' ').trim();\n      return [\"<\" + type + \" id=\\\"\" + id + \"\\\" class=\\\"\" + (type === 'label' ? 'vjs-label' : '') + \"\\\">\", this.localize(config.label), \"</\" + type + \">\", \"<select aria-labelledby=\\\"\" + selectLabelledbyIds + \"\\\">\"].concat(config.options.map(function (o) {\n        var optionId = id + '-' + o[1].replace(/\\W+/g, '');\n        return [\"<option id=\\\"\" + optionId + \"\\\" value=\\\"\" + o[0] + \"\\\" \", \"aria-labelledby=\\\"\" + selectLabelledbyIds + \" \" + optionId + \"\\\">\", _this2.localize(o[1]), '</option>'].join('');\n      })).concat('</select>').join('');\n    }\n    /**\n     * Create foreground color element for the component\n     *\n     * @return {string}\n     *         An HTML string.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElFgColor_ = function createElFgColor_() {\n      var legendId = \"captions-text-legend-\" + this.id_;\n      return ['<fieldset class=\"vjs-fg-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Text'), '</legend>', this.createElSelect_('color', legendId), '<span class=\"vjs-text-opacity vjs-opacity\">', this.createElSelect_('textOpacity', legendId), '</span>', '</fieldset>'].join('');\n    }\n    /**\n     * Create background color element for the component\n     *\n     * @return {string}\n     *         An HTML string.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElBgColor_ = function createElBgColor_() {\n      var legendId = \"captions-background-\" + this.id_;\n      return ['<fieldset class=\"vjs-bg-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Background'), '</legend>', this.createElSelect_('backgroundColor', legendId), '<span class=\"vjs-bg-opacity vjs-opacity\">', this.createElSelect_('backgroundOpacity', legendId), '</span>', '</fieldset>'].join('');\n    }\n    /**\n     * Create window color element for the component\n     *\n     * @return {string}\n     *         An HTML string.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElWinColor_ = function createElWinColor_() {\n      var legendId = \"captions-window-\" + this.id_;\n      return ['<fieldset class=\"vjs-window-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Window'), '</legend>', this.createElSelect_('windowColor', legendId), '<span class=\"vjs-window-opacity vjs-opacity\">', this.createElSelect_('windowOpacity', legendId), '</span>', '</fieldset>'].join('');\n    }\n    /**\n     * Create color elements for the component\n     *\n     * @return {Element}\n     *         The element that was created\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElColors_ = function createElColors_() {\n      return createEl('div', {\n        className: 'vjs-track-settings-colors',\n        innerHTML: [this.createElFgColor_(), this.createElBgColor_(), this.createElWinColor_()].join('')\n      });\n    }\n    /**\n     * Create font elements for the component\n     *\n     * @return {Element}\n     *         The element that was created.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElFont_ = function createElFont_() {\n      return createEl('div', {\n        className: 'vjs-track-settings-font',\n        innerHTML: ['<fieldset class=\"vjs-font-percent vjs-track-setting\">', this.createElSelect_('fontPercent', '', 'legend'), '</fieldset>', '<fieldset class=\"vjs-edge-style vjs-track-setting\">', this.createElSelect_('edgeStyle', '', 'legend'), '</fieldset>', '<fieldset class=\"vjs-font-family vjs-track-setting\">', this.createElSelect_('fontFamily', '', 'legend'), '</fieldset>'].join('')\n      });\n    }\n    /**\n     * Create controls for the component\n     *\n     * @return {Element}\n     *         The element that was created.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElControls_ = function createElControls_() {\n      var defaultsDescription = this.localize('restore all settings to the default values');\n      return createEl('div', {\n        className: 'vjs-track-settings-controls',\n        innerHTML: [\"<button type=\\\"button\\\" class=\\\"vjs-default-button\\\" title=\\\"\" + defaultsDescription + \"\\\">\", this.localize('Reset'), \"<span class=\\\"vjs-control-text\\\"> \" + defaultsDescription + \"</span>\", '</button>', \"<button type=\\\"button\\\" class=\\\"vjs-done-button\\\">\" + this.localize('Done') + \"</button>\"].join('')\n      });\n    };\n\n    _proto.content = function content() {\n      return [this.createElColors_(), this.createElFont_(), this.createElControls_()];\n    };\n\n    _proto.label = function label() {\n      return this.localize('Caption Settings Dialog');\n    };\n\n    _proto.description = function description() {\n      return this.localize('Beginning of dialog window. Escape will cancel and close the window.');\n    };\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return _ModalDialog.prototype.buildCSSClass.call(this) + ' vjs-text-track-settings';\n    }\n    /**\n     * Gets an object of text track settings (or null).\n     *\n     * @return {Object}\n     *         An object with config values parsed from the DOM or localStorage.\n     */\n    ;\n\n    _proto.getValues = function getValues() {\n      var _this3 = this;\n\n      return reduce(selectConfigs, function (accum, config, key) {\n        var value = getSelectedOptionValue(_this3.$(config.selector), config.parser);\n\n        if (value !== undefined) {\n          accum[key] = value;\n        }\n\n        return accum;\n      }, {});\n    }\n    /**\n     * Sets text track settings from an object of values.\n     *\n     * @param {Object} values\n     *        An object with config values parsed from the DOM or localStorage.\n     */\n    ;\n\n    _proto.setValues = function setValues(values) {\n      var _this4 = this;\n\n      each(selectConfigs, function (config, key) {\n        setSelectedOption(_this4.$(config.selector), values[key], config.parser);\n      });\n    }\n    /**\n     * Sets all `<select>` elements to their default values.\n     */\n    ;\n\n    _proto.setDefaults = function setDefaults() {\n      var _this5 = this;\n\n      each(selectConfigs, function (config) {\n        var index = config.hasOwnProperty('default') ? config[\"default\"] : 0;\n        _this5.$(config.selector).selectedIndex = index;\n      });\n    }\n    /**\n     * Restore texttrack settings from localStorage\n     */\n    ;\n\n    _proto.restoreSettings = function restoreSettings() {\n      var values;\n\n      try {\n        values = JSON.parse(window.localStorage.getItem(LOCAL_STORAGE_KEY));\n      } catch (err) {\n        log.warn(err);\n      }\n\n      if (values) {\n        this.setValues(values);\n      }\n    }\n    /**\n     * Save text track settings to localStorage\n     */\n    ;\n\n    _proto.saveSettings = function saveSettings() {\n      if (!this.options_.persistTextTrackSettings) {\n        return;\n      }\n\n      var values = this.getValues();\n\n      try {\n        if (Object.keys(values).length) {\n          window.localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(values));\n        } else {\n          window.localStorage.removeItem(LOCAL_STORAGE_KEY);\n        }\n      } catch (err) {\n        log.warn(err);\n      }\n    }\n    /**\n     * Update display of text track settings\n     */\n    ;\n\n    _proto.updateDisplay = function updateDisplay() {\n      var ttDisplay = this.player_.getChild('textTrackDisplay');\n\n      if (ttDisplay) {\n        ttDisplay.updateDisplay();\n      }\n    }\n    /**\n     * conditionally blur the element and refocus the captions button\n     *\n     * @private\n     */\n    ;\n\n    _proto.conditionalBlur_ = function conditionalBlur_() {\n      this.previouslyActiveEl_ = null;\n      var cb = this.player_.controlBar;\n      var subsCapsBtn = cb && cb.subsCapsButton;\n      var ccBtn = cb && cb.captionsButton;\n\n      if (subsCapsBtn) {\n        subsCapsBtn.focus();\n      } else if (ccBtn) {\n        ccBtn.focus();\n      }\n    };\n\n    return TextTrackSettings;\n  }(ModalDialog);\n\n  Component.registerComponent('TextTrackSettings', TextTrackSettings);\n\n  /**\n   * A Resize Manager. It is in charge of triggering `playerresize` on the player in the right conditions.\n   *\n   * It'll either create an iframe and use a debounced resize handler on it or use the new {@link https://wicg.github.io/ResizeObserver/|ResizeObserver}.\n   *\n   * If the ResizeObserver is available natively, it will be used. A polyfill can be passed in as an option.\n   * If a `playerresize` event is not needed, the ResizeManager component can be removed from the player, see the example below.\n   * @example <caption>How to disable the resize manager</caption>\n   * const player = videojs('#vid', {\n   *   resizeManager: false\n   * });\n   *\n   * @see {@link https://wicg.github.io/ResizeObserver/|ResizeObserver specification}\n   *\n   * @extends Component\n   */\n\n  var ResizeManager = /*#__PURE__*/function (_Component) {\n    inheritsLoose(ResizeManager, _Component);\n\n    /**\n     * Create the ResizeManager.\n     *\n     * @param {Object} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of ResizeManager options.\n     *\n     * @param {Object} [options.ResizeObserver]\n     *        A polyfill for ResizeObserver can be passed in here.\n     *        If this is set to null it will ignore the native ResizeObserver and fall back to the iframe fallback.\n     */\n    function ResizeManager(player, options) {\n      var _this;\n\n      var RESIZE_OBSERVER_AVAILABLE = options.ResizeObserver || window.ResizeObserver; // if `null` was passed, we want to disable the ResizeObserver\n\n      if (options.ResizeObserver === null) {\n        RESIZE_OBSERVER_AVAILABLE = false;\n      } // Only create an element when ResizeObserver isn't available\n\n\n      var options_ = mergeOptions({\n        createEl: !RESIZE_OBSERVER_AVAILABLE,\n        reportTouchActivity: false\n      }, options);\n      _this = _Component.call(this, player, options_) || this;\n      _this.ResizeObserver = options.ResizeObserver || window.ResizeObserver;\n      _this.loadListener_ = null;\n      _this.resizeObserver_ = null;\n      _this.debouncedHandler_ = debounce(function () {\n        _this.resizeHandler();\n      }, 100, false, assertThisInitialized(_this));\n\n      if (RESIZE_OBSERVER_AVAILABLE) {\n        _this.resizeObserver_ = new _this.ResizeObserver(_this.debouncedHandler_);\n\n        _this.resizeObserver_.observe(player.el());\n      } else {\n        _this.loadListener_ = function () {\n          if (!_this.el_ || !_this.el_.contentWindow) {\n            return;\n          }\n\n          var debouncedHandler_ = _this.debouncedHandler_;\n\n          var unloadListener_ = _this.unloadListener_ = function () {\n            off(this, 'resize', debouncedHandler_);\n            off(this, 'unload', unloadListener_);\n            unloadListener_ = null;\n          }; // safari and edge can unload the iframe before resizemanager dispose\n          // we have to dispose of event handlers correctly before that happens\n\n\n          on(_this.el_.contentWindow, 'unload', unloadListener_);\n          on(_this.el_.contentWindow, 'resize', debouncedHandler_);\n        };\n\n        _this.one('load', _this.loadListener_);\n      }\n\n      return _this;\n    }\n\n    var _proto = ResizeManager.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'iframe', {\n        className: 'vjs-resize-manager',\n        tabIndex: -1,\n        title: this.localize('No content')\n      }, {\n        'aria-hidden': 'true'\n      });\n    }\n    /**\n     * Called when a resize is triggered on the iframe or a resize is observed via the ResizeObserver\n     *\n     * @fires Player#playerresize\n     */\n    ;\n\n    _proto.resizeHandler = function resizeHandler() {\n      /**\n       * Called when the player size has changed\n       *\n       * @event Player#playerresize\n       * @type {EventTarget~Event}\n       */\n      // make sure player is still around to trigger\n      // prevents this from causing an error after dispose\n      if (!this.player_ || !this.player_.trigger) {\n        return;\n      }\n\n      this.player_.trigger('playerresize');\n    };\n\n    _proto.dispose = function dispose() {\n      if (this.debouncedHandler_) {\n        this.debouncedHandler_.cancel();\n      }\n\n      if (this.resizeObserver_) {\n        if (this.player_.el()) {\n          this.resizeObserver_.unobserve(this.player_.el());\n        }\n\n        this.resizeObserver_.disconnect();\n      }\n\n      if (this.loadListener_) {\n        this.off('load', this.loadListener_);\n      }\n\n      if (this.el_ && this.el_.contentWindow && this.unloadListener_) {\n        this.unloadListener_.call(this.el_.contentWindow);\n      }\n\n      this.ResizeObserver = null;\n      this.resizeObserver = null;\n      this.debouncedHandler_ = null;\n      this.loadListener_ = null;\n\n      _Component.prototype.dispose.call(this);\n    };\n\n    return ResizeManager;\n  }(Component);\n\n  Component.registerComponent('ResizeManager', ResizeManager);\n\n  var defaults = {\n    trackingThreshold: 20,\n    liveTolerance: 15\n  };\n  /*\n    track when we are at the live edge, and other helpers for live playback */\n\n  /**\n   * A class for checking live current time and determining when the player\n   * is at or behind the live edge.\n   */\n\n  var LiveTracker = /*#__PURE__*/function (_Component) {\n    inheritsLoose(LiveTracker, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {number} [options.trackingThreshold=20]\n     *        Number of seconds of live window (seekableEnd - seekableStart) that\n     *        media needs to have before the liveui will be shown.\n     *\n     * @param {number} [options.liveTolerance=15]\n     *        Number of seconds behind live that we have to be\n     *        before we will be considered non-live. Note that this will only\n     *        be used when playing at the live edge. This allows large seekable end\n     *        changes to not effect wether we are live or not.\n     */\n    function LiveTracker(player, options) {\n      var _this;\n\n      // LiveTracker does not need an element\n      var options_ = mergeOptions(defaults, options, {\n        createEl: false\n      });\n      _this = _Component.call(this, player, options_) || this;\n\n      _this.handleVisibilityChange_ = function (e) {\n        return _this.handleVisibilityChange(e);\n      };\n\n      _this.trackLiveHandler_ = function () {\n        return _this.trackLive_();\n      };\n\n      _this.handlePlay_ = function (e) {\n        return _this.handlePlay(e);\n      };\n\n      _this.handleFirstTimeupdate_ = function (e) {\n        return _this.handleFirstTimeupdate(e);\n      };\n\n      _this.handleSeeked_ = function (e) {\n        return _this.handleSeeked(e);\n      };\n\n      _this.seekToLiveEdge_ = function (e) {\n        return _this.seekToLiveEdge(e);\n      };\n\n      _this.reset_();\n\n      _this.on(_this.player_, 'durationchange', function (e) {\n        return _this.handleDurationchange(e);\n      }); // we should try to toggle tracking on canplay as native playback engines, like Safari\n      // may not have the proper values for things like seekableEnd until then\n\n\n      _this.on(_this.player_, 'canplay', function () {\n        return _this.toggleTracking();\n      }); // we don't need to track live playback if the document is hidden,\n      // also, tracking when the document is hidden can\n      // cause the CPU to spike and eventually crash the page on IE11.\n\n\n      if (IE_VERSION && 'hidden' in document && 'visibilityState' in document) {\n        _this.on(document, 'visibilitychange', _this.handleVisibilityChange_);\n      }\n\n      return _this;\n    }\n    /**\n     * toggle tracking based on document visiblility\n     */\n\n\n    var _proto = LiveTracker.prototype;\n\n    _proto.handleVisibilityChange = function handleVisibilityChange() {\n      if (this.player_.duration() !== Infinity) {\n        return;\n      }\n\n      if (document.hidden) {\n        this.stopTracking();\n      } else {\n        this.startTracking();\n      }\n    }\n    /**\n     * all the functionality for tracking when seek end changes\n     * and for tracking how far past seek end we should be\n     */\n    ;\n\n    _proto.trackLive_ = function trackLive_() {\n      var seekable = this.player_.seekable(); // skip undefined seekable\n\n      if (!seekable || !seekable.length) {\n        return;\n      }\n\n      var newTime = Number(window.performance.now().toFixed(4));\n      var deltaTime = this.lastTime_ === -1 ? 0 : (newTime - this.lastTime_) / 1000;\n      this.lastTime_ = newTime;\n      this.pastSeekEnd_ = this.pastSeekEnd() + deltaTime;\n      var liveCurrentTime = this.liveCurrentTime();\n      var currentTime = this.player_.currentTime(); // we are behind live if any are true\n      // 1. the player is paused\n      // 2. the user seeked to a location 2 seconds away from live\n      // 3. the difference between live and current time is greater\n      //    liveTolerance which defaults to 15s\n\n      var isBehind = this.player_.paused() || this.seekedBehindLive_ || Math.abs(liveCurrentTime - currentTime) > this.options_.liveTolerance; // we cannot be behind if\n      // 1. until we have not seen a timeupdate yet\n      // 2. liveCurrentTime is Infinity, which happens on Android and Native Safari\n\n      if (!this.timeupdateSeen_ || liveCurrentTime === Infinity) {\n        isBehind = false;\n      }\n\n      if (isBehind !== this.behindLiveEdge_) {\n        this.behindLiveEdge_ = isBehind;\n        this.trigger('liveedgechange');\n      }\n    }\n    /**\n     * handle a durationchange event on the player\n     * and start/stop tracking accordingly.\n     */\n    ;\n\n    _proto.handleDurationchange = function handleDurationchange() {\n      this.toggleTracking();\n    }\n    /**\n     * start/stop tracking\n     */\n    ;\n\n    _proto.toggleTracking = function toggleTracking() {\n      if (this.player_.duration() === Infinity && this.liveWindow() >= this.options_.trackingThreshold) {\n        if (this.player_.options_.liveui) {\n          this.player_.addClass('vjs-liveui');\n        }\n\n        this.startTracking();\n      } else {\n        this.player_.removeClass('vjs-liveui');\n        this.stopTracking();\n      }\n    }\n    /**\n     * start tracking live playback\n     */\n    ;\n\n    _proto.startTracking = function startTracking() {\n      if (this.isTracking()) {\n        return;\n      } // If we haven't seen a timeupdate, we need to check whether playback\n      // began before this component started tracking. This can happen commonly\n      // when using autoplay.\n\n\n      if (!this.timeupdateSeen_) {\n        this.timeupdateSeen_ = this.player_.hasStarted();\n      }\n\n      this.trackingInterval_ = this.setInterval(this.trackLiveHandler_, UPDATE_REFRESH_INTERVAL);\n      this.trackLive_();\n      this.on(this.player_, ['play', 'pause'], this.trackLiveHandler_);\n\n      if (!this.timeupdateSeen_) {\n        this.one(this.player_, 'play', this.handlePlay_);\n        this.one(this.player_, 'timeupdate', this.handleFirstTimeupdate_);\n      } else {\n        this.on(this.player_, 'seeked', this.handleSeeked_);\n      }\n    }\n    /**\n     * handle the first timeupdate on the player if it wasn't already playing\n     * when live tracker started tracking.\n     */\n    ;\n\n    _proto.handleFirstTimeupdate = function handleFirstTimeupdate() {\n      this.timeupdateSeen_ = true;\n      this.on(this.player_, 'seeked', this.handleSeeked_);\n    }\n    /**\n     * Keep track of what time a seek starts, and listen for seeked\n     * to find where a seek ends.\n     */\n    ;\n\n    _proto.handleSeeked = function handleSeeked() {\n      var timeDiff = Math.abs(this.liveCurrentTime() - this.player_.currentTime());\n      this.seekedBehindLive_ = this.nextSeekedFromUser_ && timeDiff > 2;\n      this.nextSeekedFromUser_ = false;\n      this.trackLive_();\n    }\n    /**\n     * handle the first play on the player, and make sure that we seek\n     * right to the live edge.\n     */\n    ;\n\n    _proto.handlePlay = function handlePlay() {\n      this.one(this.player_, 'timeupdate', this.seekToLiveEdge_);\n    }\n    /**\n     * Stop tracking, and set all internal variables to\n     * their initial value.\n     */\n    ;\n\n    _proto.reset_ = function reset_() {\n      this.lastTime_ = -1;\n      this.pastSeekEnd_ = 0;\n      this.lastSeekEnd_ = -1;\n      this.behindLiveEdge_ = true;\n      this.timeupdateSeen_ = false;\n      this.seekedBehindLive_ = false;\n      this.nextSeekedFromUser_ = false;\n      this.clearInterval(this.trackingInterval_);\n      this.trackingInterval_ = null;\n      this.off(this.player_, ['play', 'pause'], this.trackLiveHandler_);\n      this.off(this.player_, 'seeked', this.handleSeeked_);\n      this.off(this.player_, 'play', this.handlePlay_);\n      this.off(this.player_, 'timeupdate', this.handleFirstTimeupdate_);\n      this.off(this.player_, 'timeupdate', this.seekToLiveEdge_);\n    }\n    /**\n     * The next seeked event is from the user. Meaning that any seek\n     * > 2s behind live will be considered behind live for real and\n     * liveTolerance will be ignored.\n     */\n    ;\n\n    _proto.nextSeekedFromUser = function nextSeekedFromUser() {\n      this.nextSeekedFromUser_ = true;\n    }\n    /**\n     * stop tracking live playback\n     */\n    ;\n\n    _proto.stopTracking = function stopTracking() {\n      if (!this.isTracking()) {\n        return;\n      }\n\n      this.reset_();\n      this.trigger('liveedgechange');\n    }\n    /**\n     * A helper to get the player seekable end\n     * so that we don't have to null check everywhere\n     *\n     * @return {number}\n     *         The furthest seekable end or Infinity.\n     */\n    ;\n\n    _proto.seekableEnd = function seekableEnd() {\n      var seekable = this.player_.seekable();\n      var seekableEnds = [];\n      var i = seekable ? seekable.length : 0;\n\n      while (i--) {\n        seekableEnds.push(seekable.end(i));\n      } // grab the furthest seekable end after sorting, or if there are none\n      // default to Infinity\n\n\n      return seekableEnds.length ? seekableEnds.sort()[seekableEnds.length - 1] : Infinity;\n    }\n    /**\n     * A helper to get the player seekable start\n     * so that we don't have to null check everywhere\n     *\n     * @return {number}\n     *         The earliest seekable start or 0.\n     */\n    ;\n\n    _proto.seekableStart = function seekableStart() {\n      var seekable = this.player_.seekable();\n      var seekableStarts = [];\n      var i = seekable ? seekable.length : 0;\n\n      while (i--) {\n        seekableStarts.push(seekable.start(i));\n      } // grab the first seekable start after sorting, or if there are none\n      // default to 0\n\n\n      return seekableStarts.length ? seekableStarts.sort()[0] : 0;\n    }\n    /**\n     * Get the live time window aka\n     * the amount of time between seekable start and\n     * live current time.\n     *\n     * @return {number}\n     *         The amount of seconds that are seekable in\n     *         the live video.\n     */\n    ;\n\n    _proto.liveWindow = function liveWindow() {\n      var liveCurrentTime = this.liveCurrentTime(); // if liveCurrenTime is Infinity then we don't have a liveWindow at all\n\n      if (liveCurrentTime === Infinity) {\n        return 0;\n      }\n\n      return liveCurrentTime - this.seekableStart();\n    }\n    /**\n     * Determines if the player is live, only checks if this component\n     * is tracking live playback or not\n     *\n     * @return {boolean}\n     *         Wether liveTracker is tracking\n     */\n    ;\n\n    _proto.isLive = function isLive() {\n      return this.isTracking();\n    }\n    /**\n     * Determines if currentTime is at the live edge and won't fall behind\n     * on each seekableendchange\n     *\n     * @return {boolean}\n     *         Wether playback is at the live edge\n     */\n    ;\n\n    _proto.atLiveEdge = function atLiveEdge() {\n      return !this.behindLiveEdge();\n    }\n    /**\n     * get what we expect the live current time to be\n     *\n     * @return {number}\n     *         The expected live current time\n     */\n    ;\n\n    _proto.liveCurrentTime = function liveCurrentTime() {\n      return this.pastSeekEnd() + this.seekableEnd();\n    }\n    /**\n     * The number of seconds that have occured after seekable end\n     * changed. This will be reset to 0 once seekable end changes.\n     *\n     * @return {number}\n     *         Seconds past the current seekable end\n     */\n    ;\n\n    _proto.pastSeekEnd = function pastSeekEnd() {\n      var seekableEnd = this.seekableEnd();\n\n      if (this.lastSeekEnd_ !== -1 && seekableEnd !== this.lastSeekEnd_) {\n        this.pastSeekEnd_ = 0;\n      }\n\n      this.lastSeekEnd_ = seekableEnd;\n      return this.pastSeekEnd_;\n    }\n    /**\n     * If we are currently behind the live edge, aka currentTime will be\n     * behind on a seekableendchange\n     *\n     * @return {boolean}\n     *         If we are behind the live edge\n     */\n    ;\n\n    _proto.behindLiveEdge = function behindLiveEdge() {\n      return this.behindLiveEdge_;\n    }\n    /**\n     * Wether live tracker is currently tracking or not.\n     */\n    ;\n\n    _proto.isTracking = function isTracking() {\n      return typeof this.trackingInterval_ === 'number';\n    }\n    /**\n     * Seek to the live edge if we are behind the live edge\n     */\n    ;\n\n    _proto.seekToLiveEdge = function seekToLiveEdge() {\n      this.seekedBehindLive_ = false;\n\n      if (this.atLiveEdge()) {\n        return;\n      }\n\n      this.nextSeekedFromUser_ = false;\n      this.player_.currentTime(this.liveCurrentTime());\n    }\n    /**\n     * Dispose of liveTracker\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      this.off(document, 'visibilitychange', this.handleVisibilityChange_);\n      this.stopTracking();\n\n      _Component.prototype.dispose.call(this);\n    };\n\n    return LiveTracker;\n  }(Component);\n\n  Component.registerComponent('LiveTracker', LiveTracker);\n\n  /**\n   * This function is used to fire a sourceset when there is something\n   * similar to `mediaEl.load()` being called. It will try to find the source via\n   * the `src` attribute and then the `<source>` elements. It will then fire `sourceset`\n   * with the source that was found or empty string if we cannot know. If it cannot\n   * find a source then `sourceset` will not be fired.\n   *\n   * @param {Html5} tech\n   *        The tech object that sourceset was setup on\n   *\n   * @return {boolean}\n   *         returns false if the sourceset was not fired and true otherwise.\n   */\n\n  var sourcesetLoad = function sourcesetLoad(tech) {\n    var el = tech.el(); // if `el.src` is set, that source will be loaded.\n\n    if (el.hasAttribute('src')) {\n      tech.triggerSourceset(el.src);\n      return true;\n    }\n    /**\n     * Since there isn't a src property on the media element, source elements will be used for\n     * implementing the source selection algorithm. This happens asynchronously and\n     * for most cases were there is more than one source we cannot tell what source will\n     * be loaded, without re-implementing the source selection algorithm. At this time we are not\n     * going to do that. There are three special cases that we do handle here though:\n     *\n     * 1. If there are no sources, do not fire `sourceset`.\n     * 2. If there is only one `<source>` with a `src` property/attribute that is our `src`\n     * 3. If there is more than one `<source>` but all of them have the same `src` url.\n     *    That will be our src.\n     */\n\n\n    var sources = tech.$$('source');\n    var srcUrls = [];\n    var src = ''; // if there are no sources, do not fire sourceset\n\n    if (!sources.length) {\n      return false;\n    } // only count valid/non-duplicate source elements\n\n\n    for (var i = 0; i < sources.length; i++) {\n      var url = sources[i].src;\n\n      if (url && srcUrls.indexOf(url) === -1) {\n        srcUrls.push(url);\n      }\n    } // there were no valid sources\n\n\n    if (!srcUrls.length) {\n      return false;\n    } // there is only one valid source element url\n    // use that\n\n\n    if (srcUrls.length === 1) {\n      src = srcUrls[0];\n    }\n\n    tech.triggerSourceset(src);\n    return true;\n  };\n  /**\n   * our implementation of an `innerHTML` descriptor for browsers\n   * that do not have one.\n   */\n\n\n  var innerHTMLDescriptorPolyfill = Object.defineProperty({}, 'innerHTML', {\n    get: function get() {\n      return this.cloneNode(true).innerHTML;\n    },\n    set: function set(v) {\n      // make a dummy node to use innerHTML on\n      var dummy = document.createElement(this.nodeName.toLowerCase()); // set innerHTML to the value provided\n\n      dummy.innerHTML = v; // make a document fragment to hold the nodes from dummy\n\n      var docFrag = document.createDocumentFragment(); // copy all of the nodes created by the innerHTML on dummy\n      // to the document fragment\n\n      while (dummy.childNodes.length) {\n        docFrag.appendChild(dummy.childNodes[0]);\n      } // remove content\n\n\n      this.innerText = ''; // now we add all of that html in one by appending the\n      // document fragment. This is how innerHTML does it.\n\n      window.Element.prototype.appendChild.call(this, docFrag); // then return the result that innerHTML's setter would\n\n      return this.innerHTML;\n    }\n  });\n  /**\n   * Get a property descriptor given a list of priorities and the\n   * property to get.\n   */\n\n  var getDescriptor = function getDescriptor(priority, prop) {\n    var descriptor = {};\n\n    for (var i = 0; i < priority.length; i++) {\n      descriptor = Object.getOwnPropertyDescriptor(priority[i], prop);\n\n      if (descriptor && descriptor.set && descriptor.get) {\n        break;\n      }\n    }\n\n    descriptor.enumerable = true;\n    descriptor.configurable = true;\n    return descriptor;\n  };\n\n  var getInnerHTMLDescriptor = function getInnerHTMLDescriptor(tech) {\n    return getDescriptor([tech.el(), window.HTMLMediaElement.prototype, window.Element.prototype, innerHTMLDescriptorPolyfill], 'innerHTML');\n  };\n  /**\n   * Patches browser internal functions so that we can tell synchronously\n   * if a `<source>` was appended to the media element. For some reason this\n   * causes a `sourceset` if the the media element is ready and has no source.\n   * This happens when:\n   * - The page has just loaded and the media element does not have a source.\n   * - The media element was emptied of all sources, then `load()` was called.\n   *\n   * It does this by patching the following functions/properties when they are supported:\n   *\n   * - `append()` - can be used to add a `<source>` element to the media element\n   * - `appendChild()` - can be used to add a `<source>` element to the media element\n   * - `insertAdjacentHTML()` -  can be used to add a `<source>` element to the media element\n   * - `innerHTML` -  can be used to add a `<source>` element to the media element\n   *\n   * @param {Html5} tech\n   *        The tech object that sourceset is being setup on.\n   */\n\n\n  var firstSourceWatch = function firstSourceWatch(tech) {\n    var el = tech.el(); // make sure firstSourceWatch isn't setup twice.\n\n    if (el.resetSourceWatch_) {\n      return;\n    }\n\n    var old = {};\n    var innerDescriptor = getInnerHTMLDescriptor(tech);\n\n    var appendWrapper = function appendWrapper(appendFn) {\n      return function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        var retval = appendFn.apply(el, args);\n        sourcesetLoad(tech);\n        return retval;\n      };\n    };\n\n    ['append', 'appendChild', 'insertAdjacentHTML'].forEach(function (k) {\n      if (!el[k]) {\n        return;\n      } // store the old function\n\n\n      old[k] = el[k]; // call the old function with a sourceset if a source\n      // was loaded\n\n      el[k] = appendWrapper(old[k]);\n    });\n    Object.defineProperty(el, 'innerHTML', mergeOptions(innerDescriptor, {\n      set: appendWrapper(innerDescriptor.set)\n    }));\n\n    el.resetSourceWatch_ = function () {\n      el.resetSourceWatch_ = null;\n      Object.keys(old).forEach(function (k) {\n        el[k] = old[k];\n      });\n      Object.defineProperty(el, 'innerHTML', innerDescriptor);\n    }; // on the first sourceset, we need to revert our changes\n\n\n    tech.one('sourceset', el.resetSourceWatch_);\n  };\n  /**\n   * our implementation of a `src` descriptor for browsers\n   * that do not have one.\n   */\n\n\n  var srcDescriptorPolyfill = Object.defineProperty({}, 'src', {\n    get: function get() {\n      if (this.hasAttribute('src')) {\n        return getAbsoluteURL(window.Element.prototype.getAttribute.call(this, 'src'));\n      }\n\n      return '';\n    },\n    set: function set(v) {\n      window.Element.prototype.setAttribute.call(this, 'src', v);\n      return v;\n    }\n  });\n\n  var getSrcDescriptor = function getSrcDescriptor(tech) {\n    return getDescriptor([tech.el(), window.HTMLMediaElement.prototype, srcDescriptorPolyfill], 'src');\n  };\n  /**\n   * setup `sourceset` handling on the `Html5` tech. This function\n   * patches the following element properties/functions:\n   *\n   * - `src` - to determine when `src` is set\n   * - `setAttribute()` - to determine when `src` is set\n   * - `load()` - this re-triggers the source selection algorithm, and can\n   *              cause a sourceset.\n   *\n   * If there is no source when we are adding `sourceset` support or during a `load()`\n   * we also patch the functions listed in `firstSourceWatch`.\n   *\n   * @param {Html5} tech\n   *        The tech to patch\n   */\n\n\n  var setupSourceset = function setupSourceset(tech) {\n    if (!tech.featuresSourceset) {\n      return;\n    }\n\n    var el = tech.el(); // make sure sourceset isn't setup twice.\n\n    if (el.resetSourceset_) {\n      return;\n    }\n\n    var srcDescriptor = getSrcDescriptor(tech);\n    var oldSetAttribute = el.setAttribute;\n    var oldLoad = el.load;\n    Object.defineProperty(el, 'src', mergeOptions(srcDescriptor, {\n      set: function set(v) {\n        var retval = srcDescriptor.set.call(el, v); // we use the getter here to get the actual value set on src\n\n        tech.triggerSourceset(el.src);\n        return retval;\n      }\n    }));\n\n    el.setAttribute = function (n, v) {\n      var retval = oldSetAttribute.call(el, n, v);\n\n      if (/src/i.test(n)) {\n        tech.triggerSourceset(el.src);\n      }\n\n      return retval;\n    };\n\n    el.load = function () {\n      var retval = oldLoad.call(el); // if load was called, but there was no source to fire\n      // sourceset on. We have to watch for a source append\n      // as that can trigger a `sourceset` when the media element\n      // has no source\n\n      if (!sourcesetLoad(tech)) {\n        tech.triggerSourceset('');\n        firstSourceWatch(tech);\n      }\n\n      return retval;\n    };\n\n    if (el.currentSrc) {\n      tech.triggerSourceset(el.currentSrc);\n    } else if (!sourcesetLoad(tech)) {\n      firstSourceWatch(tech);\n    }\n\n    el.resetSourceset_ = function () {\n      el.resetSourceset_ = null;\n      el.load = oldLoad;\n      el.setAttribute = oldSetAttribute;\n      Object.defineProperty(el, 'src', srcDescriptor);\n\n      if (el.resetSourceWatch_) {\n        el.resetSourceWatch_();\n      }\n    };\n  };\n\n  /**\n   * Object.defineProperty but \"lazy\", which means that the value is only set after\n   * it retrieved the first time, rather than being set right away.\n   *\n   * @param {Object} obj the object to set the property on\n   * @param {string} key the key for the property to set\n   * @param {Function} getValue the function used to get the value when it is needed.\n   * @param {boolean} setter wether a setter shoould be allowed or not\n   */\n  var defineLazyProperty = function defineLazyProperty(obj, key, getValue, setter) {\n    if (setter === void 0) {\n      setter = true;\n    }\n\n    var set = function set(value) {\n      return Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        writable: true\n      });\n    };\n\n    var options = {\n      configurable: true,\n      enumerable: true,\n      get: function get() {\n        var value = getValue();\n        set(value);\n        return value;\n      }\n    };\n\n    if (setter) {\n      options.set = set;\n    }\n\n    return Object.defineProperty(obj, key, options);\n  };\n\n  /**\n   * HTML5 Media Controller - Wrapper for HTML5 Media API\n   *\n   * @mixes Tech~SourceHandlerAdditions\n   * @extends Tech\n   */\n\n  var Html5 = /*#__PURE__*/function (_Tech) {\n    inheritsLoose(Html5, _Tech);\n\n    /**\n    * Create an instance of this Tech.\n    *\n    * @param {Object} [options]\n    *        The key/value store of player options.\n    *\n    * @param {Component~ReadyCallback} ready\n    *        Callback function to call when the `HTML5` Tech is ready.\n    */\n    function Html5(options, ready) {\n      var _this;\n\n      _this = _Tech.call(this, options, ready) || this;\n      var source = options.source;\n      var crossoriginTracks = false;\n      _this.featuresVideoFrameCallback = _this.featuresVideoFrameCallback && _this.el_.tagName === 'VIDEO'; // Set the source if one is provided\n      // 1) Check if the source is new (if not, we want to keep the original so playback isn't interrupted)\n      // 2) Check to see if the network state of the tag was failed at init, and if so, reset the source\n      // anyway so the error gets fired.\n\n      if (source && (_this.el_.currentSrc !== source.src || options.tag && options.tag.initNetworkState_ === 3)) {\n        _this.setSource(source);\n      } else {\n        _this.handleLateInit_(_this.el_);\n      } // setup sourceset after late sourceset/init\n\n\n      if (options.enableSourceset) {\n        _this.setupSourcesetHandling_();\n      }\n\n      _this.isScrubbing_ = false;\n\n      if (_this.el_.hasChildNodes()) {\n        var nodes = _this.el_.childNodes;\n        var nodesLength = nodes.length;\n        var removeNodes = [];\n\n        while (nodesLength--) {\n          var node = nodes[nodesLength];\n          var nodeName = node.nodeName.toLowerCase();\n\n          if (nodeName === 'track') {\n            if (!_this.featuresNativeTextTracks) {\n              // Empty video tag tracks so the built-in player doesn't use them also.\n              // This may not be fast enough to stop HTML5 browsers from reading the tags\n              // so we'll need to turn off any default tracks if we're manually doing\n              // captions and subtitles. videoElement.textTracks\n              removeNodes.push(node);\n            } else {\n              // store HTMLTrackElement and TextTrack to remote list\n              _this.remoteTextTrackEls().addTrackElement_(node);\n\n              _this.remoteTextTracks().addTrack(node.track);\n\n              _this.textTracks().addTrack(node.track);\n\n              if (!crossoriginTracks && !_this.el_.hasAttribute('crossorigin') && isCrossOrigin(node.src)) {\n                crossoriginTracks = true;\n              }\n            }\n          }\n        }\n\n        for (var i = 0; i < removeNodes.length; i++) {\n          _this.el_.removeChild(removeNodes[i]);\n        }\n      }\n\n      _this.proxyNativeTracks_();\n\n      if (_this.featuresNativeTextTracks && crossoriginTracks) {\n        log.warn('Text Tracks are being loaded from another origin but the crossorigin attribute isn\\'t used.\\n' + 'This may prevent text tracks from loading.');\n      } // prevent iOS Safari from disabling metadata text tracks during native playback\n\n\n      _this.restoreMetadataTracksInIOSNativePlayer_(); // Determine if native controls should be used\n      // Our goal should be to get the custom controls on mobile solid everywhere\n      // so we can remove this all together. Right now this will block custom\n      // controls on touch enabled laptops like the Chrome Pixel\n\n\n      if ((TOUCH_ENABLED || IS_IPHONE || IS_NATIVE_ANDROID) && options.nativeControlsForTouch === true) {\n        _this.setControls(true);\n      } // on iOS, we want to proxy `webkitbeginfullscreen` and `webkitendfullscreen`\n      // into a `fullscreenchange` event\n\n\n      _this.proxyWebkitFullscreen_();\n\n      _this.triggerReady();\n\n      return _this;\n    }\n    /**\n     * Dispose of `HTML5` media element and remove all tracks.\n     */\n\n\n    var _proto = Html5.prototype;\n\n    _proto.dispose = function dispose() {\n      if (this.el_ && this.el_.resetSourceset_) {\n        this.el_.resetSourceset_();\n      }\n\n      Html5.disposeMediaElement(this.el_);\n      this.options_ = null; // tech will handle clearing of the emulated track list\n\n      _Tech.prototype.dispose.call(this);\n    }\n    /**\n     * Modify the media element so that we can detect when\n     * the source is changed. Fires `sourceset` just after the source has changed\n     */\n    ;\n\n    _proto.setupSourcesetHandling_ = function setupSourcesetHandling_() {\n      setupSourceset(this);\n    }\n    /**\n     * When a captions track is enabled in the iOS Safari native player, all other\n     * tracks are disabled (including metadata tracks), which nulls all of their\n     * associated cue points. This will restore metadata tracks to their pre-fullscreen\n     * state in those cases so that cue points are not needlessly lost.\n     *\n     * @private\n     */\n    ;\n\n    _proto.restoreMetadataTracksInIOSNativePlayer_ = function restoreMetadataTracksInIOSNativePlayer_() {\n      var textTracks = this.textTracks();\n      var metadataTracksPreFullscreenState; // captures a snapshot of every metadata track's current state\n\n      var takeMetadataTrackSnapshot = function takeMetadataTrackSnapshot() {\n        metadataTracksPreFullscreenState = [];\n\n        for (var i = 0; i < textTracks.length; i++) {\n          var track = textTracks[i];\n\n          if (track.kind === 'metadata') {\n            metadataTracksPreFullscreenState.push({\n              track: track,\n              storedMode: track.mode\n            });\n          }\n        }\n      }; // snapshot each metadata track's initial state, and update the snapshot\n      // each time there is a track 'change' event\n\n\n      takeMetadataTrackSnapshot();\n      textTracks.addEventListener('change', takeMetadataTrackSnapshot);\n      this.on('dispose', function () {\n        return textTracks.removeEventListener('change', takeMetadataTrackSnapshot);\n      });\n\n      var restoreTrackMode = function restoreTrackMode() {\n        for (var i = 0; i < metadataTracksPreFullscreenState.length; i++) {\n          var storedTrack = metadataTracksPreFullscreenState[i];\n\n          if (storedTrack.track.mode === 'disabled' && storedTrack.track.mode !== storedTrack.storedMode) {\n            storedTrack.track.mode = storedTrack.storedMode;\n          }\n        } // we only want this handler to be executed on the first 'change' event\n\n\n        textTracks.removeEventListener('change', restoreTrackMode);\n      }; // when we enter fullscreen playback, stop updating the snapshot and\n      // restore all track modes to their pre-fullscreen state\n\n\n      this.on('webkitbeginfullscreen', function () {\n        textTracks.removeEventListener('change', takeMetadataTrackSnapshot); // remove the listener before adding it just in case it wasn't previously removed\n\n        textTracks.removeEventListener('change', restoreTrackMode);\n        textTracks.addEventListener('change', restoreTrackMode);\n      }); // start updating the snapshot again after leaving fullscreen\n\n      this.on('webkitendfullscreen', function () {\n        // remove the listener before adding it just in case it wasn't previously removed\n        textTracks.removeEventListener('change', takeMetadataTrackSnapshot);\n        textTracks.addEventListener('change', takeMetadataTrackSnapshot); // remove the restoreTrackMode handler in case it wasn't triggered during fullscreen playback\n\n        textTracks.removeEventListener('change', restoreTrackMode);\n      });\n    }\n    /**\n     * Attempt to force override of tracks for the given type\n     *\n     * @param {string} type - Track type to override, possible values include 'Audio',\n     * 'Video', and 'Text'.\n     * @param {boolean} override - If set to true native audio/video will be overridden,\n     * otherwise native audio/video will potentially be used.\n     * @private\n     */\n    ;\n\n    _proto.overrideNative_ = function overrideNative_(type, override) {\n      var _this2 = this;\n\n      // If there is no behavioral change don't add/remove listeners\n      if (override !== this[\"featuresNative\" + type + \"Tracks\"]) {\n        return;\n      }\n\n      var lowerCaseType = type.toLowerCase();\n\n      if (this[lowerCaseType + \"TracksListeners_\"]) {\n        Object.keys(this[lowerCaseType + \"TracksListeners_\"]).forEach(function (eventName) {\n          var elTracks = _this2.el()[lowerCaseType + \"Tracks\"];\n\n          elTracks.removeEventListener(eventName, _this2[lowerCaseType + \"TracksListeners_\"][eventName]);\n        });\n      }\n\n      this[\"featuresNative\" + type + \"Tracks\"] = !override;\n      this[lowerCaseType + \"TracksListeners_\"] = null;\n      this.proxyNativeTracksForType_(lowerCaseType);\n    }\n    /**\n     * Attempt to force override of native audio tracks.\n     *\n     * @param {boolean} override - If set to true native audio will be overridden,\n     * otherwise native audio will potentially be used.\n     */\n    ;\n\n    _proto.overrideNativeAudioTracks = function overrideNativeAudioTracks(override) {\n      this.overrideNative_('Audio', override);\n    }\n    /**\n     * Attempt to force override of native video tracks.\n     *\n     * @param {boolean} override - If set to true native video will be overridden,\n     * otherwise native video will potentially be used.\n     */\n    ;\n\n    _proto.overrideNativeVideoTracks = function overrideNativeVideoTracks(override) {\n      this.overrideNative_('Video', override);\n    }\n    /**\n     * Proxy native track list events for the given type to our track\n     * lists if the browser we are playing in supports that type of track list.\n     *\n     * @param {string} name - Track type; values include 'audio', 'video', and 'text'\n     * @private\n     */\n    ;\n\n    _proto.proxyNativeTracksForType_ = function proxyNativeTracksForType_(name) {\n      var _this3 = this;\n\n      var props = NORMAL[name];\n      var elTracks = this.el()[props.getterName];\n      var techTracks = this[props.getterName]();\n\n      if (!this[\"featuresNative\" + props.capitalName + \"Tracks\"] || !elTracks || !elTracks.addEventListener) {\n        return;\n      }\n\n      var listeners = {\n        change: function change(e) {\n          var event = {\n            type: 'change',\n            target: techTracks,\n            currentTarget: techTracks,\n            srcElement: techTracks\n          };\n          techTracks.trigger(event); // if we are a text track change event, we should also notify the\n          // remote text track list. This can potentially cause a false positive\n          // if we were to get a change event on a non-remote track and\n          // we triggered the event on the remote text track list which doesn't\n          // contain that track. However, best practices mean looping through the\n          // list of tracks and searching for the appropriate mode value, so,\n          // this shouldn't pose an issue\n\n          if (name === 'text') {\n            _this3[REMOTE.remoteText.getterName]().trigger(event);\n          }\n        },\n        addtrack: function addtrack(e) {\n          techTracks.addTrack(e.track);\n        },\n        removetrack: function removetrack(e) {\n          techTracks.removeTrack(e.track);\n        }\n      };\n\n      var removeOldTracks = function removeOldTracks() {\n        var removeTracks = [];\n\n        for (var i = 0; i < techTracks.length; i++) {\n          var found = false;\n\n          for (var j = 0; j < elTracks.length; j++) {\n            if (elTracks[j] === techTracks[i]) {\n              found = true;\n              break;\n            }\n          }\n\n          if (!found) {\n            removeTracks.push(techTracks[i]);\n          }\n        }\n\n        while (removeTracks.length) {\n          techTracks.removeTrack(removeTracks.shift());\n        }\n      };\n\n      this[props.getterName + 'Listeners_'] = listeners;\n      Object.keys(listeners).forEach(function (eventName) {\n        var listener = listeners[eventName];\n        elTracks.addEventListener(eventName, listener);\n\n        _this3.on('dispose', function (e) {\n          return elTracks.removeEventListener(eventName, listener);\n        });\n      }); // Remove (native) tracks that are not used anymore\n\n      this.on('loadstart', removeOldTracks);\n      this.on('dispose', function (e) {\n        return _this3.off('loadstart', removeOldTracks);\n      });\n    }\n    /**\n     * Proxy all native track list events to our track lists if the browser we are playing\n     * in supports that type of track list.\n     *\n     * @private\n     */\n    ;\n\n    _proto.proxyNativeTracks_ = function proxyNativeTracks_() {\n      var _this4 = this;\n\n      NORMAL.names.forEach(function (name) {\n        _this4.proxyNativeTracksForType_(name);\n      });\n    }\n    /**\n     * Create the `Html5` Tech's DOM element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      var el = this.options_.tag; // Check if this browser supports moving the element into the box.\n      // On the iPhone video will break if you move the element,\n      // So we have to create a brand new element.\n      // If we ingested the player div, we do not need to move the media element.\n\n      if (!el || !(this.options_.playerElIngest || this.movingMediaElementInDOM)) {\n        // If the original tag is still there, clone and remove it.\n        if (el) {\n          var clone = el.cloneNode(true);\n\n          if (el.parentNode) {\n            el.parentNode.insertBefore(clone, el);\n          }\n\n          Html5.disposeMediaElement(el);\n          el = clone;\n        } else {\n          el = document.createElement('video'); // determine if native controls should be used\n\n          var tagAttributes = this.options_.tag && getAttributes(this.options_.tag);\n          var attributes = mergeOptions({}, tagAttributes);\n\n          if (!TOUCH_ENABLED || this.options_.nativeControlsForTouch !== true) {\n            delete attributes.controls;\n          }\n\n          setAttributes(el, assign(attributes, {\n            id: this.options_.techId,\n            \"class\": 'vjs-tech'\n          }));\n        }\n\n        el.playerId = this.options_.playerId;\n      }\n\n      if (typeof this.options_.preload !== 'undefined') {\n        setAttribute(el, 'preload', this.options_.preload);\n      }\n\n      if (this.options_.disablePictureInPicture !== undefined) {\n        el.disablePictureInPicture = this.options_.disablePictureInPicture;\n      } // Update specific tag settings, in case they were overridden\n      // `autoplay` has to be *last* so that `muted` and `playsinline` are present\n      // when iOS/Safari or other browsers attempt to autoplay.\n\n\n      var settingsAttrs = ['loop', 'muted', 'playsinline', 'autoplay'];\n\n      for (var i = 0; i < settingsAttrs.length; i++) {\n        var attr = settingsAttrs[i];\n        var value = this.options_[attr];\n\n        if (typeof value !== 'undefined') {\n          if (value) {\n            setAttribute(el, attr, attr);\n          } else {\n            removeAttribute(el, attr);\n          }\n\n          el[attr] = value;\n        }\n      }\n\n      return el;\n    }\n    /**\n     * This will be triggered if the loadstart event has already fired, before videojs was\n     * ready. Two known examples of when this can happen are:\n     * 1. If we're loading the playback object after it has started loading\n     * 2. The media is already playing the (often with autoplay on) then\n     *\n     * This function will fire another loadstart so that videojs can catchup.\n     *\n     * @fires Tech#loadstart\n     *\n     * @return {undefined}\n     *         returns nothing.\n     */\n    ;\n\n    _proto.handleLateInit_ = function handleLateInit_(el) {\n      if (el.networkState === 0 || el.networkState === 3) {\n        // The video element hasn't started loading the source yet\n        // or didn't find a source\n        return;\n      }\n\n      if (el.readyState === 0) {\n        // NetworkState is set synchronously BUT loadstart is fired at the\n        // end of the current stack, usually before setInterval(fn, 0).\n        // So at this point we know loadstart may have already fired or is\n        // about to fire, and either way the player hasn't seen it yet.\n        // We don't want to fire loadstart prematurely here and cause a\n        // double loadstart so we'll wait and see if it happens between now\n        // and the next loop, and fire it if not.\n        // HOWEVER, we also want to make sure it fires before loadedmetadata\n        // which could also happen between now and the next loop, so we'll\n        // watch for that also.\n        var loadstartFired = false;\n\n        var setLoadstartFired = function setLoadstartFired() {\n          loadstartFired = true;\n        };\n\n        this.on('loadstart', setLoadstartFired);\n\n        var triggerLoadstart = function triggerLoadstart() {\n          // We did miss the original loadstart. Make sure the player\n          // sees loadstart before loadedmetadata\n          if (!loadstartFired) {\n            this.trigger('loadstart');\n          }\n        };\n\n        this.on('loadedmetadata', triggerLoadstart);\n        this.ready(function () {\n          this.off('loadstart', setLoadstartFired);\n          this.off('loadedmetadata', triggerLoadstart);\n\n          if (!loadstartFired) {\n            // We did miss the original native loadstart. Fire it now.\n            this.trigger('loadstart');\n          }\n        });\n        return;\n      } // From here on we know that loadstart already fired and we missed it.\n      // The other readyState events aren't as much of a problem if we double\n      // them, so not going to go to as much trouble as loadstart to prevent\n      // that unless we find reason to.\n\n\n      var eventsToTrigger = ['loadstart']; // loadedmetadata: newly equal to HAVE_METADATA (1) or greater\n\n      eventsToTrigger.push('loadedmetadata'); // loadeddata: newly increased to HAVE_CURRENT_DATA (2) or greater\n\n      if (el.readyState >= 2) {\n        eventsToTrigger.push('loadeddata');\n      } // canplay: newly increased to HAVE_FUTURE_DATA (3) or greater\n\n\n      if (el.readyState >= 3) {\n        eventsToTrigger.push('canplay');\n      } // canplaythrough: newly equal to HAVE_ENOUGH_DATA (4)\n\n\n      if (el.readyState >= 4) {\n        eventsToTrigger.push('canplaythrough');\n      } // We still need to give the player time to add event listeners\n\n\n      this.ready(function () {\n        eventsToTrigger.forEach(function (type) {\n          this.trigger(type);\n        }, this);\n      });\n    }\n    /**\n     * Set whether we are scrubbing or not.\n     * This is used to decide whether we should use `fastSeek` or not.\n     * `fastSeek` is used to provide trick play on Safari browsers.\n     *\n     * @param {boolean} isScrubbing\n     *                  - true for we are currently scrubbing\n     *                  - false for we are no longer scrubbing\n     */\n    ;\n\n    _proto.setScrubbing = function setScrubbing(isScrubbing) {\n      this.isScrubbing_ = isScrubbing;\n    }\n    /**\n     * Get whether we are scrubbing or not.\n     *\n     * @return {boolean} isScrubbing\n     *                  - true for we are currently scrubbing\n     *                  - false for we are no longer scrubbing\n     */\n    ;\n\n    _proto.scrubbing = function scrubbing() {\n      return this.isScrubbing_;\n    }\n    /**\n     * Set current time for the `HTML5` tech.\n     *\n     * @param {number} seconds\n     *        Set the current time of the media to this.\n     */\n    ;\n\n    _proto.setCurrentTime = function setCurrentTime(seconds) {\n      try {\n        if (this.isScrubbing_ && this.el_.fastSeek && IS_ANY_SAFARI) {\n          this.el_.fastSeek(seconds);\n        } else {\n          this.el_.currentTime = seconds;\n        }\n      } catch (e) {\n        log(e, 'Video is not ready. (Video.js)'); // this.warning(VideoJS.warnings.videoNotReady);\n      }\n    }\n    /**\n     * Get the current duration of the HTML5 media element.\n     *\n     * @return {number}\n     *         The duration of the media or 0 if there is no duration.\n     */\n    ;\n\n    _proto.duration = function duration() {\n      var _this5 = this;\n\n      // Android Chrome will report duration as Infinity for VOD HLS until after\n      // playback has started, which triggers the live display erroneously.\n      // Return NaN if playback has not started and trigger a durationupdate once\n      // the duration can be reliably known.\n      if (this.el_.duration === Infinity && IS_ANDROID && IS_CHROME && this.el_.currentTime === 0) {\n        // Wait for the first `timeupdate` with currentTime > 0 - there may be\n        // several with 0\n        var checkProgress = function checkProgress() {\n          if (_this5.el_.currentTime > 0) {\n            // Trigger durationchange for genuinely live video\n            if (_this5.el_.duration === Infinity) {\n              _this5.trigger('durationchange');\n            }\n\n            _this5.off('timeupdate', checkProgress);\n          }\n        };\n\n        this.on('timeupdate', checkProgress);\n        return NaN;\n      }\n\n      return this.el_.duration || NaN;\n    }\n    /**\n     * Get the current width of the HTML5 media element.\n     *\n     * @return {number}\n     *         The width of the HTML5 media element.\n     */\n    ;\n\n    _proto.width = function width() {\n      return this.el_.offsetWidth;\n    }\n    /**\n     * Get the current height of the HTML5 media element.\n     *\n     * @return {number}\n     *         The height of the HTML5 media element.\n     */\n    ;\n\n    _proto.height = function height() {\n      return this.el_.offsetHeight;\n    }\n    /**\n     * Proxy iOS `webkitbeginfullscreen` and `webkitendfullscreen` into\n     * `fullscreenchange` event.\n     *\n     * @private\n     * @fires fullscreenchange\n     * @listens webkitendfullscreen\n     * @listens webkitbeginfullscreen\n     * @listens webkitbeginfullscreen\n     */\n    ;\n\n    _proto.proxyWebkitFullscreen_ = function proxyWebkitFullscreen_() {\n      var _this6 = this;\n\n      if (!('webkitDisplayingFullscreen' in this.el_)) {\n        return;\n      }\n\n      var endFn = function endFn() {\n        this.trigger('fullscreenchange', {\n          isFullscreen: false\n        }); // Safari will sometimes set contols on the videoelement when existing fullscreen.\n\n        if (this.el_.controls && !this.options_.nativeControlsForTouch && this.controls()) {\n          this.el_.controls = false;\n        }\n      };\n\n      var beginFn = function beginFn() {\n        if ('webkitPresentationMode' in this.el_ && this.el_.webkitPresentationMode !== 'picture-in-picture') {\n          this.one('webkitendfullscreen', endFn);\n          this.trigger('fullscreenchange', {\n            isFullscreen: true,\n            // set a flag in case another tech triggers fullscreenchange\n            nativeIOSFullscreen: true\n          });\n        }\n      };\n\n      this.on('webkitbeginfullscreen', beginFn);\n      this.on('dispose', function () {\n        _this6.off('webkitbeginfullscreen', beginFn);\n\n        _this6.off('webkitendfullscreen', endFn);\n      });\n    }\n    /**\n     * Check if fullscreen is supported on the current playback device.\n     *\n     * @return {boolean}\n     *         - True if fullscreen is supported.\n     *         - False if fullscreen is not supported.\n     */\n    ;\n\n    _proto.supportsFullScreen = function supportsFullScreen() {\n      if (typeof this.el_.webkitEnterFullScreen === 'function') {\n        var userAgent = window.navigator && window.navigator.userAgent || ''; // Seems to be broken in Chromium/Chrome && Safari in Leopard\n\n        if (/Android/.test(userAgent) || !/Chrome|Mac OS X 10.5/.test(userAgent)) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n    /**\n     * Request that the `HTML5` Tech enter fullscreen.\n     */\n    ;\n\n    _proto.enterFullScreen = function enterFullScreen() {\n      var video = this.el_;\n\n      if (video.paused && video.networkState <= video.HAVE_METADATA) {\n        // attempt to prime the video element for programmatic access\n        // this isn't necessary on the desktop but shouldn't hurt\n        silencePromise(this.el_.play()); // playing and pausing synchronously during the transition to fullscreen\n        // can get iOS ~6.1 devices into a play/pause loop\n\n        this.setTimeout(function () {\n          video.pause();\n\n          try {\n            video.webkitEnterFullScreen();\n          } catch (e) {\n            this.trigger('fullscreenerror', e);\n          }\n        }, 0);\n      } else {\n        try {\n          video.webkitEnterFullScreen();\n        } catch (e) {\n          this.trigger('fullscreenerror', e);\n        }\n      }\n    }\n    /**\n     * Request that the `HTML5` Tech exit fullscreen.\n     */\n    ;\n\n    _proto.exitFullScreen = function exitFullScreen() {\n      if (!this.el_.webkitDisplayingFullscreen) {\n        this.trigger('fullscreenerror', new Error('The video is not fullscreen'));\n        return;\n      }\n\n      this.el_.webkitExitFullScreen();\n    }\n    /**\n     * Create a floating video window always on top of other windows so that users may\n     * continue consuming media while they interact with other content sites, or\n     * applications on their device.\n     *\n     * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n     *\n     * @return {Promise}\n     *         A promise with a Picture-in-Picture window.\n     */\n    ;\n\n    _proto.requestPictureInPicture = function requestPictureInPicture() {\n      return this.el_.requestPictureInPicture();\n    }\n    /**\n     * Native requestVideoFrameCallback if supported by browser/tech, or fallback\n     * Don't use rVCF on Safari when DRM is playing, as it doesn't fire\n     * Needs to be checked later than the constructor\n     * This will be a false positive for clear sources loaded after a Fairplay source\n     *\n     * @param {function} cb function to call\n     * @return {number} id of request\n     */\n    ;\n\n    _proto.requestVideoFrameCallback = function requestVideoFrameCallback(cb) {\n      if (this.featuresVideoFrameCallback && !this.el_.webkitKeys) {\n        return this.el_.requestVideoFrameCallback(cb);\n      }\n\n      return _Tech.prototype.requestVideoFrameCallback.call(this, cb);\n    }\n    /**\n     * Native or fallback requestVideoFrameCallback\n     *\n     * @param {number} id request id to cancel\n     */\n    ;\n\n    _proto.cancelVideoFrameCallback = function cancelVideoFrameCallback(id) {\n      if (this.featuresVideoFrameCallback && !this.el_.webkitKeys) {\n        this.el_.cancelVideoFrameCallback(id);\n      } else {\n        _Tech.prototype.cancelVideoFrameCallback.call(this, id);\n      }\n    }\n    /**\n     * A getter/setter for the `Html5` Tech's source object.\n     * > Note: Please use {@link Html5#setSource}\n     *\n     * @param {Tech~SourceObject} [src]\n     *        The source object you want to set on the `HTML5` techs element.\n     *\n     * @return {Tech~SourceObject|undefined}\n     *         - The current source object when a source is not passed in.\n     *         - undefined when setting\n     *\n     * @deprecated Since version 5.\n     */\n    ;\n\n    _proto.src = function src(_src) {\n      if (_src === undefined) {\n        return this.el_.src;\n      } // Setting src through `src` instead of `setSrc` will be deprecated\n\n\n      this.setSrc(_src);\n    }\n    /**\n     * Reset the tech by removing all sources and then calling\n     * {@link Html5.resetMediaElement}.\n     */\n    ;\n\n    _proto.reset = function reset() {\n      Html5.resetMediaElement(this.el_);\n    }\n    /**\n     * Get the current source on the `HTML5` Tech. Falls back to returning the source from\n     * the HTML5 media element.\n     *\n     * @return {Tech~SourceObject}\n     *         The current source object from the HTML5 tech. With a fallback to the\n     *         elements source.\n     */\n    ;\n\n    _proto.currentSrc = function currentSrc() {\n      if (this.currentSource_) {\n        return this.currentSource_.src;\n      }\n\n      return this.el_.currentSrc;\n    }\n    /**\n     * Set controls attribute for the HTML5 media Element.\n     *\n     * @param {string} val\n     *        Value to set the controls attribute to\n     */\n    ;\n\n    _proto.setControls = function setControls(val) {\n      this.el_.controls = !!val;\n    }\n    /**\n     * Create and returns a remote {@link TextTrack} object.\n     *\n     * @param {string} kind\n     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n     *\n     * @param {string} [label]\n     *        Label to identify the text track\n     *\n     * @param {string} [language]\n     *        Two letter language abbreviation\n     *\n     * @return {TextTrack}\n     *         The TextTrack that gets created.\n     */\n    ;\n\n    _proto.addTextTrack = function addTextTrack(kind, label, language) {\n      if (!this.featuresNativeTextTracks) {\n        return _Tech.prototype.addTextTrack.call(this, kind, label, language);\n      }\n\n      return this.el_.addTextTrack(kind, label, language);\n    }\n    /**\n     * Creates either native TextTrack or an emulated TextTrack depending\n     * on the value of `featuresNativeTextTracks`\n     *\n     * @param {Object} options\n     *        The object should contain the options to initialize the TextTrack with.\n     *\n     * @param {string} [options.kind]\n     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata).\n     *\n     * @param {string} [options.label]\n     *        Label to identify the text track\n     *\n     * @param {string} [options.language]\n     *        Two letter language abbreviation.\n     *\n     * @param {boolean} [options.default]\n     *        Default this track to on.\n     *\n     * @param {string} [options.id]\n     *        The internal id to assign this track.\n     *\n     * @param {string} [options.src]\n     *        A source url for the track.\n     *\n     * @return {HTMLTrackElement}\n     *         The track element that gets created.\n     */\n    ;\n\n    _proto.createRemoteTextTrack = function createRemoteTextTrack(options) {\n      if (!this.featuresNativeTextTracks) {\n        return _Tech.prototype.createRemoteTextTrack.call(this, options);\n      }\n\n      var htmlTrackElement = document.createElement('track');\n\n      if (options.kind) {\n        htmlTrackElement.kind = options.kind;\n      }\n\n      if (options.label) {\n        htmlTrackElement.label = options.label;\n      }\n\n      if (options.language || options.srclang) {\n        htmlTrackElement.srclang = options.language || options.srclang;\n      }\n\n      if (options[\"default\"]) {\n        htmlTrackElement[\"default\"] = options[\"default\"];\n      }\n\n      if (options.id) {\n        htmlTrackElement.id = options.id;\n      }\n\n      if (options.src) {\n        htmlTrackElement.src = options.src;\n      }\n\n      return htmlTrackElement;\n    }\n    /**\n     * Creates a remote text track object and returns an html track element.\n     *\n     * @param {Object} options The object should contain values for\n     * kind, language, label, and src (location of the WebVTT file)\n     * @param {boolean} [manualCleanup=true] if set to false, the TextTrack will be\n     * automatically removed from the video element whenever the source changes\n     * @return {HTMLTrackElement} An Html Track Element.\n     * This can be an emulated {@link HTMLTrackElement} or a native one.\n     * @deprecated The default value of the \"manualCleanup\" parameter will default\n     * to \"false\" in upcoming versions of Video.js\n     */\n    ;\n\n    _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n      var htmlTrackElement = _Tech.prototype.addRemoteTextTrack.call(this, options, manualCleanup);\n\n      if (this.featuresNativeTextTracks) {\n        this.el().appendChild(htmlTrackElement);\n      }\n\n      return htmlTrackElement;\n    }\n    /**\n     * Remove remote `TextTrack` from `TextTrackList` object\n     *\n     * @param {TextTrack} track\n     *        `TextTrack` object to remove\n     */\n    ;\n\n    _proto.removeRemoteTextTrack = function removeRemoteTextTrack(track) {\n      _Tech.prototype.removeRemoteTextTrack.call(this, track);\n\n      if (this.featuresNativeTextTracks) {\n        var tracks = this.$$('track');\n        var i = tracks.length;\n\n        while (i--) {\n          if (track === tracks[i] || track === tracks[i].track) {\n            this.el().removeChild(tracks[i]);\n          }\n        }\n      }\n    }\n    /**\n     * Gets available media playback quality metrics as specified by the W3C's Media\n     * Playback Quality API.\n     *\n     * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n     *\n     * @return {Object}\n     *         An object with supported media playback quality metrics\n     */\n    ;\n\n    _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n      if (typeof this.el().getVideoPlaybackQuality === 'function') {\n        return this.el().getVideoPlaybackQuality();\n      }\n\n      var videoPlaybackQuality = {};\n\n      if (typeof this.el().webkitDroppedFrameCount !== 'undefined' && typeof this.el().webkitDecodedFrameCount !== 'undefined') {\n        videoPlaybackQuality.droppedVideoFrames = this.el().webkitDroppedFrameCount;\n        videoPlaybackQuality.totalVideoFrames = this.el().webkitDecodedFrameCount;\n      }\n\n      if (window.performance && typeof window.performance.now === 'function') {\n        videoPlaybackQuality.creationTime = window.performance.now();\n      } else if (window.performance && window.performance.timing && typeof window.performance.timing.navigationStart === 'number') {\n        videoPlaybackQuality.creationTime = window.Date.now() - window.performance.timing.navigationStart;\n      }\n\n      return videoPlaybackQuality;\n    };\n\n    return Html5;\n  }(Tech);\n  /* HTML5 Support Testing ---------------------------------------------------- */\n\n  /**\n   * Element for testing browser HTML5 media capabilities\n   *\n   * @type {Element}\n   * @constant\n   * @private\n   */\n\n\n  defineLazyProperty(Html5, 'TEST_VID', function () {\n    if (!isReal()) {\n      return;\n    }\n\n    var video = document.createElement('video');\n    var track = document.createElement('track');\n    track.kind = 'captions';\n    track.srclang = 'en';\n    track.label = 'English';\n    video.appendChild(track);\n    return video;\n  });\n  /**\n   * Check if HTML5 media is supported by this browser/device.\n   *\n   * @return {boolean}\n   *         - True if HTML5 media is supported.\n   *         - False if HTML5 media is not supported.\n   */\n\n  Html5.isSupported = function () {\n    // IE with no Media Player is a LIAR! (#984)\n    try {\n      Html5.TEST_VID.volume = 0.5;\n    } catch (e) {\n      return false;\n    }\n\n    return !!(Html5.TEST_VID && Html5.TEST_VID.canPlayType);\n  };\n  /**\n   * Check if the tech can support the given type\n   *\n   * @param {string} type\n   *        The mimetype to check\n   * @return {string} 'probably', 'maybe', or '' (empty string)\n   */\n\n\n  Html5.canPlayType = function (type) {\n    return Html5.TEST_VID.canPlayType(type);\n  };\n  /**\n   * Check if the tech can support the given source\n   *\n   * @param {Object} srcObj\n   *        The source object\n   * @param {Object} options\n   *        The options passed to the tech\n   * @return {string} 'probably', 'maybe', or '' (empty string)\n   */\n\n\n  Html5.canPlaySource = function (srcObj, options) {\n    return Html5.canPlayType(srcObj.type);\n  };\n  /**\n   * Check if the volume can be changed in this browser/device.\n   * Volume cannot be changed in a lot of mobile devices.\n   * Specifically, it can't be changed from 1 on iOS.\n   *\n   * @return {boolean}\n   *         - True if volume can be controlled\n   *         - False otherwise\n   */\n\n\n  Html5.canControlVolume = function () {\n    // IE will error if Windows Media Player not installed #3315\n    try {\n      var volume = Html5.TEST_VID.volume;\n      Html5.TEST_VID.volume = volume / 2 + 0.1;\n      var canControl = volume !== Html5.TEST_VID.volume; // With the introduction of iOS 15, there are cases where the volume is read as\n      // changed but reverts back to its original state at the start of the next tick.\n      // To determine whether volume can be controlled on iOS,\n      // a timeout is set and the volume is checked asynchronously.\n      // Since `features` doesn't currently work asynchronously, the value is manually set.\n\n      if (canControl && IS_IOS) {\n        window.setTimeout(function () {\n          if (Html5 && Html5.prototype) {\n            Html5.prototype.featuresVolumeControl = volume !== Html5.TEST_VID.volume;\n          }\n        }); // default iOS to false, which will be updated in the timeout above.\n\n        return false;\n      }\n\n      return canControl;\n    } catch (e) {\n      return false;\n    }\n  };\n  /**\n   * Check if the volume can be muted in this browser/device.\n   * Some devices, e.g. iOS, don't allow changing volume\n   * but permits muting/unmuting.\n   *\n   * @return {bolean}\n   *      - True if volume can be muted\n   *      - False otherwise\n   */\n\n\n  Html5.canMuteVolume = function () {\n    try {\n      var muted = Html5.TEST_VID.muted; // in some versions of iOS muted property doesn't always\n      // work, so we want to set both property and attribute\n\n      Html5.TEST_VID.muted = !muted;\n\n      if (Html5.TEST_VID.muted) {\n        setAttribute(Html5.TEST_VID, 'muted', 'muted');\n      } else {\n        removeAttribute(Html5.TEST_VID, 'muted', 'muted');\n      }\n\n      return muted !== Html5.TEST_VID.muted;\n    } catch (e) {\n      return false;\n    }\n  };\n  /**\n   * Check if the playback rate can be changed in this browser/device.\n   *\n   * @return {boolean}\n   *         - True if playback rate can be controlled\n   *         - False otherwise\n   */\n\n\n  Html5.canControlPlaybackRate = function () {\n    // Playback rate API is implemented in Android Chrome, but doesn't do anything\n    // https://github.com/videojs/video.js/issues/3180\n    if (IS_ANDROID && IS_CHROME && CHROME_VERSION < 58) {\n      return false;\n    } // IE will error if Windows Media Player not installed #3315\n\n\n    try {\n      var playbackRate = Html5.TEST_VID.playbackRate;\n      Html5.TEST_VID.playbackRate = playbackRate / 2 + 0.1;\n      return playbackRate !== Html5.TEST_VID.playbackRate;\n    } catch (e) {\n      return false;\n    }\n  };\n  /**\n   * Check if we can override a video/audio elements attributes, with\n   * Object.defineProperty.\n   *\n   * @return {boolean}\n   *         - True if builtin attributes can be overridden\n   *         - False otherwise\n   */\n\n\n  Html5.canOverrideAttributes = function () {\n    // if we cannot overwrite the src/innerHTML property, there is no support\n    // iOS 7 safari for instance cannot do this.\n    try {\n      var noop = function noop() {};\n\n      Object.defineProperty(document.createElement('video'), 'src', {\n        get: noop,\n        set: noop\n      });\n      Object.defineProperty(document.createElement('audio'), 'src', {\n        get: noop,\n        set: noop\n      });\n      Object.defineProperty(document.createElement('video'), 'innerHTML', {\n        get: noop,\n        set: noop\n      });\n      Object.defineProperty(document.createElement('audio'), 'innerHTML', {\n        get: noop,\n        set: noop\n      });\n    } catch (e) {\n      return false;\n    }\n\n    return true;\n  };\n  /**\n   * Check to see if native `TextTrack`s are supported by this browser/device.\n   *\n   * @return {boolean}\n   *         - True if native `TextTrack`s are supported.\n   *         - False otherwise\n   */\n\n\n  Html5.supportsNativeTextTracks = function () {\n    return IS_ANY_SAFARI || IS_IOS && IS_CHROME;\n  };\n  /**\n   * Check to see if native `VideoTrack`s are supported by this browser/device\n   *\n   * @return {boolean}\n   *        - True if native `VideoTrack`s are supported.\n   *        - False otherwise\n   */\n\n\n  Html5.supportsNativeVideoTracks = function () {\n    return !!(Html5.TEST_VID && Html5.TEST_VID.videoTracks);\n  };\n  /**\n   * Check to see if native `AudioTrack`s are supported by this browser/device\n   *\n   * @return {boolean}\n   *        - True if native `AudioTrack`s are supported.\n   *        - False otherwise\n   */\n\n\n  Html5.supportsNativeAudioTracks = function () {\n    return !!(Html5.TEST_VID && Html5.TEST_VID.audioTracks);\n  };\n  /**\n   * An array of events available on the Html5 tech.\n   *\n   * @private\n   * @type {Array}\n   */\n\n\n  Html5.Events = ['loadstart', 'suspend', 'abort', 'error', 'emptied', 'stalled', 'loadedmetadata', 'loadeddata', 'canplay', 'canplaythrough', 'playing', 'waiting', 'seeking', 'seeked', 'ended', 'durationchange', 'timeupdate', 'progress', 'play', 'pause', 'ratechange', 'resize', 'volumechange'];\n  /**\n   * Boolean indicating whether the `Tech` supports volume control.\n   *\n   * @type {boolean}\n   * @default {@link Html5.canControlVolume}\n   */\n\n  /**\n   * Boolean indicating whether the `Tech` supports muting volume.\n   *\n   * @type {bolean}\n   * @default {@link Html5.canMuteVolume}\n   */\n\n  /**\n   * Boolean indicating whether the `Tech` supports changing the speed at which the media\n   * plays. Examples:\n   *   - Set player to play 2x (twice) as fast\n   *   - Set player to play 0.5x (half) as fast\n   *\n   * @type {boolean}\n   * @default {@link Html5.canControlPlaybackRate}\n   */\n\n  /**\n   * Boolean indicating whether the `Tech` supports the `sourceset` event.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports native `TextTrack`s.\n   *\n   * @type {boolean}\n   * @default {@link Html5.supportsNativeTextTracks}\n   */\n\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports native `VideoTrack`s.\n   *\n   * @type {boolean}\n   * @default {@link Html5.supportsNativeVideoTracks}\n   */\n\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports native `AudioTrack`s.\n   *\n   * @type {boolean}\n   * @default {@link Html5.supportsNativeAudioTracks}\n   */\n\n  [['featuresMuteControl', 'canMuteVolume'], ['featuresPlaybackRate', 'canControlPlaybackRate'], ['featuresSourceset', 'canOverrideAttributes'], ['featuresNativeTextTracks', 'supportsNativeTextTracks'], ['featuresNativeVideoTracks', 'supportsNativeVideoTracks'], ['featuresNativeAudioTracks', 'supportsNativeAudioTracks']].forEach(function (_ref) {\n    var key = _ref[0],\n        fn = _ref[1];\n    defineLazyProperty(Html5.prototype, key, function () {\n      return Html5[fn]();\n    }, true);\n  });\n  Html5.prototype.featuresVolumeControl = Html5.canControlVolume();\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports the media element\n   * moving in the DOM. iOS breaks if you move the media element, so this is set this to\n   * false there. Everywhere else this should be true.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Html5.prototype.movingMediaElementInDOM = !IS_IOS; // TODO: Previous comment: No longer appears to be used. Can probably be removed.\n  //       Is this true?\n\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports automatic media resize\n   * when going into fullscreen.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Html5.prototype.featuresFullscreenResize = true;\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports the progress event.\n   * If this is false, manual `progress` events will be triggered instead.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Html5.prototype.featuresProgressEvents = true;\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports the timeupdate event.\n   * If this is false, manual `timeupdate` events will be triggered instead.\n   *\n   * @default\n   */\n\n  Html5.prototype.featuresTimeupdateEvents = true;\n  /**\n   * Whether the HTML5 el supports `requestVideoFrameCallback`\n   *\n   * @type {boolean}\n   */\n\n  Html5.prototype.featuresVideoFrameCallback = !!(Html5.TEST_VID && Html5.TEST_VID.requestVideoFrameCallback); // HTML5 Feature detection and Device Fixes --------------------------------- //\n\n  var canPlayType;\n\n  Html5.patchCanPlayType = function () {\n    // Android 4.0 and above can play HLS to some extent but it reports being unable to do so\n    // Firefox and Chrome report correctly\n    if (ANDROID_VERSION >= 4.0 && !IS_FIREFOX && !IS_CHROME) {\n      canPlayType = Html5.TEST_VID && Html5.TEST_VID.constructor.prototype.canPlayType;\n\n      Html5.TEST_VID.constructor.prototype.canPlayType = function (type) {\n        var mpegurlRE = /^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i;\n\n        if (type && mpegurlRE.test(type)) {\n          return 'maybe';\n        }\n\n        return canPlayType.call(this, type);\n      };\n    }\n  };\n\n  Html5.unpatchCanPlayType = function () {\n    var r = Html5.TEST_VID.constructor.prototype.canPlayType;\n\n    if (canPlayType) {\n      Html5.TEST_VID.constructor.prototype.canPlayType = canPlayType;\n    }\n\n    return r;\n  }; // by default, patch the media element\n\n\n  Html5.patchCanPlayType();\n\n  Html5.disposeMediaElement = function (el) {\n    if (!el) {\n      return;\n    }\n\n    if (el.parentNode) {\n      el.parentNode.removeChild(el);\n    } // remove any child track or source nodes to prevent their loading\n\n\n    while (el.hasChildNodes()) {\n      el.removeChild(el.firstChild);\n    } // remove any src reference. not setting `src=''` because that causes a warning\n    // in firefox\n\n\n    el.removeAttribute('src'); // force the media element to update its loading state by calling load()\n    // however IE on Windows 7N has a bug that throws an error so need a try/catch (#793)\n\n    if (typeof el.load === 'function') {\n      // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n      (function () {\n        try {\n          el.load();\n        } catch (e) {// not supported\n        }\n      })();\n    }\n  };\n\n  Html5.resetMediaElement = function (el) {\n    if (!el) {\n      return;\n    }\n\n    var sources = el.querySelectorAll('source');\n    var i = sources.length;\n\n    while (i--) {\n      el.removeChild(sources[i]);\n    } // remove any src reference.\n    // not setting `src=''` because that throws an error\n\n\n    el.removeAttribute('src');\n\n    if (typeof el.load === 'function') {\n      // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n      (function () {\n        try {\n          el.load();\n        } catch (e) {// satisfy linter\n        }\n      })();\n    }\n  };\n  /* Native HTML5 element property wrapping ----------------------------------- */\n  // Wrap native boolean attributes with getters that check both property and attribute\n  // The list is as followed:\n  // muted, defaultMuted, autoplay, controls, loop, playsinline\n\n\n  [\n  /**\n   * Get the value of `muted` from the media element. `muted` indicates\n   * that the volume for the media should be set to silent. This does not actually change\n   * the `volume` attribute.\n   *\n   * @method Html5#muted\n   * @return {boolean}\n   *         - True if the value of `volume` should be ignored and the audio set to silent.\n   *         - False if the value of `volume` should be used.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-muted}\n   */\n  'muted',\n  /**\n   * Get the value of `defaultMuted` from the media element. `defaultMuted` indicates\n   * whether the media should start muted or not. Only changes the default state of the\n   * media. `muted` and `defaultMuted` can have different values. {@link Html5#muted} indicates the\n   * current state.\n   *\n   * @method Html5#defaultMuted\n   * @return {boolean}\n   *         - The value of `defaultMuted` from the media element.\n   *         - True indicates that the media should start muted.\n   *         - False indicates that the media should not start muted\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultmuted}\n   */\n  'defaultMuted',\n  /**\n   * Get the value of `autoplay` from the media element. `autoplay` indicates\n   * that the media should start to play as soon as the page is ready.\n   *\n   * @method Html5#autoplay\n   * @return {boolean}\n   *         - The value of `autoplay` from the media element.\n   *         - True indicates that the media should start as soon as the page loads.\n   *         - False indicates that the media should not start as soon as the page loads.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-autoplay}\n   */\n  'autoplay',\n  /**\n   * Get the value of `controls` from the media element. `controls` indicates\n   * whether the native media controls should be shown or hidden.\n   *\n   * @method Html5#controls\n   * @return {boolean}\n   *         - The value of `controls` from the media element.\n   *         - True indicates that native controls should be showing.\n   *         - False indicates that native controls should be hidden.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-controls}\n   */\n  'controls',\n  /**\n   * Get the value of `loop` from the media element. `loop` indicates\n   * that the media should return to the start of the media and continue playing once\n   * it reaches the end.\n   *\n   * @method Html5#loop\n   * @return {boolean}\n   *         - The value of `loop` from the media element.\n   *         - True indicates that playback should seek back to start once\n   *           the end of a media is reached.\n   *         - False indicates that playback should not loop back to the start when the\n   *           end of the media is reached.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-loop}\n   */\n  'loop',\n  /**\n   * Get the value of `playsinline` from the media element. `playsinline` indicates\n   * to the browser that non-fullscreen playback is preferred when fullscreen\n   * playback is the native default, such as in iOS Safari.\n   *\n   * @method Html5#playsinline\n   * @return {boolean}\n   *         - The value of `playsinline` from the media element.\n   *         - True indicates that the media should play inline.\n   *         - False indicates that the media should not play inline.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n   */\n  'playsinline'].forEach(function (prop) {\n    Html5.prototype[prop] = function () {\n      return this.el_[prop] || this.el_.hasAttribute(prop);\n    };\n  }); // Wrap native boolean attributes with setters that set both property and attribute\n  // The list is as followed:\n  // setMuted, setDefaultMuted, setAutoplay, setLoop, setPlaysinline\n  // setControls is special-cased above\n\n  [\n  /**\n   * Set the value of `muted` on the media element. `muted` indicates that the current\n   * audio level should be silent.\n   *\n   * @method Html5#setMuted\n   * @param {boolean} muted\n   *        - True if the audio should be set to silent\n   *        - False otherwise\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-muted}\n   */\n  'muted',\n  /**\n   * Set the value of `defaultMuted` on the media element. `defaultMuted` indicates that the current\n   * audio level should be silent, but will only effect the muted level on initial playback..\n   *\n   * @method Html5.prototype.setDefaultMuted\n   * @param {boolean} defaultMuted\n   *        - True if the audio should be set to silent\n   *        - False otherwise\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultmuted}\n   */\n  'defaultMuted',\n  /**\n   * Set the value of `autoplay` on the media element. `autoplay` indicates\n   * that the media should start to play as soon as the page is ready.\n   *\n   * @method Html5#setAutoplay\n   * @param {boolean} autoplay\n   *         - True indicates that the media should start as soon as the page loads.\n   *         - False indicates that the media should not start as soon as the page loads.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-autoplay}\n   */\n  'autoplay',\n  /**\n   * Set the value of `loop` on the media element. `loop` indicates\n   * that the media should return to the start of the media and continue playing once\n   * it reaches the end.\n   *\n   * @method Html5#setLoop\n   * @param {boolean} loop\n   *         - True indicates that playback should seek back to start once\n   *           the end of a media is reached.\n   *         - False indicates that playback should not loop back to the start when the\n   *           end of the media is reached.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-loop}\n   */\n  'loop',\n  /**\n   * Set the value of `playsinline` from the media element. `playsinline` indicates\n   * to the browser that non-fullscreen playback is preferred when fullscreen\n   * playback is the native default, such as in iOS Safari.\n   *\n   * @method Html5#setPlaysinline\n   * @param {boolean} playsinline\n   *         - True indicates that the media should play inline.\n   *         - False indicates that the media should not play inline.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n   */\n  'playsinline'].forEach(function (prop) {\n    Html5.prototype['set' + toTitleCase(prop)] = function (v) {\n      this.el_[prop] = v;\n\n      if (v) {\n        this.el_.setAttribute(prop, prop);\n      } else {\n        this.el_.removeAttribute(prop);\n      }\n    };\n  }); // Wrap native properties with a getter\n  // The list is as followed\n  // paused, currentTime, buffered, volume, poster, preload, error, seeking\n  // seekable, ended, playbackRate, defaultPlaybackRate, disablePictureInPicture\n  // played, networkState, readyState, videoWidth, videoHeight, crossOrigin\n\n  [\n  /**\n   * Get the value of `paused` from the media element. `paused` indicates whether the media element\n   * is currently paused or not.\n   *\n   * @method Html5#paused\n   * @return {boolean}\n   *         The value of `paused` from the media element.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-paused}\n   */\n  'paused',\n  /**\n   * Get the value of `currentTime` from the media element. `currentTime` indicates\n   * the current second that the media is at in playback.\n   *\n   * @method Html5#currentTime\n   * @return {number}\n   *         The value of `currentTime` from the media element.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-currenttime}\n   */\n  'currentTime',\n  /**\n   * Get the value of `buffered` from the media element. `buffered` is a `TimeRange`\n   * object that represents the parts of the media that are already downloaded and\n   * available for playback.\n   *\n   * @method Html5#buffered\n   * @return {TimeRange}\n   *         The value of `buffered` from the media element.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-buffered}\n   */\n  'buffered',\n  /**\n   * Get the value of `volume` from the media element. `volume` indicates\n   * the current playback volume of audio for a media. `volume` will be a value from 0\n   * (silent) to 1 (loudest and default).\n   *\n   * @method Html5#volume\n   * @return {number}\n   *         The value of `volume` from the media element. Value will be between 0-1.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-a-volume}\n   */\n  'volume',\n  /**\n   * Get the value of `poster` from the media element. `poster` indicates\n   * that the url of an image file that can/will be shown when no media data is available.\n   *\n   * @method Html5#poster\n   * @return {string}\n   *         The value of `poster` from the media element. Value will be a url to an\n   *         image.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-video-poster}\n   */\n  'poster',\n  /**\n   * Get the value of `preload` from the media element. `preload` indicates\n   * what should download before the media is interacted with. It can have the following\n   * values:\n   * - none: nothing should be downloaded\n   * - metadata: poster and the first few frames of the media may be downloaded to get\n   *   media dimensions and other metadata\n   * - auto: allow the media and metadata for the media to be downloaded before\n   *    interaction\n   *\n   * @method Html5#preload\n   * @return {string}\n   *         The value of `preload` from the media element. Will be 'none', 'metadata',\n   *         or 'auto'.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload}\n   */\n  'preload',\n  /**\n   * Get the value of the `error` from the media element. `error` indicates any\n   * MediaError that may have occurred during playback. If error returns null there is no\n   * current error.\n   *\n   * @method Html5#error\n   * @return {MediaError|null}\n   *         The value of `error` from the media element. Will be `MediaError` if there\n   *         is a current error and null otherwise.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-error}\n   */\n  'error',\n  /**\n   * Get the value of `seeking` from the media element. `seeking` indicates whether the\n   * media is currently seeking to a new position or not.\n   *\n   * @method Html5#seeking\n   * @return {boolean}\n   *         - The value of `seeking` from the media element.\n   *         - True indicates that the media is currently seeking to a new position.\n   *         - False indicates that the media is not seeking to a new position at this time.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seeking}\n   */\n  'seeking',\n  /**\n   * Get the value of `seekable` from the media element. `seekable` returns a\n   * `TimeRange` object indicating ranges of time that can currently be `seeked` to.\n   *\n   * @method Html5#seekable\n   * @return {TimeRange}\n   *         The value of `seekable` from the media element. A `TimeRange` object\n   *         indicating the current ranges of time that can be seeked to.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seekable}\n   */\n  'seekable',\n  /**\n   * Get the value of `ended` from the media element. `ended` indicates whether\n   * the media has reached the end or not.\n   *\n   * @method Html5#ended\n   * @return {boolean}\n   *         - The value of `ended` from the media element.\n   *         - True indicates that the media has ended.\n   *         - False indicates that the media has not ended.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-ended}\n   */\n  'ended',\n  /**\n   * Get the value of `playbackRate` from the media element. `playbackRate` indicates\n   * the rate at which the media is currently playing back. Examples:\n   *   - if playbackRate is set to 2, media will play twice as fast.\n   *   - if playbackRate is set to 0.5, media will play half as fast.\n   *\n   * @method Html5#playbackRate\n   * @return {number}\n   *         The value of `playbackRate` from the media element. A number indicating\n   *         the current playback speed of the media, where 1 is normal speed.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n   */\n  'playbackRate',\n  /**\n   * Get the value of `defaultPlaybackRate` from the media element. `defaultPlaybackRate` indicates\n   * the rate at which the media is currently playing back. This value will not indicate the current\n   * `playbackRate` after playback has started, use {@link Html5#playbackRate} for that.\n   *\n   * Examples:\n   *   - if defaultPlaybackRate is set to 2, media will play twice as fast.\n   *   - if defaultPlaybackRate is set to 0.5, media will play half as fast.\n   *\n   * @method Html5.prototype.defaultPlaybackRate\n   * @return {number}\n   *         The value of `defaultPlaybackRate` from the media element. A number indicating\n   *         the current playback speed of the media, where 1 is normal speed.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n   */\n  'defaultPlaybackRate',\n  /**\n   * Get the value of 'disablePictureInPicture' from the video element.\n   *\n   * @method Html5#disablePictureInPicture\n   * @return {boolean} value\n   *         - The value of `disablePictureInPicture` from the video element.\n   *         - True indicates that the video can't be played in Picture-In-Picture mode\n   *         - False indicates that the video can be played in Picture-In-Picture mode\n   *\n   * @see [Spec]{@link https://w3c.github.io/picture-in-picture/#disable-pip}\n   */\n  'disablePictureInPicture',\n  /**\n   * Get the value of `played` from the media element. `played` returns a `TimeRange`\n   * object representing points in the media timeline that have been played.\n   *\n   * @method Html5#played\n   * @return {TimeRange}\n   *         The value of `played` from the media element. A `TimeRange` object indicating\n   *         the ranges of time that have been played.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-played}\n   */\n  'played',\n  /**\n   * Get the value of `networkState` from the media element. `networkState` indicates\n   * the current network state. It returns an enumeration from the following list:\n   * - 0: NETWORK_EMPTY\n   * - 1: NETWORK_IDLE\n   * - 2: NETWORK_LOADING\n   * - 3: NETWORK_NO_SOURCE\n   *\n   * @method Html5#networkState\n   * @return {number}\n   *         The value of `networkState` from the media element. This will be a number\n   *         from the list in the description.\n   *\n   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-networkstate}\n   */\n  'networkState',\n  /**\n   * Get the value of `readyState` from the media element. `readyState` indicates\n   * the current state of the media element. It returns an enumeration from the\n   * following list:\n   * - 0: HAVE_NOTHING\n   * - 1: HAVE_METADATA\n   * - 2: HAVE_CURRENT_DATA\n   * - 3: HAVE_FUTURE_DATA\n   * - 4: HAVE_ENOUGH_DATA\n   *\n   * @method Html5#readyState\n   * @return {number}\n   *         The value of `readyState` from the media element. This will be a number\n   *         from the list in the description.\n   *\n   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#ready-states}\n   */\n  'readyState',\n  /**\n   * Get the value of `videoWidth` from the video element. `videoWidth` indicates\n   * the current width of the video in css pixels.\n   *\n   * @method Html5#videoWidth\n   * @return {number}\n   *         The value of `videoWidth` from the video element. This will be a number\n   *         in css pixels.\n   *\n   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-video-videowidth}\n   */\n  'videoWidth',\n  /**\n   * Get the value of `videoHeight` from the video element. `videoHeight` indicates\n   * the current height of the video in css pixels.\n   *\n   * @method Html5#videoHeight\n   * @return {number}\n   *         The value of `videoHeight` from the video element. This will be a number\n   *         in css pixels.\n   *\n   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-video-videowidth}\n   */\n  'videoHeight',\n  /**\n   * Get the value of `crossOrigin` from the media element. `crossOrigin` indicates\n   * to the browser that should sent the cookies along with the requests for the\n   * different assets/playlists\n   *\n   * @method Html5#crossOrigin\n   * @return {string}\n   *         - anonymous indicates that the media should not sent cookies.\n   *         - use-credentials indicates that the media should sent cookies along the requests.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/#attr-media-crossorigin}\n   */\n  'crossOrigin'].forEach(function (prop) {\n    Html5.prototype[prop] = function () {\n      return this.el_[prop];\n    };\n  }); // Wrap native properties with a setter in this format:\n  // set + toTitleCase(name)\n  // The list is as follows:\n  // setVolume, setSrc, setPoster, setPreload, setPlaybackRate, setDefaultPlaybackRate,\n  // setDisablePictureInPicture, setCrossOrigin\n\n  [\n  /**\n   * Set the value of `volume` on the media element. `volume` indicates the current\n   * audio level as a percentage in decimal form. This means that 1 is 100%, 0.5 is 50%, and\n   * so on.\n   *\n   * @method Html5#setVolume\n   * @param {number} percentAsDecimal\n   *        The volume percent as a decimal. Valid range is from 0-1.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-a-volume}\n   */\n  'volume',\n  /**\n   * Set the value of `src` on the media element. `src` indicates the current\n   * {@link Tech~SourceObject} for the media.\n   *\n   * @method Html5#setSrc\n   * @param {Tech~SourceObject} src\n   *        The source object to set as the current source.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-src}\n   */\n  'src',\n  /**\n   * Set the value of `poster` on the media element. `poster` is the url to\n   * an image file that can/will be shown when no media data is available.\n   *\n   * @method Html5#setPoster\n   * @param {string} poster\n   *        The url to an image that should be used as the `poster` for the media\n   *        element.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-poster}\n   */\n  'poster',\n  /**\n   * Set the value of `preload` on the media element. `preload` indicates\n   * what should download before the media is interacted with. It can have the following\n   * values:\n   * - none: nothing should be downloaded\n   * - metadata: poster and the first few frames of the media may be downloaded to get\n   *   media dimensions and other metadata\n   * - auto: allow the media and metadata for the media to be downloaded before\n   *    interaction\n   *\n   * @method Html5#setPreload\n   * @param {string} preload\n   *         The value of `preload` to set on the media element. Must be 'none', 'metadata',\n   *         or 'auto'.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload}\n   */\n  'preload',\n  /**\n   * Set the value of `playbackRate` on the media element. `playbackRate` indicates\n   * the rate at which the media should play back. Examples:\n   *   - if playbackRate is set to 2, media will play twice as fast.\n   *   - if playbackRate is set to 0.5, media will play half as fast.\n   *\n   * @method Html5#setPlaybackRate\n   * @return {number}\n   *         The value of `playbackRate` from the media element. A number indicating\n   *         the current playback speed of the media, where 1 is normal speed.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n   */\n  'playbackRate',\n  /**\n   * Set the value of `defaultPlaybackRate` on the media element. `defaultPlaybackRate` indicates\n   * the rate at which the media should play back upon initial startup. Changing this value\n   * after a video has started will do nothing. Instead you should used {@link Html5#setPlaybackRate}.\n   *\n   * Example Values:\n   *   - if playbackRate is set to 2, media will play twice as fast.\n   *   - if playbackRate is set to 0.5, media will play half as fast.\n   *\n   * @method Html5.prototype.setDefaultPlaybackRate\n   * @return {number}\n   *         The value of `defaultPlaybackRate` from the media element. A number indicating\n   *         the current playback speed of the media, where 1 is normal speed.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultplaybackrate}\n   */\n  'defaultPlaybackRate',\n  /**\n   * Prevents the browser from suggesting a Picture-in-Picture context menu\n   * or to request Picture-in-Picture automatically in some cases.\n   *\n   * @method Html5#setDisablePictureInPicture\n   * @param {boolean} value\n   *         The true value will disable Picture-in-Picture mode.\n   *\n   * @see [Spec]{@link https://w3c.github.io/picture-in-picture/#disable-pip}\n   */\n  'disablePictureInPicture',\n  /**\n   * Set the value of `crossOrigin` from the media element. `crossOrigin` indicates\n   * to the browser that should sent the cookies along with the requests for the\n   * different assets/playlists\n   *\n   * @method Html5#setCrossOrigin\n   * @param {string} crossOrigin\n   *         - anonymous indicates that the media should not sent cookies.\n   *         - use-credentials indicates that the media should sent cookies along the requests.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/#attr-media-crossorigin}\n   */\n  'crossOrigin'].forEach(function (prop) {\n    Html5.prototype['set' + toTitleCase(prop)] = function (v) {\n      this.el_[prop] = v;\n    };\n  }); // wrap native functions with a function\n  // The list is as follows:\n  // pause, load, play\n\n  [\n  /**\n   * A wrapper around the media elements `pause` function. This will call the `HTML5`\n   * media elements `pause` function.\n   *\n   * @method Html5#pause\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-pause}\n   */\n  'pause',\n  /**\n   * A wrapper around the media elements `load` function. This will call the `HTML5`s\n   * media element `load` function.\n   *\n   * @method Html5#load\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-load}\n   */\n  'load',\n  /**\n   * A wrapper around the media elements `play` function. This will call the `HTML5`s\n   * media element `play` function.\n   *\n   * @method Html5#play\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-play}\n   */\n  'play'].forEach(function (prop) {\n    Html5.prototype[prop] = function () {\n      return this.el_[prop]();\n    };\n  });\n  Tech.withSourceHandlers(Html5);\n  /**\n   * Native source handler for Html5, simply passes the source to the media element.\n   *\n   * @property {Tech~SourceObject} source\n   *        The source object\n   *\n   * @property {Html5} tech\n   *        The instance of the HTML5 tech.\n   */\n\n  Html5.nativeSourceHandler = {};\n  /**\n   * Check if the media element can play the given mime type.\n   *\n   * @param {string} type\n   *        The mimetype to check\n   *\n   * @return {string}\n   *         'probably', 'maybe', or '' (empty string)\n   */\n\n  Html5.nativeSourceHandler.canPlayType = function (type) {\n    // IE without MediaPlayer throws an error (#519)\n    try {\n      return Html5.TEST_VID.canPlayType(type);\n    } catch (e) {\n      return '';\n    }\n  };\n  /**\n   * Check if the media element can handle a source natively.\n   *\n   * @param {Tech~SourceObject} source\n   *         The source object\n   *\n   * @param {Object} [options]\n   *         Options to be passed to the tech.\n   *\n   * @return {string}\n   *         'probably', 'maybe', or '' (empty string).\n   */\n\n\n  Html5.nativeSourceHandler.canHandleSource = function (source, options) {\n    // If a type was provided we should rely on that\n    if (source.type) {\n      return Html5.nativeSourceHandler.canPlayType(source.type); // If no type, fall back to checking 'video/[EXTENSION]'\n    } else if (source.src) {\n      var ext = getFileExtension(source.src);\n      return Html5.nativeSourceHandler.canPlayType(\"video/\" + ext);\n    }\n\n    return '';\n  };\n  /**\n   * Pass the source to the native media element.\n   *\n   * @param {Tech~SourceObject} source\n   *        The source object\n   *\n   * @param {Html5} tech\n   *        The instance of the Html5 tech\n   *\n   * @param {Object} [options]\n   *        The options to pass to the source\n   */\n\n\n  Html5.nativeSourceHandler.handleSource = function (source, tech, options) {\n    tech.setSrc(source.src);\n  };\n  /**\n   * A noop for the native dispose function, as cleanup is not needed.\n   */\n\n\n  Html5.nativeSourceHandler.dispose = function () {}; // Register the native source handler\n\n\n  Html5.registerSourceHandler(Html5.nativeSourceHandler);\n  Tech.registerTech('Html5', Html5);\n\n  // on the player when they happen\n\n  var TECH_EVENTS_RETRIGGER = [\n  /**\n   * Fired while the user agent is downloading media data.\n   *\n   * @event Player#progress\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `progress` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechProgress_\n   * @fires Player#progress\n   * @listens Tech#progress\n   */\n  'progress',\n  /**\n   * Fires when the loading of an audio/video is aborted.\n   *\n   * @event Player#abort\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `abort` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechAbort_\n   * @fires Player#abort\n   * @listens Tech#abort\n   */\n  'abort',\n  /**\n   * Fires when the browser is intentionally not getting media data.\n   *\n   * @event Player#suspend\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `suspend` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechSuspend_\n   * @fires Player#suspend\n   * @listens Tech#suspend\n   */\n  'suspend',\n  /**\n   * Fires when the current playlist is empty.\n   *\n   * @event Player#emptied\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `emptied` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechEmptied_\n   * @fires Player#emptied\n   * @listens Tech#emptied\n   */\n  'emptied',\n  /**\n   * Fires when the browser is trying to get media data, but data is not available.\n   *\n   * @event Player#stalled\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `stalled` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechStalled_\n   * @fires Player#stalled\n   * @listens Tech#stalled\n   */\n  'stalled',\n  /**\n   * Fires when the browser has loaded meta data for the audio/video.\n   *\n   * @event Player#loadedmetadata\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `loadedmetadata` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechLoadedmetadata_\n   * @fires Player#loadedmetadata\n   * @listens Tech#loadedmetadata\n   */\n  'loadedmetadata',\n  /**\n   * Fires when the browser has loaded the current frame of the audio/video.\n   *\n   * @event Player#loadeddata\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `loadeddata` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechLoaddeddata_\n   * @fires Player#loadeddata\n   * @listens Tech#loadeddata\n   */\n  'loadeddata',\n  /**\n   * Fires when the current playback position has changed.\n   *\n   * @event Player#timeupdate\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `timeupdate` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechTimeUpdate_\n   * @fires Player#timeupdate\n   * @listens Tech#timeupdate\n   */\n  'timeupdate',\n  /**\n   * Fires when the video's intrinsic dimensions change\n   *\n   * @event Player#resize\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `resize` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechResize_\n   * @fires Player#resize\n   * @listens Tech#resize\n   */\n  'resize',\n  /**\n   * Fires when the volume has been changed\n   *\n   * @event Player#volumechange\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `volumechange` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechVolumechange_\n   * @fires Player#volumechange\n   * @listens Tech#volumechange\n   */\n  'volumechange',\n  /**\n   * Fires when the text track has been changed\n   *\n   * @event Player#texttrackchange\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `texttrackchange` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechTexttrackchange_\n   * @fires Player#texttrackchange\n   * @listens Tech#texttrackchange\n   */\n  'texttrackchange']; // events to queue when playback rate is zero\n  // this is a hash for the sole purpose of mapping non-camel-cased event names\n  // to camel-cased function names\n\n  var TECH_EVENTS_QUEUE = {\n    canplay: 'CanPlay',\n    canplaythrough: 'CanPlayThrough',\n    playing: 'Playing',\n    seeked: 'Seeked'\n  };\n  var BREAKPOINT_ORDER = ['tiny', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'huge'];\n  var BREAKPOINT_CLASSES = {}; // grep: vjs-layout-tiny\n  // grep: vjs-layout-x-small\n  // grep: vjs-layout-small\n  // grep: vjs-layout-medium\n  // grep: vjs-layout-large\n  // grep: vjs-layout-x-large\n  // grep: vjs-layout-huge\n\n  BREAKPOINT_ORDER.forEach(function (k) {\n    var v = k.charAt(0) === 'x' ? \"x-\" + k.substring(1) : k;\n    BREAKPOINT_CLASSES[k] = \"vjs-layout-\" + v;\n  });\n  var DEFAULT_BREAKPOINTS = {\n    tiny: 210,\n    xsmall: 320,\n    small: 425,\n    medium: 768,\n    large: 1440,\n    xlarge: 2560,\n    huge: Infinity\n  };\n  /**\n   * An instance of the `Player` class is created when any of the Video.js setup methods\n   * are used to initialize a video.\n   *\n   * After an instance has been created it can be accessed globally in two ways:\n   * 1. By calling `videojs('example_video_1');`\n   * 2. By using it directly via  `videojs.players.example_video_1;`\n   *\n   * @extends Component\n   */\n\n  var Player = /*#__PURE__*/function (_Component) {\n    inheritsLoose(Player, _Component);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Element} tag\n     *        The original video DOM element used for configuring options.\n     *\n     * @param {Object} [options]\n     *        Object of option names and values.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        Ready callback function.\n     */\n    function Player(tag, options, ready) {\n      var _this;\n\n      // Make sure tag ID exists\n      tag.id = tag.id || options.id || \"vjs_video_\" + newGUID(); // Set Options\n      // The options argument overrides options set in the video tag\n      // which overrides globally set options.\n      // This latter part coincides with the load order\n      // (tag must exist before Player)\n\n      options = assign(Player.getTagSettings(tag), options); // Delay the initialization of children because we need to set up\n      // player properties first, and can't use `this` before `super()`\n\n      options.initChildren = false; // Same with creating the element\n\n      options.createEl = false; // don't auto mixin the evented mixin\n\n      options.evented = false; // we don't want the player to report touch activity on itself\n      // see enableTouchActivity in Component\n\n      options.reportTouchActivity = false; // If language is not set, get the closest lang attribute\n\n      if (!options.language) {\n        if (typeof tag.closest === 'function') {\n          var closest = tag.closest('[lang]');\n\n          if (closest && closest.getAttribute) {\n            options.language = closest.getAttribute('lang');\n          }\n        } else {\n          var element = tag;\n\n          while (element && element.nodeType === 1) {\n            if (getAttributes(element).hasOwnProperty('lang')) {\n              options.language = element.getAttribute('lang');\n              break;\n            }\n\n            element = element.parentNode;\n          }\n        }\n      } // Run base component initializing with new options\n\n\n      _this = _Component.call(this, null, options, ready) || this; // Create bound methods for document listeners.\n\n      _this.boundDocumentFullscreenChange_ = function (e) {\n        return _this.documentFullscreenChange_(e);\n      };\n\n      _this.boundFullWindowOnEscKey_ = function (e) {\n        return _this.fullWindowOnEscKey(e);\n      };\n\n      _this.boundUpdateStyleEl_ = function (e) {\n        return _this.updateStyleEl_(e);\n      };\n\n      _this.boundApplyInitTime_ = function (e) {\n        return _this.applyInitTime_(e);\n      };\n\n      _this.boundUpdateCurrentBreakpoint_ = function (e) {\n        return _this.updateCurrentBreakpoint_(e);\n      };\n\n      _this.boundHandleTechClick_ = function (e) {\n        return _this.handleTechClick_(e);\n      };\n\n      _this.boundHandleTechDoubleClick_ = function (e) {\n        return _this.handleTechDoubleClick_(e);\n      };\n\n      _this.boundHandleTechTouchStart_ = function (e) {\n        return _this.handleTechTouchStart_(e);\n      };\n\n      _this.boundHandleTechTouchMove_ = function (e) {\n        return _this.handleTechTouchMove_(e);\n      };\n\n      _this.boundHandleTechTouchEnd_ = function (e) {\n        return _this.handleTechTouchEnd_(e);\n      };\n\n      _this.boundHandleTechTap_ = function (e) {\n        return _this.handleTechTap_(e);\n      }; // default isFullscreen_ to false\n\n\n      _this.isFullscreen_ = false; // create logger\n\n      _this.log = createLogger(_this.id_); // Hold our own reference to fullscreen api so it can be mocked in tests\n\n      _this.fsApi_ = FullscreenApi; // Tracks when a tech changes the poster\n\n      _this.isPosterFromTech_ = false; // Holds callback info that gets queued when playback rate is zero\n      // and a seek is happening\n\n      _this.queuedCallbacks_ = []; // Turn off API access because we're loading a new tech that might load asynchronously\n\n      _this.isReady_ = false; // Init state hasStarted_\n\n      _this.hasStarted_ = false; // Init state userActive_\n\n      _this.userActive_ = false; // Init debugEnabled_\n\n      _this.debugEnabled_ = false; // Init state audioOnlyMode_\n\n      _this.audioOnlyMode_ = false; // Init state audioPosterMode_\n\n      _this.audioPosterMode_ = false; // Init state audioOnlyCache_\n\n      _this.audioOnlyCache_ = {\n        playerHeight: null,\n        hiddenChildren: []\n      }; // if the global option object was accidentally blown away by\n      // someone, bail early with an informative error\n\n      if (!_this.options_ || !_this.options_.techOrder || !_this.options_.techOrder.length) {\n        throw new Error('No techOrder specified. Did you overwrite ' + 'videojs.options instead of just changing the ' + 'properties you want to override?');\n      } // Store the original tag used to set options\n\n\n      _this.tag = tag; // Store the tag attributes used to restore html5 element\n\n      _this.tagAttributes = tag && getAttributes(tag); // Update current language\n\n      _this.language(_this.options_.language); // Update Supported Languages\n\n\n      if (options.languages) {\n        // Normalise player option languages to lowercase\n        var languagesToLower = {};\n        Object.getOwnPropertyNames(options.languages).forEach(function (name) {\n          languagesToLower[name.toLowerCase()] = options.languages[name];\n        });\n        _this.languages_ = languagesToLower;\n      } else {\n        _this.languages_ = Player.prototype.options_.languages;\n      }\n\n      _this.resetCache_(); // Set poster\n\n\n      _this.poster_ = options.poster || ''; // Set controls\n\n      _this.controls_ = !!options.controls; // Original tag settings stored in options\n      // now remove immediately so native controls don't flash.\n      // May be turned back on by HTML5 tech if nativeControlsForTouch is true\n\n      tag.controls = false;\n      tag.removeAttribute('controls');\n      _this.changingSrc_ = false;\n      _this.playCallbacks_ = [];\n      _this.playTerminatedQueue_ = []; // the attribute overrides the option\n\n      if (tag.hasAttribute('autoplay')) {\n        _this.autoplay(true);\n      } else {\n        // otherwise use the setter to validate and\n        // set the correct value.\n        _this.autoplay(_this.options_.autoplay);\n      } // check plugins\n\n\n      if (options.plugins) {\n        Object.keys(options.plugins).forEach(function (name) {\n          if (typeof _this[name] !== 'function') {\n            throw new Error(\"plugin \\\"\" + name + \"\\\" does not exist\");\n          }\n        });\n      }\n      /*\n       * Store the internal state of scrubbing\n       *\n       * @private\n       * @return {Boolean} True if the user is scrubbing\n       */\n\n\n      _this.scrubbing_ = false;\n      _this.el_ = _this.createEl(); // Make this an evented object and use `el_` as its event bus.\n\n      evented(assertThisInitialized(_this), {\n        eventBusKey: 'el_'\n      }); // listen to document and player fullscreenchange handlers so we receive those events\n      // before a user can receive them so we can update isFullscreen appropriately.\n      // make sure that we listen to fullscreenchange events before everything else to make sure that\n      // our isFullscreen method is updated properly for internal components as well as external.\n\n      if (_this.fsApi_.requestFullscreen) {\n        on(document, _this.fsApi_.fullscreenchange, _this.boundDocumentFullscreenChange_);\n\n        _this.on(_this.fsApi_.fullscreenchange, _this.boundDocumentFullscreenChange_);\n      }\n\n      if (_this.fluid_) {\n        _this.on(['playerreset', 'resize'], _this.boundUpdateStyleEl_);\n      } // We also want to pass the original player options to each component and plugin\n      // as well so they don't need to reach back into the player for options later.\n      // We also need to do another copy of this.options_ so we don't end up with\n      // an infinite loop.\n\n\n      var playerOptionsCopy = mergeOptions(_this.options_); // Load plugins\n\n      if (options.plugins) {\n        Object.keys(options.plugins).forEach(function (name) {\n          _this[name](options.plugins[name]);\n        });\n      } // Enable debug mode to fire debugon event for all plugins.\n\n\n      if (options.debug) {\n        _this.debug(true);\n      }\n\n      _this.options_.playerOptions = playerOptionsCopy;\n      _this.middleware_ = [];\n\n      _this.playbackRates(options.playbackRates);\n\n      _this.initChildren(); // Set isAudio based on whether or not an audio tag was used\n\n\n      _this.isAudio(tag.nodeName.toLowerCase() === 'audio'); // Update controls className. Can't do this when the controls are initially\n      // set because the element doesn't exist yet.\n\n\n      if (_this.controls()) {\n        _this.addClass('vjs-controls-enabled');\n      } else {\n        _this.addClass('vjs-controls-disabled');\n      } // Set ARIA label and region role depending on player type\n\n\n      _this.el_.setAttribute('role', 'region');\n\n      if (_this.isAudio()) {\n        _this.el_.setAttribute('aria-label', _this.localize('Audio Player'));\n      } else {\n        _this.el_.setAttribute('aria-label', _this.localize('Video Player'));\n      }\n\n      if (_this.isAudio()) {\n        _this.addClass('vjs-audio');\n      }\n\n      if (_this.flexNotSupported_()) {\n        _this.addClass('vjs-no-flex');\n      } // TODO: Make this smarter. Toggle user state between touching/mousing\n      // using events, since devices can have both touch and mouse events.\n      // TODO: Make this check be performed again when the window switches between monitors\n      // (See https://github.com/videojs/video.js/issues/5683)\n\n\n      if (TOUCH_ENABLED) {\n        _this.addClass('vjs-touch-enabled');\n      } // iOS Safari has broken hover handling\n\n\n      if (!IS_IOS) {\n        _this.addClass('vjs-workinghover');\n      } // Make player easily findable by ID\n\n\n      Player.players[_this.id_] = assertThisInitialized(_this); // Add a major version class to aid css in plugins\n\n      var majorVersion = version.split('.')[0];\n\n      _this.addClass(\"vjs-v\" + majorVersion); // When the player is first initialized, trigger activity so components\n      // like the control bar show themselves if needed\n\n\n      _this.userActive(true);\n\n      _this.reportUserActivity();\n\n      _this.one('play', function (e) {\n        return _this.listenForUserActivity_(e);\n      });\n\n      _this.on('stageclick', function (e) {\n        return _this.handleStageClick_(e);\n      });\n\n      _this.on('keydown', function (e) {\n        return _this.handleKeyDown(e);\n      });\n\n      _this.on('languagechange', function (e) {\n        return _this.handleLanguagechange(e);\n      });\n\n      _this.breakpoints(_this.options_.breakpoints);\n\n      _this.responsive(_this.options_.responsive); // Calling both the audio mode methods after the player is fully\n      // setup to be able to listen to the events triggered by them\n\n\n      _this.on('ready', function () {\n        // Calling the audioPosterMode method first so that\n        // the audioOnlyMode can take precedence when both options are set to true\n        _this.audioPosterMode(_this.options_.audioPosterMode);\n\n        _this.audioOnlyMode(_this.options_.audioOnlyMode);\n      });\n\n      return _this;\n    }\n    /**\n     * Destroys the video player and does any necessary cleanup.\n     *\n     * This is especially helpful if you are dynamically adding and removing videos\n     * to/from the DOM.\n     *\n     * @fires Player#dispose\n     */\n\n\n    var _proto = Player.prototype;\n\n    _proto.dispose = function dispose() {\n      var _this2 = this;\n\n      /**\n       * Called when the player is being disposed of.\n       *\n       * @event Player#dispose\n       * @type {EventTarget~Event}\n       */\n      this.trigger('dispose'); // prevent dispose from being called twice\n\n      this.off('dispose'); // Make sure all player-specific document listeners are unbound. This is\n\n      off(document, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_);\n      off(document, 'keydown', this.boundFullWindowOnEscKey_);\n\n      if (this.styleEl_ && this.styleEl_.parentNode) {\n        this.styleEl_.parentNode.removeChild(this.styleEl_);\n        this.styleEl_ = null;\n      } // Kill reference to this player\n\n\n      Player.players[this.id_] = null;\n\n      if (this.tag && this.tag.player) {\n        this.tag.player = null;\n      }\n\n      if (this.el_ && this.el_.player) {\n        this.el_.player = null;\n      }\n\n      if (this.tech_) {\n        this.tech_.dispose();\n        this.isPosterFromTech_ = false;\n        this.poster_ = '';\n      }\n\n      if (this.playerElIngest_) {\n        this.playerElIngest_ = null;\n      }\n\n      if (this.tag) {\n        this.tag = null;\n      }\n\n      clearCacheForPlayer(this); // remove all event handlers for track lists\n      // all tracks and track listeners are removed on\n      // tech dispose\n\n      ALL.names.forEach(function (name) {\n        var props = ALL[name];\n\n        var list = _this2[props.getterName](); // if it is not a native list\n        // we have to manually remove event listeners\n\n\n        if (list && list.off) {\n          list.off();\n        }\n      }); // the actual .el_ is removed here, or replaced if\n\n      _Component.prototype.dispose.call(this, {\n        restoreEl: this.options_.restoreEl\n      });\n    }\n    /**\n     * Create the `Player`'s DOM element.\n     *\n     * @return {Element}\n     *         The DOM element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      var tag = this.tag;\n      var el;\n      var playerElIngest = this.playerElIngest_ = tag.parentNode && tag.parentNode.hasAttribute && tag.parentNode.hasAttribute('data-vjs-player');\n      var divEmbed = this.tag.tagName.toLowerCase() === 'video-js';\n\n      if (playerElIngest) {\n        el = this.el_ = tag.parentNode;\n      } else if (!divEmbed) {\n        el = this.el_ = _Component.prototype.createEl.call(this, 'div');\n      } // Copy over all the attributes from the tag, including ID and class\n      // ID will now reference player box, not the video tag\n\n\n      var attrs = getAttributes(tag);\n\n      if (divEmbed) {\n        el = this.el_ = tag;\n        tag = this.tag = document.createElement('video');\n\n        while (el.children.length) {\n          tag.appendChild(el.firstChild);\n        }\n\n        if (!hasClass(el, 'video-js')) {\n          addClass(el, 'video-js');\n        }\n\n        el.appendChild(tag);\n        playerElIngest = this.playerElIngest_ = el; // move properties over from our custom `video-js` element\n        // to our new `video` element. This will move things like\n        // `src` or `controls` that were set via js before the player\n        // was initialized.\n\n        Object.keys(el).forEach(function (k) {\n          try {\n            tag[k] = el[k];\n          } catch (e) {// we got a a property like outerHTML which we can't actually copy, ignore it\n          }\n        });\n      } // set tabindex to -1 to remove the video element from the focus order\n\n\n      tag.setAttribute('tabindex', '-1');\n      attrs.tabindex = '-1'; // Workaround for #4583 (JAWS+IE doesn't announce BPB or play button), and\n      // for the same issue with Chrome (on Windows) with JAWS.\n      // See https://github.com/FreedomScientific/VFO-standards-support/issues/78\n      // Note that we can't detect if JAWS is being used, but this ARIA attribute\n      //  doesn't change behavior of IE11 or Chrome if JAWS is not being used\n\n      if (IE_VERSION || IS_CHROME && IS_WINDOWS) {\n        tag.setAttribute('role', 'application');\n        attrs.role = 'application';\n      } // Remove width/height attrs from tag so CSS can make it 100% width/height\n\n\n      tag.removeAttribute('width');\n      tag.removeAttribute('height');\n\n      if ('width' in attrs) {\n        delete attrs.width;\n      }\n\n      if ('height' in attrs) {\n        delete attrs.height;\n      }\n\n      Object.getOwnPropertyNames(attrs).forEach(function (attr) {\n        // don't copy over the class attribute to the player element when we're in a div embed\n        // the class is already set up properly in the divEmbed case\n        // and we want to make sure that the `video-js` class doesn't get lost\n        if (!(divEmbed && attr === 'class')) {\n          el.setAttribute(attr, attrs[attr]);\n        }\n\n        if (divEmbed) {\n          tag.setAttribute(attr, attrs[attr]);\n        }\n      }); // Update tag id/class for use as HTML5 playback tech\n      // Might think we should do this after embedding in container so .vjs-tech class\n      // doesn't flash 100% width/height, but class only applies with .video-js parent\n\n      tag.playerId = tag.id;\n      tag.id += '_html5_api';\n      tag.className = 'vjs-tech'; // Make player findable on elements\n\n      tag.player = el.player = this; // Default state of video is paused\n\n      this.addClass('vjs-paused'); // Add a style element in the player that we'll use to set the width/height\n      // of the player in a way that's still overrideable by CSS, just like the\n      // video element\n\n      if (window.VIDEOJS_NO_DYNAMIC_STYLE !== true) {\n        this.styleEl_ = createStyleElement('vjs-styles-dimensions');\n        var defaultsStyleEl = $('.vjs-styles-defaults');\n        var head = $('head');\n        head.insertBefore(this.styleEl_, defaultsStyleEl ? defaultsStyleEl.nextSibling : head.firstChild);\n      }\n\n      this.fill_ = false;\n      this.fluid_ = false; // Pass in the width/height/aspectRatio options which will update the style el\n\n      this.width(this.options_.width);\n      this.height(this.options_.height);\n      this.fill(this.options_.fill);\n      this.fluid(this.options_.fluid);\n      this.aspectRatio(this.options_.aspectRatio); // support both crossOrigin and crossorigin to reduce confusion and issues around the name\n\n      this.crossOrigin(this.options_.crossOrigin || this.options_.crossorigin); // Hide any links within the video/audio tag,\n      // because IE doesn't hide them completely from screen readers.\n\n      var links = tag.getElementsByTagName('a');\n\n      for (var i = 0; i < links.length; i++) {\n        var linkEl = links.item(i);\n        addClass(linkEl, 'vjs-hidden');\n        linkEl.setAttribute('hidden', 'hidden');\n      } // insertElFirst seems to cause the networkState to flicker from 3 to 2, so\n      // keep track of the original for later so we can know if the source originally failed\n\n\n      tag.initNetworkState_ = tag.networkState; // Wrap video tag in div (el/box) container\n\n      if (tag.parentNode && !playerElIngest) {\n        tag.parentNode.insertBefore(el, tag);\n      } // insert the tag as the first child of the player element\n      // then manually add it to the children array so that this.addChild\n      // will work properly for other components\n      //\n      // Breaks iPhone, fixed in HTML5 setup.\n\n\n      prependTo(tag, el);\n      this.children_.unshift(tag); // Set lang attr on player to ensure CSS :lang() in consistent with player\n      // if it's been set to something different to the doc\n\n      this.el_.setAttribute('lang', this.language_);\n      this.el_.setAttribute('translate', 'no');\n      this.el_ = el;\n      return el;\n    }\n    /**\n     * Get or set the `Player`'s crossOrigin option. For the HTML5 player, this\n     * sets the `crossOrigin` property on the `<video>` tag to control the CORS\n     * behavior.\n     *\n     * @see [Video Element Attributes]{@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video#attr-crossorigin}\n     *\n     * @param {string} [value]\n     *        The value to set the `Player`'s crossOrigin to. If an argument is\n     *        given, must be one of `anonymous` or `use-credentials`.\n     *\n     * @return {string|undefined}\n     *         - The current crossOrigin value of the `Player` when getting.\n     *         - undefined when setting\n     */\n    ;\n\n    _proto.crossOrigin = function crossOrigin(value) {\n      if (!value) {\n        return this.techGet_('crossOrigin');\n      }\n\n      if (value !== 'anonymous' && value !== 'use-credentials') {\n        log.warn(\"crossOrigin must be \\\"anonymous\\\" or \\\"use-credentials\\\", given \\\"\" + value + \"\\\"\");\n        return;\n      }\n\n      this.techCall_('setCrossOrigin', value);\n      return;\n    }\n    /**\n     * A getter/setter for the `Player`'s width. Returns the player's configured value.\n     * To get the current width use `currentWidth()`.\n     *\n     * @param {number} [value]\n     *        The value to set the `Player`'s width to.\n     *\n     * @return {number}\n     *         The current width of the `Player` when getting.\n     */\n    ;\n\n    _proto.width = function width(value) {\n      return this.dimension('width', value);\n    }\n    /**\n     * A getter/setter for the `Player`'s height. Returns the player's configured value.\n     * To get the current height use `currentheight()`.\n     *\n     * @param {number} [value]\n     *        The value to set the `Player`'s heigth to.\n     *\n     * @return {number}\n     *         The current height of the `Player` when getting.\n     */\n    ;\n\n    _proto.height = function height(value) {\n      return this.dimension('height', value);\n    }\n    /**\n     * A getter/setter for the `Player`'s width & height.\n     *\n     * @param {string} dimension\n     *        This string can be:\n     *        - 'width'\n     *        - 'height'\n     *\n     * @param {number} [value]\n     *        Value for dimension specified in the first argument.\n     *\n     * @return {number}\n     *         The dimension arguments value when getting (width/height).\n     */\n    ;\n\n    _proto.dimension = function dimension(_dimension, value) {\n      var privDimension = _dimension + '_';\n\n      if (value === undefined) {\n        return this[privDimension] || 0;\n      }\n\n      if (value === '' || value === 'auto') {\n        // If an empty string is given, reset the dimension to be automatic\n        this[privDimension] = undefined;\n        this.updateStyleEl_();\n        return;\n      }\n\n      var parsedVal = parseFloat(value);\n\n      if (isNaN(parsedVal)) {\n        log.error(\"Improper value \\\"\" + value + \"\\\" supplied for for \" + _dimension);\n        return;\n      }\n\n      this[privDimension] = parsedVal;\n      this.updateStyleEl_();\n    }\n    /**\n     * A getter/setter/toggler for the vjs-fluid `className` on the `Player`.\n     *\n     * Turning this on will turn off fill mode.\n     *\n     * @param {boolean} [bool]\n     *        - A value of true adds the class.\n     *        - A value of false removes the class.\n     *        - No value will be a getter.\n     *\n     * @return {boolean|undefined}\n     *         - The value of fluid when getting.\n     *         - `undefined` when setting.\n     */\n    ;\n\n    _proto.fluid = function fluid(bool) {\n      var _this3 = this;\n\n      if (bool === undefined) {\n        return !!this.fluid_;\n      }\n\n      this.fluid_ = !!bool;\n\n      if (isEvented(this)) {\n        this.off(['playerreset', 'resize'], this.boundUpdateStyleEl_);\n      }\n\n      if (bool) {\n        this.addClass('vjs-fluid');\n        this.fill(false);\n        addEventedCallback(this, function () {\n          _this3.on(['playerreset', 'resize'], _this3.boundUpdateStyleEl_);\n        });\n      } else {\n        this.removeClass('vjs-fluid');\n      }\n\n      this.updateStyleEl_();\n    }\n    /**\n     * A getter/setter/toggler for the vjs-fill `className` on the `Player`.\n     *\n     * Turning this on will turn off fluid mode.\n     *\n     * @param {boolean} [bool]\n     *        - A value of true adds the class.\n     *        - A value of false removes the class.\n     *        - No value will be a getter.\n     *\n     * @return {boolean|undefined}\n     *         - The value of fluid when getting.\n     *         - `undefined` when setting.\n     */\n    ;\n\n    _proto.fill = function fill(bool) {\n      if (bool === undefined) {\n        return !!this.fill_;\n      }\n\n      this.fill_ = !!bool;\n\n      if (bool) {\n        this.addClass('vjs-fill');\n        this.fluid(false);\n      } else {\n        this.removeClass('vjs-fill');\n      }\n    }\n    /**\n     * Get/Set the aspect ratio\n     *\n     * @param {string} [ratio]\n     *        Aspect ratio for player\n     *\n     * @return {string|undefined}\n     *         returns the current aspect ratio when getting\n     */\n\n    /**\n     * A getter/setter for the `Player`'s aspect ratio.\n     *\n     * @param {string} [ratio]\n     *        The value to set the `Player`'s aspect ratio to.\n     *\n     * @return {string|undefined}\n     *         - The current aspect ratio of the `Player` when getting.\n     *         - undefined when setting\n     */\n    ;\n\n    _proto.aspectRatio = function aspectRatio(ratio) {\n      if (ratio === undefined) {\n        return this.aspectRatio_;\n      } // Check for width:height format\n\n\n      if (!/^\\d+\\:\\d+$/.test(ratio)) {\n        throw new Error('Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.');\n      }\n\n      this.aspectRatio_ = ratio; // We're assuming if you set an aspect ratio you want fluid mode,\n      // because in fixed mode you could calculate width and height yourself.\n\n      this.fluid(true);\n      this.updateStyleEl_();\n    }\n    /**\n     * Update styles of the `Player` element (height, width and aspect ratio).\n     *\n     * @private\n     * @listens Tech#loadedmetadata\n     */\n    ;\n\n    _proto.updateStyleEl_ = function updateStyleEl_() {\n      if (window.VIDEOJS_NO_DYNAMIC_STYLE === true) {\n        var _width = typeof this.width_ === 'number' ? this.width_ : this.options_.width;\n\n        var _height = typeof this.height_ === 'number' ? this.height_ : this.options_.height;\n\n        var techEl = this.tech_ && this.tech_.el();\n\n        if (techEl) {\n          if (_width >= 0) {\n            techEl.width = _width;\n          }\n\n          if (_height >= 0) {\n            techEl.height = _height;\n          }\n        }\n\n        return;\n      }\n\n      var width;\n      var height;\n      var aspectRatio;\n      var idClass; // The aspect ratio is either used directly or to calculate width and height.\n\n      if (this.aspectRatio_ !== undefined && this.aspectRatio_ !== 'auto') {\n        // Use any aspectRatio that's been specifically set\n        aspectRatio = this.aspectRatio_;\n      } else if (this.videoWidth() > 0) {\n        // Otherwise try to get the aspect ratio from the video metadata\n        aspectRatio = this.videoWidth() + ':' + this.videoHeight();\n      } else {\n        // Or use a default. The video element's is 2:1, but 16:9 is more common.\n        aspectRatio = '16:9';\n      } // Get the ratio as a decimal we can use to calculate dimensions\n\n\n      var ratioParts = aspectRatio.split(':');\n      var ratioMultiplier = ratioParts[1] / ratioParts[0];\n\n      if (this.width_ !== undefined) {\n        // Use any width that's been specifically set\n        width = this.width_;\n      } else if (this.height_ !== undefined) {\n        // Or calulate the width from the aspect ratio if a height has been set\n        width = this.height_ / ratioMultiplier;\n      } else {\n        // Or use the video's metadata, or use the video el's default of 300\n        width = this.videoWidth() || 300;\n      }\n\n      if (this.height_ !== undefined) {\n        // Use any height that's been specifically set\n        height = this.height_;\n      } else {\n        // Otherwise calculate the height from the ratio and the width\n        height = width * ratioMultiplier;\n      } // Ensure the CSS class is valid by starting with an alpha character\n\n\n      if (/^[^a-zA-Z]/.test(this.id())) {\n        idClass = 'dimensions-' + this.id();\n      } else {\n        idClass = this.id() + '-dimensions';\n      } // Ensure the right class is still on the player for the style element\n\n\n      this.addClass(idClass);\n      setTextContent(this.styleEl_, \"\\n      .\" + idClass + \" {\\n        width: \" + width + \"px;\\n        height: \" + height + \"px;\\n      }\\n\\n      .\" + idClass + \".vjs-fluid:not(.vjs-audio-only-mode) {\\n        padding-top: \" + ratioMultiplier * 100 + \"%;\\n      }\\n    \");\n    }\n    /**\n     * Load/Create an instance of playback {@link Tech} including element\n     * and API methods. Then append the `Tech` element in `Player` as a child.\n     *\n     * @param {string} techName\n     *        name of the playback technology\n     *\n     * @param {string} source\n     *        video source\n     *\n     * @private\n     */\n    ;\n\n    _proto.loadTech_ = function loadTech_(techName, source) {\n      var _this4 = this;\n\n      // Pause and remove current playback technology\n      if (this.tech_) {\n        this.unloadTech_();\n      }\n\n      var titleTechName = toTitleCase(techName);\n      var camelTechName = techName.charAt(0).toLowerCase() + techName.slice(1); // get rid of the HTML5 video tag as soon as we are using another tech\n\n      if (titleTechName !== 'Html5' && this.tag) {\n        Tech.getTech('Html5').disposeMediaElement(this.tag);\n        this.tag.player = null;\n        this.tag = null;\n      }\n\n      this.techName_ = titleTechName; // Turn off API access because we're loading a new tech that might load asynchronously\n\n      this.isReady_ = false;\n      var autoplay = this.autoplay(); // if autoplay is a string (or `true` with normalizeAutoplay: true) we pass false to the tech\n      // because the player is going to handle autoplay on `loadstart`\n\n      if (typeof this.autoplay() === 'string' || this.autoplay() === true && this.options_.normalizeAutoplay) {\n        autoplay = false;\n      } // Grab tech-specific options from player options and add source and parent element to use.\n\n\n      var techOptions = {\n        source: source,\n        autoplay: autoplay,\n        'nativeControlsForTouch': this.options_.nativeControlsForTouch,\n        'playerId': this.id(),\n        'techId': this.id() + \"_\" + camelTechName + \"_api\",\n        'playsinline': this.options_.playsinline,\n        'preload': this.options_.preload,\n        'loop': this.options_.loop,\n        'disablePictureInPicture': this.options_.disablePictureInPicture,\n        'muted': this.options_.muted,\n        'poster': this.poster(),\n        'language': this.language(),\n        'playerElIngest': this.playerElIngest_ || false,\n        'vtt.js': this.options_['vtt.js'],\n        'canOverridePoster': !!this.options_.techCanOverridePoster,\n        'enableSourceset': this.options_.enableSourceset,\n        'Promise': this.options_.Promise\n      };\n      ALL.names.forEach(function (name) {\n        var props = ALL[name];\n        techOptions[props.getterName] = _this4[props.privateName];\n      });\n      assign(techOptions, this.options_[titleTechName]);\n      assign(techOptions, this.options_[camelTechName]);\n      assign(techOptions, this.options_[techName.toLowerCase()]);\n\n      if (this.tag) {\n        techOptions.tag = this.tag;\n      }\n\n      if (source && source.src === this.cache_.src && this.cache_.currentTime > 0) {\n        techOptions.startTime = this.cache_.currentTime;\n      } // Initialize tech instance\n\n\n      var TechClass = Tech.getTech(techName);\n\n      if (!TechClass) {\n        throw new Error(\"No Tech named '\" + titleTechName + \"' exists! '\" + titleTechName + \"' should be registered using videojs.registerTech()'\");\n      }\n\n      this.tech_ = new TechClass(techOptions); // player.triggerReady is always async, so don't need this to be async\n\n      this.tech_.ready(bind(this, this.handleTechReady_), true);\n      textTrackConverter.jsonToTextTracks(this.textTracksJson_ || [], this.tech_); // Listen to all HTML5-defined events and trigger them on the player\n\n      TECH_EVENTS_RETRIGGER.forEach(function (event) {\n        _this4.on(_this4.tech_, event, function (e) {\n          return _this4[\"handleTech\" + toTitleCase(event) + \"_\"](e);\n        });\n      });\n      Object.keys(TECH_EVENTS_QUEUE).forEach(function (event) {\n        _this4.on(_this4.tech_, event, function (eventObj) {\n          if (_this4.tech_.playbackRate() === 0 && _this4.tech_.seeking()) {\n            _this4.queuedCallbacks_.push({\n              callback: _this4[\"handleTech\" + TECH_EVENTS_QUEUE[event] + \"_\"].bind(_this4),\n              event: eventObj\n            });\n\n            return;\n          }\n\n          _this4[\"handleTech\" + TECH_EVENTS_QUEUE[event] + \"_\"](eventObj);\n        });\n      });\n      this.on(this.tech_, 'loadstart', function (e) {\n        return _this4.handleTechLoadStart_(e);\n      });\n      this.on(this.tech_, 'sourceset', function (e) {\n        return _this4.handleTechSourceset_(e);\n      });\n      this.on(this.tech_, 'waiting', function (e) {\n        return _this4.handleTechWaiting_(e);\n      });\n      this.on(this.tech_, 'ended', function (e) {\n        return _this4.handleTechEnded_(e);\n      });\n      this.on(this.tech_, 'seeking', function (e) {\n        return _this4.handleTechSeeking_(e);\n      });\n      this.on(this.tech_, 'play', function (e) {\n        return _this4.handleTechPlay_(e);\n      });\n      this.on(this.tech_, 'firstplay', function (e) {\n        return _this4.handleTechFirstPlay_(e);\n      });\n      this.on(this.tech_, 'pause', function (e) {\n        return _this4.handleTechPause_(e);\n      });\n      this.on(this.tech_, 'durationchange', function (e) {\n        return _this4.handleTechDurationChange_(e);\n      });\n      this.on(this.tech_, 'fullscreenchange', function (e, data) {\n        return _this4.handleTechFullscreenChange_(e, data);\n      });\n      this.on(this.tech_, 'fullscreenerror', function (e, err) {\n        return _this4.handleTechFullscreenError_(e, err);\n      });\n      this.on(this.tech_, 'enterpictureinpicture', function (e) {\n        return _this4.handleTechEnterPictureInPicture_(e);\n      });\n      this.on(this.tech_, 'leavepictureinpicture', function (e) {\n        return _this4.handleTechLeavePictureInPicture_(e);\n      });\n      this.on(this.tech_, 'error', function (e) {\n        return _this4.handleTechError_(e);\n      });\n      this.on(this.tech_, 'posterchange', function (e) {\n        return _this4.handleTechPosterChange_(e);\n      });\n      this.on(this.tech_, 'textdata', function (e) {\n        return _this4.handleTechTextData_(e);\n      });\n      this.on(this.tech_, 'ratechange', function (e) {\n        return _this4.handleTechRateChange_(e);\n      });\n      this.on(this.tech_, 'loadedmetadata', this.boundUpdateStyleEl_);\n      this.usingNativeControls(this.techGet_('controls'));\n\n      if (this.controls() && !this.usingNativeControls()) {\n        this.addTechControlsListeners_();\n      } // Add the tech element in the DOM if it was not already there\n      // Make sure to not insert the original video element if using Html5\n\n\n      if (this.tech_.el().parentNode !== this.el() && (titleTechName !== 'Html5' || !this.tag)) {\n        prependTo(this.tech_.el(), this.el());\n      } // Get rid of the original video tag reference after the first tech is loaded\n\n\n      if (this.tag) {\n        this.tag.player = null;\n        this.tag = null;\n      }\n    }\n    /**\n     * Unload and dispose of the current playback {@link Tech}.\n     *\n     * @private\n     */\n    ;\n\n    _proto.unloadTech_ = function unloadTech_() {\n      var _this5 = this;\n\n      // Save the current text tracks so that we can reuse the same text tracks with the next tech\n      ALL.names.forEach(function (name) {\n        var props = ALL[name];\n        _this5[props.privateName] = _this5[props.getterName]();\n      });\n      this.textTracksJson_ = textTrackConverter.textTracksToJson(this.tech_);\n      this.isReady_ = false;\n      this.tech_.dispose();\n      this.tech_ = false;\n\n      if (this.isPosterFromTech_) {\n        this.poster_ = '';\n        this.trigger('posterchange');\n      }\n\n      this.isPosterFromTech_ = false;\n    }\n    /**\n     * Return a reference to the current {@link Tech}.\n     * It will print a warning by default about the danger of using the tech directly\n     * but any argument that is passed in will silence the warning.\n     *\n     * @param {*} [safety]\n     *        Anything passed in to silence the warning\n     *\n     * @return {Tech}\n     *         The Tech\n     */\n    ;\n\n    _proto.tech = function tech(safety) {\n      if (safety === undefined) {\n        log.warn('Using the tech directly can be dangerous. I hope you know what you\\'re doing.\\n' + 'See https://github.com/videojs/video.js/issues/2617 for more info.\\n');\n      }\n\n      return this.tech_;\n    }\n    /**\n     * Set up click and touch listeners for the playback element\n     *\n     * - On desktops: a click on the video itself will toggle playback\n     * - On mobile devices: a click on the video toggles controls\n     *   which is done by toggling the user state between active and\n     *   inactive\n     * - A tap can signal that a user has become active or has become inactive\n     *   e.g. a quick tap on an iPhone movie should reveal the controls. Another\n     *   quick tap should hide them again (signaling the user is in an inactive\n     *   viewing state)\n     * - In addition to this, we still want the user to be considered inactive after\n     *   a few seconds of inactivity.\n     *\n     * > Note: the only part of iOS interaction we can't mimic with this setup\n     * is a touch and hold on the video element counting as activity in order to\n     * keep the controls showing, but that shouldn't be an issue. A touch and hold\n     * on any controls will still keep the user active\n     *\n     * @private\n     */\n    ;\n\n    _proto.addTechControlsListeners_ = function addTechControlsListeners_() {\n      // Make sure to remove all the previous listeners in case we are called multiple times.\n      this.removeTechControlsListeners_();\n      this.on(this.tech_, 'click', this.boundHandleTechClick_);\n      this.on(this.tech_, 'dblclick', this.boundHandleTechDoubleClick_); // If the controls were hidden we don't want that to change without a tap event\n      // so we'll check if the controls were already showing before reporting user\n      // activity\n\n      this.on(this.tech_, 'touchstart', this.boundHandleTechTouchStart_);\n      this.on(this.tech_, 'touchmove', this.boundHandleTechTouchMove_);\n      this.on(this.tech_, 'touchend', this.boundHandleTechTouchEnd_); // The tap listener needs to come after the touchend listener because the tap\n      // listener cancels out any reportedUserActivity when setting userActive(false)\n\n      this.on(this.tech_, 'tap', this.boundHandleTechTap_);\n    }\n    /**\n     * Remove the listeners used for click and tap controls. This is needed for\n     * toggling to controls disabled, where a tap/touch should do nothing.\n     *\n     * @private\n     */\n    ;\n\n    _proto.removeTechControlsListeners_ = function removeTechControlsListeners_() {\n      // We don't want to just use `this.off()` because there might be other needed\n      // listeners added by techs that extend this.\n      this.off(this.tech_, 'tap', this.boundHandleTechTap_);\n      this.off(this.tech_, 'touchstart', this.boundHandleTechTouchStart_);\n      this.off(this.tech_, 'touchmove', this.boundHandleTechTouchMove_);\n      this.off(this.tech_, 'touchend', this.boundHandleTechTouchEnd_);\n      this.off(this.tech_, 'click', this.boundHandleTechClick_);\n      this.off(this.tech_, 'dblclick', this.boundHandleTechDoubleClick_);\n    }\n    /**\n     * Player waits for the tech to be ready\n     *\n     * @private\n     */\n    ;\n\n    _proto.handleTechReady_ = function handleTechReady_() {\n      this.triggerReady(); // Keep the same volume as before\n\n      if (this.cache_.volume) {\n        this.techCall_('setVolume', this.cache_.volume);\n      } // Look if the tech found a higher resolution poster while loading\n\n\n      this.handleTechPosterChange_(); // Update the duration if available\n\n      this.handleTechDurationChange_();\n    }\n    /**\n     * Retrigger the `loadstart` event that was triggered by the {@link Tech}. This\n     * function will also trigger {@link Player#firstplay} if it is the first loadstart\n     * for a video.\n     *\n     * @fires Player#loadstart\n     * @fires Player#firstplay\n     * @listens Tech#loadstart\n     * @private\n     */\n    ;\n\n    _proto.handleTechLoadStart_ = function handleTechLoadStart_() {\n      // TODO: Update to use `emptied` event instead. See #1277.\n      this.removeClass('vjs-ended');\n      this.removeClass('vjs-seeking'); // reset the error state\n\n      this.error(null); // Update the duration\n\n      this.handleTechDurationChange_(); // If it's already playing we want to trigger a firstplay event now.\n      // The firstplay event relies on both the play and loadstart events\n      // which can happen in any order for a new source\n\n      if (!this.paused()) {\n        /**\n         * Fired when the user agent begins looking for media data\n         *\n         * @event Player#loadstart\n         * @type {EventTarget~Event}\n         */\n        this.trigger('loadstart');\n        this.trigger('firstplay');\n      } else {\n        // reset the hasStarted state\n        this.hasStarted(false);\n        this.trigger('loadstart');\n      } // autoplay happens after loadstart for the browser,\n      // so we mimic that behavior\n\n\n      this.manualAutoplay_(this.autoplay() === true && this.options_.normalizeAutoplay ? 'play' : this.autoplay());\n    }\n    /**\n     * Handle autoplay string values, rather than the typical boolean\n     * values that should be handled by the tech. Note that this is not\n     * part of any specification. Valid values and what they do can be\n     * found on the autoplay getter at Player#autoplay()\n     */\n    ;\n\n    _proto.manualAutoplay_ = function manualAutoplay_(type) {\n      var _this6 = this;\n\n      if (!this.tech_ || typeof type !== 'string') {\n        return;\n      } // Save original muted() value, set muted to true, and attempt to play().\n      // On promise rejection, restore muted from saved value\n\n\n      var resolveMuted = function resolveMuted() {\n        var previouslyMuted = _this6.muted();\n\n        _this6.muted(true);\n\n        var restoreMuted = function restoreMuted() {\n          _this6.muted(previouslyMuted);\n        }; // restore muted on play terminatation\n\n\n        _this6.playTerminatedQueue_.push(restoreMuted);\n\n        var mutedPromise = _this6.play();\n\n        if (!isPromise(mutedPromise)) {\n          return;\n        }\n\n        return mutedPromise[\"catch\"](function (err) {\n          restoreMuted();\n          throw new Error(\"Rejection at manualAutoplay. Restoring muted value. \" + (err ? err : ''));\n        });\n      };\n\n      var promise; // if muted defaults to true\n      // the only thing we can do is call play\n\n      if (type === 'any' && !this.muted()) {\n        promise = this.play();\n\n        if (isPromise(promise)) {\n          promise = promise[\"catch\"](resolveMuted);\n        }\n      } else if (type === 'muted' && !this.muted()) {\n        promise = resolveMuted();\n      } else {\n        promise = this.play();\n      }\n\n      if (!isPromise(promise)) {\n        return;\n      }\n\n      return promise.then(function () {\n        _this6.trigger({\n          type: 'autoplay-success',\n          autoplay: type\n        });\n      })[\"catch\"](function () {\n        _this6.trigger({\n          type: 'autoplay-failure',\n          autoplay: type\n        });\n      });\n    }\n    /**\n     * Update the internal source caches so that we return the correct source from\n     * `src()`, `currentSource()`, and `currentSources()`.\n     *\n     * > Note: `currentSources` will not be updated if the source that is passed in exists\n     *         in the current `currentSources` cache.\n     *\n     *\n     * @param {Tech~SourceObject} srcObj\n     *        A string or object source to update our caches to.\n     */\n    ;\n\n    _proto.updateSourceCaches_ = function updateSourceCaches_(srcObj) {\n      if (srcObj === void 0) {\n        srcObj = '';\n      }\n\n      var src = srcObj;\n      var type = '';\n\n      if (typeof src !== 'string') {\n        src = srcObj.src;\n        type = srcObj.type;\n      } // make sure all the caches are set to default values\n      // to prevent null checking\n\n\n      this.cache_.source = this.cache_.source || {};\n      this.cache_.sources = this.cache_.sources || []; // try to get the type of the src that was passed in\n\n      if (src && !type) {\n        type = findMimetype(this, src);\n      } // update `currentSource` cache always\n\n\n      this.cache_.source = mergeOptions({}, srcObj, {\n        src: src,\n        type: type\n      });\n      var matchingSources = this.cache_.sources.filter(function (s) {\n        return s.src && s.src === src;\n      });\n      var sourceElSources = [];\n      var sourceEls = this.$$('source');\n      var matchingSourceEls = [];\n\n      for (var i = 0; i < sourceEls.length; i++) {\n        var sourceObj = getAttributes(sourceEls[i]);\n        sourceElSources.push(sourceObj);\n\n        if (sourceObj.src && sourceObj.src === src) {\n          matchingSourceEls.push(sourceObj.src);\n        }\n      } // if we have matching source els but not matching sources\n      // the current source cache is not up to date\n\n\n      if (matchingSourceEls.length && !matchingSources.length) {\n        this.cache_.sources = sourceElSources; // if we don't have matching source or source els set the\n        // sources cache to the `currentSource` cache\n      } else if (!matchingSources.length) {\n        this.cache_.sources = [this.cache_.source];\n      } // update the tech `src` cache\n\n\n      this.cache_.src = src;\n    }\n    /**\n     * *EXPERIMENTAL* Fired when the source is set or changed on the {@link Tech}\n     * causing the media element to reload.\n     *\n     * It will fire for the initial source and each subsequent source.\n     * This event is a custom event from Video.js and is triggered by the {@link Tech}.\n     *\n     * The event object for this event contains a `src` property that will contain the source\n     * that was available when the event was triggered. This is generally only necessary if Video.js\n     * is switching techs while the source was being changed.\n     *\n     * It is also fired when `load` is called on the player (or media element)\n     * because the {@link https://html.spec.whatwg.org/multipage/media.html#dom-media-load|specification for `load`}\n     * says that the resource selection algorithm needs to be aborted and restarted.\n     * In this case, it is very likely that the `src` property will be set to the\n     * empty string `\"\"` to indicate we do not know what the source will be but\n     * that it is changing.\n     *\n     * *This event is currently still experimental and may change in minor releases.*\n     * __To use this, pass `enableSourceset` option to the player.__\n     *\n     * @event Player#sourceset\n     * @type {EventTarget~Event}\n     * @prop {string} src\n     *                The source url available when the `sourceset` was triggered.\n     *                It will be an empty string if we cannot know what the source is\n     *                but know that the source will change.\n     */\n\n    /**\n     * Retrigger the `sourceset` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#sourceset\n     * @listens Tech#sourceset\n     * @private\n     */\n    ;\n\n    _proto.handleTechSourceset_ = function handleTechSourceset_(event) {\n      var _this7 = this;\n\n      // only update the source cache when the source\n      // was not updated using the player api\n      if (!this.changingSrc_) {\n        var updateSourceCaches = function updateSourceCaches(src) {\n          return _this7.updateSourceCaches_(src);\n        };\n\n        var playerSrc = this.currentSource().src;\n        var eventSrc = event.src; // if we have a playerSrc that is not a blob, and a tech src that is a blob\n\n        if (playerSrc && !/^blob:/.test(playerSrc) && /^blob:/.test(eventSrc)) {\n          // if both the tech source and the player source were updated we assume\n          // something like @videojs/http-streaming did the sourceset and skip updating the source cache.\n          if (!this.lastSource_ || this.lastSource_.tech !== eventSrc && this.lastSource_.player !== playerSrc) {\n            updateSourceCaches = function updateSourceCaches() {};\n          }\n        } // update the source to the initial source right away\n        // in some cases this will be empty string\n\n\n        updateSourceCaches(eventSrc); // if the `sourceset` `src` was an empty string\n        // wait for a `loadstart` to update the cache to `currentSrc`.\n        // If a sourceset happens before a `loadstart`, we reset the state\n\n        if (!event.src) {\n          this.tech_.any(['sourceset', 'loadstart'], function (e) {\n            // if a sourceset happens before a `loadstart` there\n            // is nothing to do as this `handleTechSourceset_`\n            // will be called again and this will be handled there.\n            if (e.type === 'sourceset') {\n              return;\n            }\n\n            var techSrc = _this7.techGet('currentSrc');\n\n            _this7.lastSource_.tech = techSrc;\n\n            _this7.updateSourceCaches_(techSrc);\n          });\n        }\n      }\n\n      this.lastSource_ = {\n        player: this.currentSource().src,\n        tech: event.src\n      };\n      this.trigger({\n        src: event.src,\n        type: 'sourceset'\n      });\n    }\n    /**\n     * Add/remove the vjs-has-started class\n     *\n     * @fires Player#firstplay\n     *\n     * @param {boolean} request\n     *        - true: adds the class\n     *        - false: remove the class\n     *\n     * @return {boolean}\n     *         the boolean value of hasStarted_\n     */\n    ;\n\n    _proto.hasStarted = function hasStarted(request) {\n      if (request === undefined) {\n        // act as getter, if we have no request to change\n        return this.hasStarted_;\n      }\n\n      if (request === this.hasStarted_) {\n        return;\n      }\n\n      this.hasStarted_ = request;\n\n      if (this.hasStarted_) {\n        this.addClass('vjs-has-started');\n        this.trigger('firstplay');\n      } else {\n        this.removeClass('vjs-has-started');\n      }\n    }\n    /**\n     * Fired whenever the media begins or resumes playback\n     *\n     * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play}\n     * @fires Player#play\n     * @listens Tech#play\n     * @private\n     */\n    ;\n\n    _proto.handleTechPlay_ = function handleTechPlay_() {\n      this.removeClass('vjs-ended');\n      this.removeClass('vjs-paused');\n      this.addClass('vjs-playing'); // hide the poster when the user hits play\n\n      this.hasStarted(true);\n      /**\n       * Triggered whenever an {@link Tech#play} event happens. Indicates that\n       * playback has started or resumed.\n       *\n       * @event Player#play\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('play');\n    }\n    /**\n     * Retrigger the `ratechange` event that was triggered by the {@link Tech}.\n     *\n     * If there were any events queued while the playback rate was zero, fire\n     * those events now.\n     *\n     * @private\n     * @method Player#handleTechRateChange_\n     * @fires Player#ratechange\n     * @listens Tech#ratechange\n     */\n    ;\n\n    _proto.handleTechRateChange_ = function handleTechRateChange_() {\n      if (this.tech_.playbackRate() > 0 && this.cache_.lastPlaybackRate === 0) {\n        this.queuedCallbacks_.forEach(function (queued) {\n          return queued.callback(queued.event);\n        });\n        this.queuedCallbacks_ = [];\n      }\n\n      this.cache_.lastPlaybackRate = this.tech_.playbackRate();\n      /**\n       * Fires when the playing speed of the audio/video is changed\n       *\n       * @event Player#ratechange\n       * @type {event}\n       */\n\n      this.trigger('ratechange');\n    }\n    /**\n     * Retrigger the `waiting` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#waiting\n     * @listens Tech#waiting\n     * @private\n     */\n    ;\n\n    _proto.handleTechWaiting_ = function handleTechWaiting_() {\n      var _this8 = this;\n\n      this.addClass('vjs-waiting');\n      /**\n       * A readyState change on the DOM element has caused playback to stop.\n       *\n       * @event Player#waiting\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('waiting'); // Browsers may emit a timeupdate event after a waiting event. In order to prevent\n      // premature removal of the waiting class, wait for the time to change.\n\n      var timeWhenWaiting = this.currentTime();\n\n      var timeUpdateListener = function timeUpdateListener() {\n        if (timeWhenWaiting !== _this8.currentTime()) {\n          _this8.removeClass('vjs-waiting');\n\n          _this8.off('timeupdate', timeUpdateListener);\n        }\n      };\n\n      this.on('timeupdate', timeUpdateListener);\n    }\n    /**\n     * Retrigger the `canplay` event that was triggered by the {@link Tech}.\n     * > Note: This is not consistent between browsers. See #1351\n     *\n     * @fires Player#canplay\n     * @listens Tech#canplay\n     * @private\n     */\n    ;\n\n    _proto.handleTechCanPlay_ = function handleTechCanPlay_() {\n      this.removeClass('vjs-waiting');\n      /**\n       * The media has a readyState of HAVE_FUTURE_DATA or greater.\n       *\n       * @event Player#canplay\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('canplay');\n    }\n    /**\n     * Retrigger the `canplaythrough` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#canplaythrough\n     * @listens Tech#canplaythrough\n     * @private\n     */\n    ;\n\n    _proto.handleTechCanPlayThrough_ = function handleTechCanPlayThrough_() {\n      this.removeClass('vjs-waiting');\n      /**\n       * The media has a readyState of HAVE_ENOUGH_DATA or greater. This means that the\n       * entire media file can be played without buffering.\n       *\n       * @event Player#canplaythrough\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('canplaythrough');\n    }\n    /**\n     * Retrigger the `playing` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#playing\n     * @listens Tech#playing\n     * @private\n     */\n    ;\n\n    _proto.handleTechPlaying_ = function handleTechPlaying_() {\n      this.removeClass('vjs-waiting');\n      /**\n       * The media is no longer blocked from playback, and has started playing.\n       *\n       * @event Player#playing\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('playing');\n    }\n    /**\n     * Retrigger the `seeking` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#seeking\n     * @listens Tech#seeking\n     * @private\n     */\n    ;\n\n    _proto.handleTechSeeking_ = function handleTechSeeking_() {\n      this.addClass('vjs-seeking');\n      /**\n       * Fired whenever the player is jumping to a new time\n       *\n       * @event Player#seeking\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('seeking');\n    }\n    /**\n     * Retrigger the `seeked` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#seeked\n     * @listens Tech#seeked\n     * @private\n     */\n    ;\n\n    _proto.handleTechSeeked_ = function handleTechSeeked_() {\n      this.removeClass('vjs-seeking');\n      this.removeClass('vjs-ended');\n      /**\n       * Fired when the player has finished jumping to a new time\n       *\n       * @event Player#seeked\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('seeked');\n    }\n    /**\n     * Retrigger the `firstplay` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#firstplay\n     * @listens Tech#firstplay\n     * @deprecated As of 6.0 firstplay event is deprecated.\n     *             As of 6.0 passing the `starttime` option to the player and the firstplay event are deprecated.\n     * @private\n     */\n    ;\n\n    _proto.handleTechFirstPlay_ = function handleTechFirstPlay_() {\n      // If the first starttime attribute is specified\n      // then we will start at the given offset in seconds\n      if (this.options_.starttime) {\n        log.warn('Passing the `starttime` option to the player will be deprecated in 6.0');\n        this.currentTime(this.options_.starttime);\n      }\n\n      this.addClass('vjs-has-started');\n      /**\n       * Fired the first time a video is played. Not part of the HLS spec, and this is\n       * probably not the best implementation yet, so use sparingly. If you don't have a\n       * reason to prevent playback, use `myPlayer.one('play');` instead.\n       *\n       * @event Player#firstplay\n       * @deprecated As of 6.0 firstplay event is deprecated.\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('firstplay');\n    }\n    /**\n     * Retrigger the `pause` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#pause\n     * @listens Tech#pause\n     * @private\n     */\n    ;\n\n    _proto.handleTechPause_ = function handleTechPause_() {\n      this.removeClass('vjs-playing');\n      this.addClass('vjs-paused');\n      /**\n       * Fired whenever the media has been paused\n       *\n       * @event Player#pause\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('pause');\n    }\n    /**\n     * Retrigger the `ended` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#ended\n     * @listens Tech#ended\n     * @private\n     */\n    ;\n\n    _proto.handleTechEnded_ = function handleTechEnded_() {\n      this.addClass('vjs-ended');\n      this.removeClass('vjs-waiting');\n\n      if (this.options_.loop) {\n        this.currentTime(0);\n        this.play();\n      } else if (!this.paused()) {\n        this.pause();\n      }\n      /**\n       * Fired when the end of the media resource is reached (currentTime == duration)\n       *\n       * @event Player#ended\n       * @type {EventTarget~Event}\n       */\n\n\n      this.trigger('ended');\n    }\n    /**\n     * Fired when the duration of the media resource is first known or changed\n     *\n     * @listens Tech#durationchange\n     * @private\n     */\n    ;\n\n    _proto.handleTechDurationChange_ = function handleTechDurationChange_() {\n      this.duration(this.techGet_('duration'));\n    }\n    /**\n     * Handle a click on the media element to play/pause\n     *\n     * @param {EventTarget~Event} event\n     *        the event that caused this function to trigger\n     *\n     * @listens Tech#click\n     * @private\n     */\n    ;\n\n    _proto.handleTechClick_ = function handleTechClick_(event) {\n      // When controls are disabled a click should not toggle playback because\n      // the click is considered a control\n      if (!this.controls_) {\n        return;\n      }\n\n      if (this.options_ === undefined || this.options_.userActions === undefined || this.options_.userActions.click === undefined || this.options_.userActions.click !== false) {\n        if (this.options_ !== undefined && this.options_.userActions !== undefined && typeof this.options_.userActions.click === 'function') {\n          this.options_.userActions.click.call(this, event);\n        } else if (this.paused()) {\n          silencePromise(this.play());\n        } else {\n          this.pause();\n        }\n      }\n    }\n    /**\n     * Handle a double-click on the media element to enter/exit fullscreen\n     *\n     * @param {EventTarget~Event} event\n     *        the event that caused this function to trigger\n     *\n     * @listens Tech#dblclick\n     * @private\n     */\n    ;\n\n    _proto.handleTechDoubleClick_ = function handleTechDoubleClick_(event) {\n      if (!this.controls_) {\n        return;\n      } // we do not want to toggle fullscreen state\n      // when double-clicking inside a control bar or a modal\n\n\n      var inAllowedEls = Array.prototype.some.call(this.$$('.vjs-control-bar, .vjs-modal-dialog'), function (el) {\n        return el.contains(event.target);\n      });\n\n      if (!inAllowedEls) {\n        /*\n         * options.userActions.doubleClick\n         *\n         * If `undefined` or `true`, double-click toggles fullscreen if controls are present\n         * Set to `false` to disable double-click handling\n         * Set to a function to substitute an external double-click handler\n         */\n        if (this.options_ === undefined || this.options_.userActions === undefined || this.options_.userActions.doubleClick === undefined || this.options_.userActions.doubleClick !== false) {\n          if (this.options_ !== undefined && this.options_.userActions !== undefined && typeof this.options_.userActions.doubleClick === 'function') {\n            this.options_.userActions.doubleClick.call(this, event);\n          } else if (this.isFullscreen()) {\n            this.exitFullscreen();\n          } else {\n            this.requestFullscreen();\n          }\n        }\n      }\n    }\n    /**\n     * Handle a tap on the media element. It will toggle the user\n     * activity state, which hides and shows the controls.\n     *\n     * @listens Tech#tap\n     * @private\n     */\n    ;\n\n    _proto.handleTechTap_ = function handleTechTap_() {\n      this.userActive(!this.userActive());\n    }\n    /**\n     * Handle touch to start\n     *\n     * @listens Tech#touchstart\n     * @private\n     */\n    ;\n\n    _proto.handleTechTouchStart_ = function handleTechTouchStart_() {\n      this.userWasActive = this.userActive();\n    }\n    /**\n     * Handle touch to move\n     *\n     * @listens Tech#touchmove\n     * @private\n     */\n    ;\n\n    _proto.handleTechTouchMove_ = function handleTechTouchMove_() {\n      if (this.userWasActive) {\n        this.reportUserActivity();\n      }\n    }\n    /**\n     * Handle touch to end\n     *\n     * @param {EventTarget~Event} event\n     *        the touchend event that triggered\n     *        this function\n     *\n     * @listens Tech#touchend\n     * @private\n     */\n    ;\n\n    _proto.handleTechTouchEnd_ = function handleTechTouchEnd_(event) {\n      // Stop the mouse events from also happening\n      if (event.cancelable) {\n        event.preventDefault();\n      }\n    }\n    /**\n     * native click events on the SWF aren't triggered on IE11, Win8.1RT\n     * use stageclick events triggered from inside the SWF instead\n     *\n     * @private\n     * @listens stageclick\n     */\n    ;\n\n    _proto.handleStageClick_ = function handleStageClick_() {\n      this.reportUserActivity();\n    }\n    /**\n     * @private\n     */\n    ;\n\n    _proto.toggleFullscreenClass_ = function toggleFullscreenClass_() {\n      if (this.isFullscreen()) {\n        this.addClass('vjs-fullscreen');\n      } else {\n        this.removeClass('vjs-fullscreen');\n      }\n    }\n    /**\n     * when the document fschange event triggers it calls this\n     */\n    ;\n\n    _proto.documentFullscreenChange_ = function documentFullscreenChange_(e) {\n      var targetPlayer = e.target.player; // if another player was fullscreen\n      // do a null check for targetPlayer because older firefox's would put document as e.target\n\n      if (targetPlayer && targetPlayer !== this) {\n        return;\n      }\n\n      var el = this.el();\n      var isFs = document[this.fsApi_.fullscreenElement] === el;\n\n      if (!isFs && el.matches) {\n        isFs = el.matches(':' + this.fsApi_.fullscreen);\n      } else if (!isFs && el.msMatchesSelector) {\n        isFs = el.msMatchesSelector(':' + this.fsApi_.fullscreen);\n      }\n\n      this.isFullscreen(isFs);\n    }\n    /**\n     * Handle Tech Fullscreen Change\n     *\n     * @param {EventTarget~Event} event\n     *        the fullscreenchange event that triggered this function\n     *\n     * @param {Object} data\n     *        the data that was sent with the event\n     *\n     * @private\n     * @listens Tech#fullscreenchange\n     * @fires Player#fullscreenchange\n     */\n    ;\n\n    _proto.handleTechFullscreenChange_ = function handleTechFullscreenChange_(event, data) {\n      var _this9 = this;\n\n      if (data) {\n        if (data.nativeIOSFullscreen) {\n          this.addClass('vjs-ios-native-fs');\n          this.tech_.one('webkitendfullscreen', function () {\n            _this9.removeClass('vjs-ios-native-fs');\n          });\n        }\n\n        this.isFullscreen(data.isFullscreen);\n      }\n    };\n\n    _proto.handleTechFullscreenError_ = function handleTechFullscreenError_(event, err) {\n      this.trigger('fullscreenerror', err);\n    }\n    /**\n     * @private\n     */\n    ;\n\n    _proto.togglePictureInPictureClass_ = function togglePictureInPictureClass_() {\n      if (this.isInPictureInPicture()) {\n        this.addClass('vjs-picture-in-picture');\n      } else {\n        this.removeClass('vjs-picture-in-picture');\n      }\n    }\n    /**\n     * Handle Tech Enter Picture-in-Picture.\n     *\n     * @param {EventTarget~Event} event\n     *        the enterpictureinpicture event that triggered this function\n     *\n     * @private\n     * @listens Tech#enterpictureinpicture\n     */\n    ;\n\n    _proto.handleTechEnterPictureInPicture_ = function handleTechEnterPictureInPicture_(event) {\n      this.isInPictureInPicture(true);\n    }\n    /**\n     * Handle Tech Leave Picture-in-Picture.\n     *\n     * @param {EventTarget~Event} event\n     *        the leavepictureinpicture event that triggered this function\n     *\n     * @private\n     * @listens Tech#leavepictureinpicture\n     */\n    ;\n\n    _proto.handleTechLeavePictureInPicture_ = function handleTechLeavePictureInPicture_(event) {\n      this.isInPictureInPicture(false);\n    }\n    /**\n     * Fires when an error occurred during the loading of an audio/video.\n     *\n     * @private\n     * @listens Tech#error\n     */\n    ;\n\n    _proto.handleTechError_ = function handleTechError_() {\n      var error = this.tech_.error();\n      this.error(error);\n    }\n    /**\n     * Retrigger the `textdata` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#textdata\n     * @listens Tech#textdata\n     * @private\n     */\n    ;\n\n    _proto.handleTechTextData_ = function handleTechTextData_() {\n      var data = null;\n\n      if (arguments.length > 1) {\n        data = arguments[1];\n      }\n      /**\n       * Fires when we get a textdata event from tech\n       *\n       * @event Player#textdata\n       * @type {EventTarget~Event}\n       */\n\n\n      this.trigger('textdata', data);\n    }\n    /**\n     * Get object for cached values.\n     *\n     * @return {Object}\n     *         get the current object cache\n     */\n    ;\n\n    _proto.getCache = function getCache() {\n      return this.cache_;\n    }\n    /**\n     * Resets the internal cache object.\n     *\n     * Using this function outside the player constructor or reset method may\n     * have unintended side-effects.\n     *\n     * @private\n     */\n    ;\n\n    _proto.resetCache_ = function resetCache_() {\n      this.cache_ = {\n        // Right now, the currentTime is not _really_ cached because it is always\n        // retrieved from the tech (see: currentTime). However, for completeness,\n        // we set it to zero here to ensure that if we do start actually caching\n        // it, we reset it along with everything else.\n        currentTime: 0,\n        initTime: 0,\n        inactivityTimeout: this.options_.inactivityTimeout,\n        duration: NaN,\n        lastVolume: 1,\n        lastPlaybackRate: this.defaultPlaybackRate(),\n        media: null,\n        src: '',\n        source: {},\n        sources: [],\n        playbackRates: [],\n        volume: 1\n      };\n    }\n    /**\n     * Pass values to the playback tech\n     *\n     * @param {string} [method]\n     *        the method to call\n     *\n     * @param {Object} arg\n     *        the argument to pass\n     *\n     * @private\n     */\n    ;\n\n    _proto.techCall_ = function techCall_(method, arg) {\n      // If it's not ready yet, call method when it is\n      this.ready(function () {\n        if (method in allowedSetters) {\n          return set(this.middleware_, this.tech_, method, arg);\n        } else if (method in allowedMediators) {\n          return mediate(this.middleware_, this.tech_, method, arg);\n        }\n\n        try {\n          if (this.tech_) {\n            this.tech_[method](arg);\n          }\n        } catch (e) {\n          log(e);\n          throw e;\n        }\n      }, true);\n    }\n    /**\n     * Get calls can't wait for the tech, and sometimes don't need to.\n     *\n     * @param {string} method\n     *        Tech method\n     *\n     * @return {Function|undefined}\n     *         the method or undefined\n     *\n     * @private\n     */\n    ;\n\n    _proto.techGet_ = function techGet_(method) {\n      if (!this.tech_ || !this.tech_.isReady_) {\n        return;\n      }\n\n      if (method in allowedGetters) {\n        return get(this.middleware_, this.tech_, method);\n      } else if (method in allowedMediators) {\n        return mediate(this.middleware_, this.tech_, method);\n      } // Flash likes to die and reload when you hide or reposition it.\n      // In these cases the object methods go away and we get errors.\n      // TODO: Is this needed for techs other than Flash?\n      // When that happens we'll catch the errors and inform tech that it's not ready any more.\n\n\n      try {\n        return this.tech_[method]();\n      } catch (e) {\n        // When building additional tech libs, an expected method may not be defined yet\n        if (this.tech_[method] === undefined) {\n          log(\"Video.js: \" + method + \" method not defined for \" + this.techName_ + \" playback technology.\", e);\n          throw e;\n        } // When a method isn't available on the object it throws a TypeError\n\n\n        if (e.name === 'TypeError') {\n          log(\"Video.js: \" + method + \" unavailable on \" + this.techName_ + \" playback technology element.\", e);\n          this.tech_.isReady_ = false;\n          throw e;\n        } // If error unknown, just log and throw\n\n\n        log(e);\n        throw e;\n      }\n    }\n    /**\n     * Attempt to begin playback at the first opportunity.\n     *\n     * @return {Promise|undefined}\n     *         Returns a promise if the browser supports Promises (or one\n     *         was passed in as an option). This promise will be resolved on\n     *         the return value of play. If this is undefined it will fulfill the\n     *         promise chain otherwise the promise chain will be fulfilled when\n     *         the promise from play is fulfilled.\n     */\n    ;\n\n    _proto.play = function play() {\n      var _this10 = this;\n\n      var PromiseClass = this.options_.Promise || window.Promise;\n\n      if (PromiseClass) {\n        return new PromiseClass(function (resolve) {\n          _this10.play_(resolve);\n        });\n      }\n\n      return this.play_();\n    }\n    /**\n     * The actual logic for play, takes a callback that will be resolved on the\n     * return value of play. This allows us to resolve to the play promise if there\n     * is one on modern browsers.\n     *\n     * @private\n     * @param {Function} [callback]\n     *        The callback that should be called when the techs play is actually called\n     */\n    ;\n\n    _proto.play_ = function play_(callback) {\n      var _this11 = this;\n\n      if (callback === void 0) {\n        callback = silencePromise;\n      }\n\n      this.playCallbacks_.push(callback);\n      var isSrcReady = Boolean(!this.changingSrc_ && (this.src() || this.currentSrc())); // treat calls to play_ somewhat like the `one` event function\n\n      if (this.waitToPlay_) {\n        this.off(['ready', 'loadstart'], this.waitToPlay_);\n        this.waitToPlay_ = null;\n      } // if the player/tech is not ready or the src itself is not ready\n      // queue up a call to play on `ready` or `loadstart`\n\n\n      if (!this.isReady_ || !isSrcReady) {\n        this.waitToPlay_ = function (e) {\n          _this11.play_();\n        };\n\n        this.one(['ready', 'loadstart'], this.waitToPlay_); // if we are in Safari, there is a high chance that loadstart will trigger after the gesture timeperiod\n        // in that case, we need to prime the video element by calling load so it'll be ready in time\n\n        if (!isSrcReady && (IS_ANY_SAFARI || IS_IOS)) {\n          this.load();\n        }\n\n        return;\n      } // If the player/tech is ready and we have a source, we can attempt playback.\n\n\n      var val = this.techGet_('play'); // play was terminated if the returned value is null\n\n      if (val === null) {\n        this.runPlayTerminatedQueue_();\n      } else {\n        this.runPlayCallbacks_(val);\n      }\n    }\n    /**\n     * These functions will be run when if play is terminated. If play\n     * runPlayCallbacks_ is run these function will not be run. This allows us\n     * to differenciate between a terminated play and an actual call to play.\n     */\n    ;\n\n    _proto.runPlayTerminatedQueue_ = function runPlayTerminatedQueue_() {\n      var queue = this.playTerminatedQueue_.slice(0);\n      this.playTerminatedQueue_ = [];\n      queue.forEach(function (q) {\n        q();\n      });\n    }\n    /**\n     * When a callback to play is delayed we have to run these\n     * callbacks when play is actually called on the tech. This function\n     * runs the callbacks that were delayed and accepts the return value\n     * from the tech.\n     *\n     * @param {undefined|Promise} val\n     *        The return value from the tech.\n     */\n    ;\n\n    _proto.runPlayCallbacks_ = function runPlayCallbacks_(val) {\n      var callbacks = this.playCallbacks_.slice(0);\n      this.playCallbacks_ = []; // clear play terminatedQueue since we finished a real play\n\n      this.playTerminatedQueue_ = [];\n      callbacks.forEach(function (cb) {\n        cb(val);\n      });\n    }\n    /**\n     * Pause the video playback\n     *\n     * @return {Player}\n     *         A reference to the player object this function was called on\n     */\n    ;\n\n    _proto.pause = function pause() {\n      this.techCall_('pause');\n    }\n    /**\n     * Check if the player is paused or has yet to play\n     *\n     * @return {boolean}\n     *         - false: if the media is currently playing\n     *         - true: if media is not currently playing\n     */\n    ;\n\n    _proto.paused = function paused() {\n      // The initial state of paused should be true (in Safari it's actually false)\n      return this.techGet_('paused') === false ? false : true;\n    }\n    /**\n     * Get a TimeRange object representing the current ranges of time that the user\n     * has played.\n     *\n     * @return {TimeRange}\n     *         A time range object that represents all the increments of time that have\n     *         been played.\n     */\n    ;\n\n    _proto.played = function played() {\n      return this.techGet_('played') || createTimeRanges(0, 0);\n    }\n    /**\n     * Returns whether or not the user is \"scrubbing\". Scrubbing is\n     * when the user has clicked the progress bar handle and is\n     * dragging it along the progress bar.\n     *\n     * @param {boolean} [isScrubbing]\n     *        whether the user is or is not scrubbing\n     *\n     * @return {boolean}\n     *         The value of scrubbing when getting\n     */\n    ;\n\n    _proto.scrubbing = function scrubbing(isScrubbing) {\n      if (typeof isScrubbing === 'undefined') {\n        return this.scrubbing_;\n      }\n\n      this.scrubbing_ = !!isScrubbing;\n      this.techCall_('setScrubbing', this.scrubbing_);\n\n      if (isScrubbing) {\n        this.addClass('vjs-scrubbing');\n      } else {\n        this.removeClass('vjs-scrubbing');\n      }\n    }\n    /**\n     * Get or set the current time (in seconds)\n     *\n     * @param {number|string} [seconds]\n     *        The time to seek to in seconds\n     *\n     * @return {number}\n     *         - the current time in seconds when getting\n     */\n    ;\n\n    _proto.currentTime = function currentTime(seconds) {\n      if (typeof seconds !== 'undefined') {\n        if (seconds < 0) {\n          seconds = 0;\n        }\n\n        if (!this.isReady_ || this.changingSrc_ || !this.tech_ || !this.tech_.isReady_) {\n          this.cache_.initTime = seconds;\n          this.off('canplay', this.boundApplyInitTime_);\n          this.one('canplay', this.boundApplyInitTime_);\n          return;\n        }\n\n        this.techCall_('setCurrentTime', seconds);\n        this.cache_.initTime = 0;\n        return;\n      } // cache last currentTime and return. default to 0 seconds\n      //\n      // Caching the currentTime is meant to prevent a massive amount of reads on the tech's\n      // currentTime when scrubbing, but may not provide much performance benefit afterall.\n      // Should be tested. Also something has to read the actual current time or the cache will\n      // never get updated.\n\n\n      this.cache_.currentTime = this.techGet_('currentTime') || 0;\n      return this.cache_.currentTime;\n    }\n    /**\n     * Apply the value of initTime stored in cache as currentTime.\n     *\n     * @private\n     */\n    ;\n\n    _proto.applyInitTime_ = function applyInitTime_() {\n      this.currentTime(this.cache_.initTime);\n    }\n    /**\n     * Normally gets the length in time of the video in seconds;\n     * in all but the rarest use cases an argument will NOT be passed to the method\n     *\n     * > **NOTE**: The video must have started loading before the duration can be\n     * known, and depending on preload behaviour may not be known until the video starts\n     * playing.\n     *\n     * @fires Player#durationchange\n     *\n     * @param {number} [seconds]\n     *        The duration of the video to set in seconds\n     *\n     * @return {number}\n     *         - The duration of the video in seconds when getting\n     */\n    ;\n\n    _proto.duration = function duration(seconds) {\n      if (seconds === undefined) {\n        // return NaN if the duration is not known\n        return this.cache_.duration !== undefined ? this.cache_.duration : NaN;\n      }\n\n      seconds = parseFloat(seconds); // Standardize on Infinity for signaling video is live\n\n      if (seconds < 0) {\n        seconds = Infinity;\n      }\n\n      if (seconds !== this.cache_.duration) {\n        // Cache the last set value for optimized scrubbing (esp. Flash)\n        // TODO: Required for techs other than Flash?\n        this.cache_.duration = seconds;\n\n        if (seconds === Infinity) {\n          this.addClass('vjs-live');\n        } else {\n          this.removeClass('vjs-live');\n        }\n\n        if (!isNaN(seconds)) {\n          // Do not fire durationchange unless the duration value is known.\n          // @see [Spec]{@link https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-element-load-algorithm}\n\n          /**\n           * @event Player#durationchange\n           * @type {EventTarget~Event}\n           */\n          this.trigger('durationchange');\n        }\n      }\n    }\n    /**\n     * Calculates how much time is left in the video. Not part\n     * of the native video API.\n     *\n     * @return {number}\n     *         The time remaining in seconds\n     */\n    ;\n\n    _proto.remainingTime = function remainingTime() {\n      return this.duration() - this.currentTime();\n    }\n    /**\n     * A remaining time function that is intented to be used when\n     * the time is to be displayed directly to the user.\n     *\n     * @return {number}\n     *         The rounded time remaining in seconds\n     */\n    ;\n\n    _proto.remainingTimeDisplay = function remainingTimeDisplay() {\n      return Math.floor(this.duration()) - Math.floor(this.currentTime());\n    } //\n    // Kind of like an array of portions of the video that have been downloaded.\n\n    /**\n     * Get a TimeRange object with an array of the times of the video\n     * that have been downloaded. If you just want the percent of the\n     * video that's been downloaded, use bufferedPercent.\n     *\n     * @see [Buffered Spec]{@link http://dev.w3.org/html5/spec/video.html#dom-media-buffered}\n     *\n     * @return {TimeRange}\n     *         A mock TimeRange object (following HTML spec)\n     */\n    ;\n\n    _proto.buffered = function buffered() {\n      var buffered = this.techGet_('buffered');\n\n      if (!buffered || !buffered.length) {\n        buffered = createTimeRanges(0, 0);\n      }\n\n      return buffered;\n    }\n    /**\n     * Get the percent (as a decimal) of the video that's been downloaded.\n     * This method is not a part of the native HTML video API.\n     *\n     * @return {number}\n     *         A decimal between 0 and 1 representing the percent\n     *         that is buffered 0 being 0% and 1 being 100%\n     */\n    ;\n\n    _proto.bufferedPercent = function bufferedPercent$1() {\n      return bufferedPercent(this.buffered(), this.duration());\n    }\n    /**\n     * Get the ending time of the last buffered time range\n     * This is used in the progress bar to encapsulate all time ranges.\n     *\n     * @return {number}\n     *         The end of the last buffered time range\n     */\n    ;\n\n    _proto.bufferedEnd = function bufferedEnd() {\n      var buffered = this.buffered();\n      var duration = this.duration();\n      var end = buffered.end(buffered.length - 1);\n\n      if (end > duration) {\n        end = duration;\n      }\n\n      return end;\n    }\n    /**\n     * Get or set the current volume of the media\n     *\n     * @param  {number} [percentAsDecimal]\n     *         The new volume as a decimal percent:\n     *         - 0 is muted/0%/off\n     *         - 1.0 is 100%/full\n     *         - 0.5 is half volume or 50%\n     *\n     * @return {number}\n     *         The current volume as a percent when getting\n     */\n    ;\n\n    _proto.volume = function volume(percentAsDecimal) {\n      var vol;\n\n      if (percentAsDecimal !== undefined) {\n        // Force value to between 0 and 1\n        vol = Math.max(0, Math.min(1, parseFloat(percentAsDecimal)));\n        this.cache_.volume = vol;\n        this.techCall_('setVolume', vol);\n\n        if (vol > 0) {\n          this.lastVolume_(vol);\n        }\n\n        return;\n      } // Default to 1 when returning current volume.\n\n\n      vol = parseFloat(this.techGet_('volume'));\n      return isNaN(vol) ? 1 : vol;\n    }\n    /**\n     * Get the current muted state, or turn mute on or off\n     *\n     * @param {boolean} [muted]\n     *        - true to mute\n     *        - false to unmute\n     *\n     * @return {boolean}\n     *         - true if mute is on and getting\n     *         - false if mute is off and getting\n     */\n    ;\n\n    _proto.muted = function muted(_muted) {\n      if (_muted !== undefined) {\n        this.techCall_('setMuted', _muted);\n        return;\n      }\n\n      return this.techGet_('muted') || false;\n    }\n    /**\n     * Get the current defaultMuted state, or turn defaultMuted on or off. defaultMuted\n     * indicates the state of muted on initial playback.\n     *\n     * ```js\n     *   var myPlayer = videojs('some-player-id');\n     *\n     *   myPlayer.src(\"http://www.example.com/path/to/video.mp4\");\n     *\n     *   // get, should be false\n     *   console.log(myPlayer.defaultMuted());\n     *   // set to true\n     *   myPlayer.defaultMuted(true);\n     *   // get should be true\n     *   console.log(myPlayer.defaultMuted());\n     * ```\n     *\n     * @param {boolean} [defaultMuted]\n     *        - true to mute\n     *        - false to unmute\n     *\n     * @return {boolean|Player}\n     *         - true if defaultMuted is on and getting\n     *         - false if defaultMuted is off and getting\n     *         - A reference to the current player when setting\n     */\n    ;\n\n    _proto.defaultMuted = function defaultMuted(_defaultMuted) {\n      if (_defaultMuted !== undefined) {\n        return this.techCall_('setDefaultMuted', _defaultMuted);\n      }\n\n      return this.techGet_('defaultMuted') || false;\n    }\n    /**\n     * Get the last volume, or set it\n     *\n     * @param  {number} [percentAsDecimal]\n     *         The new last volume as a decimal percent:\n     *         - 0 is muted/0%/off\n     *         - 1.0 is 100%/full\n     *         - 0.5 is half volume or 50%\n     *\n     * @return {number}\n     *         the current value of lastVolume as a percent when getting\n     *\n     * @private\n     */\n    ;\n\n    _proto.lastVolume_ = function lastVolume_(percentAsDecimal) {\n      if (percentAsDecimal !== undefined && percentAsDecimal !== 0) {\n        this.cache_.lastVolume = percentAsDecimal;\n        return;\n      }\n\n      return this.cache_.lastVolume;\n    }\n    /**\n     * Check if current tech can support native fullscreen\n     * (e.g. with built in controls like iOS)\n     *\n     * @return {boolean}\n     *         if native fullscreen is supported\n     */\n    ;\n\n    _proto.supportsFullScreen = function supportsFullScreen() {\n      return this.techGet_('supportsFullScreen') || false;\n    }\n    /**\n     * Check if the player is in fullscreen mode or tell the player that it\n     * is or is not in fullscreen mode.\n     *\n     * > NOTE: As of the latest HTML5 spec, isFullscreen is no longer an official\n     * property and instead document.fullscreenElement is used. But isFullscreen is\n     * still a valuable property for internal player workings.\n     *\n     * @param  {boolean} [isFS]\n     *         Set the players current fullscreen state\n     *\n     * @return {boolean}\n     *         - true if fullscreen is on and getting\n     *         - false if fullscreen is off and getting\n     */\n    ;\n\n    _proto.isFullscreen = function isFullscreen(isFS) {\n      if (isFS !== undefined) {\n        var oldValue = this.isFullscreen_;\n        this.isFullscreen_ = Boolean(isFS); // if we changed fullscreen state and we're in prefixed mode, trigger fullscreenchange\n        // this is the only place where we trigger fullscreenchange events for older browsers\n        // fullWindow mode is treated as a prefixed event and will get a fullscreenchange event as well\n\n        if (this.isFullscreen_ !== oldValue && this.fsApi_.prefixed) {\n          /**\n             * @event Player#fullscreenchange\n             * @type {EventTarget~Event}\n             */\n          this.trigger('fullscreenchange');\n        }\n\n        this.toggleFullscreenClass_();\n        return;\n      }\n\n      return this.isFullscreen_;\n    }\n    /**\n     * Increase the size of the video to full screen\n     * In some browsers, full screen is not supported natively, so it enters\n     * \"full window mode\", where the video fills the browser window.\n     * In browsers and devices that support native full screen, sometimes the\n     * browser's default controls will be shown, and not the Video.js custom skin.\n     * This includes most mobile devices (iOS, Android) and older versions of\n     * Safari.\n     *\n     * @param  {Object} [fullscreenOptions]\n     *         Override the player fullscreen options\n     *\n     * @fires Player#fullscreenchange\n     */\n    ;\n\n    _proto.requestFullscreen = function requestFullscreen(fullscreenOptions) {\n      var PromiseClass = this.options_.Promise || window.Promise;\n\n      if (PromiseClass) {\n        var self = this;\n        return new PromiseClass(function (resolve, reject) {\n          function offHandler() {\n            self.off('fullscreenerror', errorHandler);\n            self.off('fullscreenchange', changeHandler);\n          }\n\n          function changeHandler() {\n            offHandler();\n            resolve();\n          }\n\n          function errorHandler(e, err) {\n            offHandler();\n            reject(err);\n          }\n\n          self.one('fullscreenchange', changeHandler);\n          self.one('fullscreenerror', errorHandler);\n          var promise = self.requestFullscreenHelper_(fullscreenOptions);\n\n          if (promise) {\n            promise.then(offHandler, offHandler);\n            promise.then(resolve, reject);\n          }\n        });\n      }\n\n      return this.requestFullscreenHelper_();\n    };\n\n    _proto.requestFullscreenHelper_ = function requestFullscreenHelper_(fullscreenOptions) {\n      var _this12 = this;\n\n      var fsOptions; // Only pass fullscreen options to requestFullscreen in spec-compliant browsers.\n      // Use defaults or player configured option unless passed directly to this method.\n\n      if (!this.fsApi_.prefixed) {\n        fsOptions = this.options_.fullscreen && this.options_.fullscreen.options || {};\n\n        if (fullscreenOptions !== undefined) {\n          fsOptions = fullscreenOptions;\n        }\n      } // This method works as follows:\n      // 1. if a fullscreen api is available, use it\n      //   1. call requestFullscreen with potential options\n      //   2. if we got a promise from above, use it to update isFullscreen()\n      // 2. otherwise, if the tech supports fullscreen, call `enterFullScreen` on it.\n      //   This is particularly used for iPhone, older iPads, and non-safari browser on iOS.\n      // 3. otherwise, use \"fullWindow\" mode\n\n\n      if (this.fsApi_.requestFullscreen) {\n        var promise = this.el_[this.fsApi_.requestFullscreen](fsOptions);\n\n        if (promise) {\n          promise.then(function () {\n            return _this12.isFullscreen(true);\n          }, function () {\n            return _this12.isFullscreen(false);\n          });\n        }\n\n        return promise;\n      } else if (this.tech_.supportsFullScreen() && !this.options_.preferFullWindow === true) {\n        // we can't take the video.js controls fullscreen but we can go fullscreen\n        // with native controls\n        this.techCall_('enterFullScreen');\n      } else {\n        // fullscreen isn't supported so we'll just stretch the video element to\n        // fill the viewport\n        this.enterFullWindow();\n      }\n    }\n    /**\n     * Return the video to its normal size after having been in full screen mode\n     *\n     * @fires Player#fullscreenchange\n     */\n    ;\n\n    _proto.exitFullscreen = function exitFullscreen() {\n      var PromiseClass = this.options_.Promise || window.Promise;\n\n      if (PromiseClass) {\n        var self = this;\n        return new PromiseClass(function (resolve, reject) {\n          function offHandler() {\n            self.off('fullscreenerror', errorHandler);\n            self.off('fullscreenchange', changeHandler);\n          }\n\n          function changeHandler() {\n            offHandler();\n            resolve();\n          }\n\n          function errorHandler(e, err) {\n            offHandler();\n            reject(err);\n          }\n\n          self.one('fullscreenchange', changeHandler);\n          self.one('fullscreenerror', errorHandler);\n          var promise = self.exitFullscreenHelper_();\n\n          if (promise) {\n            promise.then(offHandler, offHandler); // map the promise to our resolve/reject methods\n\n            promise.then(resolve, reject);\n          }\n        });\n      }\n\n      return this.exitFullscreenHelper_();\n    };\n\n    _proto.exitFullscreenHelper_ = function exitFullscreenHelper_() {\n      var _this13 = this;\n\n      if (this.fsApi_.requestFullscreen) {\n        var promise = document[this.fsApi_.exitFullscreen]();\n\n        if (promise) {\n          // we're splitting the promise here, so, we want to catch the\n          // potential error so that this chain doesn't have unhandled errors\n          silencePromise(promise.then(function () {\n            return _this13.isFullscreen(false);\n          }));\n        }\n\n        return promise;\n      } else if (this.tech_.supportsFullScreen() && !this.options_.preferFullWindow === true) {\n        this.techCall_('exitFullScreen');\n      } else {\n        this.exitFullWindow();\n      }\n    }\n    /**\n     * When fullscreen isn't supported we can stretch the\n     * video container to as wide as the browser will let us.\n     *\n     * @fires Player#enterFullWindow\n     */\n    ;\n\n    _proto.enterFullWindow = function enterFullWindow() {\n      this.isFullscreen(true);\n      this.isFullWindow = true; // Storing original doc overflow value to return to when fullscreen is off\n\n      this.docOrigOverflow = document.documentElement.style.overflow; // Add listener for esc key to exit fullscreen\n\n      on(document, 'keydown', this.boundFullWindowOnEscKey_); // Hide any scroll bars\n\n      document.documentElement.style.overflow = 'hidden'; // Apply fullscreen styles\n\n      addClass(document.body, 'vjs-full-window');\n      /**\n       * @event Player#enterFullWindow\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('enterFullWindow');\n    }\n    /**\n     * Check for call to either exit full window or\n     * full screen on ESC key\n     *\n     * @param {string} event\n     *        Event to check for key press\n     */\n    ;\n\n    _proto.fullWindowOnEscKey = function fullWindowOnEscKey(event) {\n      if (keycode.isEventKey(event, 'Esc')) {\n        if (this.isFullscreen() === true) {\n          if (!this.isFullWindow) {\n            this.exitFullscreen();\n          } else {\n            this.exitFullWindow();\n          }\n        }\n      }\n    }\n    /**\n     * Exit full window\n     *\n     * @fires Player#exitFullWindow\n     */\n    ;\n\n    _proto.exitFullWindow = function exitFullWindow() {\n      this.isFullscreen(false);\n      this.isFullWindow = false;\n      off(document, 'keydown', this.boundFullWindowOnEscKey_); // Unhide scroll bars.\n\n      document.documentElement.style.overflow = this.docOrigOverflow; // Remove fullscreen styles\n\n      removeClass(document.body, 'vjs-full-window'); // Resize the box, controller, and poster to original sizes\n      // this.positionAll();\n\n      /**\n       * @event Player#exitFullWindow\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('exitFullWindow');\n    }\n    /**\n     * Disable Picture-in-Picture mode.\n     *\n     * @param {boolean} value\n     *                  - true will disable Picture-in-Picture mode\n     *                  - false will enable Picture-in-Picture mode\n     */\n    ;\n\n    _proto.disablePictureInPicture = function disablePictureInPicture(value) {\n      if (value === undefined) {\n        return this.techGet_('disablePictureInPicture');\n      }\n\n      this.techCall_('setDisablePictureInPicture', value);\n      this.options_.disablePictureInPicture = value;\n      this.trigger('disablepictureinpicturechanged');\n    }\n    /**\n     * Check if the player is in Picture-in-Picture mode or tell the player that it\n     * is or is not in Picture-in-Picture mode.\n     *\n     * @param  {boolean} [isPiP]\n     *         Set the players current Picture-in-Picture state\n     *\n     * @return {boolean}\n     *         - true if Picture-in-Picture is on and getting\n     *         - false if Picture-in-Picture is off and getting\n     */\n    ;\n\n    _proto.isInPictureInPicture = function isInPictureInPicture(isPiP) {\n      if (isPiP !== undefined) {\n        this.isInPictureInPicture_ = !!isPiP;\n        this.togglePictureInPictureClass_();\n        return;\n      }\n\n      return !!this.isInPictureInPicture_;\n    }\n    /**\n     * Create a floating video window always on top of other windows so that users may\n     * continue consuming media while they interact with other content sites, or\n     * applications on their device.\n     *\n     * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n     *\n     * @fires Player#enterpictureinpicture\n     *\n     * @return {Promise}\n     *         A promise with a Picture-in-Picture window.\n     */\n    ;\n\n    _proto.requestPictureInPicture = function requestPictureInPicture() {\n      if ('pictureInPictureEnabled' in document && this.disablePictureInPicture() === false) {\n        /**\n         * This event fires when the player enters picture in picture mode\n         *\n         * @event Player#enterpictureinpicture\n         * @type {EventTarget~Event}\n         */\n        return this.techGet_('requestPictureInPicture');\n      }\n    }\n    /**\n     * Exit Picture-in-Picture mode.\n     *\n     * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n     *\n     * @fires Player#leavepictureinpicture\n     *\n     * @return {Promise}\n     *         A promise.\n     */\n    ;\n\n    _proto.exitPictureInPicture = function exitPictureInPicture() {\n      if ('pictureInPictureEnabled' in document) {\n        /**\n         * This event fires when the player leaves picture in picture mode\n         *\n         * @event Player#leavepictureinpicture\n         * @type {EventTarget~Event}\n         */\n        return document.exitPictureInPicture();\n      }\n    }\n    /**\n     * Called when this Player has focus and a key gets pressed down, or when\n     * any Component of this player receives a key press that it doesn't handle.\n     * This allows player-wide hotkeys (either as defined below, or optionally\n     * by an external function).\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      var userActions = this.options_.userActions; // Bail out if hotkeys are not configured.\n\n      if (!userActions || !userActions.hotkeys) {\n        return;\n      } // Function that determines whether or not to exclude an element from\n      // hotkeys handling.\n\n\n      var excludeElement = function excludeElement(el) {\n        var tagName = el.tagName.toLowerCase(); // The first and easiest test is for `contenteditable` elements.\n\n        if (el.isContentEditable) {\n          return true;\n        } // Inputs matching these types will still trigger hotkey handling as\n        // they are not text inputs.\n\n\n        var allowedInputTypes = ['button', 'checkbox', 'hidden', 'radio', 'reset', 'submit'];\n\n        if (tagName === 'input') {\n          return allowedInputTypes.indexOf(el.type) === -1;\n        } // The final test is by tag name. These tags will be excluded entirely.\n\n\n        var excludedTags = ['textarea'];\n        return excludedTags.indexOf(tagName) !== -1;\n      }; // Bail out if the user is focused on an interactive form element.\n\n\n      if (excludeElement(this.el_.ownerDocument.activeElement)) {\n        return;\n      }\n\n      if (typeof userActions.hotkeys === 'function') {\n        userActions.hotkeys.call(this, event);\n      } else {\n        this.handleHotkeys(event);\n      }\n    }\n    /**\n     * Called when this Player receives a hotkey keydown event.\n     * Supported player-wide hotkeys are:\n     *\n     *   f          - toggle fullscreen\n     *   m          - toggle mute\n     *   k or Space - toggle play/pause\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleHotkeys = function handleHotkeys(event) {\n      var hotkeys = this.options_.userActions ? this.options_.userActions.hotkeys : {}; // set fullscreenKey, muteKey, playPauseKey from `hotkeys`, use defaults if not set\n\n      var _hotkeys$fullscreenKe = hotkeys.fullscreenKey,\n          fullscreenKey = _hotkeys$fullscreenKe === void 0 ? function (keydownEvent) {\n        return keycode.isEventKey(keydownEvent, 'f');\n      } : _hotkeys$fullscreenKe,\n          _hotkeys$muteKey = hotkeys.muteKey,\n          muteKey = _hotkeys$muteKey === void 0 ? function (keydownEvent) {\n        return keycode.isEventKey(keydownEvent, 'm');\n      } : _hotkeys$muteKey,\n          _hotkeys$playPauseKey = hotkeys.playPauseKey,\n          playPauseKey = _hotkeys$playPauseKey === void 0 ? function (keydownEvent) {\n        return keycode.isEventKey(keydownEvent, 'k') || keycode.isEventKey(keydownEvent, 'Space');\n      } : _hotkeys$playPauseKey;\n\n      if (fullscreenKey.call(this, event)) {\n        event.preventDefault();\n        event.stopPropagation();\n        var FSToggle = Component.getComponent('FullscreenToggle');\n\n        if (document[this.fsApi_.fullscreenEnabled] !== false) {\n          FSToggle.prototype.handleClick.call(this, event);\n        }\n      } else if (muteKey.call(this, event)) {\n        event.preventDefault();\n        event.stopPropagation();\n        var MuteToggle = Component.getComponent('MuteToggle');\n        MuteToggle.prototype.handleClick.call(this, event);\n      } else if (playPauseKey.call(this, event)) {\n        event.preventDefault();\n        event.stopPropagation();\n        var PlayToggle = Component.getComponent('PlayToggle');\n        PlayToggle.prototype.handleClick.call(this, event);\n      }\n    }\n    /**\n     * Check whether the player can play a given mimetype\n     *\n     * @see https://www.w3.org/TR/2011/WD-html5-20110113/video.html#dom-navigator-canplaytype\n     *\n     * @param {string} type\n     *        The mimetype to check\n     *\n     * @return {string}\n     *         'probably', 'maybe', or '' (empty string)\n     */\n    ;\n\n    _proto.canPlayType = function canPlayType(type) {\n      var can; // Loop through each playback technology in the options order\n\n      for (var i = 0, j = this.options_.techOrder; i < j.length; i++) {\n        var techName = j[i];\n        var tech = Tech.getTech(techName); // Support old behavior of techs being registered as components.\n        // Remove once that deprecated behavior is removed.\n\n        if (!tech) {\n          tech = Component.getComponent(techName);\n        } // Check if the current tech is defined before continuing\n\n\n        if (!tech) {\n          log.error(\"The \\\"\" + techName + \"\\\" tech is undefined. Skipped browser support check for that tech.\");\n          continue;\n        } // Check if the browser supports this technology\n\n\n        if (tech.isSupported()) {\n          can = tech.canPlayType(type);\n\n          if (can) {\n            return can;\n          }\n        }\n      }\n\n      return '';\n    }\n    /**\n     * Select source based on tech-order or source-order\n     * Uses source-order selection if `options.sourceOrder` is truthy. Otherwise,\n     * defaults to tech-order selection\n     *\n     * @param {Array} sources\n     *        The sources for a media asset\n     *\n     * @return {Object|boolean}\n     *         Object of source and tech order or false\n     */\n    ;\n\n    _proto.selectSource = function selectSource(sources) {\n      var _this14 = this;\n\n      // Get only the techs specified in `techOrder` that exist and are supported by the\n      // current platform\n      var techs = this.options_.techOrder.map(function (techName) {\n        return [techName, Tech.getTech(techName)];\n      }).filter(function (_ref) {\n        var techName = _ref[0],\n            tech = _ref[1];\n\n        // Check if the current tech is defined before continuing\n        if (tech) {\n          // Check if the browser supports this technology\n          return tech.isSupported();\n        }\n\n        log.error(\"The \\\"\" + techName + \"\\\" tech is undefined. Skipped browser support check for that tech.\");\n        return false;\n      }); // Iterate over each `innerArray` element once per `outerArray` element and execute\n      // `tester` with both. If `tester` returns a non-falsy value, exit early and return\n      // that value.\n\n      var findFirstPassingTechSourcePair = function findFirstPassingTechSourcePair(outerArray, innerArray, tester) {\n        var found;\n        outerArray.some(function (outerChoice) {\n          return innerArray.some(function (innerChoice) {\n            found = tester(outerChoice, innerChoice);\n\n            if (found) {\n              return true;\n            }\n          });\n        });\n        return found;\n      };\n\n      var foundSourceAndTech;\n\n      var flip = function flip(fn) {\n        return function (a, b) {\n          return fn(b, a);\n        };\n      };\n\n      var finder = function finder(_ref2, source) {\n        var techName = _ref2[0],\n            tech = _ref2[1];\n\n        if (tech.canPlaySource(source, _this14.options_[techName.toLowerCase()])) {\n          return {\n            source: source,\n            tech: techName\n          };\n        }\n      }; // Depending on the truthiness of `options.sourceOrder`, we swap the order of techs and sources\n      // to select from them based on their priority.\n\n\n      if (this.options_.sourceOrder) {\n        // Source-first ordering\n        foundSourceAndTech = findFirstPassingTechSourcePair(sources, techs, flip(finder));\n      } else {\n        // Tech-first ordering\n        foundSourceAndTech = findFirstPassingTechSourcePair(techs, sources, finder);\n      }\n\n      return foundSourceAndTech || false;\n    }\n    /**\n     * Executes source setting and getting logic\n     *\n     * @param {Tech~SourceObject|Tech~SourceObject[]|string} [source]\n     *        A SourceObject, an array of SourceObjects, or a string referencing\n     *        a URL to a media source. It is _highly recommended_ that an object\n     *        or array of objects is used here, so that source selection\n     *        algorithms can take the `type` into account.\n     *\n     *        If not provided, this method acts as a getter.\n     * @param {boolean} isRetry\n     *        Indicates whether this is being called internally as a result of a retry\n     *\n     * @return {string|undefined}\n     *         If the `source` argument is missing, returns the current source\n     *         URL. Otherwise, returns nothing/undefined.\n     */\n    ;\n\n    _proto.handleSrc_ = function handleSrc_(source, isRetry) {\n      var _this15 = this;\n\n      // getter usage\n      if (typeof source === 'undefined') {\n        return this.cache_.src || '';\n      } // Reset retry behavior for new source\n\n\n      if (this.resetRetryOnError_) {\n        this.resetRetryOnError_();\n      } // filter out invalid sources and turn our source into\n      // an array of source objects\n\n\n      var sources = filterSource(source); // if a source was passed in then it is invalid because\n      // it was filtered to a zero length Array. So we have to\n      // show an error\n\n      if (!sources.length) {\n        this.setTimeout(function () {\n          this.error({\n            code: 4,\n            message: this.options_.notSupportedMessage\n          });\n        }, 0);\n        return;\n      } // initial sources\n\n\n      this.changingSrc_ = true; // Only update the cached source list if we are not retrying a new source after error,\n      // since in that case we want to include the failed source(s) in the cache\n\n      if (!isRetry) {\n        this.cache_.sources = sources;\n      }\n\n      this.updateSourceCaches_(sources[0]); // middlewareSource is the source after it has been changed by middleware\n\n      setSource(this, sources[0], function (middlewareSource, mws) {\n        _this15.middleware_ = mws; // since sourceSet is async we have to update the cache again after we select a source since\n        // the source that is selected could be out of order from the cache update above this callback.\n\n        if (!isRetry) {\n          _this15.cache_.sources = sources;\n        }\n\n        _this15.updateSourceCaches_(middlewareSource);\n\n        var err = _this15.src_(middlewareSource);\n\n        if (err) {\n          if (sources.length > 1) {\n            return _this15.handleSrc_(sources.slice(1));\n          }\n\n          _this15.changingSrc_ = false; // We need to wrap this in a timeout to give folks a chance to add error event handlers\n\n          _this15.setTimeout(function () {\n            this.error({\n              code: 4,\n              message: this.options_.notSupportedMessage\n            });\n          }, 0); // we could not find an appropriate tech, but let's still notify the delegate that this is it\n          // this needs a better comment about why this is needed\n\n\n          _this15.triggerReady();\n\n          return;\n        }\n\n        setTech(mws, _this15.tech_);\n      }); // Try another available source if this one fails before playback.\n\n      if (this.options_.retryOnError && sources.length > 1) {\n        var retry = function retry() {\n          // Remove the error modal\n          _this15.error(null);\n\n          _this15.handleSrc_(sources.slice(1), true);\n        };\n\n        var stopListeningForErrors = function stopListeningForErrors() {\n          _this15.off('error', retry);\n        };\n\n        this.one('error', retry);\n        this.one('playing', stopListeningForErrors);\n\n        this.resetRetryOnError_ = function () {\n          _this15.off('error', retry);\n\n          _this15.off('playing', stopListeningForErrors);\n        };\n      }\n    }\n    /**\n     * Get or set the video source.\n     *\n     * @param {Tech~SourceObject|Tech~SourceObject[]|string} [source]\n     *        A SourceObject, an array of SourceObjects, or a string referencing\n     *        a URL to a media source. It is _highly recommended_ that an object\n     *        or array of objects is used here, so that source selection\n     *        algorithms can take the `type` into account.\n     *\n     *        If not provided, this method acts as a getter.\n     *\n     * @return {string|undefined}\n     *         If the `source` argument is missing, returns the current source\n     *         URL. Otherwise, returns nothing/undefined.\n     */\n    ;\n\n    _proto.src = function src(source) {\n      return this.handleSrc_(source, false);\n    }\n    /**\n     * Set the source object on the tech, returns a boolean that indicates whether\n     * there is a tech that can play the source or not\n     *\n     * @param {Tech~SourceObject} source\n     *        The source object to set on the Tech\n     *\n     * @return {boolean}\n     *         - True if there is no Tech to playback this source\n     *         - False otherwise\n     *\n     * @private\n     */\n    ;\n\n    _proto.src_ = function src_(source) {\n      var _this16 = this;\n\n      var sourceTech = this.selectSource([source]);\n\n      if (!sourceTech) {\n        return true;\n      }\n\n      if (!titleCaseEquals(sourceTech.tech, this.techName_)) {\n        this.changingSrc_ = true; // load this technology with the chosen source\n\n        this.loadTech_(sourceTech.tech, sourceTech.source);\n        this.tech_.ready(function () {\n          _this16.changingSrc_ = false;\n        });\n        return false;\n      } // wait until the tech is ready to set the source\n      // and set it synchronously if possible (#2326)\n\n\n      this.ready(function () {\n        // The setSource tech method was added with source handlers\n        // so older techs won't support it\n        // We need to check the direct prototype for the case where subclasses\n        // of the tech do not support source handlers\n        if (this.tech_.constructor.prototype.hasOwnProperty('setSource')) {\n          this.techCall_('setSource', source);\n        } else {\n          this.techCall_('src', source.src);\n        }\n\n        this.changingSrc_ = false;\n      }, true);\n      return false;\n    }\n    /**\n     * Begin loading the src data.\n     */\n    ;\n\n    _proto.load = function load() {\n      this.techCall_('load');\n    }\n    /**\n     * Reset the player. Loads the first tech in the techOrder,\n     * removes all the text tracks in the existing `tech`,\n     * and calls `reset` on the `tech`.\n     */\n    ;\n\n    _proto.reset = function reset() {\n      var _this17 = this;\n\n      var PromiseClass = this.options_.Promise || window.Promise;\n\n      if (this.paused() || !PromiseClass) {\n        this.doReset_();\n      } else {\n        var playPromise = this.play();\n        silencePromise(playPromise.then(function () {\n          return _this17.doReset_();\n        }));\n      }\n    };\n\n    _proto.doReset_ = function doReset_() {\n      if (this.tech_) {\n        this.tech_.clearTracks('text');\n      }\n\n      this.resetCache_();\n      this.poster('');\n      this.loadTech_(this.options_.techOrder[0], null);\n      this.techCall_('reset');\n      this.resetControlBarUI_();\n\n      if (isEvented(this)) {\n        this.trigger('playerreset');\n      }\n    }\n    /**\n     * Reset Control Bar's UI by calling sub-methods that reset\n     * all of Control Bar's components\n     */\n    ;\n\n    _proto.resetControlBarUI_ = function resetControlBarUI_() {\n      this.resetProgressBar_();\n      this.resetPlaybackRate_();\n      this.resetVolumeBar_();\n    }\n    /**\n     * Reset tech's progress so progress bar is reset in the UI\n     */\n    ;\n\n    _proto.resetProgressBar_ = function resetProgressBar_() {\n      this.currentTime(0);\n\n      var _ref3 = this.controlBar || {},\n          durationDisplay = _ref3.durationDisplay,\n          remainingTimeDisplay = _ref3.remainingTimeDisplay;\n\n      if (durationDisplay) {\n        durationDisplay.updateContent();\n      }\n\n      if (remainingTimeDisplay) {\n        remainingTimeDisplay.updateContent();\n      }\n    }\n    /**\n     * Reset Playback ratio\n     */\n    ;\n\n    _proto.resetPlaybackRate_ = function resetPlaybackRate_() {\n      this.playbackRate(this.defaultPlaybackRate());\n      this.handleTechRateChange_();\n    }\n    /**\n     * Reset Volume bar\n     */\n    ;\n\n    _proto.resetVolumeBar_ = function resetVolumeBar_() {\n      this.volume(1.0);\n      this.trigger('volumechange');\n    }\n    /**\n     * Returns all of the current source objects.\n     *\n     * @return {Tech~SourceObject[]}\n     *         The current source objects\n     */\n    ;\n\n    _proto.currentSources = function currentSources() {\n      var source = this.currentSource();\n      var sources = []; // assume `{}` or `{ src }`\n\n      if (Object.keys(source).length !== 0) {\n        sources.push(source);\n      }\n\n      return this.cache_.sources || sources;\n    }\n    /**\n     * Returns the current source object.\n     *\n     * @return {Tech~SourceObject}\n     *         The current source object\n     */\n    ;\n\n    _proto.currentSource = function currentSource() {\n      return this.cache_.source || {};\n    }\n    /**\n     * Returns the fully qualified URL of the current source value e.g. http://mysite.com/video.mp4\n     * Can be used in conjunction with `currentType` to assist in rebuilding the current source object.\n     *\n     * @return {string}\n     *         The current source\n     */\n    ;\n\n    _proto.currentSrc = function currentSrc() {\n      return this.currentSource() && this.currentSource().src || '';\n    }\n    /**\n     * Get the current source type e.g. video/mp4\n     * This can allow you rebuild the current source object so that you could load the same\n     * source and tech later\n     *\n     * @return {string}\n     *         The source MIME type\n     */\n    ;\n\n    _proto.currentType = function currentType() {\n      return this.currentSource() && this.currentSource().type || '';\n    }\n    /**\n     * Get or set the preload attribute\n     *\n     * @param {boolean} [value]\n     *        - true means that we should preload\n     *        - false means that we should not preload\n     *\n     * @return {string}\n     *         The preload attribute value when getting\n     */\n    ;\n\n    _proto.preload = function preload(value) {\n      if (value !== undefined) {\n        this.techCall_('setPreload', value);\n        this.options_.preload = value;\n        return;\n      }\n\n      return this.techGet_('preload');\n    }\n    /**\n     * Get or set the autoplay option. When this is a boolean it will\n     * modify the attribute on the tech. When this is a string the attribute on\n     * the tech will be removed and `Player` will handle autoplay on loadstarts.\n     *\n     * @param {boolean|string} [value]\n     *        - true: autoplay using the browser behavior\n     *        - false: do not autoplay\n     *        - 'play': call play() on every loadstart\n     *        - 'muted': call muted() then play() on every loadstart\n     *        - 'any': call play() on every loadstart. if that fails call muted() then play().\n     *        - *: values other than those listed here will be set `autoplay` to true\n     *\n     * @return {boolean|string}\n     *         The current value of autoplay when getting\n     */\n    ;\n\n    _proto.autoplay = function autoplay(value) {\n      // getter usage\n      if (value === undefined) {\n        return this.options_.autoplay || false;\n      }\n\n      var techAutoplay; // if the value is a valid string set it to that, or normalize `true` to 'play', if need be\n\n      if (typeof value === 'string' && /(any|play|muted)/.test(value) || value === true && this.options_.normalizeAutoplay) {\n        this.options_.autoplay = value;\n        this.manualAutoplay_(typeof value === 'string' ? value : 'play');\n        techAutoplay = false; // any falsy value sets autoplay to false in the browser,\n        // lets do the same\n      } else if (!value) {\n        this.options_.autoplay = false; // any other value (ie truthy) sets autoplay to true\n      } else {\n        this.options_.autoplay = true;\n      }\n\n      techAutoplay = typeof techAutoplay === 'undefined' ? this.options_.autoplay : techAutoplay; // if we don't have a tech then we do not queue up\n      // a setAutoplay call on tech ready. We do this because the\n      // autoplay option will be passed in the constructor and we\n      // do not need to set it twice\n\n      if (this.tech_) {\n        this.techCall_('setAutoplay', techAutoplay);\n      }\n    }\n    /**\n     * Set or unset the playsinline attribute.\n     * Playsinline tells the browser that non-fullscreen playback is preferred.\n     *\n     * @param {boolean} [value]\n     *        - true means that we should try to play inline by default\n     *        - false means that we should use the browser's default playback mode,\n     *          which in most cases is inline. iOS Safari is a notable exception\n     *          and plays fullscreen by default.\n     *\n     * @return {string|Player}\n     *         - the current value of playsinline\n     *         - the player when setting\n     *\n     * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n     */\n    ;\n\n    _proto.playsinline = function playsinline(value) {\n      if (value !== undefined) {\n        this.techCall_('setPlaysinline', value);\n        this.options_.playsinline = value;\n        return this;\n      }\n\n      return this.techGet_('playsinline');\n    }\n    /**\n     * Get or set the loop attribute on the video element.\n     *\n     * @param {boolean} [value]\n     *        - true means that we should loop the video\n     *        - false means that we should not loop the video\n     *\n     * @return {boolean}\n     *         The current value of loop when getting\n     */\n    ;\n\n    _proto.loop = function loop(value) {\n      if (value !== undefined) {\n        this.techCall_('setLoop', value);\n        this.options_.loop = value;\n        return;\n      }\n\n      return this.techGet_('loop');\n    }\n    /**\n     * Get or set the poster image source url\n     *\n     * @fires Player#posterchange\n     *\n     * @param {string} [src]\n     *        Poster image source URL\n     *\n     * @return {string}\n     *         The current value of poster when getting\n     */\n    ;\n\n    _proto.poster = function poster(src) {\n      if (src === undefined) {\n        return this.poster_;\n      } // The correct way to remove a poster is to set as an empty string\n      // other falsey values will throw errors\n\n\n      if (!src) {\n        src = '';\n      }\n\n      if (src === this.poster_) {\n        return;\n      } // update the internal poster variable\n\n\n      this.poster_ = src; // update the tech's poster\n\n      this.techCall_('setPoster', src);\n      this.isPosterFromTech_ = false; // alert components that the poster has been set\n\n      /**\n       * This event fires when the poster image is changed on the player.\n       *\n       * @event Player#posterchange\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('posterchange');\n    }\n    /**\n     * Some techs (e.g. YouTube) can provide a poster source in an\n     * asynchronous way. We want the poster component to use this\n     * poster source so that it covers up the tech's controls.\n     * (YouTube's play button). However we only want to use this\n     * source if the player user hasn't set a poster through\n     * the normal APIs.\n     *\n     * @fires Player#posterchange\n     * @listens Tech#posterchange\n     * @private\n     */\n    ;\n\n    _proto.handleTechPosterChange_ = function handleTechPosterChange_() {\n      if ((!this.poster_ || this.options_.techCanOverridePoster) && this.tech_ && this.tech_.poster) {\n        var newPoster = this.tech_.poster() || '';\n\n        if (newPoster !== this.poster_) {\n          this.poster_ = newPoster;\n          this.isPosterFromTech_ = true; // Let components know the poster has changed\n\n          this.trigger('posterchange');\n        }\n      }\n    }\n    /**\n     * Get or set whether or not the controls are showing.\n     *\n     * @fires Player#controlsenabled\n     *\n     * @param {boolean} [bool]\n     *        - true to turn controls on\n     *        - false to turn controls off\n     *\n     * @return {boolean}\n     *         The current value of controls when getting\n     */\n    ;\n\n    _proto.controls = function controls(bool) {\n      if (bool === undefined) {\n        return !!this.controls_;\n      }\n\n      bool = !!bool; // Don't trigger a change event unless it actually changed\n\n      if (this.controls_ === bool) {\n        return;\n      }\n\n      this.controls_ = bool;\n\n      if (this.usingNativeControls()) {\n        this.techCall_('setControls', bool);\n      }\n\n      if (this.controls_) {\n        this.removeClass('vjs-controls-disabled');\n        this.addClass('vjs-controls-enabled');\n        /**\n         * @event Player#controlsenabled\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('controlsenabled');\n\n        if (!this.usingNativeControls()) {\n          this.addTechControlsListeners_();\n        }\n      } else {\n        this.removeClass('vjs-controls-enabled');\n        this.addClass('vjs-controls-disabled');\n        /**\n         * @event Player#controlsdisabled\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('controlsdisabled');\n\n        if (!this.usingNativeControls()) {\n          this.removeTechControlsListeners_();\n        }\n      }\n    }\n    /**\n     * Toggle native controls on/off. Native controls are the controls built into\n     * devices (e.g. default iPhone controls) or other techs\n     * (e.g. Vimeo Controls)\n     * **This should only be set by the current tech, because only the tech knows\n     * if it can support native controls**\n     *\n     * @fires Player#usingnativecontrols\n     * @fires Player#usingcustomcontrols\n     *\n     * @param {boolean} [bool]\n     *        - true to turn native controls on\n     *        - false to turn native controls off\n     *\n     * @return {boolean}\n     *         The current value of native controls when getting\n     */\n    ;\n\n    _proto.usingNativeControls = function usingNativeControls(bool) {\n      if (bool === undefined) {\n        return !!this.usingNativeControls_;\n      }\n\n      bool = !!bool; // Don't trigger a change event unless it actually changed\n\n      if (this.usingNativeControls_ === bool) {\n        return;\n      }\n\n      this.usingNativeControls_ = bool;\n\n      if (this.usingNativeControls_) {\n        this.addClass('vjs-using-native-controls');\n        /**\n         * player is using the native device controls\n         *\n         * @event Player#usingnativecontrols\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('usingnativecontrols');\n      } else {\n        this.removeClass('vjs-using-native-controls');\n        /**\n         * player is using the custom HTML controls\n         *\n         * @event Player#usingcustomcontrols\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('usingcustomcontrols');\n      }\n    }\n    /**\n     * Set or get the current MediaError\n     *\n     * @fires Player#error\n     *\n     * @param  {MediaError|string|number} [err]\n     *         A MediaError or a string/number to be turned\n     *         into a MediaError\n     *\n     * @return {MediaError|null}\n     *         The current MediaError when getting (or null)\n     */\n    ;\n\n    _proto.error = function error(err) {\n      var _this18 = this;\n\n      if (err === undefined) {\n        return this.error_ || null;\n      } // allow hooks to modify error object\n\n\n      hooks('beforeerror').forEach(function (hookFunction) {\n        var newErr = hookFunction(_this18, err);\n\n        if (!(isObject(newErr) && !Array.isArray(newErr) || typeof newErr === 'string' || typeof newErr === 'number' || newErr === null)) {\n          _this18.log.error('please return a value that MediaError expects in beforeerror hooks');\n\n          return;\n        }\n\n        err = newErr;\n      }); // Suppress the first error message for no compatible source until\n      // user interaction\n\n      if (this.options_.suppressNotSupportedError && err && err.code === 4) {\n        var triggerSuppressedError = function triggerSuppressedError() {\n          this.error(err);\n        };\n\n        this.options_.suppressNotSupportedError = false;\n        this.any(['click', 'touchstart'], triggerSuppressedError);\n        this.one('loadstart', function () {\n          this.off(['click', 'touchstart'], triggerSuppressedError);\n        });\n        return;\n      } // restoring to default\n\n\n      if (err === null) {\n        this.error_ = err;\n        this.removeClass('vjs-error');\n\n        if (this.errorDisplay) {\n          this.errorDisplay.close();\n        }\n\n        return;\n      }\n\n      this.error_ = new MediaError(err); // add the vjs-error classname to the player\n\n      this.addClass('vjs-error'); // log the name of the error type and any message\n      // IE11 logs \"[object object]\" and required you to expand message to see error object\n\n      log.error(\"(CODE:\" + this.error_.code + \" \" + MediaError.errorTypes[this.error_.code] + \")\", this.error_.message, this.error_);\n      /**\n       * @event Player#error\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('error'); // notify hooks of the per player error\n\n      hooks('error').forEach(function (hookFunction) {\n        return hookFunction(_this18, _this18.error_);\n      });\n      return;\n    }\n    /**\n     * Report user activity\n     *\n     * @param {Object} event\n     *        Event object\n     */\n    ;\n\n    _proto.reportUserActivity = function reportUserActivity(event) {\n      this.userActivity_ = true;\n    }\n    /**\n     * Get/set if user is active\n     *\n     * @fires Player#useractive\n     * @fires Player#userinactive\n     *\n     * @param {boolean} [bool]\n     *        - true if the user is active\n     *        - false if the user is inactive\n     *\n     * @return {boolean}\n     *         The current value of userActive when getting\n     */\n    ;\n\n    _proto.userActive = function userActive(bool) {\n      if (bool === undefined) {\n        return this.userActive_;\n      }\n\n      bool = !!bool;\n\n      if (bool === this.userActive_) {\n        return;\n      }\n\n      this.userActive_ = bool;\n\n      if (this.userActive_) {\n        this.userActivity_ = true;\n        this.removeClass('vjs-user-inactive');\n        this.addClass('vjs-user-active');\n        /**\n         * @event Player#useractive\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('useractive');\n        return;\n      } // Chrome/Safari/IE have bugs where when you change the cursor it can\n      // trigger a mousemove event. This causes an issue when you're hiding\n      // the cursor when the user is inactive, and a mousemove signals user\n      // activity. Making it impossible to go into inactive mode. Specifically\n      // this happens in fullscreen when we really need to hide the cursor.\n      //\n      // When this gets resolved in ALL browsers it can be removed\n      // https://code.google.com/p/chromium/issues/detail?id=103041\n\n\n      if (this.tech_) {\n        this.tech_.one('mousemove', function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n        });\n      }\n\n      this.userActivity_ = false;\n      this.removeClass('vjs-user-active');\n      this.addClass('vjs-user-inactive');\n      /**\n       * @event Player#userinactive\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('userinactive');\n    }\n    /**\n     * Listen for user activity based on timeout value\n     *\n     * @private\n     */\n    ;\n\n    _proto.listenForUserActivity_ = function listenForUserActivity_() {\n      var mouseInProgress;\n      var lastMoveX;\n      var lastMoveY;\n      var handleActivity = bind(this, this.reportUserActivity);\n\n      var handleMouseMove = function handleMouseMove(e) {\n        // #1068 - Prevent mousemove spamming\n        // Chrome Bug: https://code.google.com/p/chromium/issues/detail?id=366970\n        if (e.screenX !== lastMoveX || e.screenY !== lastMoveY) {\n          lastMoveX = e.screenX;\n          lastMoveY = e.screenY;\n          handleActivity();\n        }\n      };\n\n      var handleMouseDown = function handleMouseDown() {\n        handleActivity(); // For as long as the they are touching the device or have their mouse down,\n        // we consider them active even if they're not moving their finger or mouse.\n        // So we want to continue to update that they are active\n\n        this.clearInterval(mouseInProgress); // Setting userActivity=true now and setting the interval to the same time\n        // as the activityCheck interval (250) should ensure we never miss the\n        // next activityCheck\n\n        mouseInProgress = this.setInterval(handleActivity, 250);\n      };\n\n      var handleMouseUpAndMouseLeave = function handleMouseUpAndMouseLeave(event) {\n        handleActivity(); // Stop the interval that maintains activity if the mouse/touch is down\n\n        this.clearInterval(mouseInProgress);\n      }; // Any mouse movement will be considered user activity\n\n\n      this.on('mousedown', handleMouseDown);\n      this.on('mousemove', handleMouseMove);\n      this.on('mouseup', handleMouseUpAndMouseLeave);\n      this.on('mouseleave', handleMouseUpAndMouseLeave);\n      var controlBar = this.getChild('controlBar'); // Fixes bug on Android & iOS where when tapping progressBar (when control bar is displayed)\n      // controlBar would no longer be hidden by default timeout.\n\n      if (controlBar && !IS_IOS && !IS_ANDROID) {\n        controlBar.on('mouseenter', function (event) {\n          if (this.player().options_.inactivityTimeout !== 0) {\n            this.player().cache_.inactivityTimeout = this.player().options_.inactivityTimeout;\n          }\n\n          this.player().options_.inactivityTimeout = 0;\n        });\n        controlBar.on('mouseleave', function (event) {\n          this.player().options_.inactivityTimeout = this.player().cache_.inactivityTimeout;\n        });\n      } // Listen for keyboard navigation\n      // Shouldn't need to use inProgress interval because of key repeat\n\n\n      this.on('keydown', handleActivity);\n      this.on('keyup', handleActivity); // Run an interval every 250 milliseconds instead of stuffing everything into\n      // the mousemove/touchmove function itself, to prevent performance degradation.\n      // `this.reportUserActivity` simply sets this.userActivity_ to true, which\n      // then gets picked up by this loop\n      // http://ejohn.org/blog/learning-from-twitter/\n\n      var inactivityTimeout;\n      this.setInterval(function () {\n        // Check to see if mouse/touch activity has happened\n        if (!this.userActivity_) {\n          return;\n        } // Reset the activity tracker\n\n\n        this.userActivity_ = false; // If the user state was inactive, set the state to active\n\n        this.userActive(true); // Clear any existing inactivity timeout to start the timer over\n\n        this.clearTimeout(inactivityTimeout);\n        var timeout = this.options_.inactivityTimeout;\n\n        if (timeout <= 0) {\n          return;\n        } // In <timeout> milliseconds, if no more activity has occurred the\n        // user will be considered inactive\n\n\n        inactivityTimeout = this.setTimeout(function () {\n          // Protect against the case where the inactivityTimeout can trigger just\n          // before the next user activity is picked up by the activity check loop\n          // causing a flicker\n          if (!this.userActivity_) {\n            this.userActive(false);\n          }\n        }, timeout);\n      }, 250);\n    }\n    /**\n     * Gets or sets the current playback rate. A playback rate of\n     * 1.0 represents normal speed and 0.5 would indicate half-speed\n     * playback, for instance.\n     *\n     * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-playbackrate\n     *\n     * @param {number} [rate]\n     *       New playback rate to set.\n     *\n     * @return {number}\n     *         The current playback rate when getting or 1.0\n     */\n    ;\n\n    _proto.playbackRate = function playbackRate(rate) {\n      if (rate !== undefined) {\n        // NOTE: this.cache_.lastPlaybackRate is set from the tech handler\n        // that is registered above\n        this.techCall_('setPlaybackRate', rate);\n        return;\n      }\n\n      if (this.tech_ && this.tech_.featuresPlaybackRate) {\n        return this.cache_.lastPlaybackRate || this.techGet_('playbackRate');\n      }\n\n      return 1.0;\n    }\n    /**\n     * Gets or sets the current default playback rate. A default playback rate of\n     * 1.0 represents normal speed and 0.5 would indicate half-speed playback, for instance.\n     * defaultPlaybackRate will only represent what the initial playbackRate of a video was, not\n     * not the current playbackRate.\n     *\n     * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-defaultplaybackrate\n     *\n     * @param {number} [rate]\n     *       New default playback rate to set.\n     *\n     * @return {number|Player}\n     *         - The default playback rate when getting or 1.0\n     *         - the player when setting\n     */\n    ;\n\n    _proto.defaultPlaybackRate = function defaultPlaybackRate(rate) {\n      if (rate !== undefined) {\n        return this.techCall_('setDefaultPlaybackRate', rate);\n      }\n\n      if (this.tech_ && this.tech_.featuresPlaybackRate) {\n        return this.techGet_('defaultPlaybackRate');\n      }\n\n      return 1.0;\n    }\n    /**\n     * Gets or sets the audio flag\n     *\n     * @param {boolean} bool\n     *        - true signals that this is an audio player\n     *        - false signals that this is not an audio player\n     *\n     * @return {boolean}\n     *         The current value of isAudio when getting\n     */\n    ;\n\n    _proto.isAudio = function isAudio(bool) {\n      if (bool !== undefined) {\n        this.isAudio_ = !!bool;\n        return;\n      }\n\n      return !!this.isAudio_;\n    };\n\n    _proto.enableAudioOnlyUI_ = function enableAudioOnlyUI_() {\n      var _this19 = this;\n\n      // Update styling immediately to show the control bar so we can get its height\n      this.addClass('vjs-audio-only-mode');\n      var playerChildren = this.children();\n      var controlBar = this.getChild('ControlBar');\n      var controlBarHeight = controlBar && controlBar.currentHeight(); // Hide all player components except the control bar. Control bar components\n      // needed only for video are hidden with CSS\n\n      playerChildren.forEach(function (child) {\n        if (child === controlBar) {\n          return;\n        }\n\n        if (child.el_ && !child.hasClass('vjs-hidden')) {\n          child.hide();\n\n          _this19.audioOnlyCache_.hiddenChildren.push(child);\n        }\n      });\n      this.audioOnlyCache_.playerHeight = this.currentHeight(); // Set the player height the same as the control bar\n\n      this.height(controlBarHeight);\n      this.trigger('audioonlymodechange');\n    };\n\n    _proto.disableAudioOnlyUI_ = function disableAudioOnlyUI_() {\n      this.removeClass('vjs-audio-only-mode'); // Show player components that were previously hidden\n\n      this.audioOnlyCache_.hiddenChildren.forEach(function (child) {\n        return child.show();\n      }); // Reset player height\n\n      this.height(this.audioOnlyCache_.playerHeight);\n      this.trigger('audioonlymodechange');\n    }\n    /**\n     * Get the current audioOnlyMode state or set audioOnlyMode to true or false.\n     *\n     * Setting this to `true` will hide all player components except the control bar,\n     * as well as control bar components needed only for video.\n     *\n     * @param {boolean} [value]\n     *         The value to set audioOnlyMode to.\n     *\n     * @return {Promise|boolean}\n     *        A Promise is returned when setting the state, and a boolean when getting\n     *        the present state\n     */\n    ;\n\n    _proto.audioOnlyMode = function audioOnlyMode(value) {\n      var _this20 = this;\n\n      if (typeof value !== 'boolean' || value === this.audioOnlyMode_) {\n        return this.audioOnlyMode_;\n      }\n\n      this.audioOnlyMode_ = value;\n      var PromiseClass = this.options_.Promise || window.Promise;\n\n      if (PromiseClass) {\n        // Enable Audio Only Mode\n        if (value) {\n          var exitPromises = []; // Fullscreen and PiP are not supported in audioOnlyMode, so exit if we need to.\n\n          if (this.isInPictureInPicture()) {\n            exitPromises.push(this.exitPictureInPicture());\n          }\n\n          if (this.isFullscreen()) {\n            exitPromises.push(this.exitFullscreen());\n          }\n\n          if (this.audioPosterMode()) {\n            exitPromises.push(this.audioPosterMode(false));\n          }\n\n          return PromiseClass.all(exitPromises).then(function () {\n            return _this20.enableAudioOnlyUI_();\n          });\n        } // Disable Audio Only Mode\n\n\n        return PromiseClass.resolve().then(function () {\n          return _this20.disableAudioOnlyUI_();\n        });\n      }\n\n      if (value) {\n        if (this.isInPictureInPicture()) {\n          this.exitPictureInPicture();\n        }\n\n        if (this.isFullscreen()) {\n          this.exitFullscreen();\n        }\n\n        this.enableAudioOnlyUI_();\n      } else {\n        this.disableAudioOnlyUI_();\n      }\n    };\n\n    _proto.enablePosterModeUI_ = function enablePosterModeUI_() {\n      // Hide the video element and show the poster image to enable posterModeUI\n      var tech = this.tech_ && this.tech_;\n      tech.hide();\n      this.addClass('vjs-audio-poster-mode');\n      this.trigger('audiopostermodechange');\n    };\n\n    _proto.disablePosterModeUI_ = function disablePosterModeUI_() {\n      // Show the video element and hide the poster image to disable posterModeUI\n      var tech = this.tech_ && this.tech_;\n      tech.show();\n      this.removeClass('vjs-audio-poster-mode');\n      this.trigger('audiopostermodechange');\n    }\n    /**\n     * Get the current audioPosterMode state or set audioPosterMode to true or false\n     *\n     * @param {boolean} [value]\n     *         The value to set audioPosterMode to.\n     *\n     * @return {Promise|boolean}\n     *         A Promise is returned when setting the state, and a boolean when getting\n     *        the present state\n     */\n    ;\n\n    _proto.audioPosterMode = function audioPosterMode(value) {\n      var _this21 = this;\n\n      if (typeof value !== 'boolean' || value === this.audioPosterMode_) {\n        return this.audioPosterMode_;\n      }\n\n      this.audioPosterMode_ = value;\n      var PromiseClass = this.options_.Promise || window.Promise;\n\n      if (PromiseClass) {\n        if (value) {\n          if (this.audioOnlyMode()) {\n            var audioOnlyModePromise = this.audioOnlyMode(false);\n            return audioOnlyModePromise.then(function () {\n              // enable audio poster mode after audio only mode is disabled\n              _this21.enablePosterModeUI_();\n            });\n          }\n\n          return PromiseClass.resolve().then(function () {\n            // enable audio poster mode\n            _this21.enablePosterModeUI_();\n          });\n        }\n\n        return PromiseClass.resolve().then(function () {\n          // disable audio poster mode\n          _this21.disablePosterModeUI_();\n        });\n      }\n\n      if (value) {\n        if (this.audioOnlyMode()) {\n          this.audioOnlyMode(false);\n        }\n\n        this.enablePosterModeUI_();\n        return;\n      }\n\n      this.disablePosterModeUI_();\n    }\n    /**\n     * A helper method for adding a {@link TextTrack} to our\n     * {@link TextTrackList}.\n     *\n     * In addition to the W3C settings we allow adding additional info through options.\n     *\n     * @see http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-addtexttrack\n     *\n     * @param {string} [kind]\n     *        the kind of TextTrack you are adding\n     *\n     * @param {string} [label]\n     *        the label to give the TextTrack label\n     *\n     * @param {string} [language]\n     *        the language to set on the TextTrack\n     *\n     * @return {TextTrack|undefined}\n     *         the TextTrack that was added or undefined\n     *         if there is no tech\n     */\n    ;\n\n    _proto.addTextTrack = function addTextTrack(kind, label, language) {\n      if (this.tech_) {\n        return this.tech_.addTextTrack(kind, label, language);\n      }\n    }\n    /**\n     * Create a remote {@link TextTrack} and an {@link HTMLTrackElement}.\n     * When manualCleanup is set to false, the track will be automatically removed\n     * on source changes.\n     *\n     * @param {Object} options\n     *        Options to pass to {@link HTMLTrackElement} during creation. See\n     *        {@link HTMLTrackElement} for object properties that you should use.\n     *\n     * @param {boolean} [manualCleanup=true] if set to false, the TextTrack will be\n     *                                       removed on a source change\n     *\n     * @return {HtmlTrackElement}\n     *         the HTMLTrackElement that was created and added\n     *         to the HtmlTrackElementList and the remote\n     *         TextTrackList\n     *\n     * @deprecated The default value of the \"manualCleanup\" parameter will default\n     *             to \"false\" in upcoming versions of Video.js\n     */\n    ;\n\n    _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n      if (this.tech_) {\n        return this.tech_.addRemoteTextTrack(options, manualCleanup);\n      }\n    }\n    /**\n     * Remove a remote {@link TextTrack} from the respective\n     * {@link TextTrackList} and {@link HtmlTrackElementList}.\n     *\n     * @param {Object} track\n     *        Remote {@link TextTrack} to remove\n     *\n     * @return {undefined}\n     *         does not return anything\n     */\n    ;\n\n    _proto.removeRemoteTextTrack = function removeRemoteTextTrack(obj) {\n      if (obj === void 0) {\n        obj = {};\n      }\n\n      var _obj = obj,\n          track = _obj.track;\n\n      if (!track) {\n        track = obj;\n      } // destructure the input into an object with a track argument, defaulting to arguments[0]\n      // default the whole argument to an empty object if nothing was passed in\n\n\n      if (this.tech_) {\n        return this.tech_.removeRemoteTextTrack(track);\n      }\n    }\n    /**\n     * Gets available media playback quality metrics as specified by the W3C's Media\n     * Playback Quality API.\n     *\n     * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n     *\n     * @return {Object|undefined}\n     *         An object with supported media playback quality metrics or undefined if there\n     *         is no tech or the tech does not support it.\n     */\n    ;\n\n    _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n      return this.techGet_('getVideoPlaybackQuality');\n    }\n    /**\n     * Get video width\n     *\n     * @return {number}\n     *         current video width\n     */\n    ;\n\n    _proto.videoWidth = function videoWidth() {\n      return this.tech_ && this.tech_.videoWidth && this.tech_.videoWidth() || 0;\n    }\n    /**\n     * Get video height\n     *\n     * @return {number}\n     *         current video height\n     */\n    ;\n\n    _proto.videoHeight = function videoHeight() {\n      return this.tech_ && this.tech_.videoHeight && this.tech_.videoHeight() || 0;\n    }\n    /**\n     * The player's language code.\n     *\n     * Changing the language will trigger\n     * [languagechange]{@link Player#event:languagechange}\n     * which Components can use to update control text.\n     * ClickableComponent will update its control text by default on\n     * [languagechange]{@link Player#event:languagechange}.\n     *\n     * @fires Player#languagechange\n     *\n     * @param {string} [code]\n     *        the language code to set the player to\n     *\n     * @return {string}\n     *         The current language code when getting\n     */\n    ;\n\n    _proto.language = function language(code) {\n      if (code === undefined) {\n        return this.language_;\n      }\n\n      if (this.language_ !== String(code).toLowerCase()) {\n        this.language_ = String(code).toLowerCase(); // during first init, it's possible some things won't be evented\n\n        if (isEvented(this)) {\n          /**\n          * fires when the player language change\n          *\n          * @event Player#languagechange\n          * @type {EventTarget~Event}\n          */\n          this.trigger('languagechange');\n        }\n      }\n    }\n    /**\n     * Get the player's language dictionary\n     * Merge every time, because a newly added plugin might call videojs.addLanguage() at any time\n     * Languages specified directly in the player options have precedence\n     *\n     * @return {Array}\n     *         An array of of supported languages\n     */\n    ;\n\n    _proto.languages = function languages() {\n      return mergeOptions(Player.prototype.options_.languages, this.languages_);\n    }\n    /**\n     * returns a JavaScript object reperesenting the current track\n     * information. **DOES not return it as JSON**\n     *\n     * @return {Object}\n     *         Object representing the current of track info\n     */\n    ;\n\n    _proto.toJSON = function toJSON() {\n      var options = mergeOptions(this.options_);\n      var tracks = options.tracks;\n      options.tracks = [];\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i]; // deep merge tracks and null out player so no circular references\n\n        track = mergeOptions(track);\n        track.player = undefined;\n        options.tracks[i] = track;\n      }\n\n      return options;\n    }\n    /**\n     * Creates a simple modal dialog (an instance of the {@link ModalDialog}\n     * component) that immediately overlays the player with arbitrary\n     * content and removes itself when closed.\n     *\n     * @param {string|Function|Element|Array|null} content\n     *        Same as {@link ModalDialog#content}'s param of the same name.\n     *        The most straight-forward usage is to provide a string or DOM\n     *        element.\n     *\n     * @param {Object} [options]\n     *        Extra options which will be passed on to the {@link ModalDialog}.\n     *\n     * @return {ModalDialog}\n     *         the {@link ModalDialog} that was created\n     */\n    ;\n\n    _proto.createModal = function createModal(content, options) {\n      var _this22 = this;\n\n      options = options || {};\n      options.content = content || '';\n      var modal = new ModalDialog(this, options);\n      this.addChild(modal);\n      modal.on('dispose', function () {\n        _this22.removeChild(modal);\n      });\n      modal.open();\n      return modal;\n    }\n    /**\n     * Change breakpoint classes when the player resizes.\n     *\n     * @private\n     */\n    ;\n\n    _proto.updateCurrentBreakpoint_ = function updateCurrentBreakpoint_() {\n      if (!this.responsive()) {\n        return;\n      }\n\n      var currentBreakpoint = this.currentBreakpoint();\n      var currentWidth = this.currentWidth();\n\n      for (var i = 0; i < BREAKPOINT_ORDER.length; i++) {\n        var candidateBreakpoint = BREAKPOINT_ORDER[i];\n        var maxWidth = this.breakpoints_[candidateBreakpoint];\n\n        if (currentWidth <= maxWidth) {\n          // The current breakpoint did not change, nothing to do.\n          if (currentBreakpoint === candidateBreakpoint) {\n            return;\n          } // Only remove a class if there is a current breakpoint.\n\n\n          if (currentBreakpoint) {\n            this.removeClass(BREAKPOINT_CLASSES[currentBreakpoint]);\n          }\n\n          this.addClass(BREAKPOINT_CLASSES[candidateBreakpoint]);\n          this.breakpoint_ = candidateBreakpoint;\n          break;\n        }\n      }\n    }\n    /**\n     * Removes the current breakpoint.\n     *\n     * @private\n     */\n    ;\n\n    _proto.removeCurrentBreakpoint_ = function removeCurrentBreakpoint_() {\n      var className = this.currentBreakpointClass();\n      this.breakpoint_ = '';\n\n      if (className) {\n        this.removeClass(className);\n      }\n    }\n    /**\n     * Get or set breakpoints on the player.\n     *\n     * Calling this method with an object or `true` will remove any previous\n     * custom breakpoints and start from the defaults again.\n     *\n     * @param  {Object|boolean} [breakpoints]\n     *         If an object is given, it can be used to provide custom\n     *         breakpoints. If `true` is given, will set default breakpoints.\n     *         If this argument is not given, will simply return the current\n     *         breakpoints.\n     *\n     * @param  {number} [breakpoints.tiny]\n     *         The maximum width for the \"vjs-layout-tiny\" class.\n     *\n     * @param  {number} [breakpoints.xsmall]\n     *         The maximum width for the \"vjs-layout-x-small\" class.\n     *\n     * @param  {number} [breakpoints.small]\n     *         The maximum width for the \"vjs-layout-small\" class.\n     *\n     * @param  {number} [breakpoints.medium]\n     *         The maximum width for the \"vjs-layout-medium\" class.\n     *\n     * @param  {number} [breakpoints.large]\n     *         The maximum width for the \"vjs-layout-large\" class.\n     *\n     * @param  {number} [breakpoints.xlarge]\n     *         The maximum width for the \"vjs-layout-x-large\" class.\n     *\n     * @param  {number} [breakpoints.huge]\n     *         The maximum width for the \"vjs-layout-huge\" class.\n     *\n     * @return {Object}\n     *         An object mapping breakpoint names to maximum width values.\n     */\n    ;\n\n    _proto.breakpoints = function breakpoints(_breakpoints) {\n      // Used as a getter.\n      if (_breakpoints === undefined) {\n        return assign(this.breakpoints_);\n      }\n\n      this.breakpoint_ = '';\n      this.breakpoints_ = assign({}, DEFAULT_BREAKPOINTS, _breakpoints); // When breakpoint definitions change, we need to update the currently\n      // selected breakpoint.\n\n      this.updateCurrentBreakpoint_(); // Clone the breakpoints before returning.\n\n      return assign(this.breakpoints_);\n    }\n    /**\n     * Get or set a flag indicating whether or not this player should adjust\n     * its UI based on its dimensions.\n     *\n     * @param  {boolean} value\n     *         Should be `true` if the player should adjust its UI based on its\n     *         dimensions; otherwise, should be `false`.\n     *\n     * @return {boolean}\n     *         Will be `true` if this player should adjust its UI based on its\n     *         dimensions; otherwise, will be `false`.\n     */\n    ;\n\n    _proto.responsive = function responsive(value) {\n      // Used as a getter.\n      if (value === undefined) {\n        return this.responsive_;\n      }\n\n      value = Boolean(value);\n      var current = this.responsive_; // Nothing changed.\n\n      if (value === current) {\n        return;\n      } // The value actually changed, set it.\n\n\n      this.responsive_ = value; // Start listening for breakpoints and set the initial breakpoint if the\n      // player is now responsive.\n\n      if (value) {\n        this.on('playerresize', this.boundUpdateCurrentBreakpoint_);\n        this.updateCurrentBreakpoint_(); // Stop listening for breakpoints if the player is no longer responsive.\n      } else {\n        this.off('playerresize', this.boundUpdateCurrentBreakpoint_);\n        this.removeCurrentBreakpoint_();\n      }\n\n      return value;\n    }\n    /**\n     * Get current breakpoint name, if any.\n     *\n     * @return {string}\n     *         If there is currently a breakpoint set, returns a the key from the\n     *         breakpoints object matching it. Otherwise, returns an empty string.\n     */\n    ;\n\n    _proto.currentBreakpoint = function currentBreakpoint() {\n      return this.breakpoint_;\n    }\n    /**\n     * Get the current breakpoint class name.\n     *\n     * @return {string}\n     *         The matching class name (e.g. `\"vjs-layout-tiny\"` or\n     *         `\"vjs-layout-large\"`) for the current breakpoint. Empty string if\n     *         there is no current breakpoint.\n     */\n    ;\n\n    _proto.currentBreakpointClass = function currentBreakpointClass() {\n      return BREAKPOINT_CLASSES[this.breakpoint_] || '';\n    }\n    /**\n     * An object that describes a single piece of media.\n     *\n     * Properties that are not part of this type description will be retained; so,\n     * this can be viewed as a generic metadata storage mechanism as well.\n     *\n     * @see      {@link https://wicg.github.io/mediasession/#the-mediametadata-interface}\n     * @typedef  {Object} Player~MediaObject\n     *\n     * @property {string} [album]\n     *           Unused, except if this object is passed to the `MediaSession`\n     *           API.\n     *\n     * @property {string} [artist]\n     *           Unused, except if this object is passed to the `MediaSession`\n     *           API.\n     *\n     * @property {Object[]} [artwork]\n     *           Unused, except if this object is passed to the `MediaSession`\n     *           API. If not specified, will be populated via the `poster`, if\n     *           available.\n     *\n     * @property {string} [poster]\n     *           URL to an image that will display before playback.\n     *\n     * @property {Tech~SourceObject|Tech~SourceObject[]|string} [src]\n     *           A single source object, an array of source objects, or a string\n     *           referencing a URL to a media source. It is _highly recommended_\n     *           that an object or array of objects is used here, so that source\n     *           selection algorithms can take the `type` into account.\n     *\n     * @property {string} [title]\n     *           Unused, except if this object is passed to the `MediaSession`\n     *           API.\n     *\n     * @property {Object[]} [textTracks]\n     *           An array of objects to be used to create text tracks, following\n     *           the {@link https://www.w3.org/TR/html50/embedded-content-0.html#the-track-element|native track element format}.\n     *           For ease of removal, these will be created as \"remote\" text\n     *           tracks and set to automatically clean up on source changes.\n     *\n     *           These objects may have properties like `src`, `kind`, `label`,\n     *           and `language`, see {@link Tech#createRemoteTextTrack}.\n     */\n\n    /**\n     * Populate the player using a {@link Player~MediaObject|MediaObject}.\n     *\n     * @param  {Player~MediaObject} media\n     *         A media object.\n     *\n     * @param  {Function} ready\n     *         A callback to be called when the player is ready.\n     */\n    ;\n\n    _proto.loadMedia = function loadMedia(media, ready) {\n      var _this23 = this;\n\n      if (!media || typeof media !== 'object') {\n        return;\n      }\n\n      this.reset(); // Clone the media object so it cannot be mutated from outside.\n\n      this.cache_.media = mergeOptions(media);\n      var _this$cache_$media = this.cache_.media,\n          artwork = _this$cache_$media.artwork,\n          poster = _this$cache_$media.poster,\n          src = _this$cache_$media.src,\n          textTracks = _this$cache_$media.textTracks; // If `artwork` is not given, create it using `poster`.\n\n      if (!artwork && poster) {\n        this.cache_.media.artwork = [{\n          src: poster,\n          type: getMimetype(poster)\n        }];\n      }\n\n      if (src) {\n        this.src(src);\n      }\n\n      if (poster) {\n        this.poster(poster);\n      }\n\n      if (Array.isArray(textTracks)) {\n        textTracks.forEach(function (tt) {\n          return _this23.addRemoteTextTrack(tt, false);\n        });\n      }\n\n      this.ready(ready);\n    }\n    /**\n     * Get a clone of the current {@link Player~MediaObject} for this player.\n     *\n     * If the `loadMedia` method has not been used, will attempt to return a\n     * {@link Player~MediaObject} based on the current state of the player.\n     *\n     * @return {Player~MediaObject}\n     */\n    ;\n\n    _proto.getMedia = function getMedia() {\n      if (!this.cache_.media) {\n        var poster = this.poster();\n        var src = this.currentSources();\n        var textTracks = Array.prototype.map.call(this.remoteTextTracks(), function (tt) {\n          return {\n            kind: tt.kind,\n            label: tt.label,\n            language: tt.language,\n            src: tt.src\n          };\n        });\n        var media = {\n          src: src,\n          textTracks: textTracks\n        };\n\n        if (poster) {\n          media.poster = poster;\n          media.artwork = [{\n            src: media.poster,\n            type: getMimetype(media.poster)\n          }];\n        }\n\n        return media;\n      }\n\n      return mergeOptions(this.cache_.media);\n    }\n    /**\n     * Gets tag settings\n     *\n     * @param {Element} tag\n     *        The player tag\n     *\n     * @return {Object}\n     *         An object containing all of the settings\n     *         for a player tag\n     */\n    ;\n\n    Player.getTagSettings = function getTagSettings(tag) {\n      var baseOptions = {\n        sources: [],\n        tracks: []\n      };\n      var tagOptions = getAttributes(tag);\n      var dataSetup = tagOptions['data-setup'];\n\n      if (hasClass(tag, 'vjs-fill')) {\n        tagOptions.fill = true;\n      }\n\n      if (hasClass(tag, 'vjs-fluid')) {\n        tagOptions.fluid = true;\n      } // Check if data-setup attr exists.\n\n\n      if (dataSetup !== null) {\n        // Parse options JSON\n        // If empty string, make it a parsable json object.\n        var _safeParseTuple = tuple(dataSetup || '{}'),\n            err = _safeParseTuple[0],\n            data = _safeParseTuple[1];\n\n        if (err) {\n          log.error(err);\n        }\n\n        assign(tagOptions, data);\n      }\n\n      assign(baseOptions, tagOptions); // Get tag children settings\n\n      if (tag.hasChildNodes()) {\n        var children = tag.childNodes;\n\n        for (var i = 0, j = children.length; i < j; i++) {\n          var child = children[i]; // Change case needed: http://ejohn.org/blog/nodename-case-sensitivity/\n\n          var childName = child.nodeName.toLowerCase();\n\n          if (childName === 'source') {\n            baseOptions.sources.push(getAttributes(child));\n          } else if (childName === 'track') {\n            baseOptions.tracks.push(getAttributes(child));\n          }\n        }\n      }\n\n      return baseOptions;\n    }\n    /**\n     * Determine whether or not flexbox is supported\n     *\n     * @return {boolean}\n     *         - true if flexbox is supported\n     *         - false if flexbox is not supported\n     */\n    ;\n\n    _proto.flexNotSupported_ = function flexNotSupported_() {\n      var elem = document.createElement('i'); // Note: We don't actually use flexBasis (or flexOrder), but it's one of the more\n      // common flex features that we can rely on when checking for flex support.\n\n      return !('flexBasis' in elem.style || 'webkitFlexBasis' in elem.style || 'mozFlexBasis' in elem.style || 'msFlexBasis' in elem.style || // IE10-specific (2012 flex spec), available for completeness\n      'msFlexOrder' in elem.style);\n    }\n    /**\n     * Set debug mode to enable/disable logs at info level.\n     *\n     * @param {boolean} enabled\n     * @fires Player#debugon\n     * @fires Player#debugoff\n     */\n    ;\n\n    _proto.debug = function debug(enabled) {\n      if (enabled === undefined) {\n        return this.debugEnabled_;\n      }\n\n      if (enabled) {\n        this.trigger('debugon');\n        this.previousLogLevel_ = this.log.level;\n        this.log.level('debug');\n        this.debugEnabled_ = true;\n      } else {\n        this.trigger('debugoff');\n        this.log.level(this.previousLogLevel_);\n        this.previousLogLevel_ = undefined;\n        this.debugEnabled_ = false;\n      }\n    }\n    /**\n     * Set or get current playback rates.\n     * Takes an array and updates the playback rates menu with the new items.\n     * Pass in an empty array to hide the menu.\n     * Values other than arrays are ignored.\n     *\n     * @fires Player#playbackrateschange\n     * @param {number[]} newRates\n     *                   The new rates that the playback rates menu should update to.\n     *                   An empty array will hide the menu\n     * @return {number[]} When used as a getter will return the current playback rates\n     */\n    ;\n\n    _proto.playbackRates = function playbackRates(newRates) {\n      if (newRates === undefined) {\n        return this.cache_.playbackRates;\n      } // ignore any value that isn't an array\n\n\n      if (!Array.isArray(newRates)) {\n        return;\n      } // ignore any arrays that don't only contain numbers\n\n\n      if (!newRates.every(function (rate) {\n        return typeof rate === 'number';\n      })) {\n        return;\n      }\n\n      this.cache_.playbackRates = newRates;\n      /**\n      * fires when the playback rates in a player are changed\n      *\n      * @event Player#playbackrateschange\n      * @type {EventTarget~Event}\n      */\n\n      this.trigger('playbackrateschange');\n    };\n\n    return Player;\n  }(Component);\n  /**\n   * Get the {@link VideoTrackList}\n   * @link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist\n   *\n   * @return {VideoTrackList}\n   *         the current video track list\n   *\n   * @method Player.prototype.videoTracks\n   */\n\n  /**\n   * Get the {@link AudioTrackList}\n   * @link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist\n   *\n   * @return {AudioTrackList}\n   *         the current audio track list\n   *\n   * @method Player.prototype.audioTracks\n   */\n\n  /**\n   * Get the {@link TextTrackList}\n   *\n   * @link http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-texttracks\n   *\n   * @return {TextTrackList}\n   *         the current text track list\n   *\n   * @method Player.prototype.textTracks\n   */\n\n  /**\n   * Get the remote {@link TextTrackList}\n   *\n   * @return {TextTrackList}\n   *         The current remote text track list\n   *\n   * @method Player.prototype.remoteTextTracks\n   */\n\n  /**\n   * Get the remote {@link HtmlTrackElementList} tracks.\n   *\n   * @return {HtmlTrackElementList}\n   *         The current remote text track element list\n   *\n   * @method Player.prototype.remoteTextTrackEls\n   */\n\n\n  ALL.names.forEach(function (name) {\n    var props = ALL[name];\n\n    Player.prototype[props.getterName] = function () {\n      if (this.tech_) {\n        return this.tech_[props.getterName]();\n      } // if we have not yet loadTech_, we create {video,audio,text}Tracks_\n      // these will be passed to the tech during loading\n\n\n      this[props.privateName] = this[props.privateName] || new props.ListClass();\n      return this[props.privateName];\n    };\n  });\n  /**\n   * Get or set the `Player`'s crossorigin option. For the HTML5 player, this\n   * sets the `crossOrigin` property on the `<video>` tag to control the CORS\n   * behavior.\n   *\n   * @see [Video Element Attributes]{@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video#attr-crossorigin}\n   *\n   * @param {string} [value]\n   *        The value to set the `Player`'s crossorigin to. If an argument is\n   *        given, must be one of `anonymous` or `use-credentials`.\n   *\n   * @return {string|undefined}\n   *         - The current crossorigin value of the `Player` when getting.\n   *         - undefined when setting\n   */\n\n  Player.prototype.crossorigin = Player.prototype.crossOrigin;\n  /**\n   * Global enumeration of players.\n   *\n   * The keys are the player IDs and the values are either the {@link Player}\n   * instance or `null` for disposed players.\n   *\n   * @type {Object}\n   */\n\n  Player.players = {};\n  var navigator = window.navigator;\n  /*\n   * Player instance options, surfaced using options\n   * options = Player.prototype.options_\n   * Make changes in options, not here.\n   *\n   * @type {Object}\n   * @private\n   */\n\n  Player.prototype.options_ = {\n    // Default order of fallback technology\n    techOrder: Tech.defaultTechOrder_,\n    html5: {},\n    // default inactivity timeout\n    inactivityTimeout: 2000,\n    // default playback rates\n    playbackRates: [],\n    // Add playback rate selection by adding rates\n    // 'playbackRates': [0.5, 1, 1.5, 2],\n    liveui: false,\n    // Included control sets\n    children: ['mediaLoader', 'posterImage', 'textTrackDisplay', 'loadingSpinner', 'bigPlayButton', 'liveTracker', 'controlBar', 'errorDisplay', 'textTrackSettings', 'resizeManager'],\n    language: navigator && (navigator.languages && navigator.languages[0] || navigator.userLanguage || navigator.language) || 'en',\n    // locales and their language translations\n    languages: {},\n    // Default message to show when a video cannot be played.\n    notSupportedMessage: 'No compatible source was found for this media.',\n    normalizeAutoplay: false,\n    fullscreen: {\n      options: {\n        navigationUI: 'hide'\n      }\n    },\n    breakpoints: {},\n    responsive: false,\n    audioOnlyMode: false,\n    audioPosterMode: false\n  };\n  [\n  /**\n   * Returns whether or not the player is in the \"ended\" state.\n   *\n   * @return {Boolean} True if the player is in the ended state, false if not.\n   * @method Player#ended\n   */\n  'ended',\n  /**\n   * Returns whether or not the player is in the \"seeking\" state.\n   *\n   * @return {Boolean} True if the player is in the seeking state, false if not.\n   * @method Player#seeking\n   */\n  'seeking',\n  /**\n   * Returns the TimeRanges of the media that are currently available\n   * for seeking to.\n   *\n   * @return {TimeRanges} the seekable intervals of the media timeline\n   * @method Player#seekable\n   */\n  'seekable',\n  /**\n   * Returns the current state of network activity for the element, from\n   * the codes in the list below.\n   * - NETWORK_EMPTY (numeric value 0)\n   *   The element has not yet been initialised. All attributes are in\n   *   their initial states.\n   * - NETWORK_IDLE (numeric value 1)\n   *   The element's resource selection algorithm is active and has\n   *   selected a resource, but it is not actually using the network at\n   *   this time.\n   * - NETWORK_LOADING (numeric value 2)\n   *   The user agent is actively trying to download data.\n   * - NETWORK_NO_SOURCE (numeric value 3)\n   *   The element's resource selection algorithm is active, but it has\n   *   not yet found a resource to use.\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#network-states\n   * @return {number} the current network activity state\n   * @method Player#networkState\n   */\n  'networkState',\n  /**\n   * Returns a value that expresses the current state of the element\n   * with respect to rendering the current playback position, from the\n   * codes in the list below.\n   * - HAVE_NOTHING (numeric value 0)\n   *   No information regarding the media resource is available.\n   * - HAVE_METADATA (numeric value 1)\n   *   Enough of the resource has been obtained that the duration of the\n   *   resource is available.\n   * - HAVE_CURRENT_DATA (numeric value 2)\n   *   Data for the immediate current playback position is available.\n   * - HAVE_FUTURE_DATA (numeric value 3)\n   *   Data for the immediate current playback position is available, as\n   *   well as enough data for the user agent to advance the current\n   *   playback position in the direction of playback.\n   * - HAVE_ENOUGH_DATA (numeric value 4)\n   *   The user agent estimates that enough data is available for\n   *   playback to proceed uninterrupted.\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate\n   * @return {number} the current playback rendering state\n   * @method Player#readyState\n   */\n  'readyState'].forEach(function (fn) {\n    Player.prototype[fn] = function () {\n      return this.techGet_(fn);\n    };\n  });\n  TECH_EVENTS_RETRIGGER.forEach(function (event) {\n    Player.prototype[\"handleTech\" + toTitleCase(event) + \"_\"] = function () {\n      return this.trigger(event);\n    };\n  });\n  /**\n   * Fired when the player has initial duration and dimension information\n   *\n   * @event Player#loadedmetadata\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Fired when the player has downloaded data at the current playback position\n   *\n   * @event Player#loadeddata\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Fired when the current playback position has changed *\n   * During playback this is fired every 15-250 milliseconds, depending on the\n   * playback technology in use.\n   *\n   * @event Player#timeupdate\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Fired when the volume changes\n   *\n   * @event Player#volumechange\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Reports whether or not a player has a plugin available.\n   *\n   * This does not report whether or not the plugin has ever been initialized\n   * on this player. For that, [usingPlugin]{@link Player#usingPlugin}.\n   *\n   * @method Player#hasPlugin\n   * @param  {string}  name\n   *         The name of a plugin.\n   *\n   * @return {boolean}\n   *         Whether or not this player has the requested plugin available.\n   */\n\n  /**\n   * Reports whether or not a player is using a plugin by name.\n   *\n   * For basic plugins, this only reports whether the plugin has _ever_ been\n   * initialized on this player.\n   *\n   * @method Player#usingPlugin\n   * @param  {string} name\n   *         The name of a plugin.\n   *\n   * @return {boolean}\n   *         Whether or not this player is using the requested plugin.\n   */\n\n  Component.registerComponent('Player', Player);\n\n  var setPrototypeOf = createCommonjsModule(function (module) {\n    function _setPrototypeOf(o, p) {\n      module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n      };\n\n      return _setPrototypeOf(o, p);\n    }\n\n    module.exports = _setPrototypeOf;\n  });\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  var isNativeReflectConstruct = _isNativeReflectConstruct;\n\n  var construct = createCommonjsModule(function (module) {\n    function _construct(Parent, args, Class) {\n      if (isNativeReflectConstruct()) {\n        module.exports = _construct = Reflect.construct;\n      } else {\n        module.exports = _construct = function _construct(Parent, args, Class) {\n          var a = [null];\n          a.push.apply(a, args);\n          var Constructor = Function.bind.apply(Parent, a);\n          var instance = new Constructor();\n          if (Class) setPrototypeOf(instance, Class.prototype);\n          return instance;\n        };\n      }\n\n      return _construct.apply(null, arguments);\n    }\n\n    module.exports = _construct;\n  });\n\n  /**\n   * The base plugin name.\n   *\n   * @private\n   * @constant\n   * @type {string}\n   */\n\n  var BASE_PLUGIN_NAME = 'plugin';\n  /**\n   * The key on which a player's active plugins cache is stored.\n   *\n   * @private\n   * @constant\n   * @type     {string}\n   */\n\n  var PLUGIN_CACHE_KEY = 'activePlugins_';\n  /**\n   * Stores registered plugins in a private space.\n   *\n   * @private\n   * @type    {Object}\n   */\n\n  var pluginStorage = {};\n  /**\n   * Reports whether or not a plugin has been registered.\n   *\n   * @private\n   * @param   {string} name\n   *          The name of a plugin.\n   *\n   * @return {boolean}\n   *          Whether or not the plugin has been registered.\n   */\n\n  var pluginExists = function pluginExists(name) {\n    return pluginStorage.hasOwnProperty(name);\n  };\n  /**\n   * Get a single registered plugin by name.\n   *\n   * @private\n   * @param   {string} name\n   *          The name of a plugin.\n   *\n   * @return {Function|undefined}\n   *          The plugin (or undefined).\n   */\n\n\n  var getPlugin = function getPlugin(name) {\n    return pluginExists(name) ? pluginStorage[name] : undefined;\n  };\n  /**\n   * Marks a plugin as \"active\" on a player.\n   *\n   * Also, ensures that the player has an object for tracking active plugins.\n   *\n   * @private\n   * @param   {Player} player\n   *          A Video.js player instance.\n   *\n   * @param   {string} name\n   *          The name of a plugin.\n   */\n\n\n  var markPluginAsActive = function markPluginAsActive(player, name) {\n    player[PLUGIN_CACHE_KEY] = player[PLUGIN_CACHE_KEY] || {};\n    player[PLUGIN_CACHE_KEY][name] = true;\n  };\n  /**\n   * Triggers a pair of plugin setup events.\n   *\n   * @private\n   * @param  {Player} player\n   *         A Video.js player instance.\n   *\n   * @param  {Plugin~PluginEventHash} hash\n   *         A plugin event hash.\n   *\n   * @param  {boolean} [before]\n   *         If true, prefixes the event name with \"before\". In other words,\n   *         use this to trigger \"beforepluginsetup\" instead of \"pluginsetup\".\n   */\n\n\n  var triggerSetupEvent = function triggerSetupEvent(player, hash, before) {\n    var eventName = (before ? 'before' : '') + 'pluginsetup';\n    player.trigger(eventName, hash);\n    player.trigger(eventName + ':' + hash.name, hash);\n  };\n  /**\n   * Takes a basic plugin function and returns a wrapper function which marks\n   * on the player that the plugin has been activated.\n   *\n   * @private\n   * @param   {string} name\n   *          The name of the plugin.\n   *\n   * @param   {Function} plugin\n   *          The basic plugin.\n   *\n   * @return {Function}\n   *          A wrapper function for the given plugin.\n   */\n\n\n  var createBasicPlugin = function createBasicPlugin(name, plugin) {\n    var basicPluginWrapper = function basicPluginWrapper() {\n      // We trigger the \"beforepluginsetup\" and \"pluginsetup\" events on the player\n      // regardless, but we want the hash to be consistent with the hash provided\n      // for advanced plugins.\n      //\n      // The only potentially counter-intuitive thing here is the `instance` in\n      // the \"pluginsetup\" event is the value returned by the `plugin` function.\n      triggerSetupEvent(this, {\n        name: name,\n        plugin: plugin,\n        instance: null\n      }, true);\n      var instance = plugin.apply(this, arguments);\n      markPluginAsActive(this, name);\n      triggerSetupEvent(this, {\n        name: name,\n        plugin: plugin,\n        instance: instance\n      });\n      return instance;\n    };\n\n    Object.keys(plugin).forEach(function (prop) {\n      basicPluginWrapper[prop] = plugin[prop];\n    });\n    return basicPluginWrapper;\n  };\n  /**\n   * Takes a plugin sub-class and returns a factory function for generating\n   * instances of it.\n   *\n   * This factory function will replace itself with an instance of the requested\n   * sub-class of Plugin.\n   *\n   * @private\n   * @param   {string} name\n   *          The name of the plugin.\n   *\n   * @param   {Plugin} PluginSubClass\n   *          The advanced plugin.\n   *\n   * @return {Function}\n   */\n\n\n  var createPluginFactory = function createPluginFactory(name, PluginSubClass) {\n    // Add a `name` property to the plugin prototype so that each plugin can\n    // refer to itself by name.\n    PluginSubClass.prototype.name = name;\n    return function () {\n      triggerSetupEvent(this, {\n        name: name,\n        plugin: PluginSubClass,\n        instance: null\n      }, true);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var instance = construct(PluginSubClass, [this].concat(args)); // The plugin is replaced by a function that returns the current instance.\n\n\n      this[name] = function () {\n        return instance;\n      };\n\n      triggerSetupEvent(this, instance.getEventHash());\n      return instance;\n    };\n  };\n  /**\n   * Parent class for all advanced plugins.\n   *\n   * @mixes   module:evented~EventedMixin\n   * @mixes   module:stateful~StatefulMixin\n   * @fires   Player#beforepluginsetup\n   * @fires   Player#beforepluginsetup:$name\n   * @fires   Player#pluginsetup\n   * @fires   Player#pluginsetup:$name\n   * @listens Player#dispose\n   * @throws  {Error}\n   *          If attempting to instantiate the base {@link Plugin} class\n   *          directly instead of via a sub-class.\n   */\n\n\n  var Plugin = /*#__PURE__*/function () {\n    /**\n     * Creates an instance of this class.\n     *\n     * Sub-classes should call `super` to ensure plugins are properly initialized.\n     *\n     * @param {Player} player\n     *        A Video.js player instance.\n     */\n    function Plugin(player) {\n      if (this.constructor === Plugin) {\n        throw new Error('Plugin must be sub-classed; not directly instantiated.');\n      }\n\n      this.player = player;\n\n      if (!this.log) {\n        this.log = this.player.log.createLogger(this.name);\n      } // Make this object evented, but remove the added `trigger` method so we\n      // use the prototype version instead.\n\n\n      evented(this);\n      delete this.trigger;\n      stateful(this, this.constructor.defaultState);\n      markPluginAsActive(player, this.name); // Auto-bind the dispose method so we can use it as a listener and unbind\n      // it later easily.\n\n      this.dispose = this.dispose.bind(this); // If the player is disposed, dispose the plugin.\n\n      player.on('dispose', this.dispose);\n    }\n    /**\n     * Get the version of the plugin that was set on <pluginName>.VERSION\n     */\n\n\n    var _proto = Plugin.prototype;\n\n    _proto.version = function version() {\n      return this.constructor.VERSION;\n    }\n    /**\n     * Each event triggered by plugins includes a hash of additional data with\n     * conventional properties.\n     *\n     * This returns that object or mutates an existing hash.\n     *\n     * @param   {Object} [hash={}]\n     *          An object to be used as event an event hash.\n     *\n     * @return {Plugin~PluginEventHash}\n     *          An event hash object with provided properties mixed-in.\n     */\n    ;\n\n    _proto.getEventHash = function getEventHash(hash) {\n      if (hash === void 0) {\n        hash = {};\n      }\n\n      hash.name = this.name;\n      hash.plugin = this.constructor;\n      hash.instance = this;\n      return hash;\n    }\n    /**\n     * Triggers an event on the plugin object and overrides\n     * {@link module:evented~EventedMixin.trigger|EventedMixin.trigger}.\n     *\n     * @param   {string|Object} event\n     *          An event type or an object with a type property.\n     *\n     * @param   {Object} [hash={}]\n     *          Additional data hash to merge with a\n     *          {@link Plugin~PluginEventHash|PluginEventHash}.\n     *\n     * @return {boolean}\n     *          Whether or not default was prevented.\n     */\n    ;\n\n    _proto.trigger = function trigger$1(event, hash) {\n      if (hash === void 0) {\n        hash = {};\n      }\n\n      return trigger(this.eventBusEl_, event, this.getEventHash(hash));\n    }\n    /**\n     * Handles \"statechanged\" events on the plugin. No-op by default, override by\n     * subclassing.\n     *\n     * @abstract\n     * @param    {Event} e\n     *           An event object provided by a \"statechanged\" event.\n     *\n     * @param    {Object} e.changes\n     *           An object describing changes that occurred with the \"statechanged\"\n     *           event.\n     */\n    ;\n\n    _proto.handleStateChanged = function handleStateChanged(e) {}\n    /**\n     * Disposes a plugin.\n     *\n     * Subclasses can override this if they want, but for the sake of safety,\n     * it's probably best to subscribe the \"dispose\" event.\n     *\n     * @fires Plugin#dispose\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      var name = this.name,\n          player = this.player;\n      /**\n       * Signals that a advanced plugin is about to be disposed.\n       *\n       * @event Plugin#dispose\n       * @type  {EventTarget~Event}\n       */\n\n      this.trigger('dispose');\n      this.off();\n      player.off('dispose', this.dispose); // Eliminate any possible sources of leaking memory by clearing up\n      // references between the player and the plugin instance and nulling out\n      // the plugin's state and replacing methods with a function that throws.\n\n      player[PLUGIN_CACHE_KEY][name] = false;\n      this.player = this.state = null; // Finally, replace the plugin name on the player with a new factory\n      // function, so that the plugin is ready to be set up again.\n\n      player[name] = createPluginFactory(name, pluginStorage[name]);\n    }\n    /**\n     * Determines if a plugin is a basic plugin (i.e. not a sub-class of `Plugin`).\n     *\n     * @param   {string|Function} plugin\n     *          If a string, matches the name of a plugin. If a function, will be\n     *          tested directly.\n     *\n     * @return {boolean}\n     *          Whether or not a plugin is a basic plugin.\n     */\n    ;\n\n    Plugin.isBasic = function isBasic(plugin) {\n      var p = typeof plugin === 'string' ? getPlugin(plugin) : plugin;\n      return typeof p === 'function' && !Plugin.prototype.isPrototypeOf(p.prototype);\n    }\n    /**\n     * Register a Video.js plugin.\n     *\n     * @param   {string} name\n     *          The name of the plugin to be registered. Must be a string and\n     *          must not match an existing plugin or a method on the `Player`\n     *          prototype.\n     *\n     * @param   {Function} plugin\n     *          A sub-class of `Plugin` or a function for basic plugins.\n     *\n     * @return {Function}\n     *          For advanced plugins, a factory function for that plugin. For\n     *          basic plugins, a wrapper function that initializes the plugin.\n     */\n    ;\n\n    Plugin.registerPlugin = function registerPlugin(name, plugin) {\n      if (typeof name !== 'string') {\n        throw new Error(\"Illegal plugin name, \\\"\" + name + \"\\\", must be a string, was \" + typeof name + \".\");\n      }\n\n      if (pluginExists(name)) {\n        log.warn(\"A plugin named \\\"\" + name + \"\\\" already exists. You may want to avoid re-registering plugins!\");\n      } else if (Player.prototype.hasOwnProperty(name)) {\n        throw new Error(\"Illegal plugin name, \\\"\" + name + \"\\\", cannot share a name with an existing player method!\");\n      }\n\n      if (typeof plugin !== 'function') {\n        throw new Error(\"Illegal plugin for \\\"\" + name + \"\\\", must be a function, was \" + typeof plugin + \".\");\n      }\n\n      pluginStorage[name] = plugin; // Add a player prototype method for all sub-classed plugins (but not for\n      // the base Plugin class).\n\n      if (name !== BASE_PLUGIN_NAME) {\n        if (Plugin.isBasic(plugin)) {\n          Player.prototype[name] = createBasicPlugin(name, plugin);\n        } else {\n          Player.prototype[name] = createPluginFactory(name, plugin);\n        }\n      }\n\n      return plugin;\n    }\n    /**\n     * De-register a Video.js plugin.\n     *\n     * @param  {string} name\n     *         The name of the plugin to be de-registered. Must be a string that\n     *         matches an existing plugin.\n     *\n     * @throws {Error}\n     *         If an attempt is made to de-register the base plugin.\n     */\n    ;\n\n    Plugin.deregisterPlugin = function deregisterPlugin(name) {\n      if (name === BASE_PLUGIN_NAME) {\n        throw new Error('Cannot de-register base plugin.');\n      }\n\n      if (pluginExists(name)) {\n        delete pluginStorage[name];\n        delete Player.prototype[name];\n      }\n    }\n    /**\n     * Gets an object containing multiple Video.js plugins.\n     *\n     * @param   {Array} [names]\n     *          If provided, should be an array of plugin names. Defaults to _all_\n     *          plugin names.\n     *\n     * @return {Object|undefined}\n     *          An object containing plugin(s) associated with their name(s) or\n     *          `undefined` if no matching plugins exist).\n     */\n    ;\n\n    Plugin.getPlugins = function getPlugins(names) {\n      if (names === void 0) {\n        names = Object.keys(pluginStorage);\n      }\n\n      var result;\n      names.forEach(function (name) {\n        var plugin = getPlugin(name);\n\n        if (plugin) {\n          result = result || {};\n          result[name] = plugin;\n        }\n      });\n      return result;\n    }\n    /**\n     * Gets a plugin's version, if available\n     *\n     * @param   {string} name\n     *          The name of a plugin.\n     *\n     * @return {string}\n     *          The plugin's version or an empty string.\n     */\n    ;\n\n    Plugin.getPluginVersion = function getPluginVersion(name) {\n      var plugin = getPlugin(name);\n      return plugin && plugin.VERSION || '';\n    };\n\n    return Plugin;\n  }();\n  /**\n   * Gets a plugin by name if it exists.\n   *\n   * @static\n   * @method   getPlugin\n   * @memberOf Plugin\n   * @param    {string} name\n   *           The name of a plugin.\n   *\n   * @returns  {Function|undefined}\n   *           The plugin (or `undefined`).\n   */\n\n\n  Plugin.getPlugin = getPlugin;\n  /**\n   * The name of the base plugin class as it is registered.\n   *\n   * @type {string}\n   */\n\n  Plugin.BASE_PLUGIN_NAME = BASE_PLUGIN_NAME;\n  Plugin.registerPlugin(BASE_PLUGIN_NAME, Plugin);\n  /**\n   * Documented in player.js\n   *\n   * @ignore\n   */\n\n  Player.prototype.usingPlugin = function (name) {\n    return !!this[PLUGIN_CACHE_KEY] && this[PLUGIN_CACHE_KEY][name] === true;\n  };\n  /**\n   * Documented in player.js\n   *\n   * @ignore\n   */\n\n\n  Player.prototype.hasPlugin = function (name) {\n    return !!pluginExists(name);\n  };\n  /**\n   * Signals that a plugin is about to be set up on a player.\n   *\n   * @event    Player#beforepluginsetup\n   * @type     {Plugin~PluginEventHash}\n   */\n\n  /**\n   * Signals that a plugin is about to be set up on a player - by name. The name\n   * is the name of the plugin.\n   *\n   * @event    Player#beforepluginsetup:$name\n   * @type     {Plugin~PluginEventHash}\n   */\n\n  /**\n   * Signals that a plugin has just been set up on a player.\n   *\n   * @event    Player#pluginsetup\n   * @type     {Plugin~PluginEventHash}\n   */\n\n  /**\n   * Signals that a plugin has just been set up on a player - by name. The name\n   * is the name of the plugin.\n   *\n   * @event    Player#pluginsetup:$name\n   * @type     {Plugin~PluginEventHash}\n   */\n\n  /**\n   * @typedef  {Object} Plugin~PluginEventHash\n   *\n   * @property {string} instance\n   *           For basic plugins, the return value of the plugin function. For\n   *           advanced plugins, the plugin instance on which the event is fired.\n   *\n   * @property {string} name\n   *           The name of the plugin.\n   *\n   * @property {string} plugin\n   *           For basic plugins, the plugin function. For advanced plugins, the\n   *           plugin class/constructor.\n   */\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) setPrototypeOf(subClass, superClass);\n  }\n\n  var inherits = _inherits;\n\n  /**\n   * @file extend.js\n   * @module extend\n   */\n  /**\n   * Used to subclass an existing class by emulating ES subclassing using the\n   * `extends` keyword.\n   *\n   * @function\n   * @example\n   * var MyComponent = videojs.extend(videojs.getComponent('Component'), {\n   *   myCustomMethod: function() {\n   *     // Do things in my method.\n   *   }\n   * });\n   *\n   * @param    {Function} superClass\n   *           The class to inherit from\n   *\n   * @param    {Object}   [subClassMethods={}]\n   *           Methods of the new class\n   *\n   * @return   {Function}\n   *           The new class with subClassMethods that inherited superClass.\n   */\n\n  var extend = function extend(superClass, subClassMethods) {\n    if (subClassMethods === void 0) {\n      subClassMethods = {};\n    }\n\n    var subClass = function subClass() {\n      superClass.apply(this, arguments);\n    };\n\n    var methods = {};\n\n    if (typeof subClassMethods === 'object') {\n      if (subClassMethods.constructor !== Object.prototype.constructor) {\n        subClass = subClassMethods.constructor;\n      }\n\n      methods = subClassMethods;\n    } else if (typeof subClassMethods === 'function') {\n      subClass = subClassMethods;\n    }\n\n    inherits(subClass, superClass); // this is needed for backward-compatibility and node compatibility.\n\n\n    if (superClass) {\n      subClass.super_ = superClass;\n    } // Extend subObj's prototype with functions and other properties from props\n\n\n    for (var name in methods) {\n      if (methods.hasOwnProperty(name)) {\n        subClass.prototype[name] = methods[name];\n      }\n    }\n\n    return subClass;\n  };\n\n  /**\n   * @file video.js\n   * @module videojs\n   */\n  /**\n   * Normalize an `id` value by trimming off a leading `#`\n   *\n   * @private\n   * @param   {string} id\n   *          A string, maybe with a leading `#`.\n   *\n   * @return {string}\n   *          The string, without any leading `#`.\n   */\n\n  var normalizeId = function normalizeId(id) {\n    return id.indexOf('#') === 0 ? id.slice(1) : id;\n  };\n  /**\n   * The `videojs()` function doubles as the main function for users to create a\n   * {@link Player} instance as well as the main library namespace.\n   *\n   * It can also be used as a getter for a pre-existing {@link Player} instance.\n   * However, we _strongly_ recommend using `videojs.getPlayer()` for this\n   * purpose because it avoids any potential for unintended initialization.\n   *\n   * Due to [limitations](https://github.com/jsdoc3/jsdoc/issues/955#issuecomment-313829149)\n   * of our JSDoc template, we cannot properly document this as both a function\n   * and a namespace, so its function signature is documented here.\n   *\n   * #### Arguments\n   * ##### id\n   * string|Element, **required**\n   *\n   * Video element or video element ID.\n   *\n   * ##### options\n   * Object, optional\n   *\n   * Options object for providing settings.\n   * See: [Options Guide](https://docs.videojs.com/tutorial-options.html).\n   *\n   * ##### ready\n   * {@link Component~ReadyCallback}, optional\n   *\n   * A function to be called when the {@link Player} and {@link Tech} are ready.\n   *\n   * #### Return Value\n   *\n   * The `videojs()` function returns a {@link Player} instance.\n   *\n   * @namespace\n   *\n   * @borrows AudioTrack as AudioTrack\n   * @borrows Component.getComponent as getComponent\n   * @borrows module:computed-style~computedStyle as computedStyle\n   * @borrows module:events.on as on\n   * @borrows module:events.one as one\n   * @borrows module:events.off as off\n   * @borrows module:events.trigger as trigger\n   * @borrows EventTarget as EventTarget\n   * @borrows module:extend~extend as extend\n   * @borrows module:fn.bind as bind\n   * @borrows module:format-time.formatTime as formatTime\n   * @borrows module:format-time.resetFormatTime as resetFormatTime\n   * @borrows module:format-time.setFormatTime as setFormatTime\n   * @borrows module:merge-options.mergeOptions as mergeOptions\n   * @borrows module:middleware.use as use\n   * @borrows Player.players as players\n   * @borrows Plugin.registerPlugin as registerPlugin\n   * @borrows Plugin.deregisterPlugin as deregisterPlugin\n   * @borrows Plugin.getPlugins as getPlugins\n   * @borrows Plugin.getPlugin as getPlugin\n   * @borrows Plugin.getPluginVersion as getPluginVersion\n   * @borrows Tech.getTech as getTech\n   * @borrows Tech.registerTech as registerTech\n   * @borrows TextTrack as TextTrack\n   * @borrows module:time-ranges.createTimeRanges as createTimeRange\n   * @borrows module:time-ranges.createTimeRanges as createTimeRanges\n   * @borrows module:url.isCrossOrigin as isCrossOrigin\n   * @borrows module:url.parseUrl as parseUrl\n   * @borrows VideoTrack as VideoTrack\n   *\n   * @param  {string|Element} id\n   *         Video element or video element ID.\n   *\n   * @param  {Object} [options]\n   *         Options object for providing settings.\n   *         See: [Options Guide](https://docs.videojs.com/tutorial-options.html).\n   *\n   * @param  {Component~ReadyCallback} [ready]\n   *         A function to be called when the {@link Player} and {@link Tech} are\n   *         ready.\n   *\n   * @return {Player}\n   *         The `videojs()` function returns a {@link Player|Player} instance.\n   */\n\n\n  function videojs(id, options, ready) {\n    var player = videojs.getPlayer(id);\n\n    if (player) {\n      if (options) {\n        log.warn(\"Player \\\"\" + id + \"\\\" is already initialised. Options will not be applied.\");\n      }\n\n      if (ready) {\n        player.ready(ready);\n      }\n\n      return player;\n    }\n\n    var el = typeof id === 'string' ? $('#' + normalizeId(id)) : id;\n\n    if (!isEl(el)) {\n      throw new TypeError('The element or ID supplied is not valid. (videojs)');\n    } // document.body.contains(el) will only check if el is contained within that one document.\n    // This causes problems for elements in iframes.\n    // Instead, use the element's ownerDocument instead of the global document.\n    // This will make sure that the element is indeed in the dom of that document.\n    // Additionally, check that the document in question has a default view.\n    // If the document is no longer attached to the dom, the defaultView of the document will be null.\n\n\n    if (!el.ownerDocument.defaultView || !el.ownerDocument.body.contains(el)) {\n      log.warn('The element supplied is not included in the DOM');\n    }\n\n    options = options || {}; // Store a copy of the el before modification, if it is to be restored in destroy()\n    // If div ingest, store the parent div\n\n    if (options.restoreEl === true) {\n      options.restoreEl = (el.parentNode && el.parentNode.hasAttribute('data-vjs-player') ? el.parentNode : el).cloneNode(true);\n    }\n\n    hooks('beforesetup').forEach(function (hookFunction) {\n      var opts = hookFunction(el, mergeOptions(options));\n\n      if (!isObject(opts) || Array.isArray(opts)) {\n        log.error('please return an object in beforesetup hooks');\n        return;\n      }\n\n      options = mergeOptions(options, opts);\n    }); // We get the current \"Player\" component here in case an integration has\n    // replaced it with a custom player.\n\n    var PlayerComponent = Component.getComponent('Player');\n    player = new PlayerComponent(el, options, ready);\n    hooks('setup').forEach(function (hookFunction) {\n      return hookFunction(player);\n    });\n    return player;\n  }\n\n  videojs.hooks_ = hooks_;\n  videojs.hooks = hooks;\n  videojs.hook = hook;\n  videojs.hookOnce = hookOnce;\n  videojs.removeHook = removeHook; // Add default styles\n\n  if (window.VIDEOJS_NO_DYNAMIC_STYLE !== true && isReal()) {\n    var style = $('.vjs-styles-defaults');\n\n    if (!style) {\n      style = createStyleElement('vjs-styles-defaults');\n      var head = $('head');\n\n      if (head) {\n        head.insertBefore(style, head.firstChild);\n      }\n\n      setTextContent(style, \"\\n      .video-js {\\n        width: 300px;\\n        height: 150px;\\n      }\\n\\n      .vjs-fluid:not(.vjs-audio-only-mode) {\\n        padding-top: 56.25%\\n      }\\n    \");\n    }\n  } // Run Auto-load players\n  // You have to wait at least once in case this script is loaded after your\n  // video in the DOM (weird behavior only with minified version)\n\n\n  autoSetupTimeout(1, videojs);\n  /**\n   * Current Video.js version. Follows [semantic versioning](https://semver.org/).\n   *\n   * @type {string}\n   */\n\n  videojs.VERSION = version;\n  /**\n   * The global options object. These are the settings that take effect\n   * if no overrides are specified when the player is created.\n   *\n   * @type {Object}\n   */\n\n  videojs.options = Player.prototype.options_;\n  /**\n   * Get an object with the currently created players, keyed by player ID\n   *\n   * @return {Object}\n   *         The created players\n   */\n\n  videojs.getPlayers = function () {\n    return Player.players;\n  };\n  /**\n   * Get a single player based on an ID or DOM element.\n   *\n   * This is useful if you want to check if an element or ID has an associated\n   * Video.js player, but not create one if it doesn't.\n   *\n   * @param   {string|Element} id\n   *          An HTML element - `<video>`, `<audio>`, or `<video-js>` -\n   *          or a string matching the `id` of such an element.\n   *\n   * @return {Player|undefined}\n   *          A player instance or `undefined` if there is no player instance\n   *          matching the argument.\n   */\n\n\n  videojs.getPlayer = function (id) {\n    var players = Player.players;\n    var tag;\n\n    if (typeof id === 'string') {\n      var nId = normalizeId(id);\n      var player = players[nId];\n\n      if (player) {\n        return player;\n      }\n\n      tag = $('#' + nId);\n    } else {\n      tag = id;\n    }\n\n    if (isEl(tag)) {\n      var _tag = tag,\n          _player = _tag.player,\n          playerId = _tag.playerId; // Element may have a `player` property referring to an already created\n      // player instance. If so, return that.\n\n      if (_player || players[playerId]) {\n        return _player || players[playerId];\n      }\n    }\n  };\n  /**\n   * Returns an array of all current players.\n   *\n   * @return {Array}\n   *         An array of all players. The array will be in the order that\n   *         `Object.keys` provides, which could potentially vary between\n   *         JavaScript engines.\n   *\n   */\n\n\n  videojs.getAllPlayers = function () {\n    return (// Disposed players leave a key with a `null` value, so we need to make sure\n      // we filter those out.\n      Object.keys(Player.players).map(function (k) {\n        return Player.players[k];\n      }).filter(Boolean)\n    );\n  };\n\n  videojs.players = Player.players;\n  videojs.getComponent = Component.getComponent;\n  /**\n   * Register a component so it can referred to by name. Used when adding to other\n   * components, either through addChild `component.addChild('myComponent')` or through\n   * default children options  `{ children: ['myComponent'] }`.\n   *\n   * > NOTE: You could also just initialize the component before adding.\n   * `component.addChild(new MyComponent());`\n   *\n   * @param {string} name\n   *        The class name of the component\n   *\n   * @param {Component} comp\n   *        The component class\n   *\n   * @return {Component}\n   *         The newly registered component\n   */\n\n  videojs.registerComponent = function (name, comp) {\n    if (Tech.isTech(comp)) {\n      log.warn(\"The \" + name + \" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)\");\n    }\n\n    Component.registerComponent.call(Component, name, comp);\n  };\n\n  videojs.getTech = Tech.getTech;\n  videojs.registerTech = Tech.registerTech;\n  videojs.use = use;\n  /**\n   * An object that can be returned by a middleware to signify\n   * that the middleware is being terminated.\n   *\n   * @type {object}\n   * @property {object} middleware.TERMINATOR\n   */\n\n  Object.defineProperty(videojs, 'middleware', {\n    value: {},\n    writeable: false,\n    enumerable: true\n  });\n  Object.defineProperty(videojs.middleware, 'TERMINATOR', {\n    value: TERMINATOR,\n    writeable: false,\n    enumerable: true\n  });\n  /**\n   * A reference to the {@link module:browser|browser utility module} as an object.\n   *\n   * @type {Object}\n   * @see  {@link module:browser|browser}\n   */\n\n  videojs.browser = browser;\n  /**\n   * Use {@link module:browser.TOUCH_ENABLED|browser.TOUCH_ENABLED} instead; only\n   * included for backward-compatibility with 4.x.\n   *\n   * @deprecated Since version 5.0, use {@link module:browser.TOUCH_ENABLED|browser.TOUCH_ENABLED instead.\n   * @type {boolean}\n   */\n\n  videojs.TOUCH_ENABLED = TOUCH_ENABLED;\n  videojs.extend = extend;\n  videojs.mergeOptions = mergeOptions;\n  videojs.bind = bind;\n  videojs.registerPlugin = Plugin.registerPlugin;\n  videojs.deregisterPlugin = Plugin.deregisterPlugin;\n  /**\n   * Deprecated method to register a plugin with Video.js\n   *\n   * @deprecated videojs.plugin() is deprecated; use videojs.registerPlugin() instead\n   *\n   * @param {string} name\n   *        The plugin name\n   *\n   * @param {Plugin|Function} plugin\n   *         The plugin sub-class or function\n   */\n\n  videojs.plugin = function (name, plugin) {\n    log.warn('videojs.plugin() is deprecated; use videojs.registerPlugin() instead');\n    return Plugin.registerPlugin(name, plugin);\n  };\n\n  videojs.getPlugins = Plugin.getPlugins;\n  videojs.getPlugin = Plugin.getPlugin;\n  videojs.getPluginVersion = Plugin.getPluginVersion;\n  /**\n   * Adding languages so that they're available to all players.\n   * Example: `videojs.addLanguage('es', { 'Hello': 'Hola' });`\n   *\n   * @param {string} code\n   *        The language code or dictionary property\n   *\n   * @param {Object} data\n   *        The data values to be translated\n   *\n   * @return {Object}\n   *         The resulting language dictionary object\n   */\n\n  videojs.addLanguage = function (code, data) {\n    var _mergeOptions;\n\n    code = ('' + code).toLowerCase();\n    videojs.options.languages = mergeOptions(videojs.options.languages, (_mergeOptions = {}, _mergeOptions[code] = data, _mergeOptions));\n    return videojs.options.languages[code];\n  };\n  /**\n   * A reference to the {@link module:log|log utility module} as an object.\n   *\n   * @type {Function}\n   * @see  {@link module:log|log}\n   */\n\n\n  videojs.log = log;\n  videojs.createLogger = createLogger;\n  videojs.createTimeRange = videojs.createTimeRanges = createTimeRanges;\n  videojs.formatTime = formatTime;\n  videojs.setFormatTime = setFormatTime;\n  videojs.resetFormatTime = resetFormatTime;\n  videojs.parseUrl = parseUrl;\n  videojs.isCrossOrigin = isCrossOrigin;\n  videojs.EventTarget = EventTarget;\n  videojs.on = on;\n  videojs.one = one;\n  videojs.off = off;\n  videojs.trigger = trigger;\n  /**\n   * A cross-browser XMLHttpRequest wrapper.\n   *\n   * @function\n   * @param    {Object} options\n   *           Settings for the request.\n   *\n   * @return   {XMLHttpRequest|XDomainRequest}\n   *           The request object.\n   *\n   * @see      https://github.com/Raynos/xhr\n   */\n\n  videojs.xhr = lib;\n  videojs.TextTrack = TextTrack;\n  videojs.AudioTrack = AudioTrack;\n  videojs.VideoTrack = VideoTrack;\n  ['isEl', 'isTextNode', 'createEl', 'hasClass', 'addClass', 'removeClass', 'toggleClass', 'setAttributes', 'getAttributes', 'emptyEl', 'appendContent', 'insertContent'].forEach(function (k) {\n    videojs[k] = function () {\n      log.warn(\"videojs.\" + k + \"() is deprecated; use videojs.dom.\" + k + \"() instead\");\n      return Dom[k].apply(null, arguments);\n    };\n  });\n  videojs.computedStyle = computedStyle;\n  /**\n   * A reference to the {@link module:dom|DOM utility module} as an object.\n   *\n   * @type {Object}\n   * @see  {@link module:dom|dom}\n   */\n\n  videojs.dom = Dom;\n  /**\n   * A reference to the {@link module:url|URL utility module} as an object.\n   *\n   * @type {Object}\n   * @see  {@link module:url|url}\n   */\n\n  videojs.url = Url;\n  videojs.defineLazyProperty = defineLazyProperty; // Adding less ambiguous text for fullscreen button.\n  // In a major update this could become the default text and key.\n\n  videojs.addLanguage('en', {\n    'Non-Fullscreen': 'Exit Fullscreen'\n  });\n\n  return videojs;\n\n})));\n","/* Web Font Loader v1.6.28 - (c) Adobe Systems, Google. License: Apache 2.0 */(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.o=b||a;this.c=this.o.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&(\"style\"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}\nfunction w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(\" \").replace(/\\s+/g,\" \").replace(/^\\s+|\\s+$/,\"\")}function y(a,b){for(var c=a.className.split(/\\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}\nfunction ea(a){return a.o.location.hostname||a.a.location.hostname}function z(a,b,c){function d(){m&&e&&f&&(m(g),m=null)}b=t(a,\"link\",{rel:\"stylesheet\",href:b,media:\"all\"});var e=!1,f=!0,g=null,m=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error(\"Stylesheet failed to load\");d()}):setTimeout(function(){e=!0;d()},0);u(a,\"head\",b)}\nfunction A(a,b,c,d){var e=a.c.getElementsByTagName(\"head\")[0];if(e){var f=t(a,\"script\",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&\"loaded\"!=this.readyState&&\"complete\"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,\"HEAD\"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error(\"Script load timeout\")))},d||5E3);return f}return null};function B(){this.a=0;this.c=null}function C(a){a.a++;return function(){a.a--;D(a)}}function E(a,b){a.c=b;D(a)}function D(a){0==a.a&&a.c&&(a.c(),a.c=null)};function F(a){this.a=a||\"-\"}F.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\\W_]+/g,\"\").toLowerCase());return b.join(this.a)};function G(a,b){this.c=a;this.f=4;this.a=\"n\";var c=(b||\"n4\").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return H(a)+\" \"+(a.f+\"00\")+\" 300px \"+I(a.c)}function I(a){var b=[];a=a.split(/,\\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['\"]/g,\"\");-1!=d.indexOf(\" \")||/^\\d/.test(d)?b.push(\"'\"+d+\"'\"):b.push(d)}return b.join(\",\")}function J(a){return a.a+a.f}function H(a){var b=\"normal\";\"o\"===a.a?b=\"oblique\":\"i\"===a.a&&(b=\"italic\");return b}\nfunction ga(a){var b=4,c=\"n\",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.o.document.documentElement;this.h=b;this.a=new F(\"-\");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c(\"wf\",\"loading\")]);K(a,\"loading\")}function L(a){if(a.g){var b=y(a.f,a.a.c(\"wf\",\"active\")),c=[],d=[a.a.c(\"wf\",\"loading\")];b||c.push(a.a.c(\"wf\",\"inactive\"));w(a.f,c,d)}K(a,\"inactive\")}function K(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,J(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function M(a,b){this.c=a;this.f=b;this.a=t(this.c,\"span\",{\"aria-hidden\":\"true\"},this.f)}function N(a){u(a.c,\"body\",a.a)}function O(a){return\"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:\"+I(a.c)+\";\"+(\"font-style:\"+H(a)+\";font-weight:\"+(a.f+\"00\")+\";\")};function P(a,b,c,d,e,f){this.g=a;this.j=b;this.a=d;this.c=c;this.f=e||3E3;this.h=f||void 0}P.prototype.start=function(){var a=this.c.o.document,b=this,c=q(),d=new Promise(function(d,e){function f(){q()-c>=b.f?e():a.fonts.load(fa(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(f,25)},function(){e()})}f()}),e=null,f=new Promise(function(a,d){e=setTimeout(d,b.f)});Promise.race([f,d]).then(function(){e&&(clearTimeout(e),e=null);b.g(b.a)},function(){b.j(b.a)})};function Q(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||\"BESbswy\";this.f={};this.w=e||3E3;this.u=f||null;this.m=this.j=this.h=this.g=null;this.g=new M(this.c,this.s);this.h=new M(this.c,this.s);this.j=new M(this.c,this.s);this.m=new M(this.c,this.s);a=new G(this.a.c+\",serif\",J(this.a));a=O(a);this.g.a.style.cssText=a;a=new G(this.a.c+\",sans-serif\",J(this.a));a=O(a);this.h.a.style.cssText=a;a=new G(\"serif\",J(this.a));a=O(a);this.j.a.style.cssText=a;a=new G(\"sans-serif\",J(this.a));a=\nO(a);this.m.a.style.cssText=a;N(this.g);N(this.h);N(this.j);N(this.m)}var R={D:\"serif\",C:\"sans-serif\"},S=null;function T(){if(null===S){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);S=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return S}Q.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f[\"sans-serif\"]=this.m.a.offsetWidth;this.A=q();U(this)};\nfunction la(a,b,c){for(var d in R)if(R.hasOwnProperty(d)&&b===a.f[R[d]]&&c===a.f[R[d]])return!0;return!1}function U(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f[\"sans-serif\"])||(d=T()&&la(a,b,c));d?q()-a.A>=a.w?T()&&la(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):ma(a):V(a,a.v)}function ma(a){setTimeout(p(function(){U(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.m.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.m=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c(\"wf\",a.c,J(a).toString(),\"active\")],[b.a.c(\"wf\",a.c,J(a).toString(),\"loading\"),b.a.c(\"wf\",a.c,J(a).toString(),\"inactive\")]);K(b,\"fontactive\",a);this.m=!0;na(this)};\nW.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c(\"wf\",a.c,J(a).toString(),\"active\")),d=[],e=[b.a.c(\"wf\",a.c,J(a).toString(),\"loading\")];c||d.push(b.a.c(\"wf\",a.c,J(a).toString(),\"inactive\"));w(b.f,d,e)}K(b,\"fontinactive\",a);na(this)};function na(a){0==--a.f&&a.j&&(a.m?(a=a.a,a.g&&w(a.f,[a.a.c(\"wf\",\"active\")],[a.a.c(\"wf\",\"loading\"),a.a.c(\"wf\",\"inactive\")]),K(a,\"active\")):L(a.a))};function oa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}oa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;pa(this,new ha(this.c,a),a)};\nfunction qa(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,m=d||null||{};if(0===c.length&&f)L(b.a);else{b.f+=c.length;f&&(b.j=f);var h,l=[];for(h=0;h<c.length;h++){var k=c[h],n=m[k.c],r=b.a,x=k;r.g&&w(r.f,[r.a.c(\"wf\",x.c,J(x).toString(),\"loading\")]);K(r,\"fontloading\",x);r=null;if(null===X)if(window.FontFace){var x=/Gecko.*Firefox\\/(\\d+)/.exec(window.navigator.userAgent),xa=/OS X.*Version\\/10\\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);\nX=x?42<parseInt(x[1],10):xa?!1:!0}else X=!1;X?r=new P(p(b.g,b),p(b.h,b),b.c,k,b.s,n):r=new Q(p(b.g,b),p(b.h,b),b.c,k,b.s,a,n);l.push(r)}for(h=0;h<l.length;h++)l[h].start()}},0)}function pa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,d,c){qa(a,f,b,d,c)})};function ra(a,b){this.c=a;this.a=b}\nra.prototype.load=function(a){function b(){if(f[\"__mti_fntLst\"+d]){var c=f[\"__mti_fntLst\"+d](),e=[],h;if(c)for(var l=0;l<c.length;l++){var k=c[l].fontfamily;void 0!=c[l].fontStyle&&void 0!=c[l].fontWeight?(h=c[l].fontStyle+c[l].fontWeight,e.push(new G(k,h))):e.push(new G(k))}a(e)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.o;A(this.c,(c.a.api||\"https://fast.fonts.net/jsapi\")+\"/\"+d+\".js\"+(e?\"?v=\"+e:\"\"),function(e){e?a([]):(f[\"__MonotypeConfiguration__\"+\nd]=function(){return c.a},b())}).id=\"__MonotypeAPIScript__\"+d}else a([])};function sa(a,b){this.c=a;this.a=b}sa.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new B;b=0;for(c=d.length;b<c;b++)z(this.c,d[b],C(g));var m=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(\":\"),d[1])for(var h=d[1].split(\",\"),l=0;l<h.length;l+=1)m.push(new G(d[0],h[l]));else m.push(new G(d[0]));E(g,function(){a(m,f)})};function ta(a,b){a?this.c=a:this.c=ua;this.a=[];this.f=[];this.g=b||\"\"}var ua=\"https://fonts.googleapis.com/css\";function va(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(\":\");3==e.length&&a.f.push(e.pop());var f=\"\";2==e.length&&\"\"!=e[1]&&(f=\":\");a.a.push(e.join(f))}}\nfunction wa(a){if(0==a.a.length)throw Error(\"No fonts to load!\");if(-1!=a.c.indexOf(\"kit=\"))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,\"+\"));b=a.c+\"?family=\"+c.join(\"%7C\");0<a.f.length&&(b+=\"&subset=\"+a.f.join(\",\"));0<a.g.length&&(b+=\"&text=\"+encodeURIComponent(a.g));return b};function ya(a){this.f=a;this.a=[];this.c={}}\nvar za={latin:\"BESbswy\",\"latin-ext\":\"\\u00e7\\u00f6\\u00fc\\u011f\\u015f\",cyrillic:\"\\u0439\\u044f\\u0416\",greek:\"\\u03b1\\u03b2\\u03a3\",khmer:\"\\u1780\\u1781\\u1782\",Hanuman:\"\\u1780\\u1781\\u1782\"},Aa={thin:\"1\",extralight:\"2\",\"extra-light\":\"2\",ultralight:\"2\",\"ultra-light\":\"2\",light:\"3\",regular:\"4\",book:\"4\",medium:\"5\",\"semi-bold\":\"6\",semibold:\"6\",\"demi-bold\":\"6\",demibold:\"6\",bold:\"7\",\"extra-bold\":\"8\",extrabold:\"8\",\"ultra-bold\":\"8\",ultrabold:\"8\",black:\"9\",heavy:\"9\",l:\"3\",r:\"4\",b:\"7\"},Ba={i:\"i\",italic:\"i\",n:\"n\",normal:\"n\"},\nCa=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;\nfunction Da(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(\":\"),e=d[0].replace(/\\+/g,\" \"),f=[\"n4\"];if(2<=d.length){var g;var m=d[1];g=[];if(m)for(var m=m.split(\",\"),h=m.length,l=0;l<h;l++){var k;k=m[l];if(k.match(/^[\\w-]+$/)){var n=Ca.exec(k.toLowerCase());if(null==n)k=\"\";else{k=n[2];k=null==k||\"\"==k?\"n\":Ba[k];n=n[1];if(null==n||\"\"==n)n=\"4\";else var r=Aa[n],n=r?r:isNaN(n)?\"4\":n.substr(0,1);k=[k,n].join(\"\")}}else k=\"\";k&&g.push(k)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(\",\"):\ng,0<d.length&&(d=za[d[0]])&&(a.c[e]=d))}a.c[e]||(d=za[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new G(e,f[d]))}};function Ea(a,b){this.c=a;this.a=b}var Fa={Arimo:!0,Cousine:!0,Tinos:!0};Ea.prototype.load=function(a){var b=new B,c=this.c,d=new ta(this.a.api,this.a.text),e=this.a.families;va(d,e);var f=new ya(e);Da(f);z(c,wa(d),C(b));E(b,function(){a(f.a,f.c,Fa)})};function Ga(a,b){this.c=a;this.a=b}Ga.prototype.load=function(a){var b=this.a.id,c=this.c.o;b?A(this.c,(this.a.api||\"https://use.typekit.net\")+\"/\"+b+\".js\",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],m=b[f+1],h=0;h<m.length;h++)e.push(new G(g,m[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(l){}a(e)}},2E3):a([])};function Ha(a,b){this.c=a;this.f=b;this.a=[]}Ha.prototype.load=function(a){var b=this.f.id,c=this.c.o,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,m=c.fonts.length;g<m;++g){var h=c.fonts[g];d.a.push(new G(h.name,ga(\"font-weight:\"+h.weight+\";font-style:\"+h.style)))}a(d.a)},A(this.c,(this.f.api||\"https://f.fontdeck.com/s/css/js/\")+ea(this.c)+\"/\"+b+\".js\",function(b){b&&a([])})):a([])};var Y=new oa(window);Y.a.c.custom=function(a,b){return new sa(b,a)};Y.a.c.fontdeck=function(a,b){return new Ha(b,a)};Y.a.c.monotype=function(a,b){return new ra(b,a)};Y.a.c.typekit=function(a,b){return new Ga(b,a)};Y.a.c.google=function(a,b){return new Ea(b,a)};var Z={load:p(Y.load,Y)};\"function\"===typeof define&&define.amd?define(function(){return Z}):\"undefined\"!==typeof module&&module.exports?module.exports=Z:(window.WebFont=Z,window.WebFontConfig&&Y.load(window.WebFontConfig));}());\n","import Expression from './expression.js';\n/**\n * Represents a transformation condition.\n * @param {string} conditionStr - a condition in string format\n * @class Condition\n * @example\n * // normally this class is not instantiated directly\n * var tr = cloudinary.Transformation.new()\n *    .if().width( \">\", 1000).and().aspectRatio(\"<\", \"3:4\").then()\n *      .width(1000)\n *      .crop(\"scale\")\n *    .else()\n *      .width(500)\n *      .crop(\"scale\")\n *\n * var tr = cloudinary.Transformation.new()\n *    .if(\"w > 1000 and aspectRatio < 3:4\")\n *      .width(1000)\n *      .crop(\"scale\")\n *    .else()\n *      .width(500)\n *      .crop(\"scale\")\n *\n */\nclass Condition extends Expression {\n    constructor(conditionStr) {\n        super(conditionStr);\n    }\n    /**\n     * @function Condition#height\n     * @param {string} operator the comparison operator (e.g. \"<\", \"lt\")\n     * @param {string|number} value the right hand side value\n     * @return {Condition} this condition\n     */\n    height(operator, value) {\n        return this.predicate(\"h\", operator, value);\n    }\n    /**\n     * @function Condition#width\n     * @param {string} operator the comparison operator (e.g. \"<\", \"lt\")\n     * @param {string|number} value the right hand side value\n     * @return {Condition} this condition\n     */\n    width(operator, value) {\n        return this.predicate(\"w\", operator, value);\n    }\n    /**\n     * @function Condition#aspectRatio\n     * @param {string} operator the comparison operator (e.g. \"<\", \"lt\")\n     * @param {string|number} value the right hand side value\n     * @return {Condition} this condition\n     */\n    aspectRatio(operator, value) {\n        return this.predicate(\"ar\", operator, value);\n    }\n    /**\n     * @function Condition#pages\n     * @param {string} operator the comparison operator (e.g. \"<\", \"lt\")\n     * @param {string|number} value the right hand side value\n     * @return {Condition} this condition\n     */\n    pageCount(operator, value) {\n        return this.predicate(\"pc\", operator, value);\n    }\n    /**\n     * @function Condition#faces\n     * @param {string} operator the comparison operator (e.g. \"<\", \"lt\")\n     * @param {string|number} value the right hand side value\n     * @return {Condition} this condition\n     */\n    faceCount(operator, value) {\n        return this.predicate(\"fc\", operator, value);\n    }\n    /**\n     * @function Condition#duration\n     * @param {string} operator the comparison operator (e.g. \"<\", \"lt\")\n     * @param {string|number} value the right hand side value\n     * @return {Condition} this condition\n     */\n    duration(operator, value) {\n        return this.predicate(\"du\", operator, value);\n    }\n    /**\n     * @function Condition#initialDuration\n     * @param {string} operator the comparison operator (e.g. \"<\", \"lt\")\n     * @param {string|number} value the right hand side value\n     * @return {Condition} this condition\n     */\n    initialDuration(operator, value) {\n        return this.predicate(\"idu\", operator, value);\n    }\n}\nexport default Condition;\n","import { cloneDeep } from '../internal/utils/cloneDeep.js';\nimport { isObject } from \"./utils/isObject.js\";\n/**\n * Class for defining account configuration options.\n * Depends on 'utils'\n */\n/**\n * Assign values from sources if they are not defined in the destination.\n * Once a value is set it does not change\n * @function Util.defaults\n * @param {Object} destination - the object to assign defaults to\n * @param sources\n * @param {...Object} source - the source object(s) to assign defaults from\n * @return {Object} destination after it was modified\n */\nconst useDefaultValues = (destination, ...sources) => {\n    return sources.reduce(function (dest, source) {\n        let key, value;\n        for (key in source) {\n            // @ts-ignore\n            value = source[key];\n            // @ts-ignore\n            if (dest[key] === void 0) {\n                // @ts-ignore\n                dest[key] = value;\n            }\n        }\n        return dest;\n    }, destination);\n};\n/**\n * Class for defining account configuration options.\n * @constructor Configuration\n * @param {Object} options - The account configuration parameters to set.\n * @see <a href=\"https://cloudinary.com/documentation/solution_overview#configuration_parameters\"\n *  target=\"_new\">Available configuration options</a>\n */\nclass Configuration {\n    constructor(options) {\n        this.configuration = options == null ? {} : cloneDeep(options);\n        useDefaultValues(this.configuration, DEFAULT_CONFIGURATION_PARAMS);\n    }\n    /**\n     * Initializes the configuration. This method is a convenience method that invokes both\n     *  {@link Configuration#fromEnvironment|fromEnvironment()} (Node.js environment only)\n     *  and {@link Configuration#fromDocument|fromDocument()}.\n     *  It first tries to retrieve the configuration from the environment variable.\n     *  If not available, it tries from the document meta tags.\n     * @function Configuration#init\n     * @return {Configuration} returns `this` for chaining\n     * @see fromDocument\n     * @see fromEnvironment\n     */\n    init() {\n        this.fromEnvironment();\n        this.fromDocument();\n        return this;\n    }\n    /**\n     * Set a new configuration item\n     * @function Configuration#set\n     * @param {string} name - the name of the item to set\n     * @param {*} value - the value to be set\n     * @return {Configuration}\n     *\n     */\n    set(name, value) {\n        // @ts-ignore\n        this.configuration[name] = value;\n        return this;\n    }\n    /**\n     * Get the value of a configuration item\n     * @function Configuration#get\n     * @param {string} name - the name of the item to set\n     * @return {*} the configuration item\n     */\n    get(name) {\n        return this.configuration[name];\n    }\n    merge(config) {\n        Object.assign(this.configuration, cloneDeep(config));\n        return this;\n    }\n    /**\n     * Initialize Cloudinary from HTML meta tags.\n     * @function Configuration#fromDocument\n     * @return {Configuration}\n     * @example <meta name=\"cloudinary_cloud_name\" content=\"mycloud\">\n     *\n     */\n    fromDocument() {\n        var el, i, len, meta_elements;\n        meta_elements = typeof document !== \"undefined\" && document !== null ? document.querySelectorAll('meta[name^=\"cloudinary_\"]') : void 0;\n        if (meta_elements) {\n            for (i = 0, len = meta_elements.length; i < len; i++) {\n                el = meta_elements[i];\n                this.configuration[el.getAttribute('name').replace('cloudinary_', '')] = el.getAttribute('content');\n            }\n        }\n        return this;\n    }\n    /**\n     * Initialize Cloudinary from the `CLOUDINARY_URL` environment variable.\n     *\n     * This function will only run under Node.js environment.\n     * @function Configuration#fromEnvironment\n     * @requires Node.js\n     */\n    fromEnvironment() {\n        var cloudinary_url, query, uri, uriRegex;\n        if (typeof process !== \"undefined\" && process !== null && process.env && process.env.CLOUDINARY_URL) {\n            cloudinary_url = process.env.CLOUDINARY_URL;\n            uriRegex = /cloudinary:\\/\\/(?:(\\w+)(?:\\:([\\w-]+))?@)?([\\w\\.-]+)(?:\\/([^?]*))?(?:\\?(.+))?/;\n            uri = uriRegex.exec(cloudinary_url);\n            if (uri) {\n                if (uri[3] != null) {\n                    this.configuration['cloud_name'] = uri[3];\n                }\n                if (uri[1] != null) {\n                    this.configuration['api_key'] = uri[1];\n                }\n                if (uri[2] != null) {\n                    this.configuration['api_secret'] = uri[2];\n                }\n                if (uri[4] != null) {\n                    this.configuration['private_cdn'] = uri[4] != null;\n                }\n                if (uri[4] != null) {\n                    this.configuration['secure_distribution'] = uri[4];\n                }\n                query = uri[5];\n                if (query != null) {\n                    query.split('&').forEach(value => {\n                        let [k, v] = value.split('=');\n                        if (v == null) {\n                            // @ts-ignore\n                            v = true;\n                        }\n                        this.configuration[k] = v;\n                    });\n                }\n            }\n        }\n        return this;\n    }\n    /**\n     * Create or modify the Cloudinary client configuration\n     *\n     * Warning: `config()` returns the actual internal configuration object. modifying it will change the configuration.\n     *\n     * This is a backward compatibility method. For new code, use get(), merge() etc.\n     * @function Configuration#config\n     * @param {hash|string|boolean} new_config\n     * @param {string} new_value\n     * @returns {*} configuration, or value\n     *\n     * @see {@link fromEnvironment} for initialization using environment variables\n     * @see {@link fromDocument} for initialization using HTML meta tags\n     */\n    config(new_config, new_value) {\n        switch (false) {\n            case new_value === void 0:\n                this.set(new_config, new_value);\n                return this.configuration;\n            case typeof new_config != 'string':\n                return this.get(new_config);\n            case !isObject(new_config):\n                this.merge(new_config);\n                return this.configuration;\n            default:\n                // Backward compatibility - return the internal object\n                return this.configuration;\n        }\n    }\n    /**\n     * Returns a copy of the configuration parameters\n     * @function Configuration#toOptions\n     * @returns {Object} a key:value collection of the configuration parameters\n     */\n    toOptions() {\n        return cloneDeep(this.configuration);\n    }\n}\nconst DEFAULT_CONFIGURATION_PARAMS = {\n    responsive_class: 'cld-responsive',\n    responsive_use_breakpoints: true,\n    round_dpr: true,\n    secure: (typeof window !== \"undefined\" && window !== null ? window.location ? window.location.protocol : void 0 : void 0) === 'https:'\n};\nexport const CONFIG_PARAMS = [\n    \"api_key\",\n    \"api_secret\",\n    \"callback\",\n    \"cdn_subdomain\",\n    \"cloud_name\",\n    \"cname\",\n    \"private_cdn\",\n    \"protocol\",\n    \"resource_type\",\n    \"responsive\",\n    \"responsive_class\",\n    \"responsive_use_breakpoints\",\n    \"responsive_width\",\n    \"round_dpr\",\n    \"secure\",\n    \"secure_cdn_subdomain\",\n    \"secure_distribution\",\n    \"shorten\",\n    \"type\",\n    \"upload_preset\",\n    \"url_suffix\",\n    \"use_root_path\",\n    \"version\",\n    \"externalLibraries\",\n    \"max_timeout_ms\"\n];\nexport default Configuration;\n","export const LEGACY_CONDITIONAL_OPERATORS = {\n    \"=\": 'eq',\n    \"!=\": 'ne',\n    \"<\": 'lt',\n    \">\": 'gt',\n    \"<=\": 'lte',\n    \">=\": 'gte',\n    \"&&\": 'and',\n    \"||\": 'or',\n    \"*\": \"mul\",\n    \"/\": \"div\",\n    \"+\": \"add\",\n    \"-\": \"sub\",\n    \"^\": \"pow\"\n};\nexport const CF_SHARED_CDN = \"d3jpl91pxevbkh.cloudfront.net\";\nexport const OLD_AKAMAI_SHARED_CDN = \"cloudinary-a.akamaihd.net\";\nexport const AKAMAI_SHARED_CDN = \"res.cloudinary.com\";\nexport const SHARED_CDN = AKAMAI_SHARED_CDN;\nexport const LEGACY_PREDEFINED_VARS = {\n    \"aspect_ratio\": \"ar\",\n    \"aspectRatio\": \"ar\",\n    \"current_page\": \"cp\",\n    \"currentPage\": \"cp\",\n    \"duration\": \"du\",\n    \"face_count\": \"fc\",\n    \"faceCount\": \"fc\",\n    \"height\": \"h\",\n    \"initial_aspect_ratio\": \"iar\",\n    \"initial_height\": \"ih\",\n    \"initial_width\": \"iw\",\n    \"initialAspectRatio\": \"iar\",\n    \"initialHeight\": \"ih\",\n    \"initialWidth\": \"iw\",\n    \"initial_duration\": \"idu\",\n    \"initialDuration\": \"idu\",\n    \"page_count\": \"pc\",\n    \"page_x\": \"px\",\n    \"page_y\": \"py\",\n    \"pageCount\": \"pc\",\n    \"pageX\": \"px\",\n    \"pageY\": \"py\",\n    \"tags\": \"tags\",\n    \"width\": \"w\"\n};\nexport const NUMBER_PATTERN = \"([0-9]*)\\\\.([0-9]+)|([0-9]+)\";\nexport const OFFSET_ANY_PATTERN = `(${NUMBER_PATTERN})([%pP])?`;\nexport const RANGE_VALUE_RE = RegExp(`^${OFFSET_ANY_PATTERN}$`);\nexport const OFFSET_ANY_PATTERN_RE = RegExp(`(${OFFSET_ANY_PATTERN})\\\\.\\\\.(${OFFSET_ANY_PATTERN})`);\nexport const LAYER_KEYWORD_PARAMS = {\n    font_weight: \"normal\",\n    font_style: \"normal\",\n    text_decoration: \"none\",\n    text_align: '',\n    stroke: \"none\"\n};\n","import { generateTransformationString } from \"./generateTransformationString.js\";\nimport { finalize_resource_type } from \"./utils/finalizeResourceType.js\";\nimport { finalize_source } from \"./utils/finalize_source.js\";\nimport { unsigned_url_prefix } from \"./utils/unsigned_url_prefix.js\";\nimport { cloneDeep } from '../internal/utils/cloneDeep.js';\nexport function createCloudinaryLegacyURL(public_id, transformationOptions) {\n    // Path format\n    if (transformationOptions.type === \"fetch\") {\n        if (transformationOptions.fetch_format == null) {\n            transformationOptions.fetch_format = transformationOptions.format;\n        }\n    }\n    let source_to_sign;\n    let type = transformationOptions.type;\n    let resource_type = transformationOptions.resource_type || 'image';\n    let version = transformationOptions.version;\n    const force_version = typeof transformationOptions.force_version === 'boolean' ? transformationOptions.force_version : true;\n    const long_url_signature = !!transformationOptions.long_url_signature;\n    const format = transformationOptions.format;\n    const cloud_name = transformationOptions.cloud_name;\n    if (!cloud_name) {\n        throw \"cloud_name must be provided in the configuration\";\n    }\n    const private_cdn = transformationOptions.private_cdn;\n    const secure_distribution = transformationOptions.secure_distribution;\n    const secure = transformationOptions.secure;\n    const cdn_subdomain = transformationOptions.cdn_subdomain;\n    const secure_cdn_subdomain = transformationOptions.secure_cdn_subdomain;\n    const cname = transformationOptions.cname;\n    const shorten = transformationOptions.shorten;\n    const sign_url = transformationOptions.sign_url;\n    const api_secret = transformationOptions.api_secret;\n    const url_suffix = transformationOptions.url_suffix;\n    const use_root_path = transformationOptions.use_root_path;\n    const auth_token = transformationOptions.auth_token;\n    const preloaded = /^(image|raw)\\/([a-z0-9_]+)\\/v(\\d+)\\/([^#]+)$/.exec(public_id);\n    if (preloaded) {\n        resource_type = preloaded[1];\n        type = preloaded[2];\n        version = preloaded[3];\n        public_id = preloaded[4];\n    }\n    const original_source = public_id;\n    if (public_id == null) {\n        return original_source;\n    }\n    public_id = public_id.toString();\n    if (type === null && public_id.match(/^https?:\\//i)) {\n        return original_source;\n    }\n    [resource_type, type] = finalize_resource_type(resource_type, type, url_suffix, use_root_path, shorten);\n    [public_id, source_to_sign] = finalize_source(public_id, format, url_suffix);\n    if (version == null && force_version && source_to_sign.indexOf(\"/\") >= 0 && !source_to_sign.match(/^v[0-9]+/) && !source_to_sign.match(/^https?:\\//)) {\n        version = 1;\n    }\n    if (version != null) {\n        version = `v${version}`;\n    }\n    else {\n        version = null;\n    }\n    const transformation = generateTransformationString(cloneDeep(transformationOptions)).replace(/([^:])\\/\\//g, '$1/');\n    ;\n    if (sign_url && !auth_token) {\n        let to_sign = [transformation, source_to_sign].filter(function (part) {\n            return (part != null) && part !== '';\n        }).join('/');\n        try {\n            for (let i = 0; to_sign !== decodeURIComponent(to_sign) && i < 10; i++) {\n                to_sign = decodeURIComponent(to_sign);\n            }\n            // eslint-disable-next-line no-empty\n        }\n        catch (error) {\n        }\n        // No support for Auth Token\n        // const shasum = crypto.createHash(long_url_signature ? 'sha256' : 'sha1');\n        // shasum.update(utf8_encode(to_sign + api_secret), 'binary');\n        // signature = shasum.digest('base64').replace(/\\//g, '_').replace(/\\+/g, '-').substring(0, long_url_signature ? 32 : 8);\n        // signature = `s--${signature}--`;\n    }\n    const prefix = unsigned_url_prefix(public_id, cloud_name, private_cdn, cdn_subdomain, secure_cdn_subdomain, cname, secure, secure_distribution);\n    const resultUrl = [prefix, resource_type, type, transformation, version, public_id].filter(function (part) {\n        return (part != null) && part !== '';\n    }).join('/').replace(' ', '%20');\n    return resultUrl;\n}\n","/**\n * Represents a transformation expression.\n * @param {string} expressionStr - An expression in string format.\n * @class Expression\n *\n */\nclass Expression {\n    constructor(expressionStr) {\n        /**\n         * @protected\n         * @inner Expression-expressions\n         */\n        this.expressions = [];\n        if (expressionStr != null) {\n            this.expressions.push(Expression.normalize(expressionStr));\n        }\n    }\n    /**\n     * Convenience constructor method\n     * @function Expression.new\n     */\n    static new(expressionStr) {\n        return new this(expressionStr);\n    }\n    /**\n     * Normalize a string expression\n     * @function Cloudinary#normalize\n     * @param {string} expression a expression, e.g. \"w gt 100\", \"width_gt_100\", \"width > 100\"\n     * @return {string} the normalized form of the value expression, e.g. \"w_gt_100\"\n     */\n    static normalize(expression) {\n        var operators, operatorsPattern, operatorsReplaceRE, predefinedVarsPattern, predefinedVarsReplaceRE;\n        if (expression == null) {\n            return expression;\n        }\n        expression = String(expression);\n        operators = \"\\\\|\\\\||>=|<=|&&|!=|>|=|<|/|-|\\\\+|\\\\*|\\\\^\";\n        // operators\n        operatorsPattern = \"((\" + operators + \")(?=[ _]))\";\n        operatorsReplaceRE = new RegExp(operatorsPattern, \"g\");\n        // @ts-ignore\n        expression = expression.replace(operatorsReplaceRE, match => OPERATORS[match]);\n        // predefined variables\n        predefinedVarsPattern = \"(\" + Object.keys(PREDEFINED_VARS).join(\"|\") + \")\";\n        predefinedVarsReplaceRE = new RegExp(predefinedVarsPattern, \"g\");\n        // @ts-ignore\n        expression = expression.replace(predefinedVarsReplaceRE, (match, p1, offset) => (expression[offset - 1] === '$' ? match : PREDEFINED_VARS[match]));\n        return expression.replace(/[ _]+/g, '_');\n    }\n    /**\n     * Serialize the expression\n     * @return {string} the expression as a string\n     */\n    serialize() {\n        return Expression.normalize(this.expressions.join(\"_\"));\n    }\n    toString() {\n        return this.serialize();\n    }\n    /**\n     * Get the parent transformation of this expression\n     * @return Transformation\n     */\n    getParent() {\n        return this.parent;\n    }\n    /**\n     * Set the parent transformation of this expression\n     * @param {Transformation} the parent transformation\n     * @return {Expression} this expression\n     */\n    setParent(parent) {\n        this.parent = parent;\n        return this;\n    }\n    /**\n     * Add a expression\n     * @function Expression#predicate\n     * @internal\n     */\n    predicate(name, operator, value) {\n        // @ts-ignore\n        if (OPERATORS[operator] != null) {\n            // @ts-ignore\n            operator = OPERATORS[operator];\n        }\n        this.expressions.push(`${name}_${operator}_${value}`);\n        return this;\n    }\n    /**\n     * @function Expression#and\n     */\n    and() {\n        this.expressions.push(\"and\");\n        return this;\n    }\n    /**\n     * @function Expression#or\n     */\n    or() {\n        this.expressions.push(\"or\");\n        return this;\n    }\n    /**\n     * Conclude expression\n     * @function Expression#then\n     * @return {Transformation} the transformation this expression is defined for\n     */\n    then() {\n        return this.getParent().if(this.toString());\n    }\n    /**\n     * @function Expression#height\n     * @param {string} operator the comparison operator (e.g. \"<\", \"lt\")\n     * @param {string|number} value the right hand side value\n     * @return {Expression} this expression\n     */\n    height(operator, value) {\n        return this.predicate(\"h\", operator, value);\n    }\n    /**\n     * @function Expression#width\n     * @param {string} operator the comparison operator (e.g. \"<\", \"lt\")\n     * @param {string|number} value the right hand side value\n     * @return {Expression} this expression\n     */\n    width(operator, value) {\n        return this.predicate(\"w\", operator, value);\n    }\n    /**\n     * @function Expression#aspectRatio\n     * @param {string} operator the comparison operator (e.g. \"<\", \"lt\")\n     * @param {string|number} value the right hand side value\n     * @return {Expression} this expression\n     */\n    aspectRatio(operator, value) {\n        return this.predicate(\"ar\", operator, value);\n    }\n    /**\n     * @function Expression#pages\n     * @param {string} operator the comparison operator (e.g. \"<\", \"lt\")\n     * @param {string|number} value the right hand side value\n     * @return {Expression} this expression\n     */\n    pageCount(operator, value) {\n        return this.predicate(\"pc\", operator, value);\n    }\n    /**\n     * @function Expression#faces\n     * @param {string} operator the comparison operator (e.g. \"<\", \"lt\")\n     * @param {string|number} value the right hand side value\n     * @return {Expression} this expression\n     */\n    faceCount(operator, value) {\n        return this.predicate(\"fc\", operator, value);\n    }\n    value(value) {\n        this.expressions.push(value);\n        return this;\n    }\n    /**\n     */\n    static variable(name, value) {\n        return new this(name).value(value);\n    }\n    /**\n     * @returns Expression a new expression with the predefined variable \"width\"\n     * @function Expression.width\n     */\n    static width() {\n        return new this(\"width\");\n    }\n    /**\n     * @returns Expression a new expression with the predefined variable \"height\"\n     * @function Expression.height\n     */\n    static height() {\n        return new this(\"height\");\n    }\n    /**\n     * @returns Expression a new expression with the predefined variable \"initialWidth\"\n     * @function Expression.initialWidth\n     */\n    static initialWidth() {\n        return new this(\"initialWidth\");\n    }\n    /**\n     * @returns Expression a new expression with the predefined variable \"initialHeight\"\n     * @function Expression.initialHeight\n     */\n    static initialHeight() {\n        return new this(\"initialHeight\");\n    }\n    /**\n     * @returns Expression a new expression with the predefined variable \"aspectRatio\"\n     * @function Expression.aspectRatio\n     */\n    static aspectRatio() {\n        return new this(\"aspectRatio\");\n    }\n    /**\n     * @returns Expression a new expression with the predefined variable \"initialAspectRatio\"\n     * @function Expression.initialAspectRatio\n     */\n    static initialAspectRatio() {\n        return new this(\"initialAspectRatio\");\n    }\n    /**\n     * @returns Expression a new expression with the predefined variable \"pageCount\"\n     * @function Expression.pageCount\n     */\n    static pageCount() {\n        return new this(\"pageCount\");\n    }\n    /**\n     * @returns Expression new expression with the predefined variable \"faceCount\"\n     * @function Expression.faceCount\n     */\n    static faceCount() {\n        return new this(\"faceCount\");\n    }\n    /**\n     * @returns Expression a new expression with the predefined variable \"currentPage\"\n     * @function Expression.currentPage\n     */\n    static currentPage() {\n        return new this(\"currentPage\");\n    }\n    /**\n     * @returns Expression a new expression with the predefined variable \"tags\"\n     * @function Expression.tags\n     */\n    static tags() {\n        return new this(\"tags\");\n    }\n    /**\n     * @returns Expression a new expression with the predefined variable \"pageX\"\n     * @function Expression.pageX\n     */\n    static pageX() {\n        return new this(\"pageX\");\n    }\n    /**\n     * @returns Expression a new expression with the predefined variable \"pageY\"\n     * @function Expression.pageY\n     */\n    static pageY() {\n        return new this(\"pageY\");\n    }\n}\n/**\n * @internal\n */\nconst OPERATORS = {\n    \"=\": 'eq',\n    \"!=\": 'ne',\n    \"<\": 'lt',\n    \">\": 'gt',\n    \"<=\": 'lte',\n    \">=\": 'gte',\n    \"&&\": 'and',\n    \"||\": 'or',\n    \"*\": \"mul\",\n    \"/\": \"div\",\n    \"+\": \"add\",\n    \"-\": \"sub\",\n    \"^\": \"pow\",\n};\n/**\n * @internal\n */\nconst PREDEFINED_VARS = {\n    \"aspect_ratio\": \"ar\",\n    \"aspectRatio\": \"ar\",\n    \"current_page\": \"cp\",\n    \"currentPage\": \"cp\",\n    \"preview:duration\": \"preview:duration\",\n    \"duration\": \"du\",\n    \"face_count\": \"fc\",\n    \"faceCount\": \"fc\",\n    \"height\": \"h\",\n    \"initial_aspect_ratio\": \"iar\",\n    \"initial_duration\": \"idu\",\n    \"initial_height\": \"ih\",\n    \"initial_width\": \"iw\",\n    \"initialAspectRatio\": \"iar\",\n    \"initialDuration\": \"idu\",\n    \"initialHeight\": \"ih\",\n    \"initialWidth\": \"iw\",\n    \"page_count\": \"pc\",\n    \"page_x\": \"px\",\n    \"page_y\": \"py\",\n    \"pageCount\": \"pc\",\n    \"pageX\": \"px\",\n    \"pageY\": \"py\",\n    \"tags\": \"tags\",\n    \"width\": \"w\"\n};\n/**\n * @internal\n */\nconst BOUNDRY = \"[ _]+\";\nexport default Expression;\n","import { processLayer } from \"./transformationProcessing/processLayer.js\";\nimport { process_if } from \"./transformationProcessing/processIf.js\";\nimport { toArray } from \"./utils/toArray.js\";\nimport { processRadius } from \"./transformationProcessing/processRadius.js\";\nimport { isObject } from \"./utils/isObject.js\";\nimport { processCustomFunction } from \"./transformationProcessing/processCustomFunction.js\";\nimport { processCustomPreFunction } from \"./transformationProcessing/processCustomPreFunction.js\";\nimport { splitRange } from \"./utils/splitRange.js\";\nimport { legacyNormalizeExpression } from \"./utils/legacyNormalizeExpression.js\";\nimport { normRangeValues } from \"./utils/norm_range_values.js\";\nimport { processVideoParams } from \"./transformationProcessing/processVideoParams.js\";\nimport Transformation from \"./transformation.js\";\nimport { processDpr } from \"./transformationProcessing/processDpr.js\";\nimport { isNumberLike } from \"./utils/isNumberLike.js\";\n/**\n * Things dropped\n * - responsive_width\n * - config().dpr\n * - SSL Detected\n * - Provisioning API\n * - Magical configuration auto-mapping (everything has to be explicit)\n * - Signatures\n * - Secure is default true\n * @param transformationOptions\n */\nexport function generateTransformationString(transformationOptions) {\n    if (typeof transformationOptions === 'string') {\n        return transformationOptions;\n    }\n    if (transformationOptions instanceof Transformation) {\n        return transformationOptions.toString();\n    }\n    if (Array.isArray(transformationOptions)) {\n        return transformationOptions\n            .map((singleTransformation) => {\n            return generateTransformationString(singleTransformation);\n        }).filter((a) => { return a; }).join('/');\n    }\n    // let responsive_width = consumeOption(transformationOptions, \"responsive_width\", config().responsive_width);\n    let width;\n    let height;\n    const size = transformationOptions.size;\n    const hasLayer = transformationOptions.overlay || transformationOptions.underlay;\n    const crop = transformationOptions.crop;\n    const angle = toArray(transformationOptions.angle).join(\".\");\n    const background = (transformationOptions.background || '').replace(/^#/, \"rgb:\");\n    const color = (transformationOptions.color || '').replace(/^#/, \"rgb:\");\n    const flags = (toArray(transformationOptions.flags || [])).join('.');\n    const dpr = transformationOptions.dpr === undefined ? transformationOptions.dpr : processDpr(transformationOptions.dpr);\n    const overlay = processLayer(transformationOptions.overlay);\n    const radius = processRadius(transformationOptions.radius);\n    const underlay = processLayer(transformationOptions.underlay);\n    const ifValue = process_if(transformationOptions.if);\n    const custom_function = processCustomFunction(transformationOptions.custom_function);\n    const custom_pre_function = processCustomPreFunction(transformationOptions.custom_pre_function);\n    // These will change down the line, heads up!\n    let fps = transformationOptions.fps;\n    let namedTransformations = [];\n    let childTransformations = toArray(transformationOptions.transformation || []);\n    let effect = transformationOptions.effect;\n    // TODO, Do we need this?\n    const no_html_sizes = hasLayer || angle || crop === \"fit\" || crop === \"limit\";\n    if (size) {\n        const [sizeWidth, sizeHeight] = size.split(\"x\");\n        width = sizeWidth;\n        height = sizeHeight;\n    }\n    else {\n        width = transformationOptions.width;\n        height = transformationOptions.height;\n    }\n    if (width && (width.toString().indexOf(\"auto\") === 0 || no_html_sizes || parseFloat(width.toString()) < 1)) {\n        delete transformationOptions.width;\n    }\n    if (height && (no_html_sizes || parseFloat(height.toString()) < 1)) {\n        delete transformationOptions.height;\n    }\n    // Is any child transformation an object?\n    const isAnyChildAnObject = childTransformations.some((transformation) => typeof transformation === 'object');\n    // If array of objects, or array of strings?\n    if (isAnyChildAnObject) {\n        childTransformations = childTransformations.map((transformation) => {\n            if (isObject(transformation)) {\n                return generateTransformationString(transformation);\n            }\n            else {\n                return generateTransformationString({ transformation });\n            }\n        }).filter((a) => a);\n    }\n    else {\n        namedTransformations = childTransformations.join(\".\");\n        childTransformations = []; // Reset child transfomrations\n    }\n    if (Array.isArray(effect)) {\n        effect = effect.join(\":\");\n    }\n    else if (isObject(effect)) {\n        effect = Object.entries(effect).map(([key, value]) => `${key}:${value}`);\n    }\n    let border = transformationOptions.border;\n    if (isObject(border)) {\n        border = `${border.width != null ? border.width : 2}px_solid_${(border.color != null ? border.color : \"black\").replace(/^#/, 'rgb:')}`;\n    }\n    else {\n        // @ts-ignore\n        if (/^\\d+$/.exec(border)) { // fallback to html border attributes\n            transformationOptions.border = border;\n            border = void 0;\n        }\n    }\n    if (Array.isArray(fps)) {\n        fps = fps.join('-');\n    }\n    // ocr(value) {\n    //   return this.param(value, \"ocr\", \"ocr\");\n    // }\n    const urlParams = {\n        a: legacyNormalizeExpression(angle),\n        ar: legacyNormalizeExpression(transformationOptions.aspect_ratio),\n        b: background,\n        bo: border,\n        c: crop,\n        co: color,\n        dpr: legacyNormalizeExpression(dpr),\n        e: legacyNormalizeExpression(effect),\n        fl: flags,\n        fn: custom_function || custom_pre_function,\n        fps: fps,\n        h: legacyNormalizeExpression(height),\n        ki: legacyNormalizeExpression(transformationOptions.keyframe_interval),\n        l: overlay,\n        o: legacyNormalizeExpression(transformationOptions.opacity),\n        q: legacyNormalizeExpression(transformationOptions.quality),\n        r: radius,\n        t: namedTransformations,\n        u: underlay,\n        w: legacyNormalizeExpression(width),\n        x: legacyNormalizeExpression(transformationOptions.x),\n        y: legacyNormalizeExpression(transformationOptions.y),\n        z: legacyNormalizeExpression(transformationOptions.zoom),\n        ac: transformationOptions.audio_codec,\n        af: transformationOptions.audio_frequency,\n        br: transformationOptions.bit_rate,\n        cs: transformationOptions.color_space,\n        d: transformationOptions.default_image,\n        dl: transformationOptions.delay,\n        dn: transformationOptions.density,\n        du: normRangeValues(transformationOptions.duration),\n        eo: normRangeValues(transformationOptions.end_offset || isNumberLike(transformationOptions.end_offset) ? transformationOptions.end_offset : splitRange(transformationOptions.offset)[1]),\n        f: transformationOptions.fetch_format,\n        g: transformationOptions.gravity,\n        pg: transformationOptions.page,\n        p: transformationOptions.prefix,\n        so: normRangeValues(transformationOptions.start_offset || isNumberLike(transformationOptions.start_offset) ? transformationOptions.start_offset : splitRange(transformationOptions.offset)[0]),\n        sp: transformationOptions.streaming_profile,\n        vc: processVideoParams(transformationOptions.video_codec),\n        vs: transformationOptions.video_sampling\n    };\n    // We can accept variables in here transformationOptions, or in here transformationOptions.variables\n    const variables = Object.entries(transformationOptions)\n        .filter(([key, value]) => key.startsWith('$'))\n        .map(([key, value]) => {\n        // delete transformationOptions[key]; // Delete the variables, so we don't add them twice\n        return `${key}_${legacyNormalizeExpression(value)}`;\n    }).sort().concat(\n    // @ts-ignore\n    (transformationOptions.variables || []).map(([name, value]) => `${name}_${legacyNormalizeExpression(value)}`)).join(',');\n    // Clean up!\n    const urlImageTransfomrations = Object.entries(urlParams)\n        .filter(([key, value]) => {\n        if (typeof value === 'undefined' || value === null) {\n            return false;\n        }\n        if (typeof value === 'string' && value.length === 0) {\n            return false;\n        }\n        if (Array.isArray(value) && value.length === 0) {\n            return false;\n        }\n        return true;\n    })\n        .map(([key, value]) => `${key}_${value}`)\n        .sort()\n        .join(',');\n    const finalTransformationString = [\n        ifValue,\n        variables,\n        urlImageTransfomrations,\n        transformationOptions.raw_transformation\n    ].filter((a) => a).join(\",\");\n    if (finalTransformationString) {\n        childTransformations.push(finalTransformationString);\n    }\n    // console.log(childTransformations);\n    return childTransformations.join(\"/\");\n}\n","import Layer from './layer.js';\nimport { isString } from \"../../internal/utils/dataStructureUtils.js\";\nimport { base64Encode } from \"../../internal/utils/base64Encode.js\";\nclass FetchLayer extends Layer {\n    /**\n     * @class FetchLayer\n     * @classdesc Creates an image layer using a remote URL.\n     * @param {Object|string} options - layer parameters or a url\n     * @param {string} options.url the url of the image to fetch\n     */\n    constructor(options) {\n        super(options);\n        if (isString(options)) {\n            this.options.url = options;\n        }\n        else if (options != null ? options.url : void 0) {\n            this.options.url = options.url;\n        }\n    }\n    url(url) {\n        this.options.url = url;\n        return this;\n    }\n    /**\n     * generate the string representation of the layer\n     * @function FetchLayer#toString\n     * @return {String}\n     */\n    toString() {\n        return `fetch:${base64Encode(this.options.url)}`;\n    }\n}\nexport default FetchLayer;\n","import { snakeCase } from \"../utils/snakeCase.js\";\nclass Layer {\n    /**\n     * Layer\n     * @constructor Layer\n     * @param {Object} options - layer parameters\n     */\n    constructor(options) {\n        this.options = {};\n        if (options != null) {\n            [\"resourceType\", \"type\", \"publicId\", \"format\"].forEach((key) => {\n                var ref;\n                // @ts-ignore\n                return this.options[key] = (ref = options[key]) != null ? ref : options[snakeCase(key)];\n            });\n        }\n    }\n    resourceType(value) {\n        this.options.resourceType = value;\n        return this;\n    }\n    type(value) {\n        this.options.type = value;\n        return this;\n    }\n    publicId(value) {\n        this.options.publicId = value;\n        return this;\n    }\n    /**\n     * Get the public ID, formatted for layer parameter\n     * @function Layer#getPublicId\n     * @return {String} public ID\n     */\n    getPublicId() {\n        var ref;\n        return (ref = this.options.publicId) != null ? ref.replace(/\\//g, \":\") : void 0;\n    }\n    /**\n     * Get the public ID, with format if present\n     * @function Layer#getFullPublicId\n     * @return {String} public ID\n     */\n    getFullPublicId() {\n        if (this.options.format != null) {\n            return this.getPublicId() + \".\" + this.options.format;\n        }\n        else {\n            return this.getPublicId();\n        }\n    }\n    format(value) {\n        this.options.format = value;\n        return this;\n    }\n    /**\n     * generate the string representation of the layer\n     * @function Layer#toString\n     */\n    toString() {\n        let components = [];\n        if (this.options.publicId == null) {\n            throw \"Must supply publicId\";\n        }\n        if (!(this.options.resourceType === \"image\")) {\n            components.push(this.options.resourceType);\n        }\n        if (!(this.options.type === \"upload\")) {\n            components.push(this.options.type);\n        }\n        components.push(this.getFullPublicId());\n        return components.filter(x => !!x).join(\":\");\n    }\n    clone() {\n        return new Layer(this.options);\n    }\n}\nexport default Layer;\n","import TextLayer from './textlayer.js';\nclass SubtitlesLayer extends TextLayer {\n    /**\n     * Represent a subtitles layer\n     * @constructor SubtitlesLayer\n     * @param {Object} options - layer parameters\n     */\n    constructor(options) {\n        super(options);\n        this.options.resourceType = \"subtitles\";\n    }\n}\nexport default SubtitlesLayer;\n","import Layer from './layer.js';\nimport { snakeCase } from \"../utils/snakeCase.js\";\nimport { isEmpty } from \"../utils/isEmpty.js\";\nimport { smartEscape } from \"../utils/smartEscape.js\";\nimport { isNumberLike } from \"../utils/isNumberLike.js\";\nclass TextLayer extends Layer {\n    /**\n     * @constructor TextLayer\n     * @param {Object} options - layer parameters\n     */\n    constructor(options) {\n        let keys;\n        super(options);\n        keys = [\"resourceType\", \"resourceType\", \"fontFamily\", \"fontSize\", \"fontWeight\", \"fontStyle\", \"textDecoration\", \"textAlign\", \"stroke\", \"letterSpacing\", \"lineSpacing\", \"fontHinting\", \"fontAntialiasing\", \"text\"];\n        if (options != null) {\n            keys.forEach((key) => {\n                var ref;\n                // @ts-ignore\n                return this.options[key] = (ref = options[key]) != null ? ref : options[snakeCase(key)];\n            });\n        }\n        this.options.resourceType = \"text\";\n    }\n    //@ts-ignore\n    resourceType(resourceType) {\n        throw \"Cannot modify resourceType for text layers\";\n    }\n    //@ts-ignore\n    type(type) {\n        throw \"Cannot modify type for text layers\";\n    }\n    format(format) {\n        throw \"Cannot modify format for text layers\";\n    }\n    fontFamily(fontFamily) {\n        this.options.fontFamily = fontFamily;\n        return this;\n    }\n    fontSize(fontSize) {\n        this.options.fontSize = fontSize;\n        return this;\n    }\n    fontWeight(fontWeight) {\n        this.options.fontWeight = fontWeight;\n        return this;\n    }\n    fontStyle(fontStyle) {\n        this.options.fontStyle = fontStyle;\n        return this;\n    }\n    textDecoration(textDecoration) {\n        this.options.textDecoration = textDecoration;\n        return this;\n    }\n    textAlign(textAlign) {\n        this.options.textAlign = textAlign;\n        return this;\n    }\n    stroke(stroke) {\n        this.options.stroke = stroke;\n        return this;\n    }\n    letterSpacing(letterSpacing) {\n        this.options.letterSpacing = letterSpacing;\n        return this;\n    }\n    lineSpacing(lineSpacing) {\n        this.options.lineSpacing = lineSpacing;\n        return this;\n    }\n    fontHinting(fontHinting) {\n        this.options.fontHinting = fontHinting;\n        return this;\n    }\n    fontAntialiasing(fontAntialiasing) {\n        this.options.fontAntialiasing = fontAntialiasing;\n        return this;\n    }\n    text(text) {\n        this.options.text = text;\n        return this;\n    }\n    /**\n     * generate the string representation of the layer\n     * @function TextLayer#toString\n     * @return {String}\n     */\n    toString() {\n        var components, hasPublicId, hasStyle, publicId, re, res, start, style, text, textSource;\n        style = this.textStyleIdentifier();\n        if (this.options.publicId != null) {\n            publicId = this.getFullPublicId();\n        }\n        if (this.options.text != null) {\n            hasPublicId = !isEmpty(publicId);\n            hasStyle = !isEmpty(style);\n            if (hasPublicId && hasStyle || !hasPublicId && !hasStyle) {\n                throw \"Must supply either style parameters or a public_id when providing text parameter in a text overlay/underlay, but not both!\";\n            }\n            re = /\\$\\([a-zA-Z]\\w*\\)/g;\n            start = 0;\n            //        textSource = text.replace(new RegExp(\"[,/]\", 'g'), (c)-> \"%#{c.charCodeAt(0).toString(16).toUpperCase()}\")\n            textSource = smartEscape(this.options.text, /[,\\/]/g);\n            text = \"\";\n            while (res = re.exec(textSource)) {\n                text += smartEscape(textSource.slice(start, res.index));\n                text += res[0];\n                start = res.index + res[0].length;\n            }\n            text += smartEscape(textSource.slice(start));\n        }\n        components = [this.options.resourceType, style, publicId, text];\n        return (components).filter(x => !!x).join(\":\");\n    }\n    textStyleIdentifier() {\n        var components;\n        components = [];\n        if (this.options.fontWeight !== \"normal\") {\n            components.push(this.options.fontWeight);\n        }\n        if (this.options.fontStyle !== \"normal\") {\n            components.push(this.options.fontStyle);\n        }\n        if (this.options.textDecoration !== \"none\") {\n            components.push(this.options.textDecoration);\n        }\n        components.push(this.options.textAlign);\n        if (this.options.stroke !== \"none\") {\n            components.push(this.options.stroke);\n        }\n        if (!(isEmpty(this.options.letterSpacing) && !isNumberLike(this.options.letterSpacing))) {\n            components.push(\"letter_spacing_\" + this.options.letterSpacing);\n        }\n        if (!(isEmpty(this.options.lineSpacing) && !isNumberLike(this.options.lineSpacing))) {\n            components.push(\"line_spacing_\" + this.options.lineSpacing);\n        }\n        if (!(isEmpty(this.options.fontAntialiasing))) {\n            components.push(\"antialias_\" + this.options.fontAntialiasing);\n        }\n        if (!(isEmpty(this.options.fontHinting))) {\n            components.push(\"hinting_\" + this.options.fontHinting);\n        }\n        if (!isEmpty(components.filter(x => !!x))) {\n            if (isEmpty(this.options.fontFamily)) {\n                throw `Must supply fontFamily. ${components}`;\n            }\n            if (isEmpty(this.options.fontSize) && !isNumberLike(this.options.fontSize)) {\n                throw \"Must supply fontSize.\";\n            }\n        }\n        components.unshift(this.options.fontFamily, this.options.fontSize);\n        components = components.filter(x => !!x).join(\"_\");\n        return components;\n    }\n}\n;\nexport default TextLayer;\n","import Condition from './condition.js';\nimport { CONFIG_PARAMS } from './configuration.js';\nimport { cloneDeep } from '../internal/utils/cloneDeep.js';\nimport { camelCase, contains, difference, } from \"./utils/legacyBaseUtil.js\";\nimport { snakeCase } from \"./utils/snakeCase.js\";\nimport Expression from './expression.js';\nimport Layer from './legacyLayer/layer.js';\nimport TextLayer from './legacyLayer/textlayer.js';\nimport SubtitlesLayer from './legacyLayer/subtitleslayer.js';\nimport FetchLayer from './legacyLayer/fetchlayer.js';\nimport { isObject } from \"./utils/isObject.js\";\nimport { isString } from \"../internal/utils/dataStructureUtils.js\";\nimport { isEmpty } from \"./utils/isEmpty.js\";\nimport { isFunction } from \"./utils/isFunction.js\";\nimport { identity, withCamelCaseKeys } from \"./utils/legacyBaseUtil.js\";\n/**\n * A list of keys used by the url() function.\n * @private\n */\nexport const URL_KEYS = [\n    'accessibility',\n    'api_secret',\n    'auth_token',\n    'cdn_subdomain',\n    'cloud_name',\n    'cname',\n    'format',\n    'placeholder',\n    'private_cdn',\n    'resource_type',\n    'secure',\n    'secure_cdn_subdomain',\n    'secure_distribution',\n    'shorten',\n    'sign_url',\n    'signature',\n    'ssl_detected',\n    'type',\n    'url_suffix',\n    'use_root_path',\n    'version'\n];\n/**\n * Assign key, value to target, when value is not null.<br>\n *   This function mutates the target!\n * @param {object} target the object to assign the values to\n * @param {object} sources one or more objects to get values from\n * @returns {object} the target after the assignment\n */\nfunction assignNotNull(target, ...sources) {\n    sources.forEach(source => {\n        Object.keys(source).forEach(key => {\n            // @ts-ignore\n            if (source[key] != null) {\n                // @ts-ignore\n                target[key] = source[key];\n            }\n        });\n    });\n    return target;\n}\n/**\n * Return true if all items in list are strings\n * @function Util.allString\n * @param {Array} list - an array of items\n */\nconst allStrings = function (list) {\n    return list.length && list.every(isString);\n};\n/**\n * Transformation parameters\n * Depends on 'util', 'transformation'\n */\nclass Param {\n    /**\n     * Represents a single parameter.\n     * @class Param\n     * @param {string} name - The name of the parameter in snake_case\n     * @param {string} shortName - The name of the serialized form of the parameter.\n     *                         If a value is not provided, the parameter will not be serialized.\n     * @param {function} [process=Util.identity ] - Manipulate origValue when value is called\n     * @ignore\n     */\n    constructor(name, shortName, process = identity) {\n        /**\n         * The name of the parameter in snake_case\n         * @member {string} Param#name\n         */\n        this.name = name;\n        /**\n         * The name of the serialized form of the parameter\n         * @member {string} Param#shortName\n         */\n        this.shortName = shortName;\n        /**\n         * Manipulate origValue when value is called\n         * @member {function} Param#process\n         */\n        this.process = process;\n    }\n    /**\n     * Set a (unprocessed) value for this parameter\n     * @function Param#set\n     * @param {*} origValue - the value of the parameter\n     * @return {Param} self for chaining\n     */\n    set(origValue) {\n        this.origValue = origValue;\n        return this;\n    }\n    /**\n     * Generate the serialized form of the parameter\n     * @function Param#serialize\n     * @return {string} the serialized form of the parameter\n     */\n    serialize() {\n        var val, valid;\n        val = this.value();\n        valid = Array.isArray(val) || isObject(val) || isString(val) ? !isEmpty(val) : val != null;\n        if ((this.shortName != null) && valid) {\n            return `${this.shortName}_${val}`;\n        }\n        else {\n            return '';\n        }\n    }\n    /**\n     * Return the processed value of the parameter\n     * @function Param#value\n     */\n    value() {\n        return this.process(this.origValue);\n    }\n    static norm_color(value) {\n        return value != null ? value.replace(/^#/, 'rgb:') : void 0;\n    }\n    static build_array(arg) {\n        if (arg == null) {\n            return [];\n        }\n        else if (Array.isArray(arg)) {\n            return arg;\n        }\n        else {\n            return [arg];\n        }\n    }\n    /**\n     * Covert value to video codec string.\n     *\n     * If the parameter is an object,\n     * @param {(string|Object)} param - the video codec as either a String or a Hash\n     * @return {string} the video codec string in the format codec:profile:level\n     * @example\n     * vc_[ :profile : [level]]\n     * or\n     { codec: 'h264', profile: 'basic', level: '3.1' }\n     * @ignore\n     */\n    static process_video_params(param) {\n        var video;\n        switch (param.constructor) {\n            case Object:\n                video = \"\";\n                if ('codec' in param) {\n                    video = param.codec;\n                    if ('profile' in param) {\n                        video += \":\" + param.profile;\n                        if ('level' in param) {\n                            video += \":\" + param.level;\n                        }\n                    }\n                }\n                return video;\n            case String:\n                return param;\n            default:\n                return null;\n        }\n    }\n}\nclass ArrayParam extends Param {\n    /**\n     * A parameter that represents an array.\n     * @param {string} name - The name of the parameter in snake_case.\n     * @param {string} shortName - The name of the serialized form of the parameter\n     *                         If a value is not provided, the parameter will not be serialized.\n     * @param {string} [sep='.'] - The separator to use when joining the array elements together\n     * @param {function} [process=Util.identity ] - Manipulate origValue when value is called\n     * @class ArrayParam\n     * @extends Param\n     * @ignore\n     */\n    constructor(name, shortName, sep = '.', process = undefined) {\n        super(name, shortName, process);\n        this.sep = sep;\n    }\n    serialize() {\n        if (this.shortName != null) {\n            let arrayValue = this.value();\n            if (isEmpty(arrayValue)) {\n                return '';\n            }\n            else if (isString(arrayValue)) {\n                return `${this.shortName}_${arrayValue}`;\n            }\n            else {\n                let flat = arrayValue.map((t) => isFunction(t.serialize) ? t.serialize() : t).join(this.sep);\n                return `${this.shortName}_${flat}`;\n            }\n        }\n        else {\n            return '';\n        }\n    }\n    value() {\n        if (Array.isArray(this.origValue)) {\n            return this.origValue.map(v => this.process(v));\n        }\n        else {\n            return this.process(this.origValue);\n        }\n    }\n    set(origValue) {\n        if ((origValue == null) || Array.isArray(origValue)) {\n            return super.set(origValue);\n        }\n        else {\n            return super.set([origValue]);\n        }\n    }\n}\nclass TransformationParam extends Param {\n    /**\n     * A parameter that represents a transformation\n     * @param {string} name - The name of the parameter in snake_case\n     * @param {string} [shortName='t'] - The name of the serialized form of the parameter\n     * @param {string} [sep='.'] - The separator to use when joining the array elements together\n     * @param {function} [process=Util.identity ] - Manipulate origValue when value is called\n     * @class TransformationParam\n     * @extends Param\n     * @ignore\n     */\n    constructor(name, shortName = \"t\", sep = '.', process = undefined) {\n        super(name, shortName, process);\n        this.sep = sep;\n    }\n    /**\n     * Generate string representations of the transformation.\n     * @returns {*} Returns either the transformation as a string, or an array of string representations.\n     */\n    serialize() {\n        let result = '';\n        const val = this.value();\n        if (isEmpty(val)) {\n            return result;\n        }\n        // val is an array of strings so join them\n        if (allStrings(val)) {\n            const joined = val.join(this.sep); // creates t1.t2.t3 in case multiple named transformations were configured\n            if (!isEmpty(joined)) {\n                // in case options.transformation was not set with an empty string (val != ['']);\n                result = `${this.shortName}_${joined}`;\n            }\n        }\n        else { // Convert val to an array of strings\n            result = val.map((t) => {\n                if (isString(t) && !isEmpty(t)) {\n                    return `${this.shortName}_${t}`;\n                }\n                if (isFunction(t.serialize)) {\n                    return t.serialize();\n                }\n                if (isObject(t) && !isEmpty(t)) {\n                    return new Transformation(t).serialize();\n                }\n                return undefined;\n            }).filter((t) => t);\n        }\n        return result;\n    }\n    set(origValue1) {\n        this.origValue = origValue1;\n        if (Array.isArray(this.origValue)) {\n            return super.set(this.origValue);\n        }\n        else {\n            return super.set([this.origValue]);\n        }\n    }\n}\nconst number_pattern = \"([0-9]*)\\\\.([0-9]+)|([0-9]+)\";\nconst offset_any_pattern = \"(\" + number_pattern + \")([%pP])?\";\nclass RangeParam extends Param {\n    /**\n     * A parameter that represents a range\n     * @param {string} name - The name of the parameter in snake_case\n     * @param {string} shortName - The name of the serialized form of the parameter\n     *                         If a value is not provided, the parameter will not be serialized.\n     * @param {function} [process=norm_range_value ] - Manipulate origValue when value is called\n     * @class RangeParam\n     * @extends Param\n     * @ignore\n     */\n    constructor(name, shortName, process = RangeParam.norm_range_value) {\n        super(name, shortName, process);\n    }\n    static norm_range_value(value) {\n        let offset = String(value).match(new RegExp('^' + offset_any_pattern + '$'));\n        if (offset) {\n            let modifier = offset[5] != null ? 'p' : '';\n            value = (offset[1] || offset[4]) + modifier;\n        }\n        return value;\n    }\n}\nclass RawParam extends Param {\n    constructor(name, shortName, process = identity) {\n        super(name, shortName, process);\n    }\n    serialize() {\n        return this.value();\n    }\n}\nclass LayerParam extends Param {\n    // Parse layer options\n    // @return [string] layer transformation string\n    // @private\n    value() {\n        if (this.origValue == null) {\n            return '';\n        }\n        let result;\n        if (this.origValue instanceof Layer) {\n            result = this.origValue;\n        }\n        else if (isObject(this.origValue)) {\n            let layerOptions = withCamelCaseKeys(this.origValue);\n            // @ts-ignore\n            if (layerOptions.resourceType === \"text\" || (layerOptions.text != null)) {\n                result = new TextLayer(layerOptions);\n            }\n            else { // @ts-ignore\n                if (layerOptions.resourceType === \"subtitles\") {\n                    result = new SubtitlesLayer(layerOptions);\n                }\n                else { // @ts-ignore\n                    if (layerOptions.resourceType === \"fetch\" || (layerOptions.url != null)) {\n                        result = new FetchLayer(layerOptions);\n                    }\n                    else {\n                        result = new Layer(layerOptions);\n                    }\n                }\n            }\n        }\n        else if (isString(this.origValue)) {\n            if (/^fetch:.+/.test(this.origValue)) {\n                result = new FetchLayer(this.origValue.substr(6));\n            }\n            else {\n                result = this.origValue;\n            }\n        }\n        else {\n            result = '';\n        }\n        return result.toString();\n    }\n    static textStyle(layer) {\n        return (new TextLayer(layer)).textStyleIdentifier();\n    }\n}\n/**\n * TransformationBase\n * Depends on 'configuration', 'parameters','util'\n * @internal\n */\nclass TransformationBase {\n    /**\n     * The base class for transformations.\n     * Members of this class are documented as belonging to the {@link Transformation} class for convenience.\n     * @class TransformationBase\n     */\n    constructor(options) {\n        /** @private */\n        /** @private */\n        let parent;\n        let trans;\n        parent = void 0;\n        trans = {};\n        /**\n         * Return an options object that can be used to create an identical Transformation\n         * @function Transformation#toOptions\n         * @return {Object} Returns a plain object representing this transformation\n         */\n        this.toOptions = (withChain) => {\n            let opt = {};\n            if (withChain == null) {\n                withChain = true;\n            }\n            // @ts-ignore\n            Object.keys(trans).forEach(key => opt[key] = trans[key].origValue);\n            assignNotNull(opt, this.otherOptions);\n            if (withChain && !isEmpty(this.chained)) {\n                let list = this.chained.map((tr) => tr.toOptions());\n                list.push(opt);\n                opt = {};\n                assignNotNull(opt, this.otherOptions);\n                // @ts-ignore\n                opt.transformation = list;\n            }\n            return opt;\n        };\n        /**\n         * Set a parent for this object for chaining purposes.\n         *\n         * @function Transformation#setParent\n         * @param {Object} object - the parent to be assigned to\n         * @returns {Transformation} Returns this instance for chaining purposes.\n         */\n        this.setParent = (object) => {\n            parent = object;\n            if (object != null) {\n                // @ts-ignore\n                this.fromOptions(typeof object.toOptions === \"function\" ? object.toOptions() : void 0);\n            }\n            return this;\n        };\n        /**\n         * Returns the parent of this object in the chain\n         * @function Transformation#getParent\n         * @protected\n         * @return {Object} Returns the parent of this object if there is any\n         */\n        this.getParent = () => {\n            return parent;\n        };\n        // Helper methods to create parameter methods\n        // These methods are defined here because they access `trans` which is\n        // a private member of `TransformationBase`\n        /** @protected */\n        this.param = (value, name, abbr, defaultValue, process) => {\n            if (process == null) {\n                if (isFunction(defaultValue)) {\n                    process = defaultValue;\n                }\n                else {\n                    process = identity;\n                }\n            }\n            // @ts-ignore\n            trans[name] = new Param(name, abbr, process).set(value);\n            return this;\n        };\n        /** @protected */\n        this.rawParam = function (value, name, abbr, defaultValue, process) {\n            process = lastArgCallback(arguments);\n            // @ts-ignore\n            trans[name] = new RawParam(name, abbr, process).set(value);\n            return this;\n        };\n        /** @protected */\n        this.rangeParam = function (value, name, abbr, defaultValue, process) {\n            process = lastArgCallback(arguments);\n            // @ts-ignore\n            trans[name] = new RangeParam(name, abbr, process).set(value);\n            return this;\n        };\n        /** @protected */\n        this.arrayParam = function (value, name, abbr, sep = \":\", defaultValue = [], process = undefined) {\n            process = lastArgCallback(arguments);\n            // @ts-ignore\n            trans[name] = new ArrayParam(name, abbr, sep, process).set(value);\n            return this;\n        };\n        /** @protected */\n        this.transformationParam = function (value, name, abbr, sep = \".\", defaultValue = undefined, process = undefined) {\n            process = lastArgCallback(arguments);\n            // @ts-ignore\n            trans[name] = new TransformationParam(name, abbr, sep, process).set(value);\n            return this;\n        };\n        this.layerParam = function (value, name, abbr) {\n            // @ts-ignore\n            trans[name] = new LayerParam(name, abbr).set(value);\n            return this;\n        };\n        // End Helper methods\n        /**\n         * Get the value associated with the given name.\n         * Get the value associated with the given name.\n         * @function Transformation#getValue\n         * @param {string} name - the name of the parameter\n         * @return {*} the processed value associated with the given name\n         * @description Use {@link get}.origValue for the value originally provided for the parameter\n         */\n        this.getValue = function (name) {\n            // @ts-ignore\n            let value = trans[name] && trans[name].value();\n            return value != null ? value : this.otherOptions[name];\n        };\n        /**\n         * Get the parameter object for the given parameter name\n         * @function Transformation#get\n         * @param {string} name the name of the transformation parameter\n         * @returns {Param} the param object for the given name, or undefined\n         */\n        this.get = function (name) {\n            // @ts-ignore\n            return trans[name];\n        };\n        /**\n         * Remove a transformation option from the transformation.\n         * @function Transformation#remove\n         * @param {string} name - the name of the option to remove\n         * @return {*} Returns the option that was removed or null if no option by that name was found. The type of the\n         *              returned value depends on the value.\n         */\n        this.remove = function (name) {\n            var temp;\n            switch (false) {\n                // @ts-ignore\n                case trans[name] == null:\n                    // @ts-ignore\n                    temp = trans[name];\n                    // @ts-ignore\n                    delete trans[name];\n                    return temp.origValue;\n                case this.otherOptions[name] == null:\n                    temp = this.otherOptions[name];\n                    delete this.otherOptions[name];\n                    return temp;\n                default:\n                    return null;\n            }\n        };\n        /**\n         * Return an array of all the keys (option names) in the transformation.\n         * @return {Array<string>} the keys in snakeCase format\n         */\n        this.keys = function () {\n            var key;\n            return ((function () {\n                var results;\n                results = [];\n                for (key in trans) {\n                    if (key != null) {\n                        results.push(key.match(VAR_NAME_RE) ? key : snakeCase(key));\n                    }\n                }\n                return results;\n            })()).sort();\n        };\n        /**\n         * Returns a plain object representation of the transformation. Values are processed.\n         * @function Transformation#toPlainObject\n         * @return {Object} the transformation options as plain object\n         */\n        this.toPlainObject = function () {\n            var hash, key, list;\n            hash = {};\n            for (key in trans) {\n                // @ts-ignore\n                hash[key] = trans[key].value();\n                // @ts-ignore\n                if (isObject(hash[key])) {\n                    // @ts-ignore\n                    hash[key] = cloneDeep(hash[key]);\n                }\n            }\n            if (!isEmpty(this.chained)) {\n                list = this.chained.map((tr) => tr.toPlainObject());\n                list.push(hash);\n                hash = {\n                    transformation: list\n                };\n            }\n            return hash;\n        };\n        /**\n         * Complete the current transformation and chain to a new one.\n         * In the URL, transformations are chained together by slashes.\n         * @function Transformation#chain\n         * @return {Transformation} Returns this transformation for chaining\n         * @example\n         * var tr = cloudinary.Transformation.new();\n         * tr.width(10).crop('fit').chain().angle(15).serialize()\n         * // produces \"c_fit,w_10/a_15\"\n         */\n        this.chain = function () {\n            var names, tr;\n            names = Object.getOwnPropertyNames(trans);\n            if (names.length !== 0) {\n                tr = new this.constructor(this.toOptions(false));\n                this.resetTransformations();\n                this.chained.push(tr);\n            }\n            return this;\n        };\n        this.resetTransformations = function () {\n            trans = {};\n            return this;\n        };\n        this.otherOptions = {};\n        this.chained = [];\n        this.fromOptions(options);\n    }\n    /**\n     * Merge the provided options with own's options\n     * @param {Object} [options={}] key-value list of options\n     * @returns {Transformation} Returns this instance for chaining\n     */\n    fromOptions(options = {}) {\n        if (options instanceof TransformationBase) {\n            this.fromTransformation(options);\n        }\n        else {\n            if (isString(options) || Array.isArray(options)) {\n                options = {\n                    transformation: options\n                };\n            }\n            options = cloneDeep(options);\n            // Handling of \"if\" statements precedes other options as it creates a chained transformation\n            // @ts-ignore\n            if (options[\"if\"]) {\n                // @ts-ignore\n                this.set(\"if\", options[\"if\"]);\n                // @ts-ignore\n                delete options[\"if\"];\n            }\n            for (let key in options) {\n                // @ts-ignore\n                let opt = options[key];\n                if (opt != null) {\n                    if (key.match(VAR_NAME_RE)) {\n                        if (key !== '$attr') {\n                            this.set('variable', key, opt);\n                        }\n                    }\n                    else {\n                        this.set(key, opt);\n                    }\n                }\n            }\n        }\n        return this;\n    }\n    fromTransformation(other) {\n        if (other instanceof TransformationBase) {\n            other.keys().forEach(key => this.set(key, other.get(key).origValue));\n        }\n        return this;\n    }\n    /**\n     * Set a parameter.\n     * The parameter name `key` is converted to\n     * @param {string} key - the name of the parameter\n     * @param {*} values - the value of the parameter\n     * @returns {Transformation} Returns this instance for chaining\n     */\n    set(key, ...values) {\n        let camelKey;\n        camelKey = camelCase(key);\n        if (contains(methods, camelKey)) {\n            // @ts-ignore\n            this[camelKey].apply(this, values);\n        }\n        else {\n            this.otherOptions[key] = values[0];\n        }\n        return this;\n    }\n    hasLayer() {\n        return this.getValue(\"overlay\") || this.getValue(\"underlay\");\n    }\n    /**\n     * Generate a string representation of the transformation.\n     * @function Transformation#serialize\n     * @return {string} Returns the transformation as a string\n     */\n    serialize() {\n        var ifParam, j, len, paramList, ref, ref1, ref2, ref3, ref4, resultArray, t, transformationList, transformationString, transformations, value, variables, vars;\n        resultArray = this.chained.map((tr) => tr.serialize());\n        paramList = this.keys();\n        transformations = (ref = this.get(\"transformation\")) != null ? ref.serialize() : void 0;\n        ifParam = (ref1 = this.get(\"if\")) != null ? ref1.serialize() : void 0;\n        variables = processVar((ref2 = this.get(\"variables\")) != null ? ref2.value() : void 0);\n        paramList = difference(paramList, [\"transformation\", \"if\", \"variables\"]);\n        vars = [];\n        transformationList = [];\n        for (j = 0, len = paramList.length; j < len; j++) {\n            t = paramList[j];\n            if (t.match(VAR_NAME_RE)) {\n                vars.push(t + \"_\" + Expression.normalize((ref3 = this.get(t)) != null ? ref3.value() : void 0));\n            }\n            else {\n                transformationList.push((ref4 = this.get(t)) != null ? ref4.serialize() : void 0);\n            }\n        }\n        switch (false) {\n            case !isString(transformations):\n                transformationList.push(transformations);\n                break;\n            case !Array.isArray(transformations):\n                resultArray = resultArray.concat(transformations);\n        }\n        transformationList = (function () {\n            var k, len1, results;\n            results = [];\n            for (k = 0, len1 = transformationList.length; k < len1; k++) {\n                value = transformationList[k];\n                if (Array.isArray(value) && !isEmpty(value) || !Array.isArray(value) && value) {\n                    results.push(value);\n                }\n            }\n            return results;\n        })();\n        transformationList = vars.sort().concat(variables).concat(transformationList.sort());\n        if (ifParam === \"if_end\") {\n            transformationList.push(ifParam);\n        }\n        else if (!isEmpty(ifParam)) {\n            transformationList.unshift(ifParam);\n        }\n        transformationString = (transformationList).filter(x => !!x).join(param_separator);\n        if (!isEmpty(transformationString)) {\n            resultArray.push(transformationString);\n        }\n        return (resultArray).filter((x) => !!x).join(trans_separator);\n    }\n    /**\n     * Provide a list of all the valid transformation option names\n     * @function Transformation#listNames\n     * @private\n     * @return {Array<string>} a array of all the valid option names\n     */\n    static listNames() {\n        return methods;\n    }\n    /**\n     * Returns the attributes for an HTML tag.\n     * @function Cloudinary.toHtmlAttributes\n     * @return PlainObject\n     */\n    toHtmlAttributes() {\n        let attrName, height, options, ref2, ref3, value, width;\n        options = {};\n        let snakeCaseKey;\n        Object.keys(this.otherOptions).forEach(key => {\n            value = this.otherOptions[key];\n            snakeCaseKey = snakeCase(key);\n            if (!contains(PARAM_NAMES, snakeCaseKey) && !contains(URL_KEYS, snakeCaseKey)) {\n                attrName = /^html_/.test(key) ? key.slice(5) : key;\n                options[attrName] = value;\n            }\n        });\n        // convert all \"html_key\" to \"key\" with the same value\n        this.keys().forEach(key => {\n            if (/^html_/.test(key)) {\n                options[camelCase(key.slice(5))] = this.getValue(key);\n            }\n        });\n        if (!(this.hasLayer() || this.getValue(\"angle\") || contains([\"fit\", \"limit\", \"lfill\"], this.getValue(\"crop\")))) {\n            width = (ref2 = this.get(\"width\")) != null ? ref2.origValue : void 0;\n            height = (ref3 = this.get(\"height\")) != null ? ref3.origValue : void 0;\n            if (parseFloat(width) >= 1.0) {\n                if (options.width == null) {\n                    options.width = width;\n                }\n            }\n            if (parseFloat(height) >= 1.0) {\n                if (options.height == null) {\n                    options.height = height;\n                }\n            }\n        }\n        return options;\n    }\n    static isValidParamName(name) {\n        return methods.indexOf(camelCase(name)) >= 0;\n    }\n    /**\n     * Delegate to the parent (up the call chain) to produce HTML\n     * @function Transformation#toHtml\n     * @return {string} HTML representation of the parent if possible.\n     * @example\n     * tag = cloudinary.ImageTag.new(\"sample\", {cloud_name: \"demo\"})\n     * // ImageTag {name: \"img\", publicId: \"sample\"}\n     * tag.toHtml()\n     * // <img src=\"http://res.cloudinary.com/demo/image/upload/sample\">\n     * tag.transformation().crop(\"fit\").width(300).toHtml()\n     * // <img src=\"http://res.cloudinary.com/demo/image/upload/c_fit,w_300/sample\">\n     */\n    toHtml() {\n        var ref;\n        return (ref = this.getParent()) != null ? typeof ref.toHtml === \"function\" ? ref.toHtml() : void 0 : void 0;\n    }\n    toString() {\n        return this.serialize();\n    }\n    clone() {\n        return new TransformationBase(this.toOptions(true));\n    }\n}\nconst VAR_NAME_RE = /^\\$[a-zA-Z0-9]+$/;\nconst trans_separator = '/';\nconst param_separator = ',';\nfunction lastArgCallback(args) {\n    var callback;\n    callback = args != null ? args[args.length - 1] : void 0;\n    if (isFunction(callback)) {\n        return callback;\n    }\n    else {\n        return void 0;\n    }\n}\nfunction processVar(varArray) {\n    var j, len, name, results, v;\n    if (Array.isArray(varArray)) {\n        results = [];\n        for (j = 0, len = varArray.length; j < len; j++) {\n            [name, v] = varArray[j];\n            results.push(`${name}_${Expression.normalize(v)}`);\n        }\n        return results;\n    }\n    else {\n        return varArray;\n    }\n}\n// @ts-ignore\nfunction processCustomFunction({ function_type, source }) {\n    if (function_type === 'remote') {\n        return [function_type, btoa(source)].join(\":\");\n    }\n    else if (function_type === 'wasm') {\n        return [function_type, source].join(\":\");\n    }\n}\n/**\n * Transformation Class methods.\n * This is a list of the parameters defined in Transformation.\n * Values are camelCased.\n * @const Transformation.methods\n * @private\n * @ignore\n * @type {Array<string>}\n */\n/**\n * Parameters that are filtered out before passing the options to an HTML tag.\n *\n * The list of parameters is a combination of `Transformation::methods` and `Configuration::CONFIG_PARAMS`\n * @const {Array<string>} Transformation.PARAM_NAMES\n * @private\n * @ignore\n * @see toHtmlAttributes\n */\nclass Transformation extends TransformationBase {\n    /**\n     * Represents a single transformation.\n     * @class Transformation\n     * @example\n     * t = new cloudinary.Transformation();\n     * t.angle(20).crop(\"scale\").width(\"auto\");\n     *\n     * // or\n     *\n     * t = new cloudinary.Transformation( {angle: 20, crop: \"scale\", width: \"auto\"});\n     * @see <a href=\"https://cloudinary.com/documentation/image_transformation_reference\"\n     *  target=\"_blank\">Available image transformations</a>\n     * @see <a href=\"https://cloudinary.com/documentation/video_transformation_reference\"\n     *  target=\"_blank\">Available video transformations</a>\n     */\n    constructor(options) {\n        super(options);\n    }\n    /**\n     * Convenience constructor\n     * @param {Object} options\n     * @return {Transformation}\n     * @example cl = cloudinary.Transformation.new( {angle: 20, crop: \"scale\", width: \"auto\"})\n     */\n    static new(options) {\n        return new Transformation(options);\n    }\n    /*\n      Transformation Parameters\n    */\n    angle(value) {\n        this.arrayParam(value, \"angle\", \"a\", \".\", Expression.normalize);\n        return this;\n    }\n    audioCodec(value) {\n        this.param(value, \"audio_codec\", \"ac\");\n        return this;\n    }\n    audioFrequency(value) {\n        this.param(value, \"audio_frequency\", \"af\");\n        return this;\n    }\n    aspectRatio(value) {\n        this.param(value, \"aspect_ratio\", \"ar\", Expression.normalize);\n        return this;\n    }\n    background(value) {\n        this.param(value, \"background\", \"b\", Param.norm_color);\n        return this;\n    }\n    bitRate(value) {\n        this.param(value, \"bit_rate\", \"br\");\n        return this;\n    }\n    border(value) {\n        return this.param(value, \"border\", \"bo\", (border) => {\n            if (isObject(border)) {\n                border = Object.assign({}, {\n                    color: \"black\",\n                    width: 2\n                }, border);\n                return `${border.width}px_solid_${Param.norm_color(border.color)}`;\n            }\n            else {\n                return border;\n            }\n        });\n    }\n    color(value) {\n        this.param(value, \"color\", \"co\", Param.norm_color);\n        return this;\n    }\n    colorSpace(value) {\n        this.param(value, \"color_space\", \"cs\");\n        return this;\n    }\n    crop(value) {\n        this.param(value, \"crop\", \"c\");\n        return this;\n    }\n    customFunction(value) {\n        return this.param(value, \"custom_function\", \"fn\", () => {\n            return processCustomFunction(value);\n        });\n    }\n    customPreFunction(value) {\n        if (this.get('custom_function')) {\n            return;\n        }\n        return this.rawParam(value, \"custom_function\", \"\", () => {\n            value = processCustomFunction(value);\n            return value ? `fn_pre:${value}` : value;\n        });\n    }\n    defaultImage(value) {\n        this.param(value, \"default_image\", \"d\");\n        return this;\n    }\n    delay(value) {\n        this.param(value, \"delay\", \"dl\");\n        return this;\n    }\n    density(value) {\n        this.param(value, \"density\", \"dn\");\n        return this;\n    }\n    duration(value) {\n        this.rangeParam(value, \"duration\", \"du\");\n        return this;\n    }\n    dpr(value) {\n        return this.param(value, \"dpr\", \"dpr\", (dpr) => {\n            dpr = dpr.toString();\n            if (dpr != null ? dpr.match(/^\\d+$/) : void 0) {\n                return dpr + \".0\";\n            }\n            else {\n                return Expression.normalize(dpr);\n            }\n        });\n    }\n    effect(value) {\n        this.arrayParam(value, \"effect\", \"e\", \":\", Expression.normalize);\n        return this;\n    }\n    else() {\n        return this.if('else');\n    }\n    endIf() {\n        return this.if('end');\n    }\n    endOffset(value) {\n        this.rangeParam(value, \"end_offset\", \"eo\");\n        return this;\n    }\n    fallbackContent(value) {\n        this.param(value, \"fallback_content\");\n        return this;\n    }\n    fetchFormat(value) {\n        this.param(value, \"fetch_format\", \"f\");\n        return this;\n    }\n    format(value) {\n        this.param(value, \"format\");\n        return this;\n    }\n    flags(value) {\n        this.arrayParam(value, \"flags\", \"fl\", \".\");\n        return this;\n    }\n    gravity(value) {\n        this.param(value, \"gravity\", \"g\");\n        return this;\n    }\n    fps(value) {\n        return this.param(value, \"fps\", \"fps\", (fps) => {\n            if (isString(fps)) {\n                return fps;\n            }\n            else if (Array.isArray(fps)) {\n                return fps.join(\"-\");\n            }\n            else {\n                return fps;\n            }\n        });\n    }\n    height(value) {\n        return this.param(value, \"height\", \"h\", () => {\n            if (this.getValue(\"crop\") || this.getValue(\"overlay\") || this.getValue(\"underlay\")) {\n                return Expression.normalize(value);\n            }\n            else {\n                return null;\n            }\n        });\n    }\n    htmlHeight(value) {\n        this.param(value, \"html_height\");\n        return this;\n    }\n    htmlWidth(value) {\n        this.param(value, \"html_width\");\n        return this;\n    }\n    if(value = \"\") {\n        var i, ifVal, j, ref, trIf, trRest;\n        switch (value) {\n            case \"else\":\n                this.chain();\n                return this.param(value, \"if\", \"if\");\n            case \"end\":\n                this.chain();\n                for (i = j = ref = this.chained.length - 1; j >= 0; i = j += -1) {\n                    ifVal = this.chained[i].getValue(\"if\");\n                    if (ifVal === \"end\") {\n                        break;\n                    }\n                    else if (ifVal != null) {\n                        trIf = Transformation.new().if(ifVal);\n                        this.chained[i].remove(\"if\");\n                        trRest = this.chained[i];\n                        this.chained[i] = Transformation.new().transformation([trIf, trRest]);\n                        if (ifVal !== \"else\") {\n                            break;\n                        }\n                    }\n                }\n                return this.param(value, \"if\", \"if\");\n            case \"\":\n                return Condition.new().setParent(this);\n            default:\n                return this.param(value, \"if\", \"if\", (value) => {\n                    return Condition.new(value).toString();\n                });\n        }\n    }\n    keyframeInterval(value) {\n        this.param(value, \"keyframe_interval\", \"ki\");\n        return this;\n    }\n    ocr(value) {\n        this.param(value, \"ocr\", \"ocr\");\n        return this;\n    }\n    offset(value) {\n        var end_o, start_o;\n        [start_o, end_o] = (isFunction(value != null ? value.split : void 0)) ? value.split('..') : Array.isArray(value) ? value : [null, null];\n        if (start_o != null) {\n            this.startOffset(start_o);\n        }\n        if (end_o != null) {\n            return this.endOffset(end_o);\n        }\n    }\n    opacity(value) {\n        this.param(value, \"opacity\", \"o\", Expression.normalize);\n        return this;\n    }\n    overlay(value) {\n        this.layerParam(value, \"overlay\", \"l\");\n        return this;\n    }\n    page(value) {\n        this.param(value, \"page\", \"pg\");\n        return this;\n    }\n    poster(value) {\n        this.param(value, \"poster\");\n        return this;\n    }\n    prefix(value) {\n        this.param(value, \"prefix\", \"p\");\n        return this;\n    }\n    quality(value) {\n        this.param(value, \"quality\", \"q\", Expression.normalize);\n        return this;\n    }\n    radius(value) {\n        this.arrayParam(value, \"radius\", \"r\", \":\", Expression.normalize);\n        return this;\n    }\n    rawTransformation(value) {\n        this.rawParam(value, \"raw_transformation\");\n        return this;\n    }\n    size(value) {\n        let height, width;\n        if (isFunction(value != null ? value.split : void 0)) {\n            [width, height] = value.split('x');\n            this.width(width);\n            return this.height(height);\n        }\n    }\n    sourceTypes(value) {\n        this.param(value, \"source_types\");\n        return this;\n    }\n    sourceTransformation(value) {\n        return this.param(value, \"source_transformation\");\n    }\n    startOffset(value) {\n        this.rangeParam(value, \"start_offset\", \"so\");\n        return this;\n    }\n    streamingProfile(value) {\n        this.param(value, \"streaming_profile\", \"sp\");\n        return this;\n    }\n    transformation(value) {\n        this.transformationParam(value, \"transformation\", \"t\");\n        return this;\n    }\n    underlay(value) {\n        this.layerParam(value, \"underlay\", \"u\");\n        return this;\n    }\n    variable(name, value) {\n        this.param(value, name, name);\n        return this;\n    }\n    variables(values) {\n        this.arrayParam(values, \"variables\");\n        return this;\n    }\n    videoCodec(value) {\n        this.param(value, \"video_codec\", \"vc\", Param.process_video_params);\n        return this;\n    }\n    videoSampling(value) {\n        this.param(value, \"video_sampling\", \"vs\");\n        return this;\n    }\n    width(value) {\n        this.param(value, \"width\", \"w\", () => {\n            if (this.getValue(\"crop\") || this.getValue(\"overlay\") || this.getValue(\"underlay\")) {\n                return Expression.normalize(value);\n            }\n            else {\n                return null;\n            }\n        });\n        return this;\n    }\n    x(value) {\n        this.param(value, \"x\", \"x\", Expression.normalize);\n        return this;\n    }\n    y(value) {\n        this.param(value, \"y\", \"y\", Expression.normalize);\n        return this;\n    }\n    zoom(value) {\n        this.param(value, \"zoom\", \"z\", Expression.normalize);\n        return this;\n    }\n}\n/**\n * Transformation Class methods.\n * This is a list of the parameters defined in Transformation.\n * Values are camelCased.\n */\nconst methods = [\n    \"angle\",\n    \"audioCodec\",\n    \"audioFrequency\",\n    \"aspectRatio\",\n    \"background\",\n    \"bitRate\",\n    \"border\",\n    \"color\",\n    \"colorSpace\",\n    \"crop\",\n    \"customFunction\",\n    \"customPreFunction\",\n    \"defaultImage\",\n    \"delay\",\n    \"density\",\n    \"duration\",\n    \"dpr\",\n    \"effect\",\n    \"else\",\n    \"endIf\",\n    \"endOffset\",\n    \"fallbackContent\",\n    \"fetchFormat\",\n    \"format\",\n    \"flags\",\n    \"gravity\",\n    \"fps\",\n    \"height\",\n    \"htmlHeight\",\n    \"htmlWidth\",\n    \"if\",\n    \"keyframeInterval\",\n    \"ocr\",\n    \"offset\",\n    \"opacity\",\n    \"overlay\",\n    \"page\",\n    \"poster\",\n    \"prefix\",\n    \"quality\",\n    \"radius\",\n    \"rawTransformation\",\n    \"size\",\n    \"sourceTypes\",\n    \"sourceTransformation\",\n    \"startOffset\",\n    \"streamingProfile\",\n    \"transformation\",\n    \"underlay\",\n    \"variable\",\n    \"variables\",\n    \"videoCodec\",\n    \"videoSampling\",\n    \"width\",\n    \"x\",\n    \"y\",\n    \"zoom\"\n];\n/**\n * Parameters that are filtered out before passing the options to an HTML tag.\n *\n * The list of parameters is a combination of `Transformation::methods` and `Configuration::CONFIG_PARAMS`\n */\nconst PARAM_NAMES = methods.map(snakeCase).concat(CONFIG_PARAMS);\nexport default Transformation;\n","import { base64Encode } from \"../../internal/utils/base64Encode.js\";\nimport { isObject } from \"../utils/isObject.js\";\n/**\n * Parse custom_function options\n * @private\n * @param {object|*} customFunction a custom function object containing function_type and source values\n * @return {string|*} custom_function transformation string\n */\nexport function processCustomFunction(customFunction) {\n    if (!isObject(customFunction)) {\n        return customFunction;\n    }\n    if (customFunction.function_type === \"remote\") {\n        const encodedSource = base64Encode(customFunction.source)\n            .replace(/\\+/g, '-') // Convert '+' to '-'\n            .replace(/\\//g, '_') // Convert '/' to '_'\n            .replace(/=+$/, ''); // Remove ending '='\n        return [customFunction.function_type, encodedSource].join(\":\");\n    }\n    return [customFunction.function_type, customFunction.source].join(\":\");\n}\n","import { processCustomFunction } from \"./processCustomFunction.js\";\n/**\n * Parse custom_pre_function options\n * @private\n * @param {object|*} customPreFunction a custom function object containing function_type and source values\n * @return {string|*} custom_pre_function transformation string\n */\nexport function processCustomPreFunction(customPreFunction) {\n    const result = processCustomFunction(customPreFunction);\n    return typeof result === 'string' ? `pre:${result}` : null;\n}\n","import Expression from \"../expression.js\";\n/**\n * Process DPR value. If input is 1 returns 1.0\n * @param value\n */\nexport function processDpr(value) {\n    let dpr = value.toString();\n    if (dpr != null ? dpr.match(/^\\d+$/) : void 0) {\n        return dpr + \".0\";\n    }\n    else {\n        return Expression.normalize(dpr);\n    }\n}\n","import { legacyNormalizeExpression } from \"../utils/legacyNormalizeExpression.js\";\n/**\n * Parse \"if\" parameter\n * Translates the condition if provided.\n * @private\n * @return {string} \"if_\" + ifValue\n */\nexport function process_if(ifValue) {\n    return ifValue ? \"if_\" + legacyNormalizeExpression(ifValue) : ifValue;\n}\n","/**\n * Parse layer options\n * @private\n * @param {object|*} layer The layer to parse.\n * @return {string} layer transformation string\n */\nimport { isObject } from \"../utils/isObject.js\";\nimport { base64Encode } from \"../../internal/utils/base64Encode.js\";\nimport { LAYER_KEYWORD_PARAMS } from \"../consts.js\";\nimport { smartEscape } from \"../utils/smartEscape.js\";\nimport TextLayer from \"../legacyLayer/textlayer.js\";\nimport Layer from \"../legacyLayer/layer.js\";\nexport function textStyle(layer) {\n    const keywords = [];\n    let style = \"\";\n    Object.keys(LAYER_KEYWORD_PARAMS).forEach((attr) => {\n        let default_value = LAYER_KEYWORD_PARAMS[attr];\n        let attr_value = layer[attr] || default_value;\n        if (attr_value !== default_value) {\n            keywords.push(attr_value);\n        }\n    });\n    Object.keys(layer).forEach((attr) => {\n        if (attr === \"letter_spacing\" || attr === \"line_spacing\") {\n            keywords.push(`${attr}_${layer[attr]}`);\n        }\n        if (attr === \"font_hinting\") {\n            keywords.push(`${attr.split(\"_\").pop()}_${layer[attr]}`);\n        }\n        if (attr === \"font_antialiasing\") {\n            keywords.push(`antialias_${layer[attr]}`);\n        }\n    });\n    if (layer.hasOwnProperty(\"font_size\" || \"font_family\") || !keywords || keywords.length === 0) {\n        if (!layer.font_size)\n            throw `Must supply font_size for text in overlay/underlay`;\n        if (!layer.font_family)\n            throw `Must supply font_family for text in overlay/underlay`;\n        keywords.unshift(layer.font_size);\n        keywords.unshift(layer.font_family);\n        style = keywords.filter((a) => a).join(\"_\");\n    }\n    return style;\n}\nexport function processLayer(layer) {\n    if (layer instanceof TextLayer || layer instanceof Layer) {\n        return layer.toString();\n    }\n    let result = '';\n    if (isObject(layer)) {\n        if (layer.resource_type === \"fetch\" || (layer.url != null)) {\n            result = `fetch:${base64Encode(layer.url)}`;\n        }\n        else {\n            let public_id = layer.public_id;\n            let format = layer.format;\n            let resource_type = layer.resource_type || \"image\";\n            let type = layer.type || \"upload\";\n            let text = layer.text;\n            let style = null;\n            let components = [];\n            const noPublicId = !public_id || public_id.length === 0;\n            if (!noPublicId) {\n                public_id = public_id.replace(new RegExp(\"/\", 'g'), \":\");\n                if (format != null) {\n                    public_id = `${public_id}.${format}`;\n                }\n            }\n            if ((!text || text.length === 0) && resource_type !== \"text\") {\n                if (noPublicId) {\n                    throw \"Must supply public_id for resource_type layer_parameter\";\n                }\n                if (resource_type === \"subtitles\") {\n                    style = textStyle(layer);\n                }\n            }\n            else {\n                resource_type = \"text\";\n                type = null;\n                // type is ignored for text layers\n                style = textStyle(layer);\n                if (text && text.length >= 0) {\n                    const noStyle = !style;\n                    if (!(noPublicId || noStyle) || (noPublicId && noStyle)) {\n                        throw \"Must supply either style parameters or a public_id when providing text parameter in a text overlay/underlay\";\n                    }\n                    let re = /\\$\\([a-zA-Z]\\w*\\)/g;\n                    let start = 0;\n                    let textSource = smartEscape(decodeURIComponent(text), /[,\\/]/g);\n                    text = \"\";\n                    for (let res = re.exec(textSource); res; res = re.exec(textSource)) {\n                        text += smartEscape(textSource.slice(start, res.index));\n                        text += res[0];\n                        start = res.index + res[0].length;\n                    }\n                    text += encodeURIComponent(textSource.slice(start));\n                }\n            }\n            if (resource_type !== \"image\") {\n                components.push(resource_type);\n            }\n            if (type !== \"upload\") {\n                components.push(type);\n            }\n            components.push(style);\n            components.push(public_id);\n            components.push(text);\n            result = components.filter((a) => a).join(\":\");\n        }\n    }\n    else if (/^fetch:.+/.test(layer)) {\n        result = `fetch:${base64Encode(layer.substr(6))}`;\n    }\n    else {\n        result = layer;\n    }\n    return result;\n}\n","import { legacyNormalizeExpression } from \"../utils/legacyNormalizeExpression.js\";\n/**\n * Parse radius options\n * @private\n * @param {Array<string|number>|string|number} _radius The radius to parse\n * @return {string} radius transformation string\n */\nexport function processRadius(_radius) {\n    let radius = _radius;\n    if (!radius) {\n        return radius;\n    }\n    if (!Array.isArray(radius)) {\n        radius = [radius];\n    }\n    if (radius.length === 0 || radius.length > 4) {\n        throw new Error(\"Radius array should contain between 1 and 4 values\");\n    }\n    if (radius.findIndex((x) => x === null) >= 0) {\n        throw new Error(\"Corner: Cannot be null\");\n    }\n    return radius.map(legacyNormalizeExpression).join(':');\n}\n","/**\n * A video codec parameter can be either a String or a Hash.\n * @param {Object} param <code>vc_<codec>[ : <profile> : [<level>]]</code>\n *                       or <code>{ codec: 'h264', profile: 'basic', level: '3.1' }</code>\n * @return {String} <code><codec> : <profile> : [<level>]]</code> if a Hash was provided\n *                   or the param if a String was provided.\n *                   Returns null if param is not a Hash or String\n */\nexport function processVideoParams(param) {\n    switch (param && param.constructor) {\n        case Object: {\n            let video = \"\";\n            if ('codec' in param) {\n                video = param.codec;\n                if ('profile' in param) {\n                    video += \":\" + param.profile;\n                    if ('level' in param) {\n                        video += \":\" + param.level;\n                    }\n                }\n            }\n            return video;\n        }\n        case String:\n            return param;\n        default:\n            return null;\n    }\n}\n","export function finalize_resource_type(resource_type, type, url_suffix, use_root_path, shorten) {\n    if (type == null) {\n        type = 'upload';\n    }\n    if (url_suffix != null) {\n        if (resource_type === 'image' && type === 'upload') {\n            resource_type = \"images\";\n            type = null;\n        }\n        else if (resource_type === 'image' && type === 'private') {\n            resource_type = 'private_images';\n            type = null;\n        }\n        else if (resource_type === 'image' && type === 'authenticated') {\n            resource_type = 'authenticated_images';\n            type = null;\n        }\n        else if (resource_type === 'raw' && type === 'upload') {\n            resource_type = 'files';\n            type = null;\n        }\n        else if (resource_type === 'video' && type === 'upload') {\n            resource_type = 'videos';\n            type = null;\n        }\n        else {\n            throw new Error(\"URL Suffix only supported for image/upload, image/private, image/authenticated, video/upload and raw/upload\");\n        }\n    }\n    if (use_root_path) {\n        if ((resource_type === 'image' && type === 'upload') || (resource_type === 'images' && (type == null))) {\n            resource_type = null;\n            type = null;\n        }\n        else {\n            throw new Error(\"Root path only supported for image/upload\");\n        }\n    }\n    if (shorten && resource_type === 'image' && type === 'upload') {\n        resource_type = 'iu';\n        type = null;\n    }\n    return [resource_type, type];\n}\n","import { smartEscape } from \"./smartEscape.js\";\nexport function finalize_source(source, format, url_suffix) {\n    let source_to_sign;\n    source = source.replace(/([^:])\\/\\//g, '$1/');\n    if (source.match(/^https?:\\//i)) {\n        source = smartEscape(source);\n        source_to_sign = source;\n    }\n    else {\n        source = encodeURIComponent(decodeURIComponent(source)).replace(/%3A/g, \":\").replace(/%2F/g, \"/\");\n        source_to_sign = source;\n        if (url_suffix) {\n            if (url_suffix.match(/[\\.\\/]/)) {\n                throw new Error('url_suffix should not include . or /');\n            }\n            source = source + '/' + url_suffix;\n        }\n        if (format != null) {\n            source = source + '.' + format;\n            source_to_sign = source_to_sign + '.' + format;\n        }\n    }\n    return [source, source_to_sign];\n}\n","export function isEmpty(value) {\n    return value === undefined ||\n        value === null ||\n        (typeof value === \"object\" && Object.keys(value).length === 0) ||\n        (typeof value === \"string\" && value.trim().length === 0);\n}\n","/**\n * Simple Is Function check\n *\n * @param variableToCheck\n * @returns {boolean}\n */\nexport function isFunction(variableToCheck) {\n    return variableToCheck instanceof Function;\n}\n","/**\n * Return true is value is a number or a string representation of a number.\n * @function Util.isNumberLike\n * @param {*} value\n * @returns {boolean} true if value is a number\n * @example\n *    Util.isNumber(0) // true\n *    Util.isNumber(\"1.3\") // true\n *    Util.isNumber(\"\") // false\n *    Util.isNumber(undefined) // false\n */\nexport const isNumberLike = function (value) {\n    return (value != null) && !isNaN(parseFloat(value));\n};\n","/**\n *\n * @param a\n */\nexport function isObject(a) {\n    return typeof a === 'object' && a !== null;\n}\n","/**\n * Create a copy of the source object with all keys in camelCase\n * @function Util.withCamelCaseKeys\n * @return {Object} a new object\n * @param source\n */\nimport { isEmpty } from \"./isEmpty.js\";\nexport const withCamelCaseKeys = function (source) {\n    return convertKeys(source, camelCase);\n};\n/**\n * Convert string to camelCase\n * @function Util.camelCase\n * @param {string} source - the string to convert\n * @return {string} in camelCase format\n */\nexport const camelCase = function (source) {\n    let words = source.match(reWords);\n    words = words.map(word => word.charAt(0).toLocaleUpperCase() + word.slice(1).toLocaleLowerCase());\n    words[0] = words[0].toLocaleLowerCase();\n    return words.join('');\n};\n/**\n * Creates a new object from source, with the keys transformed using the converter.\n * @param {object} source\n * @param {function|null} converter\n * @returns {object}\n */\nexport var convertKeys = function (source, converter) {\n    var result, value;\n    result = {};\n    for (let key in source) {\n        value = source[key];\n        if (converter) {\n            key = converter(key);\n        }\n        if (!isEmpty(key)) {\n            // @ts-ignore\n            result[key] = value;\n        }\n    }\n    return result;\n};\nexport var reWords = (function () {\n    var lower, upper;\n    upper = '[A-Z]';\n    lower = '[a-z]+';\n    return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\n})();\nexport function identity(x) {\n    return x;\n}\nexport function contains(a, obj) {\n    for (let i = 0; i < a.length; i++) {\n        if (a[i] === obj) {\n            return true;\n        }\n    }\n    return false;\n}\nexport function difference(arr1, arr2) {\n    return arr1.filter(x => !arr2.includes(x));\n}\n","import { LEGACY_PREDEFINED_VARS, LEGACY_CONDITIONAL_OPERATORS } from \"../consts.js\";\n/**\n * Normalize an offset value\n * @param {String} expression a decimal value which may have a 'p' or '%' postfix. E.g. '35%', '0.4p'\n * @return {Object|String} a normalized String of the input value if possible otherwise the value itself\n */\nexport function legacyNormalizeExpression(expression) {\n    if (typeof expression !== 'string' || expression.length === 0 || expression.match(/^!.+!$/)) {\n        if (expression) {\n            return expression.toString();\n        }\n        else {\n            return expression;\n        }\n    }\n    expression = String(expression);\n    const operators = \"\\\\|\\\\||>=|<=|&&|!=|>|=|<|/|-|\\\\+|\\\\*|\\\\^\";\n    // operators\n    const operatorsPattern = \"((\" + operators + \")(?=[ _]))\";\n    const operatorsReplaceRE = new RegExp(operatorsPattern, \"g\");\n    expression = expression.replace(operatorsReplaceRE, (match) => {\n        return LEGACY_CONDITIONAL_OPERATORS[match];\n    });\n    // predefined variables\n    const predefinedVarsPattern = \"(\" + Object.keys(LEGACY_PREDEFINED_VARS).join(\"|\") + \")\";\n    const userVariablePattern = '(\\\\$_*[^_ ]+)';\n    const variablesReplaceRE = new RegExp(`${userVariablePattern}|${predefinedVarsPattern}`, \"g\");\n    // @ts-ignore\n    expression = expression.replace(variablesReplaceRE, (match) => (LEGACY_PREDEFINED_VARS[match] || match));\n    return expression.replace(/[ _]+/g, '_');\n}\n","import { RANGE_VALUE_RE } from \"../consts.js\";\n/**\n *\n * @param value\n */\nexport function normRangeValues(value) {\n    const offset = String(value).match(RANGE_VALUE_RE);\n    if (offset) {\n        const modifier = offset[5] ? 'p' : '';\n        return `${offset[1] || offset[4]}${modifier}`;\n    }\n    else {\n        return value;\n    }\n}\n","// Based on CGI::unescape. In addition does not escape / :\n// smart_escape = (string)->\n//  encodeURIComponent(string).replace(/%3A/g, \":\").replace(/%2F/g, \"/\")\nexport function smartEscape(string, unsafe = /([^a-zA-Z0-9_.\\-\\/:]+)/g) {\n    return string.replace(unsafe, function (match) {\n        return match.split(\"\").map(function (c) {\n            return \"%\" + c.charCodeAt(0).toString(16).toUpperCase();\n        }).join(\"\");\n    });\n}\n","/**\n * Converts string to snake case\n * @param {string} str\n */\nexport const snakeCase = (str) => str.replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`);\n","/**\n * Split a range into the start and end values\n * @param range\n */\nimport { OFFSET_ANY_PATTERN_RE } from \"../consts.js\";\nexport function splitRange(range) {\n    switch (range && range.constructor) {\n        case String:\n            if (!OFFSET_ANY_PATTERN_RE.test(range)) {\n                return range;\n            }\n            return range.split(\"..\");\n        case Array:\n            return [[range], range[range.length - 1]];\n        default:\n            return [null, null];\n    }\n}\n","/**\n *\n * @param arg\n */\nexport function toArray(arg) {\n    switch (true) {\n        case arg == null:\n            return [];\n        case Array.isArray(arg):\n            return arg;\n        default:\n            return [arg];\n    }\n}\n","import { OLD_AKAMAI_SHARED_CDN, SHARED_CDN } from \"../consts.js\";\nexport function unsigned_url_prefix(source, cloud_name, private_cdn, cdn_subdomain, secure_cdn_subdomain, cname, secure, secure_distribution) {\n    let prefix;\n    if (cloud_name.indexOf(\"/\") === 0) {\n        return '/res' + cloud_name;\n    }\n    let shared_domain = !private_cdn;\n    if (secure) {\n        if ((secure_distribution == null) || secure_distribution === OLD_AKAMAI_SHARED_CDN) {\n            secure_distribution = private_cdn ? cloud_name + \"-res.cloudinary.com\" : SHARED_CDN;\n        }\n        if (shared_domain == null) {\n            shared_domain = secure_distribution === SHARED_CDN;\n        }\n        prefix = 'https://' + secure_distribution;\n    }\n    else if (cname) {\n        // let subdomain = cdn_subdomain ? 'a' + ((crc32(source) % 5) + 1) + '.' : '';\n        prefix = 'http://' + cname;\n    }\n    else {\n        let cdn_part = private_cdn ? cloud_name + '-' : '';\n        let host = [cdn_part, 'res', '.cloudinary.com'].join('');\n        prefix = 'http://' + host;\n    }\n    if (shared_domain) {\n        prefix += '/' + cloud_name;\n    }\n    return prefix;\n}\n","/**\n *\n * @private\n * @description An isomorphic Base64 function, provides browser and server support.\n * @param {string} input - A string to encode with base64\n */\nfunction base64Encode(input) {\n    // Browser\n    let encodedResult = '';\n    if (typeof window !== 'undefined') {\n        // encodeURI the input to support unicode characters\n        // Since the URI might be encoded already, we try to decode it once before\n        encodedResult = btoa(encodeURI(decodeURI(input)));\n    }\n    else {\n        // NodeJS support\n        encodedResult = global.Buffer.from(input).toString('base64');\n    }\n    return encodedResult\n        .replace(/\\+/g, '-') // Convert '+' to '-'\n        .replace(/\\//g, '_'); // Convert '/' to '_';\n}\nexport { base64Encode };\n","/* eslint-disable */\n// @ts-nocheck\n// This file is a direct copy from lodash.clonedeep\n// Lodash.clonedeep has problems with the module exports, thus a copy was the shortest and cleanest solution\n/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n/** Used as references for constious `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]', arrayTag = '[object Array]', boolTag = '[object Boolean]', dateTag = '[object Date]', errorTag = '[object Error]', funcTag = '[object Function]', genTag = '[object GeneratorFunction]', mapTag = '[object Map]', numberTag = '[object Number]', objectTag = '[object Object]', promiseTag = '[object Promise]', regexpTag = '[object RegExp]', setTag = '[object Set]', stringTag = '[object String]', symbolTag = '[object Symbol]', weakMapTag = '[object WeakMap]';\nvar arrayBufferTag = '[object ArrayBuffer]', dataViewTag = '[object DataView]', float32Tag = '[object Float32Array]', float64Tag = '[object Float64Array]', int8Tag = '[object Int8Array]', int16Tag = '[object Int16Array]', int32Tag = '[object Int32Array]', uint8Tag = '[object Uint8Array]', uint8ClampedTag = '[object Uint8ClampedArray]', uint16Tag = '[object Uint16Array]', uint32Tag = '[object Uint32Array]';\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\n    cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n        cloneableTags[boolTag] = cloneableTags[dateTag] =\n            cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n                cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n                    cloneableTags[int32Tag] = cloneableTags[mapTag] =\n                        cloneableTags[numberTag] = cloneableTags[objectTag] =\n                            cloneableTags[regexpTag] = cloneableTags[setTag] =\n                                cloneableTags[stringTag] = cloneableTags[symbolTag] =\n                                    cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n                                        cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\n    cloneableTags[weakMapTag] = false;\n/** Detect free constiable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n/** Detect free constiable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Detect free constiable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n/** Detect free constiable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n    // Don't return `map.set` because it's not chainable in IE 11.\n    map.set(pair[0], pair[1]);\n    return map;\n}\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n    // Don't return `set.add` because it's not chainable in IE 11.\n    set.add(value);\n    return set;\n}\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n    var index = -1, length = array ? array.length : 0;\n    while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n            break;\n        }\n    }\n    return array;\n}\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n    var index = -1, length = values.length, offset = array.length;\n    while (++index < length) {\n        array[offset + index] = values[index];\n    }\n    return array;\n}\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1, length = array ? array.length : 0;\n    if (initAccum && length) {\n        accumulator = array[++index];\n    }\n    while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n}\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n    var index = -1, result = Array(n);\n    while (++index < n) {\n        result[index] = iteratee(index);\n    }\n    return result;\n}\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n    return object == null ? undefined : object[key];\n}\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n    // Many host objects are `Object` objects that can coerce to strings\n    // despite having improperly defined `toString` methods.\n    var result = false;\n    if (value != null && typeof value.toString != 'function') {\n        try {\n            result = !!(`${value}`);\n        }\n        catch (e) {\n        }\n    }\n    return result;\n}\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n    var index = -1, result = Array(map.size);\n    map.forEach(function (value, key) {\n        result[++index] = [key, value];\n    });\n    return result;\n}\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n    return function (arg) {\n        return func(transform(arg));\n    };\n}\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n    var index = -1, result = Array(set.size);\n    set.forEach(function (value) {\n        result[++index] = value;\n    });\n    return result;\n}\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype, funcProto = Function.prototype, objectProto = Object.prototype;\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function () {\n    var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n    return uid ? (`Symbol(src)_1.${uid}`) : '';\n}());\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp(`^${funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n    .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?')}$`);\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined, Symbol = root.Symbol, Uint8Array = root.Uint8Array, getPrototype = overArg(Object.getPrototypeOf, Object), objectCreate = Object.create, propertyIsEnumerable = objectProto.propertyIsEnumerable, splice = arrayProto.splice;\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols, nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined, nativeKeys = overArg(Object.keys, Object);\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'), Map = getNative(root, 'Map'), Promise = getNative(root, 'Promise'), Set = getNative(root, 'Set'), WeakMap = getNative(root, 'WeakMap'), nativeCreate = getNative(Object, 'create');\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView), mapCtorString = toSource(Map), promiseCtorString = toSource(Promise), setCtorString = toSource(Set), weakMapCtorString = toSource(WeakMap);\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined, symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n    var index = -1, length = entries ? entries.length : 0;\n    this.clear();\n    while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n    }\n}\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n    this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n    return this.has(key) && delete this.__data__[key];\n}\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n    var data = this.__data__;\n    if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n    }\n    return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n    var data = this.__data__;\n    return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n    var data = this.__data__;\n    data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n    return this;\n}\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype.delete = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n    var index = -1, length = entries ? entries.length : 0;\n    this.clear();\n    while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n    }\n}\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n    this.__data__ = [];\n}\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n    var data = this.__data__, index = assocIndexOf(data, key);\n    if (index < 0) {\n        return false;\n    }\n    var lastIndex = data.length - 1;\n    if (index == lastIndex) {\n        data.pop();\n    }\n    else {\n        splice.call(data, index, 1);\n    }\n    return true;\n}\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n    var data = this.__data__, index = assocIndexOf(data, key);\n    return index < 0 ? undefined : data[index][1];\n}\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n    return assocIndexOf(this.__data__, key) > -1;\n}\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n    var data = this.__data__, index = assocIndexOf(data, key);\n    if (index < 0) {\n        data.push([key, value]);\n    }\n    else {\n        data[index][1] = value;\n    }\n    return this;\n}\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype.delete = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n    var index = -1, length = entries ? entries.length : 0;\n    this.clear();\n    while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n    }\n}\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n    this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n    };\n}\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n    return getMapData(this, key).delete(key);\n}\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n    return getMapData(this, key).get(key);\n}\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n    return getMapData(this, key).has(key);\n}\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n    getMapData(this, key).set(key, value);\n    return this;\n}\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype.delete = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n    this.__data__ = new ListCache(entries);\n}\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n    this.__data__ = new ListCache;\n}\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n    return this.__data__.delete(key);\n}\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n    return this.__data__.get(key);\n}\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n    return this.__data__.has(key);\n}\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n    var cache = this.__data__;\n    if (cache instanceof ListCache) {\n        var pairs = cache.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n            pairs.push([key, value]);\n            return this;\n        }\n        cache = this.__data__ = new MapCache(pairs);\n    }\n    cache.set(key, value);\n    return this;\n}\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype.delete = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n    // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n    // Safari 9 makes `arguments.length` enumerable in strict mode.\n    var result = (isArray(value) || isArguments(value))\n        ? baseTimes(value.length, String)\n        : [];\n    var length = result.length, skipIndexes = !!length;\n    for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n            result.push(key);\n        }\n    }\n    return result;\n}\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n    var objValue = object[key];\n    if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n        (value === undefined && !(key in object))) {\n        object[key] = value;\n    }\n}\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n    var length = array.length;\n    while (length--) {\n        if (eq(array[length][0], key)) {\n            return length;\n        }\n    }\n    return -1;\n}\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n    return object && copyObject(source, keys(source), object);\n}\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n    var result;\n    if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n    }\n    if (result !== undefined) {\n        return result;\n    }\n    if (!isObject(value)) {\n        return value;\n    }\n    var isArr = isArray(value);\n    if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n            return copyArray(value, result);\n        }\n    }\n    else {\n        var tag = getTag(value), isFunc = tag == funcTag || tag == genTag;\n        if (isBuffer(value)) {\n            return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n            if (isHostObject(value)) {\n                return object ? value : {};\n            }\n            result = initCloneObject(isFunc ? {} : value);\n            if (!isDeep) {\n                return copySymbols(value, baseAssign(result, value));\n            }\n        }\n        else {\n            if (!cloneableTags[tag]) {\n                return object ? value : {};\n            }\n            result = initCloneByTag(value, tag, baseClone, isDeep);\n        }\n    }\n    // Check for circular references and return its corresponding clone.\n    stack || (stack = new Stack);\n    var stacked = stack.get(value);\n    if (stacked) {\n        return stacked;\n    }\n    stack.set(value, result);\n    if (!isArr) {\n        var props = isFull ? getAllKeys(value) : keys(value);\n    }\n    arrayEach(props || value, function (subValue, key) {\n        if (props) {\n            key = subValue;\n            subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n    });\n    return result;\n}\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n    return isObject(proto) ? objectCreate(proto) : {};\n}\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n    var result = keysFunc(object);\n    return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n    return objectToString.call(value);\n}\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n    if (!isObject(value) || isMasked(value)) {\n        return false;\n    }\n    var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n    return pattern.test(toSource(value));\n}\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n    if (!isPrototype(object)) {\n        return nativeKeys(object);\n    }\n    var result = [];\n    for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n            result.push(key);\n        }\n    }\n    return result;\n}\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n    if (isDeep) {\n        return buffer.slice();\n    }\n    var result = new buffer.constructor(buffer.length);\n    buffer.copy(result);\n    return result;\n}\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n    var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n    new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n    return result;\n}\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n    var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n    return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n    var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n    return arrayReduce(array, addMapEntry, new map.constructor);\n}\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n    var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n    result.lastIndex = regexp.lastIndex;\n    return result;\n}\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n    var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n    return arrayReduce(array, addSetEntry, new set.constructor);\n}\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n    return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n    var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n    return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n    var index = -1, length = source.length;\n    array || (array = Array(length));\n    while (++index < length) {\n        array[index] = source[index];\n    }\n    return array;\n}\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n    object || (object = {});\n    var index = -1, length = props.length;\n    while (++index < length) {\n        var key = props[index];\n        var newValue = customizer\n            ? customizer(object[key], source[key], key, object, source)\n            : undefined;\n        assignValue(object, key, newValue === undefined ? source[key] : newValue);\n    }\n    return object;\n}\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n    return copyObject(source, getSymbols(source), object);\n}\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n    return baseGetAllKeys(object, keys, getSymbols);\n}\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n    var data = map.__data__;\n    return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n}\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n    var value = getValue(object, key);\n    return baseIsNative(value) ? value : undefined;\n}\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n    getTag = function (value) {\n        var result = objectToString.call(value), Ctor = result == objectTag ? value.constructor : undefined, ctorString = Ctor ? toSource(Ctor) : undefined;\n        if (ctorString) {\n            switch (ctorString) {\n                case dataViewCtorString:\n                    return dataViewTag;\n                case mapCtorString:\n                    return mapTag;\n                case promiseCtorString:\n                    return promiseTag;\n                case setCtorString:\n                    return setTag;\n                case weakMapCtorString:\n                    return weakMapTag;\n            }\n        }\n        return result;\n    };\n}\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n    var length = array.length, result = array.constructor(length);\n    // Add properties assigned by `RegExp#exec`.\n    if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n    }\n    return result;\n}\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n    return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n}\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n    var Ctor = object.constructor;\n    switch (tag) {\n        case arrayBufferTag:\n            return cloneArrayBuffer(object);\n        case boolTag:\n        case dateTag:\n            return new Ctor(+object);\n        case dataViewTag:\n            return cloneDataView(object, isDeep);\n        case float32Tag:\n        case float64Tag:\n        case int8Tag:\n        case int16Tag:\n        case int32Tag:\n        case uint8Tag:\n        case uint8ClampedTag:\n        case uint16Tag:\n        case uint32Tag:\n            return cloneTypedArray(object, isDeep);\n        case mapTag:\n            return cloneMap(object, isDeep, cloneFunc);\n        case numberTag:\n        case stringTag:\n            return new Ctor(object);\n        case regexpTag:\n            return cloneRegExp(object);\n        case setTag:\n            return cloneSet(object, isDeep, cloneFunc);\n        case symbolTag:\n            return cloneSymbol(object);\n    }\n}\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n    length = length == null ? MAX_SAFE_INTEGER : length;\n    return !!length &&\n        (typeof value == 'number' || reIsUint.test(value)) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n    var type = typeof value;\n    return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n}\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n    return !!maskSrcKey && (maskSrcKey in func);\n}\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n    var Ctor = value && value.constructor, proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n    return value === proto;\n}\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n    if (func != null) {\n        try {\n            return funcToString.call(func);\n        }\n        catch (e) {\n        }\n        try {\n            return (`${func}`);\n        }\n        catch (e) {\n        }\n    }\n    return '';\n}\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n    return baseClone(value, true, true);\n}\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n    return value === other || (value !== value && other !== other);\n}\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n    // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n    return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n        (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n    return value != null && isLength(value.length) && !isFunction(value);\n}\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n    return isObjectLike(value) && isArrayLike(value);\n}\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n    // The use of `Object#toString` avoids issues with the `typeof` operator\n    // in Safari 8-9 which returns 'object' for typed array and other constructors.\n    var tag = isObject(value) ? objectToString.call(value) : '';\n    return tag == funcTag || tag == genTag;\n}\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n    return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n    return !!value && typeof value == 'object';\n}\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n    return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n    return [];\n}\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n    return false;\n}\nexport { cloneDeep };\n","/**\n * Sort a map by key\n * @private\n * @param map <string, any>\n * @Return array of map's values sorted by key\n */\nfunction mapToSortedArray(map, flags) {\n    const array = Array.from(map.entries());\n    // objects from the Array.from() method above are stored in array of arrays:\n    // [[qualifierKey, QualifierObj], [qualifierKey, QualifierObj]]\n    // Flags is an array of FlagQualifierObj\n    // We need to convert it to the same form: [flagQualifier] =>  ['fl', flagQualifier]\n    flags.forEach((flag) => {\n        array.push(['fl', flag]); // push ['fl', flagQualifier]\n    });\n    return array.sort().map((v) => v[1]);\n}\n/**\n * Checks if `value` is a string.\n * @private\n * @param {*} value The value to check.\n * @return {boolean} `true` if `value` is a string, else `false`.\n */\nfunction isString(value) {\n    return (typeof value === 'string' || value instanceof String);\n}\nexport { isString, mapToSortedArray };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import 'assets/styles/main.scss';\nimport VideoPlayer from './video-player';\nimport { assign } from 'utils/assign';\nimport { omit, pick } from './utils/object';\nimport { CLOUDINARY_CONFIG_PARAM } from './video-player.const';\n\nif (window.cloudinary && window.cloudinary.Cloudinary) {\n  console.warn('For version 1.9.0 and above, cloudinary-core is not needed for using the Cloudinary Video Player');\n}\n\nconst getConfig = (playerOptions = {}, cloudinaryConfig) => assign(\n  omit(playerOptions, CLOUDINARY_CONFIG_PARAM),\n  { cloudinaryConfig: cloudinaryConfig || pick(playerOptions, CLOUDINARY_CONFIG_PARAM) });\n\nconst getVideoPlayer = (config) => (id, playerOptions, ready) => new VideoPlayer(id, getConfig(playerOptions, config), ready);\n\nconst getVideoPlayers = (config) => (selector, playerOptions, ready) => VideoPlayer.all(selector, getConfig(playerOptions, config), ready);\n\nconst cloudinaryVideoPlayerConfig = (config) => ({\n  videoPlayer: getVideoPlayer(config),\n  videoPlayers: getVideoPlayers(config)\n});\n\nexport const videoPlayer = getVideoPlayer();\nexport const videoPlayers = getVideoPlayers();\n\nconst cloudinary = {\n  ...(window.cloudinary || {}),\n  videoPlayer,\n  videoPlayers,\n  Cloudinary: {\n    // Backwards compatibility with SDK v1\n    new: cloudinaryVideoPlayerConfig\n  }\n};\n\nwindow.cloudinary = cloudinary;\n\nexport default cloudinary;"],"names":["v4","uuidv4","sendBeaconRequest","VIDEO_EVENT","CLD_ANALYTICS_ENDPOINT_URL","CLD_ANALYTICS_USER_ID_KEY","getUniqueUserId","storageUserId","window","localStorage","getItem","userId","setItem","prepareEvents","collectedEvents","events","lastPlayItemIndex","findLastIndex","event","type","PLAY","lastPauseItemIndex","PAUSE","push","time","Date","now","aggregateEvents","eventsList","reduce","acc","lastItem","watchedFrames","length","getPlayedTimeSeconds","Math","round","playTime","pauseTime","trackVideoPlayer","videoElement","metadataProps","addEventListener","videoCurrentTime","currentTime","aggregatedEvents","playedTimeSeconds","metadata","url","data","params","Object","keys","formData","key","append","FormData","navigator","sendBeacon","fetch","method","mode","body","keepalive","hide","el","style","display","show","setText","text","innerText","module","exports","JumpForwardButton","JumpBackButton","LogoButton","PlaylistPanel","ProgressControlEventsBlocker","RecommendationsOverlay","ShoppablePanel","TitleBar","INTERACTION_AREA_LAYOUT_LOCAL_STORAGE_NAME","INTERACTION_AREAS_PREFIX","INTERACTION_AREAS_CONTAINER_CLASS_NAME","INTERACTION_AREAS_TEMPLATE","PORTRAIT","LANDSCAPE","All","CENTER","INTERACTION_AREAS_THEME","PULSING","SHADOWED","TEMPLATE_INTERACTION_AREAS_VTT","INTERACTION_AREA_HAND_ICON","CLOSE_INTERACTION_AREA_LAYOUT_DELAY","DEFAULT_INTERACTION_ARE_TRANSITION","videojs","ClickableComponent","getComponent","player","dom","createEl","className","registerComponent","LIGHT_BG_ICON","DARK_BG_ICON","isLight","opts","options_","playerOptions","showLogo","_isLight","bgIcon","logoImageUrl","href","logoOnclickUrl","target","PlaylistButton","options","Error","typeCssClass","PlaylistNextButton","stopPropagation","cloudinary","playlist","playNext","PlaylistPreviousButton","playPrevious","PLAYER_EVENT","Component","UpcomingVideoOverlay","args","removeClass","VJS_UPCOMING_VIDEO_SHOW","_","_hide","_disableTransition","next","ima","adsManager","getAdsManager","getCurrentAd","isLinear","addClass","_setEvents","on","UP_COMING_VIDEO_SHOW","_show","UP_COMING_VIDEO_HIDE","PLAYLIST_ITEM_CHANGED","_onPlaylistItemChange","block","DISABLE_TRANSITION_CLASS","source","title","getChild","setContent","info","publicId","_source","maxWidth","parseInt","getComputedStyle","getPropertyValue","maxHeight","transformation","crop","background","width","height","content","setTitle","backgroundImage","poster","UpcomingVideoOverlayContent","UpcomingVideoOverlayTitle","_contentSpan","container","innerHTML","appendChild","UpcomingVideoOverlayBar","prototype","children","PlaylistLayout","PlaylistLayoutCustom","cls","renderTo","PlaylistLayoutHorizontal","wrap","PlaylistLayoutVertical","skinClassPrefix","playerClassPrefix","OPTIONS_DEFAULT","layoutOptions","player_","setCls","fluidHandler","e","fluid","removeCls","wrapVideoWithLayout","videoWrap_","contentEl_","FLUID","addChild","PLAYLIST_PANEL","dispose","removeLayout","off","getCls","forEach","optionToChange","removeChild","trigger","parentElem","parentElement","fontFamily","Thumbnail","DEFAULT_OPTIONS","PlaylistPanelItem","initOptions","mergeOptions","play","item","list","index","indexOf","playAtIndex","current","classList","add","titleWrap","isCurrent","currEl","getTitle","duration","getDuration","itemChangeHandler","render","i","repeat","_repeat","showAll","items","numOfItems","total","currentIndex","nextIndex","getItems","removeAll","playlistItem","PLAYLIST_DEFAULTS_OPTIONS","modifyOptions","opt","selector","useDefaultLayout","useCustomLayout","document","querySelector","direction","toLowerCase","skin","PlaylistWidget","playlistWidget","layout_","optionName","optionValue","update","totalNumber","DEFAULT_AUTO_ADVANCE","DEFAULT_PRESENT_UPCOMING","UPCOMING_VIDEO_TRANSITION","VideoSource","isInteger","Playlist","context","sources","autoAdvance","presentUpcoming","_context","_sources","_defaultRecResolverCache","_currentIndex","_recommendationsHandler","_autoAdvance","_presentUpcoming","resetState","enqueue","delay","undefined","_setupPresentUpcoming","_setupAutoAdvance","_resetAutoAdvance","ended","timeout","setTimeout","_resetPresentUpcoming","_resetRecommendations","showTriggered","remainingTime","loop","clearTimeout","autoShowRecommendations","currentSource","textTracks","defaultResolver","objectId","recommendations","action","playItem","itemBuilder","_recommendationItemBuilder","_defaultRecommendationsResolver","recommendationOptions","disableAutoShow","eventData","_refreshRecommendations","_refreshTextTracks","min","buildSource","src","splice","isLast","isFirst","lastIndex","previousIndex","THUMB_DEFAULT_WIDTH","aspect_ratio","preventDefault","tag","img","getThumbnail","RecommendationsOverlayPrimaryItem","RecommendationsOverlaySecondaryItemsContainer","RecommendationsOverlayContent","_content","AspectRatioContent","primary","secondary","setItems","_primary","clearItem","_secondaryContainer","clearItems","RecommendationOverlayHideButton","clickHandler","RecommendationsOverlayItem","setPoster","setAction","componentUtils","setSubtitle","subtitle","description","descLength","substring","setDescription","RecommendationsOverlaySecondaryItem","setDuration","caption","component","RecommendationsOverlayHideButton","MAXIMUM_ITEMS","close","setEvents","doNotOpen","setDoNotOpen","open","_showControlsOnClose","controls","visibility","recommendationsOverlayClass","slice","elMatches","ImageSource","CLD_SPBL_IMAGE","CLD_SPBL_ITEM","SHOPPABLE_CLICK_ACTIONS","SHOPPABLE_HOVER_ACTIONS","widthTransformation","ShoppablePanelItem","isDragged","el_","conf","setAttribute","productId","productName","onHover","addOnHover","cloudinaryConfig","onClick","addOnClick","cldConf","OVERLAY","overlayText","overlay","switchImgSource","hoverImg","pause","SEEk","GO_TO","assign","throttle","parseTime","CLD_SPBL_PANEL_CLASS","SHOPPABLE_PANEL_HIDDEN_CLASS","SHOPPABLE_PANEL_VISIBLE_CLASS","SHOPPABLE_PRODUCTS_OVERLAY_CLASS","SHOPPABLE_ITEM_CHANGED","map","childrens","products","product","startTime","endTime","imageSource","imageSrc","activeItems","getElementsByClassName","toScroll","offsetTop","documentElement","scrollTo","top","behavior","scrollTop","throttledScrollToActiveItem","scrollToActiveItem","shoppablePanelItem","currentTarget","evName","dataset","clickAction","gotoUrl","gotoSecs","seek","postModal","one","TIME_UPDATE","contains","remove","SHOPPABLE_WIDGET_OPTIONS_DEFAULTS","location","toggleIcon","startState","autoClose","quality","fetch_format","showPostPlayOverlay","CLD_SPBL_TOGGLE_CLASS","CLD_SPBL_TOGGLE_ICON_CLASS","CLD_SPBL_INNER_BAR","CLD_SPBL_TOGGLE_CUSTOM_ICON_CLASS","ICON_CART_CLASS","CLOSE_ICON_CLASS","SHOPPABLE_ANIMATION_CLASS","titleEl","refresh","subtitleEl","titleValue","subtitleValue","contextMenuContent","FLOATING_TO","PRELOAD","showJumpControls","playsinline","browser","IS_IOS","controlBar","preload","AUTO","muted","posterOptions","sourceTypes","contextMenu","floatingWhenNotVisible","NONE","hideContextMenu","analytics","cloudinaryAnalytics","playedEventPercents","EventEmitter","isPlainObject","EVENT_DEFAULTS","percentsplayed","percents","DEFAULT_EVENTS","PERCENTS_PLAYED","PAUSE_NO_SEEK","SEEK","MUTE","UNMUTE","QUALITY_CHANGED","ExtendedEvents","_muteData","lastState","_seekStart","_seekEnd","_seeking","_percentsTracked","_timesTracked","_currentSource","_ended","volumechange","emit","timeupdate","_emit","originalType","percent","playedAtPercentage","timeplayed","times","interval","floor","playedAtTime","TIME_PLAYED","abs","resetPerVideoState","seekStart","seekEnd","replay","loadedmetadata","adaptiveEvents","ee","tracks","segmentMetadataTrack","label","previousResolution","activeCue","activeCues","currentRes","value","resolution","from","to","normalizeEventsParam","bind","ENDED","totaltimeplayed","mute","unmute","VOLUME_CHANGE","pausenoseek","LOADED_METADATA","LOADED_DATA","defaults","normalized","constructor","name","agg","eventDefaults","percentageCheckpoint","graceRangeSeconds","checkPoint","checkpoint","Eventable","superclass","eventable","handlers","func","Player","_args","res","sliceProperties","normalizeJsonResponse","extendCloudinaryConfig","getCloudinaryUrl","LIST_BY_TAG_PARAMS","format","resource_type","Playlistable","_chainTarget","chainTarget","_playlist","_playlistDisposer","disposePlaylist","createPlaylist","addSourceChangedListener","disposer","sourcesByTag","then","result","json","resources","sorter","sort","resource","sourceParams","custom","default","RESIZE","ERROR","FULL_SCREEN_CHANGE","START","VIDEO_LOAD","PLAYER_LOAD","category","defaultLabel","currentPublicId","AnalyticsPlugin","extendedEvents","_extendedEvents","_startTracked","_endTracked","playerLoad","track","nonInteraction","start","error","volume","resize","fullscreenchange","isFullscreen","percentsPlayed","timePlayed","shoppableProductHover","shoppableProductClick","shoppableBarMax","shoppableBarMin","shoppableReplay","shoppableProductClickPost","shoppableProductHoverPost","shoppable","PLAYING","playerload","eventCategory","eventAction","eventLabel","eventValue","ga","videoload","init","isElementInViewport","fraction","isMuted","AutoplayOnScrollPlugin","_options","_pausedByScroll","_playedByScroll","_pauseHandler","_playHandler","registerEventHandlers","checkViewportState","clearEventHandlers","removeEventListener","visible","paused","activePlugins_","floatingPlayer","waiting","CloudinaryAnalytics","cloudName","cloud_name","videoPublicId","getMetadata","sliceAndUnsetProperties","isString","URL_PATTERN","createCloudinaryLegacyURL","Transformation","omit","normalizeOptions","tolerateMissingId","isRawUrl","test","isSrcEqual","source1","source2","src1","src2","currentConfig","newConfig","isTransformationInstance","toOptions","mergeTransformations","initTransformation1","transformation2","transformation1","fromOptions","ERROR_CODE","NO_SUPPORTED_MEDIA","CUSTOM","UNKNOWN_CUSTOMER","RESOURCE_NOT_FOUND","PRIVATE_RESOURCE","UNAUTHENTICATED","cloudinaryErrorsConverter","errorMsg","statusCode","msg","code","message","err","startsWith","codecShorthandTrans","short","transTable","h265","vp9","h264","ISOAVC_MAP","PROFILE","avcotiToStr","s","REGEX","matches","match","shift","profile_idc","level_idc","String","split","join","h264avcToString","vc_codec","avc_codec","VIDEO_CODEC","VP9","HEV1","H265","H264","codecToSrcTransformation","codec","video_codec","findIndex","EventHandlerRegistry","emitter","_emitter","_eventHandlers","handler","wrapper","vjs","mixin","applyWithProps","isKeyInTransformation","AudioSource","isFunction","DEFAULT_PARAMS","sourceTransformation","CONSTRUCTOR_PARAMS","CloudinaryContext","_lastSource","_lastPlaylist","_posterOptions","_cloudinaryConfig","_transformation","_sourceTypes","_sourceTransformation","_playerEvents","_recommendations","_autoShowRecommendations","setRecommendations","unsetRecommendations","skipRefresh","builtSrc","posterOptionsForCurrent","queryParams","usageReport","_s","VERSION","disablePoster","posterColor","posterImage","backgroundColor","config","trans","types","getCurrentSources","autoShow","removeAllListeners","Array","isArray","sourceChangedHandler","endedHandler","generateSources","srcs","isAdaptive","parts","typeStr","canPlay","testCanPlayTypeAndTypeSupported","IS_ANY_SAFARI","v","createElement","canPlayType","MediaSource","isTypeSupported","playerEl","clientWidth","clientHeight","roundUp100","val","ceil","syncState","constructorParams","getType","DEFAULT_POSTER_PARAMS","flags","COMMON_AUDIO_FORMATS","AUDIO_SUFFIX_REMOVAL_PATTERN","RegExp","DEFAULT_AUDIO_PARAMS","objectToQuerystring","SOURCE_TYPE","replace","_poster","_type","AUDIO","sourceType","srcTransformation","queryString","cldSrc","getPoster","BaseSource","initPublicId","resourceConfig","coreConfig","initTransformation","COMMON_IMAGE_FORMATS","IMAGE_SUFFIX_REMOVAL_PATTERN","DEFAULT_IMAGE_PARAMS","DEFAULT_VIDEO_SOURCE_TYPES","DEFAULT_VIDEO_PARAMS","interactionAreas","VIDEO_SUFFIX_REMOVAL_PATTERN","CONTAINER_MIME_TYPES","dash","hls","mpd","m3u8","FORMAT_MAPPINGS","formatToMimeTypeAndTransformation","isCodecAlreadyExist","normalizeFormat","castArray","generateId","_publicId","_isRawUrl","withCredentials","_textTracks","_info","_interactionAreas","VIDEO","_rawTransformation","raw_transformation","getInitOptions","recommends","some","generateRawSource","codecTrans","isIe","userAgent","appVersion","filter","t","pop","isContainCodec","values","includes","hasCodecSrcTrans","transformations","rawTransformation","playerColors","darkOnlyColors","lightOnlyColors","colorsDark","colorsLight","getDefaultPlayerColor","Colors","skinDefaults","colors","injectCSS","parseStyles","css","hexToRgb","hex","shorthandRegex","m","r","g","b","exec","styles","parsed","base","accent","MenuItem","ContextMenuItem","listener","createTextNode","localize","tabIndex","setPosition","Menu","ContextMenu","c","fn","that","addItem","left","position","isLooping","isPaused","aboutMenuItem","exitFullscreen","requestFullscreen","getPointerPosition","showNativeOnRecurringEvent","ContextMenuPlugin","initOpts","contextmenu","onContextMenu","ready","getMenuPosition","menuEl","menu","menuSize","getBoundingClientRect","ptrPosition","playerSize","ptrTop","y","ptrLeft","x","difference","max","cancel","_e","which","button","sensitivity","wait","disabled","EVENT_NAME","sendAbstractedEvent","abstracted","k","handleTouchEnd","getTime","handleTouchMove","touch","touches","screenX","screenY","handleTouchStart","handleContextMenu","registerPlugin","collapsedWidth","floatTo","FloatingPlayer","LEFT","RIGHT","_floater","_isFloated","_isFloaterPositioned","creatFloaterElement","wrapInner","parent","firstChild","removeWindowEventHandlers","addWindowEventHandlers","positionFloater","elRect","right","bottom","inner","onclick","unFloat","disable","setAdSize","adsActive","float","autoplayOnScroll","vttThumbnails","plugins","cache","onPlayerReady","VttThumbnailsPlugin","_this","listenForDurationChange","initializeThumbnails","registeredEvents","resetPlugin","detach","thumbnailHolder","parentNode","progressBar","progressBarMouseEnter","progressBarMouseLeave","progressBarMouseMove","vttData","lastStyle","_this2","baseUrl","getBaseUrl","getFullyQualifiedUrl","getVttFile","processVtt","setupThumbnailElement","protocol","hostname","port","pathname","_this3","Promise","resolve","req","XMLHttpRequest","vttFileLoaded","send","responseText","_this4","mouseDisplay","$","thumbHolder","timeHolder","onBarMouseenter","onBarMouseleave","_this5","offsetWidth","mouseMoveCallback","onBarMousemove","showThumbnailHolder","hideThumbnailHolder","getXCoord","bar","mouseX","rect","docEl","pageXOffset","scrollLeft","updateThumbnailStyle","getStyleForTime","end","image","Image","opacity","currentStyle","xPos","thumbnailWidth","halfthumbnailWidth","marginRight","marginLeft","transform","getTimestampFromSeconds","hasOwnProperty","call","_this6","processedVtts","vttDefinitions","vttDef","vttDefSplit","vttTiming","vttTimingSplit","vttTimeStart","vttTimeEnd","vttImageFullPath","vttImageDef","vttCssDef","getVttCss","getSecondsFromTimestamp","path","trim","getPropsFromDef","def","imageDefSplit","imageUrl","imageCoords","splitCoords","w","h","cssObj","baseSplit","imageProps","doconstructTimestamp","timestamp","splitStampMilliseconds","timeParts","timePartsSplit","milliseconds","seconds","minutes","hours","timestampParts","totalSeconds","str","charlist","whitespace","l","charAt","camelize","parseISO8601","TIME_FIELDS","obj","newKey","order","_obj","apply","callback","CLD_ATTR_REGEX","normalizers","coerce","string","JSON","parse","Number","normalizeDefault","normalizeAttributes","elem","attributes","attrs","attrName","attrVal","normalizer","find","GET_ERROR_DEFAULT_REQUEST","ERROR_WITH_GET_REQUEST","credentials","headers","getGoodSrcs","parsedUris","origUrl","parseUri","host","getParsedUris","status","parsedUri","setError","get","setVideoSrc","console","log","stringify","autoplay","playWasCalled","handleCldError","fetchErrorUsingGet","all","firstRes","goodSrcs","o","strictMode","q","parser","strict","loose","uri","$0","$1","$2","getValue","filterAndAddTextTracks","addRemoteTextTrack","SEEKING","RETRY_PLAYLIST","CAN_PLAY_THROUGH","CLD_SOURCE_CHANGED","SOURCE_CHANGED","REFRESH_TEXT_TRACKS","PLAYLIST_CREATED","PRODUCT_BAR_MIN","SHOW_PRODUCTS_OVERLAY","DISPOSE","CLASS_PREFIX","SKIN_CLASS_PREFIX","componentInstance","id_","skinClass","setSkinClassPrefix","currentSkinPrefix","skinName","newSkinPrefix","isElement","insertBefore","elementName","element","child","styleElement","elementsCreator","attr","cb","findElementAndIndex","WebFont","FONT_FAMILY","fontFace","load","google","families","groupBy","collection","iteratee","slicing","positioning","cloudinaryUtils","playButton","cssPrefix","Utils","p","Element","f","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","querySelectorAll","mixins","defaultValue","keysArray","objectValue","pick","bigPlayButton","getElementPosition","box","pageYOffset","clientTop","clientLeft","boxW","boxH","offsetHeight","boxY","boxX","pageY","pageX","changedTouches","topLeft","visibleX","innerWidth","visibleY","innerHeight","query","_sliceProperties","isUnset","props","prop","toUpperCase","searchStr","last","performance","throttled","numericKeys","date","struct","minutesOffset","UTC","NaN","hms","reverse","sum","isNaN","toString","isNumber","isBoolean","noop","getValidatorItem","validator","isValueValid","configPropertyName","validatorItem","isValid","isValidConfig","validators","configValue","validatorValue","isObject","getOptionsString","arrayOfStringsValidator","arr","every","arrayOfNumbersValidator","arrayOfObjectsValidator","orValidator","isArrayOfNumbers","isArrayOfStrings","isArrayOfObjects","or","ADS_IN_PLAYLIST","AUTO_PLAY_MODE","playerValidators","videojsOptions","autoplayMode","playbackRates","videoJS","maxTries","videoTimeout","allowUsageReport","theme","template","layout","enable","showAgain","seekThumbnails","playedEventTimes","ads","adTagUrl","showCountdown","adLabel","locale","prerollTimeout","postrollTimeout","adsInPlaylist","sourceValidators","vttUrl","captions","language","subtitles","CLOUDINARY_PARAMS","PLAYER_PARAMS","concat","CLOUDINARY_CONFIG_PARAM","DEFAULT_HLS_OPTIONS","html5","handlePartialData","vhs","overrideNative","IS_SAFARI","FLUID_CLASS_NAME","ALWAYS","ON_SCROLL","NEVER","FIRST_VIDEO","EVERY_VIDEO","METADATA","extractOptions","getResolveVideoElement","overrideDefaultVideojsComponents","_allowUsageReport","VideoPlayer","reTryId","_playlistWidget","nbCalls","_videojsOptions","_isPlayerConfigValid","loaded","contribAdsLoaded","imaAdsLoaded","_setCssClasses","_initPlugins","_initPlaylistWidget","_initJumpButtons","_setVideoJsListeners","hook","loadingLazyPlugins","currentSourceType","isCorrupted","_clearTimeOut","tech_","mediaRequestsErrored","_onReady","adsEnabled","playAd","_initAutoplay","_initContextMenu","_initPerSrcBehaviors","_initCloudinary","_initAnalytics","_initCloudinaryAnalytics","_initFloatingPlayer","_initColors","_initTextTracks","_initSeekThumbs","_initDash","isDashRequired","dashPlugin","id","disableFlashAds","autoPlayAdBreaks","debug","currentTracks","remoteTextTracks","tracks_","removeRemoteTextTrack","allTracks","trks","buildTextTrackObj","vr","streaming_profile","vttSrc","setTextTracks","perSourceBehaviors","secure","analyticsOpts","cloudinaryAnalyticsOptionEnabled","maxNumberOfCalls","isVideoReady","reTryVideo","readyState","plwOptions","_setExtendedEvents","_event","currentPoster","isSourceConfigValid","interactive","videoReadyTimeout","_initLazyPlugins","setSkin","_initQualitySelector","playlistByTag","bool","dimension","offsetSeconds","isMaximized","nodeList","node","kind","srclang","cssEscape","addMetadataTrack","videoJs","vttSource","getPlayer","tagName","normalizeAutoplay","elemOptions","hasClass","ControlBar","Cloudinary","warn","getConfig","getVideoPlayer","getVideoPlayers","cloudinaryVideoPlayerConfig","videoPlayer","videoPlayers"],"sourceRoot":""}